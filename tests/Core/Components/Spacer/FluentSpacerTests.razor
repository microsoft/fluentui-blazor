@using AngleSharp.Css.Dom
@using Xunit;
@inherits Bunit.TestContext

@code {

    public FluentSpacerTests()
    {
        JSInterop.Mode = JSRuntimeMode.Loose;
        Services.AddFluentUIComponents();
    }

    [Fact]
    public void FluentSpacer_Default()
    {
        // Arrange && Act
        var cut = Render(@<FluentSpacer />);

        // Assert
        var flexGrow = cut.Find("div").GetStyle()["flex-grow"];
        var width = cut.Find("div").GetStyle()["width"];
        var height = cut.Find("div").GetStyle()["height"];

        Assert.Equal("1", flexGrow);
        Assert.Empty(width);
        Assert.Empty(height);
    }

    [Fact]
    public void FluentSpacer_Horizontal_Width_Pixels()
    {
        // Arrange && Act
        var cut = Render(@<FluentSpacer Width="50px" />);

        // Assert
        var width = cut.Find("div").GetStyle()["width"];
        var height = cut.Find("div").GetStyle()["height"];
        var flexGrow = cut.Find("div").GetStyle()["flex-grow"];

        Assert.Equal("50px", width);
        Assert.Empty(height);
        Assert.Empty(flexGrow);
    }

    [Fact]
    public void FluentSpacer_Vertical_Height_Pixels()
    {
        // Arrange && Act
        var cut = Render(@<FluentSpacer Height="50px" Orientation="Orientation.Vertical"/>);

        // Assert
        var height = cut.Find("div").GetStyle()["height"];
        var flexGrow = cut.Find("div").GetStyle()["flex-grow"];
        var width = cut.Find("div").GetStyle()["width"];

        Assert.Equal("50px", height);
        Assert.Empty(flexGrow);
        Assert.Empty(width);
    }

    [Fact]
    public void FluentSpacer_Vertical_WidthDoesNotSetStyle()
    {
        // Arrange && Act
        var cut = Render(@<FluentSpacer Width="50px" Orientation="Orientation.Vertical"/>);

        // Assert
        var width = cut.Find("div").GetStyle()["width"];
        var flexGrow = cut.Find("div").GetStyle()["flex-grow"];
        var height = cut.Find("div").GetStyle()["height"];

        Assert.Empty(width);
        Assert.Empty(height);
        Assert.Equal("1", flexGrow);
    }

    [Fact]
    public void FluentSpacer_Horizontal_HeightDoesNotSetStyle()
    {
        // Arrange && Act
        var cut = Render(@<FluentSpacer Height="50px" />);

        // Assert
        var height = cut.Find("div").GetStyle()["height"];
        var flexGrow = cut.Find("div").GetStyle()["flex-grow"];
        var width = cut.Find("div").GetStyle()["width"];

        Assert.Empty(height);
        Assert.Empty(width);
        Assert.Equal("1", flexGrow);
    }
}
