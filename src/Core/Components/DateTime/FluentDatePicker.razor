@namespace Microsoft.FluentUI.AspNetCore.Components
@inherits FluentCalendarBase

<FluentTextInput Id="@Id"
                 Class="@ClassValue"
                 Style="@StyleValue"
                 Label="@Label"
                 LabelTemplate="@LabelTemplate"
                 LabelPosition="@LabelPosition"
                 LabelWidth="@LabelWidth"
                 AriaLabel="@AriaLabel"
                 AutoComplete="off"
                 Autofocus="@Autofocus"
                 Appearance="@Appearance"
                 @bind-Value="@CurrentValueAsString"
                 @onclick="@OnTextInputClickAsync"
                 ReadOnly="@ReadOnly"
                 Disabled="@Disabled"
                 Required="@Required"
                 Message="@Message"
                 MessageIcon="@MessageIcon"
                 MessageCondition="@MessageCondition"
                 MessageState="@MessageState"
                 MessageTemplate="@MessageTemplate"
                 Placeholder="@GetPlaceholderAccordingToView()"
                 Name="@Name"
                 @attributes="@AdditionalAttributes">
    <EndTemplate>
        <FluentIcon @ref="_icon"
                    Value="@Icon"
                    Focusable="true"
                    @onkeydown="@OnIconKeydownAsync"
                    aria-label="@Localizer[Localization.LanguageResource.DatePicker_ButtonTitle]" 
                    Title="@Localizer[Localization.LanguageResource.DatePicker_ButtonTitle]" />
    </EndTemplate>
</FluentTextInput>

<FluentPopover AnchorId="@Id" @bind-Opened="@Opened">
    <FluentCalendar @ref="_calendar"
                    Culture="@Culture"
                    View="@View"
                    DayFormat="@DayFormat"
                    DisabledDateFunc="@DisabledDateFunc"
                    DisabledCheckAllDaysOfMonthYear="@DisabledCheckAllDaysOfMonthYear"
                    DisabledSelectable="@DisabledSelectable"
                    Value="@Value"
                    ValueChanged="@OnSelectedDateAsync"
                    DaysTemplate="@DaysTemplate"
                    PickerMonthChanged="@PickerMonthChanged" />
</FluentPopover>

