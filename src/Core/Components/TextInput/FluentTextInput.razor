@namespace Microsoft.FluentUI.AspNetCore.Components
@using Microsoft.FluentUI.AspNetCore.Components.Extensions
@inherits FluentInputImmediateBase<string?>

<FluentField InputComponent="@this"
             MessageCondition="@(() => Required == true && string.IsNullOrEmpty(CurrentValueAsString))"
             MessageIcon="@FluentStatus.ErrorIcon"
             Message="This field is required">
    <fluent-text-input @ref="@Element"
                       appearance="@Appearance.ToAttributeValue()"
                       autocomplete="@AutoComplete"
                       autofocus="@Autofocus"
                       aria-label="@AriaLabel"
                       class="@ClassValue"
                       disabled="@Disabled"
                       id="@Id"
                       inputmode="@InputMode.ToAttributeValue()"
                       list=@DataList
                       maxlength="@MaxLength"
                       minlength="@MinLength"
                       name="@Name"
                       pattern="@Pattern"
                       placeholder="@Placeholder"
                       readonly="@ReadOnly"
                       required="@Required"
                       slot="input"
                       spellcheck="@Spellcheck"
                       style="@StyleValue"
                       control-size="@Size.ToAttributeValue()"
                       type="@TextFieldType.ToAttributeValue()"
                       value="@CurrentValueAsString"
                       @onchange="@ChangeHandlerAsync"
                       @oninput="@InputHandlerAsync"
                       @attributes="AdditionalAttributes">

        @if (StartTemplate != null)
        {
            <div slot="start">
                @StartTemplate
            </div>
        }

        @if (EndTemplate != null)
        {
            <div slot="end">
                @EndTemplate
            </div>
        }

    </fluent-text-input>
</FluentField>
