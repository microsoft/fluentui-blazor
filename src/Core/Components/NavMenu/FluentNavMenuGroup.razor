@namespace Microsoft.Fast.Components.FluentUI
@inherits FluentComponentBase


<CascadingValue TValue=INavMenuParentElement Value="@this" IsFixed>
    <CascadingValue Value="@HasChildIcons" Name="NavMenuItemSiblingHasIcon">
        <FluentTreeItem Id="@Id"
                        Class="@ClassValue"
                        Style="@StyleValue"
                        Disabled="@Disabled"
                        Selected="@Selected"
                        Expanded="@(NavMenuExpanded ? Expanded : false)"
                        Text="@(NavMenuExpanded ? Text : string.Empty)"
                        @onkeydown="@HandleKeyDownAsync"
                        @onclick="@HandleClickAsync">
            @if (HasIcon)
            {
                <FluentIcon Value="@Icon" Width="20px" Slot="start" />
            }
            else if (SiblingHasIcon)
            {
                <span style="width:20px;" slot="start"></span>
            }
            @if (NavMenuExpanded)
            {
                @ChildContent
            }
        </FluentTreeItem>
    </CascadingValue>
</CascadingValue>