/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.1(0316a754aa4c25208bef91937efbce2ab1e3ce37)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var re=["exports","require","vs/base/common/lifecycle","vs/editor/common/core/range","vs/nls","vs/nls!vs/editor/editor.main","vs/base/common/event","vs/base/browser/dom","vs/base/common/strings","vs/platform/instantiation/common/instantiation","vs/base/common/async","vs/editor/common/core/position","vs/editor/browser/editorExtensions","vs/css!vs/editor/editor.main","vs/base/common/errors","vs/platform/theme/common/themeService","vs/platform/contextkey/common/contextkey","vs/base/common/platform","vs/base/common/arrays","vs/base/common/types","vs/editor/common/services/languageFeatures","vs/base/common/cancellation","vs/base/common/uri","vs/editor/common/core/selection","vs/editor/common/editorContextKeys","vs/platform/theme/common/colorRegistry","vs/platform/commands/common/commands","vs/base/common/codicons","vs/editor/common/languages","vs/editor/browser/services/codeEditorService","vs/platform/configuration/common/configuration","vs/base/common/color","vs/editor/common/languages/languageConfigurationRegistry","vs/base/browser/fastDomNode","vs/platform/registry/common/platform","vs/editor/common/model/textModel","vs/editor/common/config/editorOptions","vs/editor/common/languages/language","vs/platform/actions/common/actions","vs/platform/notification/common/notification","vs/base/common/objects","vs/base/browser/browser","vs/platform/keybinding/common/keybinding","vs/base/common/actions","vs/base/common/resources","vs/platform/opener/common/opener","vs/editor/common/model","vs/editor/browser/view/viewPart","vs/base/browser/keyboardEvent","vs/base/browser/ui/aria/aria","vs/editor/common/services/model","vs/base/common/map","vs/base/common/network","vs/platform/instantiation/common/extensions","vs/editor/common/core/editorColorRegistry","vs/base/common/iterator","vs/platform/theme/common/theme","vs/base/common/stopwatch","vs/editor/common/services/resolverService","vs/base/common/keyCodes","vs/editor/common/core/editOperation","vs/editor/common/cursorCommon","vs/base/browser/touch","vs/base/common/filters","vs/base/common/htmlContent","vs/editor/browser/config/domFontInfo","vs/editor/common/core/cursorColumns","vs/base/browser/mouseEvent","vs/base/browser/ui/widget","vs/platform/log/common/log","vs/editor/common/services/languageFeatureDebounce","vs/platform/progress/common/progress","vs/editor/common/languages/modesRegistry","vs/base/common/linkedList","vs/editor/common/viewModel","vs/base/browser/ui/scrollbar/scrollableElement","vs/editor/common/standaloneStrings","vs/platform/accessibility/common/accessibility","vs/platform/contextview/browser/contextView","vs/platform/storage/common/storage","vs/platform/theme/common/iconRegistry","vs/base/common/severity","vs/editor/common/tokens/lineTokens","vs/base/browser/ui/actionbar/actionbar","vs/platform/markers/common/markers","vs/platform/quickinput/common/quickInput","vs/platform/telemetry/common/telemetry","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/length","vs/editor/contrib/hover/browser/hoverTypes","vs/editor/contrib/snippet/browser/snippetParser","vs/base/common/path","vs/editor/common/core/stringBuilder","vs/editor/common/services/editorWorker","vs/platform/clipboard/common/clipboardService","vs/platform/configuration/common/configurationRegistry","vs/editor/contrib/editorState/browser/editorState","vs/base/common/functional","vs/base/common/mime","vs/editor/common/languages/languageConfiguration","vs/editor/common/textModelEvents","vs/base/browser/event","vs/platform/keybinding/common/keybindingsRegistry","vs/editor/contrib/suggest/browser/suggest","vs/base/common/decorators","vs/base/common/keybindings","vs/base/common/hash","vs/base/common/iconLabels","vs/editor/common/core/characterClassifier","vs/editor/common/commands/replaceCommand","vs/editor/common/encodedTokenAttributes","vs/editor/common/languages/supports","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/smallImmutableSet","vs/editor/browser/view/dynamicViewOverlay","vs/base/browser/ui/list/listWidget","vs/editor/common/viewLayout/viewLineRenderer","vs/editor/standalone/common/standaloneTheme","vs/platform/layout/browser/layoutService","vs/editor/contrib/markdownRenderer/browser/markdownRenderer","vs/platform/quickinput/common/quickAccess","vs/editor/contrib/peekView/browser/peekView","vs/editor/contrib/snippet/browser/snippetController2","vs/base/browser/ui/tree/tree","vs/base/common/buffer","vs/base/browser/dnd","vs/base/common/numbers","vs/editor/browser/view/renderingContext","vs/editor/common/core/eolCounter","vs/editor/common/core/wordCharacterClassifier","vs/editor/common/core/wordHelper","vs/editor/common/viewEventHandler","vs/editor/common/viewLayout/lineDecorations","vs/editor/contrib/codeAction/browser/types","vs/base/browser/globalPointerMoveMonitor","vs/base/browser/ui/actionbar/actionViewItems","vs/base/browser/ui/iconLabel/iconLabels","vs/base/browser/ui/sash/sash","vs/editor/common/languages/nullTokenize","vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/editor/browser/services/bulkEditService","vs/platform/dialogs/common/dialogs","vs/platform/label/common/label","vs/editor/browser/editorDom","vs/platform/theme/common/styler","vs/editor/contrib/message/browser/messageController","vs/base/common/idGenerator","vs/base/common/lazy","vs/base/common/range","vs/base/common/diff/diff","vs/base/common/uint","vs/base/browser/ui/codicons/codiconStyles","vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/parts/quickinput/browser/media/quickInput","vs/editor/browser/stableEditorScroll","vs/editor/common/core/textModelDefaults","vs/editor/common/editorCommon","vs/editor/browser/editorBrowser","vs/editor/common/cursor/cursorWordOperations","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/ast","vs/editor/common/model/textModelSearch","vs/editor/common/standalone/standaloneEnums","vs/editor/contrib/folding/browser/foldingRanges","vs/base/common/scrollable","vs/base/browser/ui/toggle/toggle","vs/base/browser/ui/tree/abstractTree","vs/editor/common/config/editorZoom","vs/editor/contrib/inlineCompletions/browser/ghostText","vs/editor/common/services/textResourceConfiguration","vs/platform/instantiation/common/serviceCollection","vs/editor/contrib/documentSymbols/browser/outlineModel","vs/editor/browser/coreCommands","vs/editor/contrib/codeAction/browser/codeAction","vs/platform/list/browser/listService","vs/platform/undoRedo/common/undoRedo","vs/editor/browser/widget/codeEditorWidget","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/editor/contrib/find/browser/findModel","vs/platform/workspace/common/workspace","vs/base/common/assert","vs/base/common/dataTransfer","vs/editor/common/core/indentation","vs/editor/common/cursor/cursorMoveOperations","vs/editor/common/cursor/cursorDeleteOperations","vs/editor/common/cursor/cursorMoveCommands","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/tokenizer","vs/editor/common/model/utils","vs/editor/common/textModelGuides","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewEvents","vs/editor/contrib/inlineCompletions/browser/consts","vs/editor/contrib/inlineCompletions/browser/utils","vs/base/common/keybindingLabels","vs/base/common/extpath","vs/base/browser/canIUse","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/common/marshalling","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/browser/ui/inputbox/inputBox","vs/base/browser/ui/list/listView","vs/editor/browser/controller/textAreaInput","vs/editor/browser/view/viewLayer","vs/editor/common/languages/supports/richEditBrackets","vs/editor/common/viewModelEventDispatcher","vs/editor/contrib/gotoSymbol/browser/link/clickLinkGesture","vs/editor/contrib/inlineCompletions/browser/inlineCompletionToGhostText","vs/editor/common/config/fontInfo","vs/platform/instantiation/common/descriptors","vs/editor/common/services/markerDecorations","vs/editor/contrib/parameterHints/browser/provideSignatureHelp","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/common/config/editorConfigurationSchema","vs/editor/common/languages/autoIndent","vs/editor/common/languages/enterAction","vs/editor/common/commands/shiftCommand","vs/editor/common/cursor/cursorTypeOperations","vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/platform/actions/browser/menuEntryActionViewItem","vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/editor/standalone/browser/standaloneServices","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/common/cache","vs/base/common/uuid","vs/base/parts/quickinput/common/quickInput","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/editor/browser/view/viewUserInputEvents","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/browser/controller/textAreaState","vs/editor/common/core/rgba","vs/editor/common/cursor/cursorAtomicMoveOperations","vs/editor/common/editorAction","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/beforeEditPositionMapper","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/parser","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/brackets","vs/editor/common/model/prefixSumComputer","vs/editor/common/model/textModelPart","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/modelLineProjectionData","vs/editor/common/services/unicodeTextModelHighlighter","vs/editor/common/model/guidesTextModelPart","vs/editor/browser/viewParts/margin/margin","vs/editor/common/viewModel/overviewZoneManager","vs/editor/contrib/comment/browser/blockCommentCommand","vs/editor/contrib/format/browser/formattingEdit","vs/editor/contrib/indentation/browser/indentUtils","vs/editor/contrib/smartSelect/browser/bracketSelections","vs/editor/contrib/suggest/browser/completionModel","vs/editor/contrib/suggest/browser/wordDistance","vs/editor/standalone/common/monarch/monarchCommon","vs/base/common/glob","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/base/browser/ui/iconLabel/iconLabelHover","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/resizable/resizable","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/splitview/splitview","vs/base/browser/ui/findinput/findInputToggles","vs/base/browser/ui/findinput/findInput","vs/base/browser/ui/tree/objectTree","vs/base/common/worker/simpleWorker","vs/base/parts/quickinput/browser/quickInputUtils","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/config/tabFocus","vs/editor/browser/widget/diffNavigator","vs/editor/common/core/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/languages/textToHtmlTokenizer","vs/editor/common/services/editorBaseApi","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/contrib/hover/browser/hoverOperation","vs/editor/contrib/inlayHints/browser/inlayHints","vs/editor/browser/config/fontMeasurements","vs/editor/common/viewModel/viewModelDecorations","vs/editor/common/model/editStack","vs/platform/files/common/files","vs/editor/common/services/getSemanticTokens","vs/editor/contrib/codelens/browser/codelens","vs/editor/contrib/colorPicker/browser/color","vs/editor/standalone/common/monarch/monarchLexer","vs/platform/configuration/common/configurationModels","vs/platform/contextkey/common/contextkeys","vs/platform/keybinding/common/resolvedKeybindingItem","vs/editor/standalone/browser/standaloneLayoutService","vs/editor/browser/dnd","vs/editor/browser/services/editorWorkerService","vs/editor/common/cursor/cursor","vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/platform/history/browser/contextScopedHistoryWidget","vs/editor/contrib/suggest/browser/suggestMemory","vs/editor/browser/viewParts/lines/viewLine","vs/editor/browser/controller/mouseTarget","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/contrib/quickAccess/browser/editorNavigationQuickAccess","vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/editor/standalone/browser/standaloneCodeEditorService","vs/editor/contrib/codeAction/browser/codeActionMenu","vs/editor/contrib/format/browser/format","vs/editor/contrib/gotoSymbol/browser/goToSymbol","vs/editor/contrib/hover/browser/getHover","vs/editor/contrib/codeAction/browser/codeActionCommands","vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/editor/contrib/wordOperations/browser/wordOperations","vs/editor/standalone/browser/standaloneThemeService","vs/editor/common/services/modelService","vs/editor/browser/widget/diffEditorWidget","vs/editor/contrib/colorPicker/browser/colorDetector","vs/editor/contrib/find/browser/findController","vs/editor/contrib/gotoError/browser/gotoError","vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/editor/contrib/hover/browser/hover","vs/editor/contrib/inlayHints/browser/inlayHintsController","vs/editor/contrib/snippet/browser/snippetSession","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsModel","vs/editor/contrib/suggest/browser/suggestController","vs/editor/contrib/inlineCompletions/browser/ghostTextController","vs/platform/workspace/common/workspaceTrust","vs/base/browser/iframe","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/collections","vs/base/common/diff/diffChange","vs/base/common/marked/marked","vs/base/common/navigator","vs/base/common/history","vs/base/browser/ui/list/rangeMap","vs/base/common/search","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hover","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/css!vs/base/browser/ui/toggle/toggle","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/widget/media/diffEditor","vs/css!vs/editor/browser/widget/media/diffReview","vs/css!vs/editor/browser/widget/media/editor","vs/css!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/css!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/css!vs/editor/contrib/codeAction/browser/media/action","vs/css!vs/editor/contrib/codelens/browser/codelensWidget","vs/css!vs/editor/contrib/colorPicker/browser/colorPicker","vs/css!vs/editor/contrib/dnd/browser/dnd","vs/css!vs/editor/contrib/find/browser/findWidget","vs/css!vs/editor/contrib/folding/browser/folding","vs/css!vs/editor/contrib/gotoError/browser/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/css!vs/editor/contrib/inlineCompletions/browser/ghostText","vs/css!vs/editor/contrib/links/browser/links","vs/css!vs/editor/contrib/message/browser/messageController","vs/css!vs/editor/contrib/parameterHints/browser/parameterHints","vs/css!vs/editor/contrib/peekView/browser/media/peekViewWidget","vs/css!vs/editor/contrib/rename/browser/renameInputField","vs/css!vs/editor/contrib/snippet/browser/snippetSession","vs/css!vs/editor/contrib/suggest/browser/media/suggest","vs/css!vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/css!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/css!vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/css!vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/editor/browser/config/charWidthReader","vs/editor/browser/config/migrateOptions","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/cursor/cursorContext","vs/editor/common/diff/diffComputer","vs/editor/common/editorTheme","vs/editor/common/languages/linkComputer","vs/editor/common/cursor/cursorColumnSelection","vs/editor/common/cursor/oneCursor","vs/editor/common/cursor/cursorCollection","vs/editor/common/languages/supports/characterPair","vs/editor/common/languages/supports/indentRules","vs/editor/common/languages/supports/inplaceReplaceSupport","vs/editor/common/languages/supports/languageBracketsConfiguration","vs/editor/common/languages/supports/onEnter","vs/editor/common/languages/supports/tokenization","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/nodeReader","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/concat23Trees","vs/editor/common/model/bracketPairsTextModelPart/fixBrackets","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model/mirrorTextModel","vs/editor/common/textModelBracketPairs","vs/editor/common/tokens/contiguousMultilineTokens","vs/editor/common/tokens/contiguousMultilineTokensBuilder","vs/editor/common/tokens/contiguousTokensEditing","vs/editor/common/tokens/contiguousTokensStore","vs/editor/common/tokens/sparseMultilineTokens","vs/editor/common/tokens/sparseTokensStore","vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewLayout/linePart","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/viewModel/modelLineProjection","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/common/viewModel/viewContext","vs/editor/contrib/caretOperations/browser/moveCaretCommand","vs/editor/contrib/comment/browser/lineCommentCommand","vs/editor/contrib/dnd/browser/dragAndDropCommand","vs/editor/contrib/find/browser/replaceAllCommand","vs/editor/contrib/find/browser/replacePattern","vs/editor/contrib/folding/browser/indentRangeProvider","vs/editor/contrib/folding/browser/syntaxRangeProvider","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplaceCommand","vs/editor/contrib/linesOperations/browser/copyLinesCommand","vs/editor/contrib/linesOperations/browser/sortLinesCommand","vs/editor/contrib/smartSelect/browser/wordSelections","vs/editor/contrib/suggest/browser/suggestCommitCharacters","vs/editor/contrib/suggest/browser/suggestOvertypingCapturer","vs/editor/standalone/common/monarch/monarchCompile","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputToggles","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/iconLabel/iconLabelHover","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/nls!vs/base/common/actions","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/nls!vs/base/common/platform","vs/base/common/process","vs/base/common/fuzzyScorer","vs/base/common/labels","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/comparers","vs/base/browser/dompurify/dompurify","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/button/button","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/ui/list/listPaging","vs/base/browser/ui/menu/menu","vs/base/browser/ui/table/tableWidget","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/base/browser/markdownRenderer","vs/base/browser/defaultWorkerFactory","vs/base/parts/quickinput/browser/quickInputBox","vs/base/parts/storage/common/storage","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/common/languageSelector","vs/editor/common/languageFeatureRegistry","vs/editor/common/languages/supports/electricCharacter","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/bracketPairsTree","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsImpl","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/services/semanticTokensDto","vs/editor/common/tokenizationRegistry","vs/editor/common/model/textModelTokens","vs/editor/common/model/tokenizationTextModelPart","vs/editor/common/services/editorSimpleWorker","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/colorPicker/browser/colorPickerModel","vs/editor/contrib/folding/browser/foldingModel","vs/editor/contrib/folding/browser/hiddenRangeModel","vs/nls!vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/coreCommands","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/widget/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditorWidget","vs/nls!vs/editor/browser/widget/diffReview","vs/nls!vs/editor/browser/widget/inlineDiffMargin","vs/editor/browser/widget/inlineDiffMargin","vs/nls!vs/editor/common/config/editorConfigurationSchema","vs/nls!vs/editor/common/config/editorOptions","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/nls!vs/editor/common/core/editorColorRegistry","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/languages/modesRegistry","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/browser/caretOperations","vs/nls!vs/editor/contrib/caretOperations/browser/transpose","vs/nls!vs/editor/contrib/clipboard/browser/clipboard","vs/nls!vs/editor/contrib/codeAction/browser/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/browser/codeActionMenu","vs/nls!vs/editor/contrib/codeAction/browser/codeActionWidgetContribution","vs/nls!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/browser/codelensController","vs/nls!vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/nls!vs/editor/contrib/comment/browser/comment","vs/nls!vs/editor/contrib/contextmenu/browser/contextmenu","vs/nls!vs/editor/contrib/copyPaste/browser/copyPasteContribution","vs/nls!vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/nls!vs/editor/contrib/dropIntoEditor/browser/dropIntoEditorContribution","vs/nls!vs/editor/contrib/editorState/browser/keybindingCancellation","vs/nls!vs/editor/contrib/find/browser/findController","vs/nls!vs/editor/contrib/find/browser/findWidget","vs/nls!vs/editor/contrib/folding/browser/folding","vs/nls!vs/editor/contrib/folding/browser/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/browser/fontZoom","vs/nls!vs/editor/contrib/format/browser/format","vs/nls!vs/editor/contrib/format/browser/formatActions","vs/nls!vs/editor/contrib/gotoError/browser/gotoError","vs/nls!vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/nls!vs/editor/contrib/hover/browser/hover","vs/nls!vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/browser/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/browser/indentation","vs/nls!vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/nls!vs/editor/contrib/inlineCompletions/browser/ghostTextController","vs/nls!vs/editor/contrib/inlineCompletions/browser/ghostTextHoverParticipant","vs/nls!vs/editor/contrib/lineSelection/browser/lineSelection","vs/nls!vs/editor/contrib/linesOperations/browser/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/nls!vs/editor/contrib/links/browser/links","vs/nls!vs/editor/contrib/message/browser/messageController","vs/nls!vs/editor/contrib/multicursor/browser/multicursor","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHints","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/browser/peekView","vs/nls!vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/readOnlyMessage/browser/contribution","vs/nls!vs/editor/contrib/rename/browser/rename","vs/nls!vs/editor/contrib/rename/browser/renameInputField","vs/nls!vs/editor/contrib/smartSelect/browser/smartSelect","vs/nls!vs/editor/contrib/snippet/browser/snippetController2","vs/nls!vs/editor/contrib/snippet/browser/snippetVariables","vs/nls!vs/editor/contrib/suggest/browser/suggest","vs/nls!vs/editor/contrib/suggest/browser/suggestController","vs/nls!vs/editor/contrib/suggest/browser/suggestWidget","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/browser/tokenization","vs/nls!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/nls!vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/browser/wordOperations","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/actions/common/menuService","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/history/browser/contextScopedHistoryWidget","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/nls!vs/platform/workspace/common/workspace","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/history/browser/historyWidgetKeybindingHint","vs/platform/instantiation/common/graph","vs/editor/common/services/languageFeaturesService","vs/editor/contrib/links/browser/getLinks","vs/editor/standalone/browser/colorizer","vs/editor/contrib/parameterHints/browser/parameterHintsModel","vs/editor/contrib/suggest/browser/suggestAlternatives","vs/editor/contrib/suggest/browser/wordContextKey","vs/editor/browser/config/editorConfiguration","vs/platform/contextkey/browser/contextKeyService","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/keybinding/common/keybindingResolver","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/accessibility/browser/accessibilityService","vs/platform/contextview/browser/contextViewService","vs/platform/clipboard/browser/clipboardService","vs/editor/contrib/gotoError/browser/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/editor/contrib/documentSymbols/browser/documentSymbols","vs/platform/quickinput/browser/pickerQuickAccess","vs/platform/dnd/browser/dnd","vs/editor/browser/services/webWorker","vs/editor/common/services/getIconClasses","vs/editor/common/services/languagesAssociations","vs/editor/common/services/languagesRegistry","vs/editor/common/services/languageService","vs/editor/contrib/codeAction/browser/codeActionWidgetContribution","vs/editor/contrib/linesOperations/browser/moveLinesCommand","vs/editor/contrib/hover/browser/marginHover","vs/platform/configuration/common/configurations","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/editor/contrib/codelens/browser/codeLensCache","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/browser/commandsQuickAccess","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/common/model/bracketPairsTextModelPart/colorizedBracketPairsDecorationProvider","vs/editor/common/services/markerDecorationsService","vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/editor/contrib/inlineCompletions/browser/ghostTextWidget","vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/editor/contrib/rename/browser/renameInputField","vs/editor/standalone/common/themes","vs/editor/browser/services/markerDecorations","vs/editor/browser/view/viewController","vs/editor/browser/view","vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/editor/contrib/caretOperations/browser/caretOperations","vs/editor/contrib/caretOperations/browser/transpose","vs/editor/contrib/clipboard/browser/clipboard","vs/editor/contrib/comment/browser/comment","vs/editor/contrib/contextmenu/browser/contextmenu","vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/editor/contrib/editorState/browser/keybindingCancellation","vs/editor/contrib/codeAction/browser/codeActionModel","vs/editor/contrib/fontZoom/browser/fontZoom","vs/editor/contrib/format/browser/formatActions","vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/editor/contrib/indentation/browser/indentation","vs/editor/contrib/lineSelection/browser/lineSelection","vs/editor/contrib/linesOperations/browser/linesOperations","vs/editor/contrib/codeAction/browser/codeActionUi","vs/editor/contrib/codeAction/browser/codeActionContributions","vs/editor/contrib/readOnlyMessage/browser/contribution","vs/editor/contrib/rename/browser/rename","vs/editor/contrib/smartSelect/browser/smartSelect","vs/editor/contrib/stickyScroll/browser/stickyScroll","vs/editor/contrib/suggest/browser/suggestInlineCompletions","vs/editor/contrib/tokenization/browser/tokenization","vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/editor/contrib/wordPartOperations/browser/wordPartOperations","vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/platform/actions/common/menuService","vs/platform/contextview/browser/contextMenuService","vs/platform/opener/browser/link","vs/platform/quickinput/browser/quickInput","vs/editor/standalone/browser/quickInput/standaloneQuickInputService","vs/platform/severityIcon/common/severityIcon","vs/editor/browser/widget/diffReview","vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/editor/contrib/parameterHints/browser/parameterHints","vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/platform/theme/browser/iconsStyleSheet","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/common/viewModel/viewModelLines","vs/editor/common/viewModel/viewModelImpl","vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/editor/contrib/codelens/browser/codelensWidget","vs/editor/contrib/codelens/browser/codelensController","vs/editor/contrib/colorPicker/browser/colorHoverParticipant","vs/editor/contrib/dnd/browser/dnd","vs/editor/contrib/find/browser/findDecorations","vs/editor/contrib/find/browser/findOptionsWidget","vs/editor/contrib/find/browser/findState","vs/editor/contrib/find/browser/findWidget","vs/editor/contrib/folding/browser/foldingDecorations","vs/editor/contrib/folding/browser/folding","vs/editor/contrib/hover/browser/contentHover","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/editor/contrib/links/browser/links","vs/editor/contrib/multicursor/browser/multicursor","vs/editor/contrib/suggest/browser/suggestWidget","vs/editor/contrib/viewportSemanticTokens/browser/viewportSemanticTokens","vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/editor/contrib/hover/browser/markerHoverParticipant","vs/editor/contrib/colorPicker/browser/colorContributions","vs/editor/contrib/inlayHints/browser/inlayHintsLocations","vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/editor/contrib/inlayHints/browser/inlayHintsContribution","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/contrib/snippet/browser/snippetVariables","vs/editor/contrib/copyPaste/browser/copyPasteController","vs/editor/contrib/copyPaste/browser/copyPasteContribution","vs/editor/contrib/dropIntoEditor/browser/dropIntoEditorContribution","vs/editor/contrib/suggest/browser/suggestModel","vs/editor/contrib/inlineCompletions/browser/suggestWidgetInlineCompletionProvider","vs/editor/contrib/inlineCompletions/browser/suggestWidgetPreviewModel","vs/editor/contrib/inlineCompletions/browser/ghostTextModel","vs/editor/contrib/inlineCompletions/browser/ghostTextHoverParticipant","vs/editor/contrib/inlineCompletions/browser/ghostText.contribution","vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/editor/editor.all","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/css","vs/editor/edcore.main"],ae=function($){for(var e=[],w=0,C=$.length;w<C;w++)e[w]=re[$[w]];return e};define(re[785],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.load=void 0;function w(b,v,u,g){if(g=g||{},(g["vs/css"]||{}).disabled){u({});return}const i=v.toUrl(b+".css");C(b,i,()=>{u({})},t=>{typeof u.error=="function"&&u.error("Could not find "+i+".")})}e.load=w;function C(b,v,u,g){if(k(b,v)){u();return}I(b,v,u,g)}function k(b,v){const u=document.getElementsByTagName("link");for(let g=0,n=u.length;g<n;g++){const i=u[g].getAttribute("data-name"),t=u[g].getAttribute("href");if(i===b||t===v)return!0}return!1}function I(b,v,u,g){const n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("data-name",b),L(b,n,u,g),n.setAttribute("href",v),(document.head||document.getElementsByTagName("head")[0]).appendChild(n)}function L(b,v,u,g){const n=()=>{v.removeEventListener("load",i),v.removeEventListener("error",t)},i=r=>{n(),u()},t=r=>{n(),g(r)};v.addEventListener("load",i),v.addEventListener("error",t)}});var Se=this&&this.__awaiter||function($,e,w,C){function k(I){return I instanceof w?I:new w(function(L){L(I)})}return new(w||(w=Promise))(function(I,L){function b(g){try{u(C.next(g))}catch(n){L(n)}}function v(g){try{u(C.throw(g))}catch(n){L(n)}}function u(g){g.done?I(g.value):k(g.value).then(b,v)}u((C=C.apply($,e||[])).next())})};define(re[4],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.load=e.create=e.setPseudoTranslation=e.getConfiguredDefaultLocale=e.localize=void 0;let w=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;const C="i-default";function k(r,l){let d;return l.length===0?d=r:d=r.replace(/\{(\d+)\}/g,(a,s)=>{const o=s[0],c=l[o];let f=a;return typeof c=="string"?f=c:(typeof c=="number"||typeof c=="boolean"||c===void 0||c===null)&&(f=String(c)),f}),w&&(d="\uFF3B"+d.replace(/[aouei]/g,"$&$&")+"\uFF3D"),d}function I(r,l){let d=r[l];return d||(d=r["*"],d)?d:null}function L(r){return r.charAt(r.length-1)==="/"?r:r+"/"}function b(r,l,d){return Se(this,void 0,void 0,function*(){const a=L(r)+L(l)+"vscode/"+L(d),s=yield fetch(a);if(s.ok)return yield s.json();throw new Error(`${s.status} - ${s.statusText}`)})}function v(r){return function(l,d){const a=Array.prototype.slice.call(arguments,2);return k(r[l],a)}}function u(r,l,...d){return k(l,d)}e.localize=u;function g(r){}e.getConfiguredDefaultLocale=g;function n(r){w=r}e.setPseudoTranslation=n;function i(r,l){var d;return{localize:v(l[r]),getConfiguredDefaultLocale:(d=l.getConfiguredDefaultLocale)!==null&&d!==void 0?d:a=>{}}}e.create=i;function t(r,l,d,a){var s;const o=(s=a["vs/nls"])!==null&&s!==void 0?s:{};if(!r||r.length===0)return d({localize:u,getConfiguredDefaultLocale:()=>{var m;return(m=o.availableLanguages)===null||m===void 0?void 0:m["*"]}});const c=o.availableLanguages?I(o.availableLanguages,r):null,f=c===null||c===C;let p=".nls";f||(p=p+"."+c);const _=m=>{Array.isArray(m)?m.localize=v(m):m.localize=v(m[r]),m.getConfiguredDefaultLocale=()=>{var h;return(h=o.availableLanguages)===null||h===void 0?void 0:h["*"]},d(m)};typeof o.loadBundle=="function"?o.loadBundle(r,c,(m,h)=>{m?l([r+".nls"],_):_(h)}):o.translationServiceUrl&&!f?(()=>Se(this,void 0,void 0,function*(){var m;try{const h=yield b(o.translationServiceUrl,c,r);return _(h)}catch(h){if(!c.includes("-"))return console.error(h),l([r+".nls"],_);try{const S=c.split("-")[0],y=yield b(o.translationServiceUrl,S,r);return(m=o.availableLanguages)!==null&&m!==void 0||(o.availableLanguages={}),o.availableLanguages["*"]=S,_(y)}catch(S){return console.error(S),l([r+".nls"],_)}}}))():l([r+p],_,m=>{if(p===".nls"){console.error("Failed trying to load default language strings",m);return}console.error(`Failed to load message bundle for language ${c}. Falling back to the default language:`,m),l([r+".nls"],_)})}e.load=t});/*! @license DOMPurify 2.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.1/LICENSE */function sn($){if(Array.isArray($)){for(var e=0,w=Array($.length);e<$.length;e++)w[e]=$[e];return w}else return Array.from($)}var rn=Object.hasOwnProperty,Ci=Object.setPrototypeOf,an=Object.isFrozen,ln=Object.getPrototypeOf,dn=Object.getOwnPropertyDescriptor,ut=Object.freeze,vt=Object.seal,cn=Object.create,vi=typeof Reflect!="undefined"&&Reflect,Wt=vi.apply,Yt=vi.construct;Wt||(Wt=function(e,w,C){return e.apply(w,C)}),ut||(ut=function(e){return e}),vt||(vt=function(e){return e}),Yt||(Yt=function(e,w){return new(Function.prototype.bind.apply(e,[null].concat(sn(w))))});var un=mt(Array.prototype.forEach),bi=mt(Array.prototype.pop),Mt=mt(Array.prototype.push),yt=mt(String.prototype.toLowerCase),_i=mt(String.prototype.match),Lt=mt(String.prototype.replace),hn=mt(String.prototype.indexOf),gn=mt(String.prototype.trim),bt=mt(RegExp.prototype.test),Si=fn(TypeError);function mt($){return function(e){for(var w=arguments.length,C=Array(w>1?w-1:0),k=1;k<w;k++)C[k-1]=arguments[k];return Wt($,e,C)}}function fn($){return function(){for(var e=arguments.length,w=Array(e),C=0;C<e;C++)w[C]=arguments[C];return Yt($,w)}}function Xe($,e){Ci&&Ci($,null);for(var w=e.length;w--;){var C=e[w];if(typeof C=="string"){var k=yt(C);k!==C&&(an(e)||(e[w]=k),C=k)}$[C]=!0}return $}function Et($){var e=cn(null),w=void 0;for(w in $)Wt(rn,$,[w])&&(e[w]=$[w]);return e}function xt($,e){for(;$!==null;){var w=dn($,e);if(w){if(w.get)return mt(w.get);if(typeof w.value=="function")return mt(w.value)}$=ln($)}function C(k){return console.warn("fallback value for",k),null}return C}var wi=ut(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Qt=ut(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Xt=ut(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),mn=ut(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Jt=ut(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),pn=ut(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Li=ut(["#text"]),yi=ut(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),ei=ut(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ei=ut(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),zt=ut(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Cn=vt(/\{\{[\s\S]*|[\s\S]*\}\}/gm),vn=vt(/<%[\s\S]*|[\s\S]*%>/gm),bn=vt(/^data-[\-\w.\u00B7-\uFFFF]/),_n=vt(/^aria-[\-\w]+$/),Sn=vt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),wn=vt(/^(?:\w+script|data):/i),Ln=vt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),At=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $};function Ct($){if(Array.isArray($)){for(var e=0,w=Array($.length);e<$.length;e++)w[e]=$[e];return w}else return Array.from($)}var yn=function(){return typeof window=="undefined"?null:window},En=function(e,w){if((typeof e=="undefined"?"undefined":At(e))!=="object"||typeof e.createPolicy!="function")return null;var C=null,k="data-tt-policy-suffix";w.currentScript&&w.currentScript.hasAttribute(k)&&(C=w.currentScript.getAttribute(k));var I="dompurify"+(C?"#"+C:"");try{return e.createPolicy(I,{createHTML:function(b){return b}})}catch{return console.warn("TrustedTypes policy "+I+" could not be created."),null}};function Ii(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yn(),e=function(Ne){return Ii(Ne)};if(e.version="2.3.1",e.removed=[],!$||!$.document||$.document.nodeType!==9)return e.isSupported=!1,e;var w=$.document,C=$.document,k=$.DocumentFragment,I=$.HTMLTemplateElement,L=$.Node,b=$.Element,v=$.NodeFilter,u=$.NamedNodeMap,g=u===void 0?$.NamedNodeMap||$.MozNamedAttrMap:u,n=$.Text,i=$.Comment,t=$.DOMParser,r=$.trustedTypes,l=b.prototype,d=xt(l,"cloneNode"),a=xt(l,"nextSibling"),s=xt(l,"childNodes"),o=xt(l,"parentNode");if(typeof I=="function"){var c=C.createElement("template");c.content&&c.content.ownerDocument&&(C=c.content.ownerDocument)}var f=En(r,w),p=f&&se?f.createHTML(""):"",_=C,m=_.implementation,h=_.createNodeIterator,S=_.createDocumentFragment,y=_.getElementsByTagName,E=w.importNode,N={};try{N=Et(C).documentMode?C.documentMode:{}}catch{}var T={};e.isSupported=typeof o=="function"&&m&&typeof m.createHTMLDocument!="undefined"&&N!==9;var R=Cn,F=vn,O=bn,D=_n,M=wn,P=Ln,B=Sn,W=null,V=Xe({},[].concat(Ct(wi),Ct(Qt),Ct(Xt),Ct(Jt),Ct(Li))),A=null,Q=Xe({},[].concat(Ct(yi),Ct(ei),Ct(Ei),Ct(zt))),J=null,H=null,q=!0,Z=!0,ie=!1,Y=!1,te=!1,de=!1,x=!1,oe=!1,ne=!1,j=!0,se=!1,z=!0,X=!0,G=!1,U={},K=null,ce=Xe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ee=null,ue=Xe({},["audio","video","img","source","image","track"]),fe=null,Ce=Xe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),we="http://www.w3.org/1998/Math/MathML",ye="http://www.w3.org/2000/svg",De="http://www.w3.org/1999/xhtml",Me=De,pe=!1,he=null,le=C.createElement("form"),ge=function(Ne){he&&he===Ne||((!Ne||(typeof Ne=="undefined"?"undefined":At(Ne))!=="object")&&(Ne={}),Ne=Et(Ne),W="ALLOWED_TAGS"in Ne?Xe({},Ne.ALLOWED_TAGS):V,A="ALLOWED_ATTR"in Ne?Xe({},Ne.ALLOWED_ATTR):Q,fe="ADD_URI_SAFE_ATTR"in Ne?Xe(Et(Ce),Ne.ADD_URI_SAFE_ATTR):Ce,ee="ADD_DATA_URI_TAGS"in Ne?Xe(Et(ue),Ne.ADD_DATA_URI_TAGS):ue,K="FORBID_CONTENTS"in Ne?Xe({},Ne.FORBID_CONTENTS):ce,J="FORBID_TAGS"in Ne?Xe({},Ne.FORBID_TAGS):{},H="FORBID_ATTR"in Ne?Xe({},Ne.FORBID_ATTR):{},U="USE_PROFILES"in Ne?Ne.USE_PROFILES:!1,q=Ne.ALLOW_ARIA_ATTR!==!1,Z=Ne.ALLOW_DATA_ATTR!==!1,ie=Ne.ALLOW_UNKNOWN_PROTOCOLS||!1,Y=Ne.SAFE_FOR_TEMPLATES||!1,te=Ne.WHOLE_DOCUMENT||!1,oe=Ne.RETURN_DOM||!1,ne=Ne.RETURN_DOM_FRAGMENT||!1,j=Ne.RETURN_DOM_IMPORT!==!1,se=Ne.RETURN_TRUSTED_TYPE||!1,x=Ne.FORCE_BODY||!1,z=Ne.SANITIZE_DOM!==!1,X=Ne.KEEP_CONTENT!==!1,G=Ne.IN_PLACE||!1,B=Ne.ALLOWED_URI_REGEXP||B,Me=Ne.NAMESPACE||De,Y&&(Z=!1),ne&&(oe=!0),U&&(W=Xe({},[].concat(Ct(Li))),A=[],U.html===!0&&(Xe(W,wi),Xe(A,yi)),U.svg===!0&&(Xe(W,Qt),Xe(A,ei),Xe(A,zt)),U.svgFilters===!0&&(Xe(W,Xt),Xe(A,ei),Xe(A,zt)),U.mathMl===!0&&(Xe(W,Jt),Xe(A,Ei),Xe(A,zt))),Ne.ADD_TAGS&&(W===V&&(W=Et(W)),Xe(W,Ne.ADD_TAGS)),Ne.ADD_ATTR&&(A===Q&&(A=Et(A)),Xe(A,Ne.ADD_ATTR)),Ne.ADD_URI_SAFE_ATTR&&Xe(fe,Ne.ADD_URI_SAFE_ATTR),Ne.FORBID_CONTENTS&&(K===ce&&(K=Et(K)),Xe(K,Ne.FORBID_CONTENTS)),X&&(W["#text"]=!0),te&&Xe(W,["html","head","body"]),W.table&&(Xe(W,["tbody"]),delete J.tbody),ut&&ut(Ne),he=Ne)},_e=Xe({},["mi","mo","mn","ms","mtext"]),Le=Xe({},["foreignobject","desc","title","annotation-xml"]),Ie=Xe({},Qt);Xe(Ie,Xt),Xe(Ie,mn);var Ae=Xe({},Jt);Xe(Ae,pn);var Oe=function(Ne){var Fe=o(Ne);(!Fe||!Fe.tagName)&&(Fe={namespaceURI:De,tagName:"template"});var He=yt(Ne.tagName),Ve=yt(Fe.tagName);if(Ne.namespaceURI===ye)return Fe.namespaceURI===De?He==="svg":Fe.namespaceURI===we?He==="svg"&&(Ve==="annotation-xml"||_e[Ve]):Boolean(Ie[He]);if(Ne.namespaceURI===we)return Fe.namespaceURI===De?He==="math":Fe.namespaceURI===ye?He==="math"&&Le[Ve]:Boolean(Ae[He]);if(Ne.namespaceURI===De){if(Fe.namespaceURI===ye&&!Le[Ve]||Fe.namespaceURI===we&&!_e[Ve])return!1;var Je=Xe({},["title","style","font","a","script"]);return!Ae[He]&&(Je[He]||!Ie[He])}return!1},be=function(Ne){Mt(e.removed,{element:Ne});try{Ne.parentNode.removeChild(Ne)}catch{try{Ne.outerHTML=p}catch{Ne.remove()}}},ve=function(Ne,Fe){try{Mt(e.removed,{attribute:Fe.getAttributeNode(Ne),from:Fe})}catch{Mt(e.removed,{attribute:null,from:Fe})}if(Fe.removeAttribute(Ne),Ne==="is"&&!A[Ne])if(oe||ne)try{be(Fe)}catch{}else try{Fe.setAttribute(Ne,"")}catch{}},Ee=function(Ne){var Fe=void 0,He=void 0;if(x)Ne="<remove></remove>"+Ne;else{var Ve=_i(Ne,/^[\r\n\t ]+/);He=Ve&&Ve[0]}var Je=f?f.createHTML(Ne):Ne;if(Me===De)try{Fe=new t().parseFromString(Je,"text/html")}catch{}if(!Fe||!Fe.documentElement){Fe=m.createDocument(Me,"template",null);try{Fe.documentElement.innerHTML=pe?"":Je}catch{}}var Qe=Fe.body||Fe.documentElement;return Ne&&He&&Qe.insertBefore(C.createTextNode(He),Qe.childNodes[0]||null),Me===De?y.call(Fe,te?"html":"body")[0]:te?Fe.documentElement:Qe},Re=function(Ne){return h.call(Ne.ownerDocument||Ne,Ne,v.SHOW_ELEMENT|v.SHOW_COMMENT|v.SHOW_TEXT,null,!1)},Te=function(Ne){return Ne instanceof n||Ne instanceof i?!1:typeof Ne.nodeName!="string"||typeof Ne.textContent!="string"||typeof Ne.removeChild!="function"||!(Ne.attributes instanceof g)||typeof Ne.removeAttribute!="function"||typeof Ne.setAttribute!="function"||typeof Ne.namespaceURI!="string"||typeof Ne.insertBefore!="function"},Be=function(Ne){return(typeof L=="undefined"?"undefined":At(L))==="object"?Ne instanceof L:Ne&&(typeof Ne=="undefined"?"undefined":At(Ne))==="object"&&typeof Ne.nodeType=="number"&&typeof Ne.nodeName=="string"},xe=function(Ne,Fe,He){!T[Ne]||un(T[Ne],function(Ve){Ve.call(e,Fe,He,he)})},qe=function(Ne){var Fe=void 0;if(xe("beforeSanitizeElements",Ne,null),Te(Ne)||_i(Ne.nodeName,/[\u0080-\uFFFF]/))return be(Ne),!0;var He=yt(Ne.nodeName);if(xe("uponSanitizeElement",Ne,{tagName:He,allowedTags:W}),!Be(Ne.firstElementChild)&&(!Be(Ne.content)||!Be(Ne.content.firstElementChild))&&bt(/<[/\w]/g,Ne.innerHTML)&&bt(/<[/\w]/g,Ne.textContent)||He==="select"&&bt(/<template/i,Ne.innerHTML))return be(Ne),!0;if(!W[He]||J[He]){if(X&&!K[He]){var Ve=o(Ne)||Ne.parentNode,Je=s(Ne)||Ne.childNodes;if(Je&&Ve)for(var Qe=Je.length,Ye=Qe-1;Ye>=0;--Ye)Ve.insertBefore(d(Je[Ye],!0),a(Ne))}return be(Ne),!0}return Ne instanceof b&&!Oe(Ne)||(He==="noscript"||He==="noembed")&&bt(/<\/no(script|embed)/i,Ne.innerHTML)?(be(Ne),!0):(Y&&Ne.nodeType===3&&(Fe=Ne.textContent,Fe=Lt(Fe,R," "),Fe=Lt(Fe,F," "),Ne.textContent!==Fe&&(Mt(e.removed,{element:Ne.cloneNode()}),Ne.textContent=Fe)),xe("afterSanitizeElements",Ne,null),!1)},Ze=function(Ne,Fe,He){if(z&&(Fe==="id"||Fe==="name")&&(He in C||He in le))return!1;if(!(Z&&!H[Fe]&&bt(O,Fe))){if(!(q&&bt(D,Fe))){if(!A[Fe]||H[Fe])return!1;if(!fe[Fe]){if(!bt(B,Lt(He,P,""))){if(!((Fe==="src"||Fe==="xlink:href"||Fe==="href")&&Ne!=="script"&&hn(He,"data:")===0&&ee[Ne])){if(!(ie&&!bt(M,Lt(He,P,"")))){if(He)return!1}}}}}}return!0},nt=function(Ne){var Fe=void 0,He=void 0,Ve=void 0,Je=void 0;xe("beforeSanitizeAttributes",Ne,null);var Qe=Ne.attributes;if(!!Qe){var Ye={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:A};for(Je=Qe.length;Je--;){Fe=Qe[Je];var tt=Fe,$e=tt.name,je=tt.namespaceURI;if(He=gn(Fe.value),Ve=yt($e),Ye.attrName=Ve,Ye.attrValue=He,Ye.keepAttr=!0,Ye.forceKeepAttr=void 0,xe("uponSanitizeAttribute",Ne,Ye),He=Ye.attrValue,!Ye.forceKeepAttr&&(ve($e,Ne),!!Ye.keepAttr)){if(bt(/\/>/i,He)){ve($e,Ne);continue}Y&&(He=Lt(He,R," "),He=Lt(He,F," "));var Pe=Ne.nodeName.toLowerCase();if(!!Ze(Pe,Ve,He))try{je?Ne.setAttributeNS(je,$e,He):Ne.setAttribute($e,He),bi(e.removed)}catch{}}}xe("afterSanitizeAttributes",Ne,null)}},ot=function ze(Ne){var Fe=void 0,He=Re(Ne);for(xe("beforeSanitizeShadowDOM",Ne,null);Fe=He.nextNode();)xe("uponSanitizeShadowNode",Fe,null),!qe(Fe)&&(Fe.content instanceof k&&ze(Fe.content),nt(Fe));xe("afterSanitizeShadowDOM",Ne,null)};return e.sanitize=function(ze,Ne){var Fe=void 0,He=void 0,Ve=void 0,Je=void 0,Qe=void 0;if(pe=!ze,pe&&(ze="<!-->"),typeof ze!="string"&&!Be(ze)){if(typeof ze.toString!="function")throw Si("toString is not a function");if(ze=ze.toString(),typeof ze!="string")throw Si("dirty is not a string, aborting")}if(!e.isSupported){if(At($.toStaticHTML)==="object"||typeof $.toStaticHTML=="function"){if(typeof ze=="string")return $.toStaticHTML(ze);if(Be(ze))return $.toStaticHTML(ze.outerHTML)}return ze}if(de||ge(Ne),e.removed=[],typeof ze=="string"&&(G=!1),!G)if(ze instanceof L)Fe=Ee("<!---->"),He=Fe.ownerDocument.importNode(ze,!0),He.nodeType===1&&He.nodeName==="BODY"||He.nodeName==="HTML"?Fe=He:Fe.appendChild(He);else{if(!oe&&!Y&&!te&&ze.indexOf("<")===-1)return f&&se?f.createHTML(ze):ze;if(Fe=Ee(ze),!Fe)return oe?null:p}Fe&&x&&be(Fe.firstChild);for(var Ye=Re(G?ze:Fe);Ve=Ye.nextNode();)Ve.nodeType===3&&Ve===Je||qe(Ve)||(Ve.content instanceof k&&ot(Ve.content),nt(Ve),Je=Ve);if(Je=null,G)return ze;if(oe){if(ne)for(Qe=S.call(Fe.ownerDocument);Fe.firstChild;)Qe.appendChild(Fe.firstChild);else Qe=Fe;return j&&(Qe=E.call(w,Qe,!0)),Qe}var tt=te?Fe.outerHTML:Fe.innerHTML;return Y&&(tt=Lt(tt,R," "),tt=Lt(tt,F," ")),f&&se?f.createHTML(tt):tt},e.setConfig=function(ze){ge(ze),de=!0},e.clearConfig=function(){he=null,de=!1},e.isValidAttribute=function(ze,Ne,Fe){he||ge({});var He=yt(ze),Ve=yt(Ne);return Ze(He,Ve,Fe)},e.addHook=function(ze,Ne){typeof Ne=="function"&&(T[ze]=T[ze]||[],Mt(T[ze],Ne))},e.removeHook=function(ze){T[ze]&&bi(T[ze])},e.removeHooks=function(ze){T[ze]&&(T[ze]=[])},e.removeAllHooks=function(){T={}},e}var In=Ii();define("vs/base/browser/dompurify/dompurify",function(){return In}),define(re[33],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFastDomNode=e.FastDomNode=void 0;class w{constructor(L){this.domNode=L,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(L){const b=C(L);this._maxWidth!==b&&(this._maxWidth=b,this.domNode.style.maxWidth=this._maxWidth)}setWidth(L){const b=C(L);this._width!==b&&(this._width=b,this.domNode.style.width=this._width)}setHeight(L){const b=C(L);this._height!==b&&(this._height=b,this.domNode.style.height=this._height)}setTop(L){const b=C(L);this._top!==b&&(this._top=b,this.domNode.style.top=this._top)}setLeft(L){const b=C(L);this._left!==b&&(this._left=b,this.domNode.style.left=this._left)}setBottom(L){const b=C(L);this._bottom!==b&&(this._bottom=b,this.domNode.style.bottom=this._bottom)}setRight(L){const b=C(L);this._right!==b&&(this._right=b,this.domNode.style.right=this._right)}setFontFamily(L){this._fontFamily!==L&&(this._fontFamily=L,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(L){this._fontWeight!==L&&(this._fontWeight=L,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(L){const b=C(L);this._fontSize!==b&&(this._fontSize=b,this.domNode.style.fontSize=this._fontSize)}setFontStyle(L){this._fontStyle!==L&&(this._fontStyle=L,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(L){this._fontFeatureSettings!==L&&(this._fontFeatureSettings=L,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setTextDecoration(L){this._textDecoration!==L&&(this._textDecoration=L,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(L){const b=C(L);this._lineHeight!==b&&(this._lineHeight=b,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(L){const b=C(L);this._letterSpacing!==b&&(this._letterSpacing=b,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(L){this._className!==L&&(this._className=L,this.domNode.className=this._className)}toggleClassName(L,b){this.domNode.classList.toggle(L,b),this._className=this.domNode.className}setDisplay(L){this._display!==L&&(this._display=L,this.domNode.style.display=this._display)}setPosition(L){this._position!==L&&(this._position=L,this.domNode.style.position=this._position)}setVisibility(L){this._visibility!==L&&(this._visibility=L,this.domNode.style.visibility=this._visibility)}setColor(L){this._color!==L&&(this._color=L,this.domNode.style.color=this._color)}setBackgroundColor(L){this._backgroundColor!==L&&(this._backgroundColor=L,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(L){this._layerHint!==L&&(this._layerHint=L,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(L){this._boxShadow!==L&&(this._boxShadow=L,this.domNode.style.boxShadow=L)}setContain(L){this._contain!==L&&(this._contain=L,this.domNode.style.contain=this._contain)}setAttribute(L,b){this.domNode.setAttribute(L,b)}removeAttribute(L){this.domNode.removeAttribute(L)}appendChild(L){this.domNode.appendChild(L.domNode)}removeChild(L){this.domNode.removeChild(L.domNode)}}e.FastDomNode=w;function C(I){return typeof I=="number"?`${I}px`:I}function k(I){return new w(I)}e.createFastDomNode=k}),define(re[324],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;let w=!1,C=null;function k(L){if(!L.parent||L.parent===L)return null;try{const b=L.location,v=L.parent.location;if(b.origin!=="null"&&v.origin!=="null"&&b.origin!==v.origin)return w=!0,null}catch{return w=!0,null}return L.parent}class I{static getSameOriginWindowChain(){if(!C){C=[];let b=window,v;do v=k(b),v?C.push({window:b,iframeElement:b.frameElement||null}):C.push({window:b,iframeElement:null}),b=v;while(b)}return C.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(b,v){if(!v||b===v)return{top:0,left:0};let u=0,g=0;const n=this.getSameOriginWindowChain();for(const i of n){if(u+=i.window.scrollY,g+=i.window.scrollX,i.window===v||!i.iframeElement)break;const t=i.iframeElement.getBoundingClientRect();u+=t.top,g+=t.left}return{top:u,left:g}}}e.IframeUtils=I}),define(re[325],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class w extends Error{constructor(k,I){super(`ListError [${k}] ${I}`)}}e.ListError=w}),define(re[326],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class w{constructor(k){this.spliceables=k}splice(k,I,L){this.spliceables.forEach(b=>b.splice(k,I,L))}}e.CombinedSpliceable=w}),define(re[221],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const w=20;class C{constructor(I,L,b,v,u,g){this._scrollbarSize=Math.round(L),this._oppositeScrollbarSize=Math.round(b),this._arrowSize=Math.round(I),this._visibleSize=v,this._scrollSize=u,this._scrollPosition=g,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new C(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(I){const L=Math.round(I);return this._visibleSize!==L?(this._visibleSize=L,this._refreshComputedValues(),!0):!1}setScrollSize(I){const L=Math.round(I);return this._scrollSize!==L?(this._scrollSize=L,this._refreshComputedValues(),!0):!1}setScrollPosition(I){const L=Math.round(I);return this._scrollPosition!==L?(this._scrollPosition=L,this._refreshComputedValues(),!0):!1}setScrollbarSize(I){this._scrollbarSize=Math.round(I)}setOppositeScrollbarSize(I){this._oppositeScrollbarSize=Math.round(I)}static _computeValues(I,L,b,v,u){const g=Math.max(0,b-I),n=Math.max(0,g-2*L),i=v>0&&v>b;if(!i)return{computedAvailableSize:Math.round(g),computedIsNeeded:i,computedSliderSize:Math.round(n),computedSliderRatio:0,computedSliderPosition:0};const t=Math.round(Math.max(w,Math.floor(b*n/v))),r=(n-t)/(v-b),l=u*r;return{computedAvailableSize:Math.round(g),computedIsNeeded:i,computedSliderSize:Math.round(t),computedSliderRatio:r,computedSliderPosition:Math.round(l)}}_refreshComputedValues(){const I=C._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=I.computedAvailableSize,this._computedIsNeeded=I.computedIsNeeded,this._computedSliderSize=I.computedSliderSize,this._computedSliderRatio=I.computedSliderRatio,this._computedSliderPosition=I.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(I){if(!this._computedIsNeeded)return 0;const L=I-this._arrowSize-this._computedSliderSize/2;return Math.round(L/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(I){if(!this._computedIsNeeded)return 0;const L=I-this._arrowSize;let b=this._scrollPosition;return L<this._computedSliderPosition?b-=this._visibleSize:b+=this._visibleSize,b}getDesiredScrollPositionFromDelta(I){if(!this._computedIsNeeded)return 0;const L=this._computedSliderPosition+I;return Math.round(L/this._computedSliderRatio)}}e.ScrollbarState=C}),define(re[121],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=void 0;var w;(function(I){I[I.Unknown=0]="Unknown",I[I.Twistie=1]="Twistie",I[I.Element=2]="Element",I[I.Filter=3]="Filter"})(w=e.TreeMouseEventTarget||(e.TreeMouseEventTarget={}));class C extends Error{constructor(L,b){super(`TreeError [${L}] ${b}`)}}e.TreeError=C;class k{constructor(L){this.fn=L,this._map=new WeakMap}map(L){let b=this._map.get(L);return b||(b=this.fn(L),this._map.set(L,b)),b}}e.WeakMapper=k}),define(re[18],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayQueue=e.findMinBy=e.findLastMaxBy=e.findMaxBy=e.numberComparator=e.compareBy=e.CompareResult=e.splice=e.insertInto=e.asArray=e.pushMany=e.pushToEnd=e.pushToStart=e.arrayInsert=e.range=e.firstOrDefault=e.lastIndex=e.findLast=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.coalesce=e.groupBy=e.quickSelect=e.findFirstInSorted=e.binarySearch2=e.binarySearch=e.removeFastWithoutKeepingOrder=e.equals=e.tail2=e.tail=void 0;function w(D,M=0){return D[D.length-(1+M)]}e.tail=w;function C(D){if(D.length===0)throw new Error("Invalid tail call");return[D.slice(0,D.length-1),D[D.length-1]]}e.tail2=C;function k(D,M,P=(B,W)=>B===W){if(D===M)return!0;if(!D||!M||D.length!==M.length)return!1;for(let B=0,W=D.length;B<W;B++)if(!P(D[B],M[B]))return!1;return!0}e.equals=k;function I(D,M){const P=D.length-1;M<P&&(D[M]=D[P]),D.pop()}e.removeFastWithoutKeepingOrder=I;function L(D,M,P){return b(D.length,B=>P(D[B],M))}e.binarySearch=L;function b(D,M){let P=0,B=D-1;for(;P<=B;){const W=(P+B)/2|0,V=M(W);if(V<0)P=W+1;else if(V>0)B=W-1;else return W}return-(P+1)}e.binarySearch2=b;function v(D,M){let P=0,B=D.length;if(B===0)return 0;for(;P<B;){const W=Math.floor((P+B)/2);M(D[W])?B=W:P=W+1}return P}e.findFirstInSorted=v;function u(D,M,P){if(D=D|0,D>=M.length)throw new TypeError("invalid index");const B=M[Math.floor(M.length*Math.random())],W=[],V=[],A=[];for(const Q of M){const J=P(Q,B);J<0?W.push(Q):J>0?V.push(Q):A.push(Q)}return D<W.length?u(D,W,P):D<W.length+A.length?A[0]:u(D-(W.length+A.length),V,P)}e.quickSelect=u;function g(D,M){const P=[];let B;for(const W of D.slice(0).sort(M))!B||M(B[0],W)!==0?(B=[W],P.push(B)):B.push(W);return P}e.groupBy=g;function n(D){return D.filter(M=>!!M)}e.coalesce=n;function i(D){return!Array.isArray(D)||D.length===0}e.isFalsyOrEmpty=i;function t(D){return Array.isArray(D)&&D.length>0}e.isNonEmptyArray=t;function r(D,M=P=>P){const P=new Set;return D.filter(B=>{const W=M(B);return P.has(W)?!1:(P.add(W),!0)})}e.distinct=r;function l(D,M){const P=d(D,M);if(P!==-1)return D[P]}e.findLast=l;function d(D,M){for(let P=D.length-1;P>=0;P--){const B=D[P];if(M(B))return P}return-1}e.lastIndex=d;function a(D,M){return D.length>0?D[0]:M}e.firstOrDefault=a;function s(D,M){let P=typeof M=="number"?D:0;typeof M=="number"?P=D:(P=0,M=D);const B=[];if(P<=M)for(let W=P;W<M;W++)B.push(W);else for(let W=P;W>M;W--)B.push(W);return B}e.range=s;function o(D,M,P){const B=D.slice(0,M),W=D.slice(M);return B.concat(P,W)}e.arrayInsert=o;function c(D,M){const P=D.indexOf(M);P>-1&&(D.splice(P,1),D.unshift(M))}e.pushToStart=c;function f(D,M){const P=D.indexOf(M);P>-1&&(D.splice(P,1),D.push(M))}e.pushToEnd=f;function p(D,M){for(const P of M)D.push(P)}e.pushMany=p;function _(D){return Array.isArray(D)?D:[D]}e.asArray=_;function m(D,M,P){const B=S(D,M),W=D.length,V=P.length;D.length=W+V;for(let A=W-1;A>=B;A--)D[A+V]=D[A];for(let A=0;A<V;A++)D[A+B]=P[A]}e.insertInto=m;function h(D,M,P,B){const W=S(D,M),V=D.splice(W,P);return m(D,W,B),V}e.splice=h;function S(D,M){return M<0?Math.max(M+D.length,0):Math.min(M,D.length)}var y;(function(D){function M(W){return W<0}D.isLessThan=M;function P(W){return W>0}D.isGreaterThan=P;function B(W){return W===0}D.isNeitherLessOrGreaterThan=B,D.greaterThan=1,D.lessThan=-1,D.neitherLessOrGreaterThan=0})(y=e.CompareResult||(e.CompareResult={}));function E(D,M){return(P,B)=>M(D(P),D(B))}e.compareBy=E;const N=(D,M)=>D-M;e.numberComparator=N;function T(D,M){if(D.length===0)return;let P=D[0];for(let B=1;B<D.length;B++){const W=D[B];M(W,P)>0&&(P=W)}return P}e.findMaxBy=T;function R(D,M){if(D.length===0)return;let P=D[0];for(let B=1;B<D.length;B++){const W=D[B];M(W,P)>=0&&(P=W)}return P}e.findLastMaxBy=R;function F(D,M){return T(D,(P,B)=>-M(P,B))}e.findMinBy=F;class O{constructor(M){this.items=M,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(M){let P=this.firstIdx;for(;P<this.items.length&&M(this.items[P]);)P++;const B=P===this.firstIdx?null:this.items.slice(this.firstIdx,P);return this.firstIdx=P,B}takeFromEndWhile(M){let P=this.lastIdx;for(;P>=0&&M(this.items[P]);)P--;const B=P===this.lastIdx?null:this.items.slice(P+1,this.lastIdx+1);return this.lastIdx=P,B}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const M=this.items[this.firstIdx];return this.firstIdx++,M}takeCount(M){const P=this.items.slice(this.firstIdx,this.firstIdx+M);return this.firstIdx+=M,P}}e.ArrayQueue=O}),define(re[177],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ok=void 0;function w(C,k){if(!C)throw new Error(k?`Assertion failed (${k})`:"Assertion Failed")}e.ok=w}),define(re[122],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeUInt8=e.readUInt8=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const w=typeof Buffer!="undefined";let C;class k{constructor(i){this.buffer=i,this.byteLength=this.buffer.byteLength}static wrap(i){return w&&!Buffer.isBuffer(i)&&(i=Buffer.from(i.buffer,i.byteOffset,i.byteLength)),new k(i)}toString(){return w?this.buffer.toString():(C||(C=new TextDecoder),C.decode(this.buffer))}}e.VSBuffer=k;function I(n,i){return n[i+0]<<0>>>0|n[i+1]<<8>>>0}e.readUInt16LE=I;function L(n,i,t){n[t+0]=i&255,i=i>>>8,n[t+1]=i&255}e.writeUInt16LE=L;function b(n,i){return n[i]*Math.pow(2,24)+n[i+1]*Math.pow(2,16)+n[i+2]*Math.pow(2,8)+n[i+3]}e.readUInt32BE=b;function v(n,i,t){n[t+3]=i,i=i>>>8,n[t+2]=i,i=i>>>8,n[t+1]=i,i=i>>>8,n[t]=i}e.writeUInt32BE=v;function u(n,i){return n[i]}e.readUInt8=u;function g(n,i,t){n[t]=i}e.writeUInt8=g}),define(re[222],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CachedFunction=e.LRUCachedFunction=void 0;class w{constructor(I){this.fn=I,this.lastCache=void 0,this.lastArgKey=void 0}get(I){const L=JSON.stringify(I);return this.lastArgKey!==L&&(this.lastArgKey=L,this.lastCache=this.fn(I)),this.lastCache}}e.LRUCachedFunction=w;class C{constructor(I){this.fn=I,this._map=new Map}get cachedValues(){return this._map}get(I){if(this._map.has(I))return this._map.get(I);const L=this.fn(I);return this._map.set(I,L),L}}e.CachedFunction=C}),define(re[27],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSSIcon=e.Codicon=e.getCodiconAriaLabel=void 0;function w(I){return I?I.replace(/\$\((.*?)\)/g,(L,b)=>` ${b} `).trim():""}e.getCodiconAriaLabel=w;class C{constructor(L,b,v){this.id=L,this.definition=b,this.description=v,C._allCodicons.push(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}static getAll(){return C._allCodicons}}e.Codicon=C,C._allCodicons=[],C.add=new C("add",{fontCharacter:"\\ea60"}),C.plus=new C("plus",C.add.definition),C.gistNew=new C("gist-new",C.add.definition),C.repoCreate=new C("repo-create",C.add.definition),C.lightbulb=new C("lightbulb",{fontCharacter:"\\ea61"}),C.lightBulb=new C("light-bulb",{fontCharacter:"\\ea61"}),C.repo=new C("repo",{fontCharacter:"\\ea62"}),C.repoDelete=new C("repo-delete",{fontCharacter:"\\ea62"}),C.gistFork=new C("gist-fork",{fontCharacter:"\\ea63"}),C.repoForked=new C("repo-forked",{fontCharacter:"\\ea63"}),C.gitPullRequest=new C("git-pull-request",{fontCharacter:"\\ea64"}),C.gitPullRequestAbandoned=new C("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),C.recordKeys=new C("record-keys",{fontCharacter:"\\ea65"}),C.keyboard=new C("keyboard",{fontCharacter:"\\ea65"}),C.tag=new C("tag",{fontCharacter:"\\ea66"}),C.tagAdd=new C("tag-add",{fontCharacter:"\\ea66"}),C.tagRemove=new C("tag-remove",{fontCharacter:"\\ea66"}),C.person=new C("person",{fontCharacter:"\\ea67"}),C.personFollow=new C("person-follow",{fontCharacter:"\\ea67"}),C.personOutline=new C("person-outline",{fontCharacter:"\\ea67"}),C.personFilled=new C("person-filled",{fontCharacter:"\\ea67"}),C.gitBranch=new C("git-branch",{fontCharacter:"\\ea68"}),C.gitBranchCreate=new C("git-branch-create",{fontCharacter:"\\ea68"}),C.gitBranchDelete=new C("git-branch-delete",{fontCharacter:"\\ea68"}),C.sourceControl=new C("source-control",{fontCharacter:"\\ea68"}),C.mirror=new C("mirror",{fontCharacter:"\\ea69"}),C.mirrorPublic=new C("mirror-public",{fontCharacter:"\\ea69"}),C.star=new C("star",{fontCharacter:"\\ea6a"}),C.starAdd=new C("star-add",{fontCharacter:"\\ea6a"}),C.starDelete=new C("star-delete",{fontCharacter:"\\ea6a"}),C.starEmpty=new C("star-empty",{fontCharacter:"\\ea6a"}),C.comment=new C("comment",{fontCharacter:"\\ea6b"}),C.commentAdd=new C("comment-add",{fontCharacter:"\\ea6b"}),C.alert=new C("alert",{fontCharacter:"\\ea6c"}),C.warning=new C("warning",{fontCharacter:"\\ea6c"}),C.search=new C("search",{fontCharacter:"\\ea6d"}),C.searchSave=new C("search-save",{fontCharacter:"\\ea6d"}),C.logOut=new C("log-out",{fontCharacter:"\\ea6e"}),C.signOut=new C("sign-out",{fontCharacter:"\\ea6e"}),C.logIn=new C("log-in",{fontCharacter:"\\ea6f"}),C.signIn=new C("sign-in",{fontCharacter:"\\ea6f"}),C.eye=new C("eye",{fontCharacter:"\\ea70"}),C.eyeUnwatch=new C("eye-unwatch",{fontCharacter:"\\ea70"}),C.eyeWatch=new C("eye-watch",{fontCharacter:"\\ea70"}),C.circleFilled=new C("circle-filled",{fontCharacter:"\\ea71"}),C.primitiveDot=new C("primitive-dot",{fontCharacter:"\\ea71"}),C.closeDirty=new C("close-dirty",{fontCharacter:"\\ea71"}),C.debugBreakpoint=new C("debug-breakpoint",{fontCharacter:"\\ea71"}),C.debugBreakpointDisabled=new C("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),C.debugHint=new C("debug-hint",{fontCharacter:"\\ea71"}),C.primitiveSquare=new C("primitive-square",{fontCharacter:"\\ea72"}),C.edit=new C("edit",{fontCharacter:"\\ea73"}),C.pencil=new C("pencil",{fontCharacter:"\\ea73"}),C.info=new C("info",{fontCharacter:"\\ea74"}),C.issueOpened=new C("issue-opened",{fontCharacter:"\\ea74"}),C.gistPrivate=new C("gist-private",{fontCharacter:"\\ea75"}),C.gitForkPrivate=new C("git-fork-private",{fontCharacter:"\\ea75"}),C.lock=new C("lock",{fontCharacter:"\\ea75"}),C.mirrorPrivate=new C("mirror-private",{fontCharacter:"\\ea75"}),C.close=new C("close",{fontCharacter:"\\ea76"}),C.removeClose=new C("remove-close",{fontCharacter:"\\ea76"}),C.x=new C("x",{fontCharacter:"\\ea76"}),C.repoSync=new C("repo-sync",{fontCharacter:"\\ea77"}),C.sync=new C("sync",{fontCharacter:"\\ea77"}),C.clone=new C("clone",{fontCharacter:"\\ea78"}),C.desktopDownload=new C("desktop-download",{fontCharacter:"\\ea78"}),C.beaker=new C("beaker",{fontCharacter:"\\ea79"}),C.microscope=new C("microscope",{fontCharacter:"\\ea79"}),C.vm=new C("vm",{fontCharacter:"\\ea7a"}),C.deviceDesktop=new C("device-desktop",{fontCharacter:"\\ea7a"}),C.file=new C("file",{fontCharacter:"\\ea7b"}),C.fileText=new C("file-text",{fontCharacter:"\\ea7b"}),C.more=new C("more",{fontCharacter:"\\ea7c"}),C.ellipsis=new C("ellipsis",{fontCharacter:"\\ea7c"}),C.kebabHorizontal=new C("kebab-horizontal",{fontCharacter:"\\ea7c"}),C.mailReply=new C("mail-reply",{fontCharacter:"\\ea7d"}),C.reply=new C("reply",{fontCharacter:"\\ea7d"}),C.organization=new C("organization",{fontCharacter:"\\ea7e"}),C.organizationFilled=new C("organization-filled",{fontCharacter:"\\ea7e"}),C.organizationOutline=new C("organization-outline",{fontCharacter:"\\ea7e"}),C.newFile=new C("new-file",{fontCharacter:"\\ea7f"}),C.fileAdd=new C("file-add",{fontCharacter:"\\ea7f"}),C.newFolder=new C("new-folder",{fontCharacter:"\\ea80"}),C.fileDirectoryCreate=new C("file-directory-create",{fontCharacter:"\\ea80"}),C.trash=new C("trash",{fontCharacter:"\\ea81"}),C.trashcan=new C("trashcan",{fontCharacter:"\\ea81"}),C.history=new C("history",{fontCharacter:"\\ea82"}),C.clock=new C("clock",{fontCharacter:"\\ea82"}),C.folder=new C("folder",{fontCharacter:"\\ea83"}),C.fileDirectory=new C("file-directory",{fontCharacter:"\\ea83"}),C.symbolFolder=new C("symbol-folder",{fontCharacter:"\\ea83"}),C.logoGithub=new C("logo-github",{fontCharacter:"\\ea84"}),C.markGithub=new C("mark-github",{fontCharacter:"\\ea84"}),C.github=new C("github",{fontCharacter:"\\ea84"}),C.terminal=new C("terminal",{fontCharacter:"\\ea85"}),C.console=new C("console",{fontCharacter:"\\ea85"}),C.repl=new C("repl",{fontCharacter:"\\ea85"}),C.zap=new C("zap",{fontCharacter:"\\ea86"}),C.symbolEvent=new C("symbol-event",{fontCharacter:"\\ea86"}),C.error=new C("error",{fontCharacter:"\\ea87"}),C.stop=new C("stop",{fontCharacter:"\\ea87"}),C.variable=new C("variable",{fontCharacter:"\\ea88"}),C.symbolVariable=new C("symbol-variable",{fontCharacter:"\\ea88"}),C.array=new C("array",{fontCharacter:"\\ea8a"}),C.symbolArray=new C("symbol-array",{fontCharacter:"\\ea8a"}),C.symbolModule=new C("symbol-module",{fontCharacter:"\\ea8b"}),C.symbolPackage=new C("symbol-package",{fontCharacter:"\\ea8b"}),C.symbolNamespace=new C("symbol-namespace",{fontCharacter:"\\ea8b"}),C.symbolObject=new C("symbol-object",{fontCharacter:"\\ea8b"}),C.symbolMethod=new C("symbol-method",{fontCharacter:"\\ea8c"}),C.symbolFunction=new C("symbol-function",{fontCharacter:"\\ea8c"}),C.symbolConstructor=new C("symbol-constructor",{fontCharacter:"\\ea8c"}),C.symbolBoolean=new C("symbol-boolean",{fontCharacter:"\\ea8f"}),C.symbolNull=new C("symbol-null",{fontCharacter:"\\ea8f"}),C.symbolNumeric=new C("symbol-numeric",{fontCharacter:"\\ea90"}),C.symbolNumber=new C("symbol-number",{fontCharacter:"\\ea90"}),C.symbolStructure=new C("symbol-structure",{fontCharacter:"\\ea91"}),C.symbolStruct=new C("symbol-struct",{fontCharacter:"\\ea91"}),C.symbolParameter=new C("symbol-parameter",{fontCharacter:"\\ea92"}),C.symbolTypeParameter=new C("symbol-type-parameter",{fontCharacter:"\\ea92"}),C.symbolKey=new C("symbol-key",{fontCharacter:"\\ea93"}),C.symbolText=new C("symbol-text",{fontCharacter:"\\ea93"}),C.symbolReference=new C("symbol-reference",{fontCharacter:"\\ea94"}),C.goToFile=new C("go-to-file",{fontCharacter:"\\ea94"}),C.symbolEnum=new C("symbol-enum",{fontCharacter:"\\ea95"}),C.symbolValue=new C("symbol-value",{fontCharacter:"\\ea95"}),C.symbolRuler=new C("symbol-ruler",{fontCharacter:"\\ea96"}),C.symbolUnit=new C("symbol-unit",{fontCharacter:"\\ea96"}),C.activateBreakpoints=new C("activate-breakpoints",{fontCharacter:"\\ea97"}),C.archive=new C("archive",{fontCharacter:"\\ea98"}),C.arrowBoth=new C("arrow-both",{fontCharacter:"\\ea99"}),C.arrowDown=new C("arrow-down",{fontCharacter:"\\ea9a"}),C.arrowLeft=new C("arrow-left",{fontCharacter:"\\ea9b"}),C.arrowRight=new C("arrow-right",{fontCharacter:"\\ea9c"}),C.arrowSmallDown=new C("arrow-small-down",{fontCharacter:"\\ea9d"}),C.arrowSmallLeft=new C("arrow-small-left",{fontCharacter:"\\ea9e"}),C.arrowSmallRight=new C("arrow-small-right",{fontCharacter:"\\ea9f"}),C.arrowSmallUp=new C("arrow-small-up",{fontCharacter:"\\eaa0"}),C.arrowUp=new C("arrow-up",{fontCharacter:"\\eaa1"}),C.bell=new C("bell",{fontCharacter:"\\eaa2"}),C.bold=new C("bold",{fontCharacter:"\\eaa3"}),C.book=new C("book",{fontCharacter:"\\eaa4"}),C.bookmark=new C("bookmark",{fontCharacter:"\\eaa5"}),C.debugBreakpointConditionalUnverified=new C("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),C.debugBreakpointConditional=new C("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),C.debugBreakpointConditionalDisabled=new C("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),C.debugBreakpointDataUnverified=new C("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),C.debugBreakpointData=new C("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),C.debugBreakpointDataDisabled=new C("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),C.debugBreakpointLogUnverified=new C("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),C.debugBreakpointLog=new C("debug-breakpoint-log",{fontCharacter:"\\eaab"}),C.debugBreakpointLogDisabled=new C("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),C.briefcase=new C("briefcase",{fontCharacter:"\\eaac"}),C.broadcast=new C("broadcast",{fontCharacter:"\\eaad"}),C.browser=new C("browser",{fontCharacter:"\\eaae"}),C.bug=new C("bug",{fontCharacter:"\\eaaf"}),C.calendar=new C("calendar",{fontCharacter:"\\eab0"}),C.caseSensitive=new C("case-sensitive",{fontCharacter:"\\eab1"}),C.check=new C("check",{fontCharacter:"\\eab2"}),C.checklist=new C("checklist",{fontCharacter:"\\eab3"}),C.chevronDown=new C("chevron-down",{fontCharacter:"\\eab4"}),C.dropDownButton=new C("drop-down-button",C.chevronDown.definition),C.chevronLeft=new C("chevron-left",{fontCharacter:"\\eab5"}),C.chevronRight=new C("chevron-right",{fontCharacter:"\\eab6"}),C.chevronUp=new C("chevron-up",{fontCharacter:"\\eab7"}),C.chromeClose=new C("chrome-close",{fontCharacter:"\\eab8"}),C.chromeMaximize=new C("chrome-maximize",{fontCharacter:"\\eab9"}),C.chromeMinimize=new C("chrome-minimize",{fontCharacter:"\\eaba"}),C.chromeRestore=new C("chrome-restore",{fontCharacter:"\\eabb"}),C.circleOutline=new C("circle-outline",{fontCharacter:"\\eabc"}),C.debugBreakpointUnverified=new C("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),C.circleSlash=new C("circle-slash",{fontCharacter:"\\eabd"}),C.circuitBoard=new C("circuit-board",{fontCharacter:"\\eabe"}),C.clearAll=new C("clear-all",{fontCharacter:"\\eabf"}),C.clippy=new C("clippy",{fontCharacter:"\\eac0"}),C.closeAll=new C("close-all",{fontCharacter:"\\eac1"}),C.cloudDownload=new C("cloud-download",{fontCharacter:"\\eac2"}),C.cloudUpload=new C("cloud-upload",{fontCharacter:"\\eac3"}),C.code=new C("code",{fontCharacter:"\\eac4"}),C.collapseAll=new C("collapse-all",{fontCharacter:"\\eac5"}),C.colorMode=new C("color-mode",{fontCharacter:"\\eac6"}),C.commentDiscussion=new C("comment-discussion",{fontCharacter:"\\eac7"}),C.compareChanges=new C("compare-changes",{fontCharacter:"\\eafd"}),C.creditCard=new C("credit-card",{fontCharacter:"\\eac9"}),C.dash=new C("dash",{fontCharacter:"\\eacc"}),C.dashboard=new C("dashboard",{fontCharacter:"\\eacd"}),C.database=new C("database",{fontCharacter:"\\eace"}),C.debugContinue=new C("debug-continue",{fontCharacter:"\\eacf"}),C.debugDisconnect=new C("debug-disconnect",{fontCharacter:"\\ead0"}),C.debugPause=new C("debug-pause",{fontCharacter:"\\ead1"}),C.debugRestart=new C("debug-restart",{fontCharacter:"\\ead2"}),C.debugStart=new C("debug-start",{fontCharacter:"\\ead3"}),C.debugStepInto=new C("debug-step-into",{fontCharacter:"\\ead4"}),C.debugStepOut=new C("debug-step-out",{fontCharacter:"\\ead5"}),C.debugStepOver=new C("debug-step-over",{fontCharacter:"\\ead6"}),C.debugStop=new C("debug-stop",{fontCharacter:"\\ead7"}),C.debug=new C("debug",{fontCharacter:"\\ead8"}),C.deviceCameraVideo=new C("device-camera-video",{fontCharacter:"\\ead9"}),C.deviceCamera=new C("device-camera",{fontCharacter:"\\eada"}),C.deviceMobile=new C("device-mobile",{fontCharacter:"\\eadb"}),C.diffAdded=new C("diff-added",{fontCharacter:"\\eadc"}),C.diffIgnored=new C("diff-ignored",{fontCharacter:"\\eadd"}),C.diffModified=new C("diff-modified",{fontCharacter:"\\eade"}),C.diffRemoved=new C("diff-removed",{fontCharacter:"\\eadf"}),C.diffRenamed=new C("diff-renamed",{fontCharacter:"\\eae0"}),C.diff=new C("diff",{fontCharacter:"\\eae1"}),C.discard=new C("discard",{fontCharacter:"\\eae2"}),C.editorLayout=new C("editor-layout",{fontCharacter:"\\eae3"}),C.emptyWindow=new C("empty-window",{fontCharacter:"\\eae4"}),C.exclude=new C("exclude",{fontCharacter:"\\eae5"}),C.extensions=new C("extensions",{fontCharacter:"\\eae6"}),C.eyeClosed=new C("eye-closed",{fontCharacter:"\\eae7"}),C.fileBinary=new C("file-binary",{fontCharacter:"\\eae8"}),C.fileCode=new C("file-code",{fontCharacter:"\\eae9"}),C.fileMedia=new C("file-media",{fontCharacter:"\\eaea"}),C.filePdf=new C("file-pdf",{fontCharacter:"\\eaeb"}),C.fileSubmodule=new C("file-submodule",{fontCharacter:"\\eaec"}),C.fileSymlinkDirectory=new C("file-symlink-directory",{fontCharacter:"\\eaed"}),C.fileSymlinkFile=new C("file-symlink-file",{fontCharacter:"\\eaee"}),C.fileZip=new C("file-zip",{fontCharacter:"\\eaef"}),C.files=new C("files",{fontCharacter:"\\eaf0"}),C.filter=new C("filter",{fontCharacter:"\\eaf1"}),C.flame=new C("flame",{fontCharacter:"\\eaf2"}),C.foldDown=new C("fold-down",{fontCharacter:"\\eaf3"}),C.foldUp=new C("fold-up",{fontCharacter:"\\eaf4"}),C.fold=new C("fold",{fontCharacter:"\\eaf5"}),C.folderActive=new C("folder-active",{fontCharacter:"\\eaf6"}),C.folderOpened=new C("folder-opened",{fontCharacter:"\\eaf7"}),C.gear=new C("gear",{fontCharacter:"\\eaf8"}),C.gift=new C("gift",{fontCharacter:"\\eaf9"}),C.gistSecret=new C("gist-secret",{fontCharacter:"\\eafa"}),C.gist=new C("gist",{fontCharacter:"\\eafb"}),C.gitCommit=new C("git-commit",{fontCharacter:"\\eafc"}),C.gitCompare=new C("git-compare",{fontCharacter:"\\eafd"}),C.gitMerge=new C("git-merge",{fontCharacter:"\\eafe"}),C.githubAction=new C("github-action",{fontCharacter:"\\eaff"}),C.githubAlt=new C("github-alt",{fontCharacter:"\\eb00"}),C.globe=new C("globe",{fontCharacter:"\\eb01"}),C.grabber=new C("grabber",{fontCharacter:"\\eb02"}),C.graph=new C("graph",{fontCharacter:"\\eb03"}),C.gripper=new C("gripper",{fontCharacter:"\\eb04"}),C.heart=new C("heart",{fontCharacter:"\\eb05"}),C.home=new C("home",{fontCharacter:"\\eb06"}),C.horizontalRule=new C("horizontal-rule",{fontCharacter:"\\eb07"}),C.hubot=new C("hubot",{fontCharacter:"\\eb08"}),C.inbox=new C("inbox",{fontCharacter:"\\eb09"}),C.issueClosed=new C("issue-closed",{fontCharacter:"\\eba4"}),C.issueReopened=new C("issue-reopened",{fontCharacter:"\\eb0b"}),C.issues=new C("issues",{fontCharacter:"\\eb0c"}),C.italic=new C("italic",{fontCharacter:"\\eb0d"}),C.jersey=new C("jersey",{fontCharacter:"\\eb0e"}),C.json=new C("json",{fontCharacter:"\\eb0f"}),C.kebabVertical=new C("kebab-vertical",{fontCharacter:"\\eb10"}),C.key=new C("key",{fontCharacter:"\\eb11"}),C.law=new C("law",{fontCharacter:"\\eb12"}),C.lightbulbAutofix=new C("lightbulb-autofix",{fontCharacter:"\\eb13"}),C.linkExternal=new C("link-external",{fontCharacter:"\\eb14"}),C.link=new C("link",{fontCharacter:"\\eb15"}),C.listOrdered=new C("list-ordered",{fontCharacter:"\\eb16"}),C.listUnordered=new C("list-unordered",{fontCharacter:"\\eb17"}),C.liveShare=new C("live-share",{fontCharacter:"\\eb18"}),C.loading=new C("loading",{fontCharacter:"\\eb19"}),C.location=new C("location",{fontCharacter:"\\eb1a"}),C.mailRead=new C("mail-read",{fontCharacter:"\\eb1b"}),C.mail=new C("mail",{fontCharacter:"\\eb1c"}),C.markdown=new C("markdown",{fontCharacter:"\\eb1d"}),C.megaphone=new C("megaphone",{fontCharacter:"\\eb1e"}),C.mention=new C("mention",{fontCharacter:"\\eb1f"}),C.milestone=new C("milestone",{fontCharacter:"\\eb20"}),C.mortarBoard=new C("mortar-board",{fontCharacter:"\\eb21"}),C.move=new C("move",{fontCharacter:"\\eb22"}),C.multipleWindows=new C("multiple-windows",{fontCharacter:"\\eb23"}),C.mute=new C("mute",{fontCharacter:"\\eb24"}),C.noNewline=new C("no-newline",{fontCharacter:"\\eb25"}),C.note=new C("note",{fontCharacter:"\\eb26"}),C.octoface=new C("octoface",{fontCharacter:"\\eb27"}),C.openPreview=new C("open-preview",{fontCharacter:"\\eb28"}),C.package_=new C("package",{fontCharacter:"\\eb29"}),C.paintcan=new C("paintcan",{fontCharacter:"\\eb2a"}),C.pin=new C("pin",{fontCharacter:"\\eb2b"}),C.play=new C("play",{fontCharacter:"\\eb2c"}),C.run=new C("run",{fontCharacter:"\\eb2c"}),C.plug=new C("plug",{fontCharacter:"\\eb2d"}),C.preserveCase=new C("preserve-case",{fontCharacter:"\\eb2e"}),C.preview=new C("preview",{fontCharacter:"\\eb2f"}),C.project=new C("project",{fontCharacter:"\\eb30"}),C.pulse=new C("pulse",{fontCharacter:"\\eb31"}),C.question=new C("question",{fontCharacter:"\\eb32"}),C.quote=new C("quote",{fontCharacter:"\\eb33"}),C.radioTower=new C("radio-tower",{fontCharacter:"\\eb34"}),C.reactions=new C("reactions",{fontCharacter:"\\eb35"}),C.references=new C("references",{fontCharacter:"\\eb36"}),C.refresh=new C("refresh",{fontCharacter:"\\eb37"}),C.regex=new C("regex",{fontCharacter:"\\eb38"}),C.remoteExplorer=new C("remote-explorer",{fontCharacter:"\\eb39"}),C.remote=new C("remote",{fontCharacter:"\\eb3a"}),C.remove=new C("remove",{fontCharacter:"\\eb3b"}),C.replaceAll=new C("replace-all",{fontCharacter:"\\eb3c"}),C.replace=new C("replace",{fontCharacter:"\\eb3d"}),C.repoClone=new C("repo-clone",{fontCharacter:"\\eb3e"}),C.repoForcePush=new C("repo-force-push",{fontCharacter:"\\eb3f"}),C.repoPull=new C("repo-pull",{fontCharacter:"\\eb40"}),C.repoPush=new C("repo-push",{fontCharacter:"\\eb41"}),C.report=new C("report",{fontCharacter:"\\eb42"}),C.requestChanges=new C("request-changes",{fontCharacter:"\\eb43"}),C.rocket=new C("rocket",{fontCharacter:"\\eb44"}),C.rootFolderOpened=new C("root-folder-opened",{fontCharacter:"\\eb45"}),C.rootFolder=new C("root-folder",{fontCharacter:"\\eb46"}),C.rss=new C("rss",{fontCharacter:"\\eb47"}),C.ruby=new C("ruby",{fontCharacter:"\\eb48"}),C.saveAll=new C("save-all",{fontCharacter:"\\eb49"}),C.saveAs=new C("save-as",{fontCharacter:"\\eb4a"}),C.save=new C("save",{fontCharacter:"\\eb4b"}),C.screenFull=new C("screen-full",{fontCharacter:"\\eb4c"}),C.screenNormal=new C("screen-normal",{fontCharacter:"\\eb4d"}),C.searchStop=new C("search-stop",{fontCharacter:"\\eb4e"}),C.server=new C("server",{fontCharacter:"\\eb50"}),C.settingsGear=new C("settings-gear",{fontCharacter:"\\eb51"}),C.settings=new C("settings",{fontCharacter:"\\eb52"}),C.shield=new C("shield",{fontCharacter:"\\eb53"}),C.smiley=new C("smiley",{fontCharacter:"\\eb54"}),C.sortPrecedence=new C("sort-precedence",{fontCharacter:"\\eb55"}),C.splitHorizontal=new C("split-horizontal",{fontCharacter:"\\eb56"}),C.splitVertical=new C("split-vertical",{fontCharacter:"\\eb57"}),C.squirrel=new C("squirrel",{fontCharacter:"\\eb58"}),C.starFull=new C("star-full",{fontCharacter:"\\eb59"}),C.starHalf=new C("star-half",{fontCharacter:"\\eb5a"}),C.symbolClass=new C("symbol-class",{fontCharacter:"\\eb5b"}),C.symbolColor=new C("symbol-color",{fontCharacter:"\\eb5c"}),C.symbolCustomColor=new C("symbol-customcolor",{fontCharacter:"\\eb5c"}),C.symbolConstant=new C("symbol-constant",{fontCharacter:"\\eb5d"}),C.symbolEnumMember=new C("symbol-enum-member",{fontCharacter:"\\eb5e"}),C.symbolField=new C("symbol-field",{fontCharacter:"\\eb5f"}),C.symbolFile=new C("symbol-file",{fontCharacter:"\\eb60"}),C.symbolInterface=new C("symbol-interface",{fontCharacter:"\\eb61"}),C.symbolKeyword=new C("symbol-keyword",{fontCharacter:"\\eb62"}),C.symbolMisc=new C("symbol-misc",{fontCharacter:"\\eb63"}),C.symbolOperator=new C("symbol-operator",{fontCharacter:"\\eb64"}),C.symbolProperty=new C("symbol-property",{fontCharacter:"\\eb65"}),C.wrench=new C("wrench",{fontCharacter:"\\eb65"}),C.wrenchSubaction=new C("wrench-subaction",{fontCharacter:"\\eb65"}),C.symbolSnippet=new C("symbol-snippet",{fontCharacter:"\\eb66"}),C.tasklist=new C("tasklist",{fontCharacter:"\\eb67"}),C.telescope=new C("telescope",{fontCharacter:"\\eb68"}),C.textSize=new C("text-size",{fontCharacter:"\\eb69"}),C.threeBars=new C("three-bars",{fontCharacter:"\\eb6a"}),C.thumbsdown=new C("thumbsdown",{fontCharacter:"\\eb6b"}),C.thumbsup=new C("thumbsup",{fontCharacter:"\\eb6c"}),C.tools=new C("tools",{fontCharacter:"\\eb6d"}),C.triangleDown=new C("triangle-down",{fontCharacter:"\\eb6e"}),C.triangleLeft=new C("triangle-left",{fontCharacter:"\\eb6f"}),C.triangleRight=new C("triangle-right",{fontCharacter:"\\eb70"}),C.triangleUp=new C("triangle-up",{fontCharacter:"\\eb71"}),C.twitter=new C("twitter",{fontCharacter:"\\eb72"}),C.unfold=new C("unfold",{fontCharacter:"\\eb73"}),C.unlock=new C("unlock",{fontCharacter:"\\eb74"}),C.unmute=new C("unmute",{fontCharacter:"\\eb75"}),C.unverified=new C("unverified",{fontCharacter:"\\eb76"}),C.verified=new C("verified",{fontCharacter:"\\eb77"}),C.versions=new C("versions",{fontCharacter:"\\eb78"}),C.vmActive=new C("vm-active",{fontCharacter:"\\eb79"}),C.vmOutline=new C("vm-outline",{fontCharacter:"\\eb7a"}),C.vmRunning=new C("vm-running",{fontCharacter:"\\eb7b"}),C.watch=new C("watch",{fontCharacter:"\\eb7c"}),C.whitespace=new C("whitespace",{fontCharacter:"\\eb7d"}),C.wholeWord=new C("whole-word",{fontCharacter:"\\eb7e"}),C.window=new C("window",{fontCharacter:"\\eb7f"}),C.wordWrap=new C("word-wrap",{fontCharacter:"\\eb80"}),C.zoomIn=new C("zoom-in",{fontCharacter:"\\eb81"}),C.zoomOut=new C("zoom-out",{fontCharacter:"\\eb82"}),C.listFilter=new C("list-filter",{fontCharacter:"\\eb83"}),C.listFlat=new C("list-flat",{fontCharacter:"\\eb84"}),C.listSelection=new C("list-selection",{fontCharacter:"\\eb85"}),C.selection=new C("selection",{fontCharacter:"\\eb85"}),C.listTree=new C("list-tree",{fontCharacter:"\\eb86"}),C.debugBreakpointFunctionUnverified=new C("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),C.debugBreakpointFunction=new C("debug-breakpoint-function",{fontCharacter:"\\eb88"}),C.debugBreakpointFunctionDisabled=new C("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),C.debugStackframeActive=new C("debug-stackframe-active",{fontCharacter:"\\eb89"}),C.circleSmallFilled=new C("circle-small-filled",{fontCharacter:"\\eb8a"}),C.debugStackframeDot=new C("debug-stackframe-dot",C.circleSmallFilled.definition),C.debugStackframe=new C("debug-stackframe",{fontCharacter:"\\eb8b"}),C.debugStackframeFocused=new C("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),C.debugBreakpointUnsupported=new C("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),C.symbolString=new C("symbol-string",{fontCharacter:"\\eb8d"}),C.debugReverseContinue=new C("debug-reverse-continue",{fontCharacter:"\\eb8e"}),C.debugStepBack=new C("debug-step-back",{fontCharacter:"\\eb8f"}),C.debugRestartFrame=new C("debug-restart-frame",{fontCharacter:"\\eb90"}),C.callIncoming=new C("call-incoming",{fontCharacter:"\\eb92"}),C.callOutgoing=new C("call-outgoing",{fontCharacter:"\\eb93"}),C.menu=new C("menu",{fontCharacter:"\\eb94"}),C.expandAll=new C("expand-all",{fontCharacter:"\\eb95"}),C.feedback=new C("feedback",{fontCharacter:"\\eb96"}),C.groupByRefType=new C("group-by-ref-type",{fontCharacter:"\\eb97"}),C.ungroupByRefType=new C("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),C.account=new C("account",{fontCharacter:"\\eb99"}),C.bellDot=new C("bell-dot",{fontCharacter:"\\eb9a"}),C.debugConsole=new C("debug-console",{fontCharacter:"\\eb9b"}),C.library=new C("library",{fontCharacter:"\\eb9c"}),C.output=new C("output",{fontCharacter:"\\eb9d"}),C.runAll=new C("run-all",{fontCharacter:"\\eb9e"}),C.syncIgnored=new C("sync-ignored",{fontCharacter:"\\eb9f"}),C.pinned=new C("pinned",{fontCharacter:"\\eba0"}),C.githubInverted=new C("github-inverted",{fontCharacter:"\\eba1"}),C.debugAlt=new C("debug-alt",{fontCharacter:"\\eb91"}),C.serverProcess=new C("server-process",{fontCharacter:"\\eba2"}),C.serverEnvironment=new C("server-environment",{fontCharacter:"\\eba3"}),C.pass=new C("pass",{fontCharacter:"\\eba4"}),C.stopCircle=new C("stop-circle",{fontCharacter:"\\eba5"}),C.playCircle=new C("play-circle",{fontCharacter:"\\eba6"}),C.record=new C("record",{fontCharacter:"\\eba7"}),C.debugAltSmall=new C("debug-alt-small",{fontCharacter:"\\eba8"}),C.vmConnect=new C("vm-connect",{fontCharacter:"\\eba9"}),C.cloud=new C("cloud",{fontCharacter:"\\ebaa"}),C.merge=new C("merge",{fontCharacter:"\\ebab"}),C.exportIcon=new C("export",{fontCharacter:"\\ebac"}),C.graphLeft=new C("graph-left",{fontCharacter:"\\ebad"}),C.magnet=new C("magnet",{fontCharacter:"\\ebae"}),C.notebook=new C("notebook",{fontCharacter:"\\ebaf"}),C.redo=new C("redo",{fontCharacter:"\\ebb0"}),C.checkAll=new C("check-all",{fontCharacter:"\\ebb1"}),C.pinnedDirty=new C("pinned-dirty",{fontCharacter:"\\ebb2"}),C.passFilled=new C("pass-filled",{fontCharacter:"\\ebb3"}),C.circleLargeFilled=new C("circle-large-filled",{fontCharacter:"\\ebb4"}),C.circleLargeOutline=new C("circle-large-outline",{fontCharacter:"\\ebb5"}),C.combine=new C("combine",{fontCharacter:"\\ebb6"}),C.gather=new C("gather",{fontCharacter:"\\ebb6"}),C.table=new C("table",{fontCharacter:"\\ebb7"}),C.variableGroup=new C("variable-group",{fontCharacter:"\\ebb8"}),C.typeHierarchy=new C("type-hierarchy",{fontCharacter:"\\ebb9"}),C.typeHierarchySub=new C("type-hierarchy-sub",{fontCharacter:"\\ebba"}),C.typeHierarchySuper=new C("type-hierarchy-super",{fontCharacter:"\\ebbb"}),C.gitPullRequestCreate=new C("git-pull-request-create",{fontCharacter:"\\ebbc"}),C.runAbove=new C("run-above",{fontCharacter:"\\ebbd"}),C.runBelow=new C("run-below",{fontCharacter:"\\ebbe"}),C.notebookTemplate=new C("notebook-template",{fontCharacter:"\\ebbf"}),C.debugRerun=new C("debug-rerun",{fontCharacter:"\\ebc0"}),C.workspaceTrusted=new C("workspace-trusted",{fontCharacter:"\\ebc1"}),C.workspaceUntrusted=new C("workspace-untrusted",{fontCharacter:"\\ebc2"}),C.workspaceUnspecified=new C("workspace-unspecified",{fontCharacter:"\\ebc3"}),C.terminalCmd=new C("terminal-cmd",{fontCharacter:"\\ebc4"}),C.terminalDebian=new C("terminal-debian",{fontCharacter:"\\ebc5"}),C.terminalLinux=new C("terminal-linux",{fontCharacter:"\\ebc6"}),C.terminalPowershell=new C("terminal-powershell",{fontCharacter:"\\ebc7"}),C.terminalTmux=new C("terminal-tmux",{fontCharacter:"\\ebc8"}),C.terminalUbuntu=new C("terminal-ubuntu",{fontCharacter:"\\ebc9"}),C.terminalBash=new C("terminal-bash",{fontCharacter:"\\ebca"}),C.arrowSwap=new C("arrow-swap",{fontCharacter:"\\ebcb"}),C.copy=new C("copy",{fontCharacter:"\\ebcc"}),C.personAdd=new C("person-add",{fontCharacter:"\\ebcd"}),C.filterFilled=new C("filter-filled",{fontCharacter:"\\ebce"}),C.wand=new C("wand",{fontCharacter:"\\ebcf"}),C.debugLineByLine=new C("debug-line-by-line",{fontCharacter:"\\ebd0"}),C.inspect=new C("inspect",{fontCharacter:"\\ebd1"}),C.layers=new C("layers",{fontCharacter:"\\ebd2"}),C.layersDot=new C("layers-dot",{fontCharacter:"\\ebd3"}),C.layersActive=new C("layers-active",{fontCharacter:"\\ebd4"}),C.compass=new C("compass",{fontCharacter:"\\ebd5"}),C.compassDot=new C("compass-dot",{fontCharacter:"\\ebd6"}),C.compassActive=new C("compass-active",{fontCharacter:"\\ebd7"}),C.azure=new C("azure",{fontCharacter:"\\ebd8"}),C.issueDraft=new C("issue-draft",{fontCharacter:"\\ebd9"}),C.gitPullRequestClosed=new C("git-pull-request-closed",{fontCharacter:"\\ebda"}),C.gitPullRequestDraft=new C("git-pull-request-draft",{fontCharacter:"\\ebdb"}),C.debugAll=new C("debug-all",{fontCharacter:"\\ebdc"}),C.debugCoverage=new C("debug-coverage",{fontCharacter:"\\ebdd"}),C.runErrors=new C("run-errors",{fontCharacter:"\\ebde"}),C.folderLibrary=new C("folder-library",{fontCharacter:"\\ebdf"}),C.debugContinueSmall=new C("debug-continue-small",{fontCharacter:"\\ebe0"}),C.beakerStop=new C("beaker-stop",{fontCharacter:"\\ebe1"}),C.graphLine=new C("graph-line",{fontCharacter:"\\ebe2"}),C.graphScatter=new C("graph-scatter",{fontCharacter:"\\ebe3"}),C.pieChart=new C("pie-chart",{fontCharacter:"\\ebe4"}),C.bracket=new C("bracket",C.json.definition),C.bracketDot=new C("bracket-dot",{fontCharacter:"\\ebe5"}),C.bracketError=new C("bracket-error",{fontCharacter:"\\ebe6"}),C.lockSmall=new C("lock-small",{fontCharacter:"\\ebe7"}),C.azureDevops=new C("azure-devops",{fontCharacter:"\\ebe8"}),C.verifiedFilled=new C("verified-filled",{fontCharacter:"\\ebe9"}),C.newLine=new C("newline",{fontCharacter:"\\ebea"}),C.layout=new C("layout",{fontCharacter:"\\ebeb"}),C.layoutActivitybarLeft=new C("layout-activitybar-left",{fontCharacter:"\\ebec"}),C.layoutActivitybarRight=new C("layout-activitybar-right",{fontCharacter:"\\ebed"}),C.layoutPanelLeft=new C("layout-panel-left",{fontCharacter:"\\ebee"}),C.layoutPanelCenter=new C("layout-panel-center",{fontCharacter:"\\ebef"}),C.layoutPanelJustify=new C("layout-panel-justify",{fontCharacter:"\\ebf0"}),C.layoutPanelRight=new C("layout-panel-right",{fontCharacter:"\\ebf1"}),C.layoutPanel=new C("layout-panel",{fontCharacter:"\\ebf2"}),C.layoutSidebarLeft=new C("layout-sidebar-left",{fontCharacter:"\\ebf3"}),C.layoutSidebarRight=new C("layout-sidebar-right",{fontCharacter:"\\ebf4"}),C.layoutStatusbar=new C("layout-statusbar",{fontCharacter:"\\ebf5"}),C.layoutMenubar=new C("layout-menubar",{fontCharacter:"\\ebf6"}),C.layoutCentered=new C("layout-centered",{fontCharacter:"\\ebf7"}),C.layoutSidebarRightOff=new C("layout-sidebar-right-off",{fontCharacter:"\\ec00"}),C.layoutPanelOff=new C("layout-panel-off",{fontCharacter:"\\ec01"}),C.layoutSidebarLeftOff=new C("layout-sidebar-left-off",{fontCharacter:"\\ec02"}),C.target=new C("target",{fontCharacter:"\\ebf8"}),C.indent=new C("indent",{fontCharacter:"\\ebf9"}),C.recordSmall=new C("record-small",{fontCharacter:"\\ebfa"}),C.errorSmall=new C("error-small",{fontCharacter:"\\ebfb"}),C.arrowCircleDown=new C("arrow-circle-down",{fontCharacter:"\\ebfc"}),C.arrowCircleLeft=new C("arrow-circle-left",{fontCharacter:"\\ebfd"}),C.arrowCircleRight=new C("arrow-circle-right",{fontCharacter:"\\ebfe"}),C.arrowCircleUp=new C("arrow-circle-up",{fontCharacter:"\\ebff"}),C.heartFilled=new C("heart-filled",{fontCharacter:"\\ec04"}),C.map=new C("map",{fontCharacter:"\\ec05"}),C.mapFilled=new C("map-filled",{fontCharacter:"\\ec06"}),C.circleSmall=new C("circle-small",{fontCharacter:"\\ec07"}),C.bellSlash=new C("bell-slash",{fontCharacter:"\\ec08"}),C.bellSlashDot=new C("bell-slash-dot",{fontCharacter:"\\ec09"}),C.commentUnresolved=new C("comment-unresolved",{fontCharacter:"\\ec0a"}),C.gitPullRequestGoToChanges=new C("git-pull-request-go-to-changes",{fontCharacter:"\\ec0b"}),C.gitPullRequestNewChanges=new C("git-pull-request-new-changes",{fontCharacter:"\\ec0c"}),C.dialogError=new C("dialog-error",C.error.definition),C.dialogWarning=new C("dialog-warning",C.warning.definition),C.dialogInfo=new C("dialog-info",C.info.definition),C.dialogClose=new C("dialog-close",C.close.definition),C.treeItemExpanded=new C("tree-item-expanded",C.chevronDown.definition),C.treeFilterOnTypeOn=new C("tree-filter-on-type-on",C.listFilter.definition),C.treeFilterOnTypeOff=new C("tree-filter-on-type-off",C.listSelection.definition),C.treeFilterClear=new C("tree-filter-clear",C.close.definition),C.treeItemLoading=new C("tree-item-loading",C.loading.definition),C.menuSelection=new C("menu-selection",C.check.definition),C.menuSubmenu=new C("menu-submenu",C.chevronRight.definition),C.menuBarMore=new C("menubar-more",C.more.definition),C.scrollbarButtonLeft=new C("scrollbar-button-left",C.triangleLeft.definition),C.scrollbarButtonRight=new C("scrollbar-button-right",C.triangleRight.definition),C.scrollbarButtonUp=new C("scrollbar-button-up",C.triangleUp.definition),C.scrollbarButtonDown=new C("scrollbar-button-down",C.triangleDown.definition),C.toolBarMore=new C("toolbar-more",C.more.definition),C.quickInputBack=new C("quick-input-back",C.arrowLeft.definition);var k;(function(I){I.iconNameSegment="[A-Za-z0-9]+",I.iconNameExpression="[A-Za-z0-9-]+",I.iconModifierExpression="~[A-Za-z]+",I.iconNameCharacter="[A-Za-z0-9~-]";const L=new RegExp(`^(${I.iconNameExpression})(${I.iconModifierExpression})?$`);function b(g){if(g instanceof C)return["codicon","codicon-"+g.id];const n=L.exec(g.id);if(!n)return b(C.error);const[,i,t]=n,r=["codicon","codicon-"+i];return t&&r.push("codicon-modifier-"+t.substr(1)),r}I.asClassNameArray=b;function v(g){return b(g).join(" ")}I.asClassName=v;function u(g){return"."+b(g).join(".")}I.asCSSSelector=u})(k=e.CSSIcon||(e.CSSIcon={}))}),define(re[327],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=void 0;class w{constructor(){this.map=new Map}add(k,I){let L=this.map.get(k);L||(L=new Set,this.map.set(k,L)),L.add(I)}delete(k,I){const L=this.map.get(k);!L||(L.delete(I),L.size===0&&this.map.delete(k))}forEach(k,I){const L=this.map.get(k);!L||L.forEach(I)}}e.SetMap=w}),define(re[31],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function w(b,v){const u=Math.pow(10,v);return Math.round(b*u)/u}class C{constructor(v,u,g,n=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,v))|0,this.g=Math.min(255,Math.max(0,u))|0,this.b=Math.min(255,Math.max(0,g))|0,this.a=w(Math.max(Math.min(1,n),0),3)}static equals(v,u){return v.r===u.r&&v.g===u.g&&v.b===u.b&&v.a===u.a}}e.RGBA=C;class k{constructor(v,u,g,n){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,v),0)|0,this.s=w(Math.max(Math.min(1,u),0),3),this.l=w(Math.max(Math.min(1,g),0),3),this.a=w(Math.max(Math.min(1,n),0),3)}static equals(v,u){return v.h===u.h&&v.s===u.s&&v.l===u.l&&v.a===u.a}static fromRGBA(v){const u=v.r/255,g=v.g/255,n=v.b/255,i=v.a,t=Math.max(u,g,n),r=Math.min(u,g,n);let l=0,d=0;const a=(r+t)/2,s=t-r;if(s>0){switch(d=Math.min(a<=.5?s/(2*a):s/(2-2*a),1),t){case u:l=(g-n)/s+(g<n?6:0);break;case g:l=(n-u)/s+2;break;case n:l=(u-g)/s+4;break}l*=60,l=Math.round(l)}return new k(l,d,a,i)}static _hue2rgb(v,u,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?v+(u-v)*6*g:g<1/2?u:g<2/3?v+(u-v)*(2/3-g)*6:v}static toRGBA(v){const u=v.h/360,{s:g,l:n,a:i}=v;let t,r,l;if(g===0)t=r=l=n;else{const d=n<.5?n*(1+g):n+g-n*g,a=2*n-d;t=k._hue2rgb(a,d,u+1/3),r=k._hue2rgb(a,d,u),l=k._hue2rgb(a,d,u-1/3)}return new C(Math.round(t*255),Math.round(r*255),Math.round(l*255),i)}}e.HSLA=k;class I{constructor(v,u,g,n){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,v),0)|0,this.s=w(Math.max(Math.min(1,u),0),3),this.v=w(Math.max(Math.min(1,g),0),3),this.a=w(Math.max(Math.min(1,n),0),3)}static equals(v,u){return v.h===u.h&&v.s===u.s&&v.v===u.v&&v.a===u.a}static fromRGBA(v){const u=v.r/255,g=v.g/255,n=v.b/255,i=Math.max(u,g,n),t=Math.min(u,g,n),r=i-t,l=i===0?0:r/i;let d;return r===0?d=0:i===u?d=((g-n)/r%6+6)%6:i===g?d=(n-u)/r+2:d=(u-g)/r+4,new I(Math.round(d*60),l,i,v.a)}static toRGBA(v){const{h:u,s:g,v:n,a:i}=v,t=n*g,r=t*(1-Math.abs(u/60%2-1)),l=n-t;let[d,a,s]=[0,0,0];return u<60?(d=t,a=r):u<120?(d=r,a=t):u<180?(a=t,s=r):u<240?(a=r,s=t):u<300?(d=r,s=t):u<=360&&(d=t,s=r),d=Math.round((d+l)*255),a=Math.round((a+l)*255),s=Math.round((s+l)*255),new C(d,a,s,i)}}e.HSVA=I;class L{constructor(v){if(v)if(v instanceof C)this.rgba=v;else if(v instanceof k)this._hsla=v,this.rgba=k.toRGBA(v);else if(v instanceof I)this._hsva=v,this.rgba=I.toRGBA(v);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(v){return L.Format.CSS.parseHex(v)||L.red}get hsla(){return this._hsla?this._hsla:k.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:I.fromRGBA(this.rgba)}equals(v){return!!v&&C.equals(this.rgba,v.rgba)&&k.equals(this.hsla,v.hsla)&&I.equals(this.hsva,v.hsva)}getRelativeLuminance(){const v=L._relativeLuminanceForComponent(this.rgba.r),u=L._relativeLuminanceForComponent(this.rgba.g),g=L._relativeLuminanceForComponent(this.rgba.b),n=.2126*v+.7152*u+.0722*g;return w(n,4)}static _relativeLuminanceForComponent(v){const u=v/255;return u<=.03928?u/12.92:Math.pow((u+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(v){const u=this.getRelativeLuminance(),g=v.getRelativeLuminance();return u>g}isDarkerThan(v){const u=this.getRelativeLuminance(),g=v.getRelativeLuminance();return u<g}lighten(v){return new L(new k(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*v,this.hsla.a))}darken(v){return new L(new k(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*v,this.hsla.a))}transparent(v){const{r:u,g,b:n,a:i}=this.rgba;return new L(new C(u,g,n,i*v))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new L(new C(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=L.Format.CSS.format(this)),this._toString}static getLighterColor(v,u,g){if(v.isLighterThan(u))return v;g=g||.5;const n=v.getRelativeLuminance(),i=u.getRelativeLuminance();return g=g*(i-n)/i,v.lighten(g)}static getDarkerColor(v,u,g){if(v.isDarkerThan(u))return v;g=g||.5;const n=v.getRelativeLuminance(),i=u.getRelativeLuminance();return g=g*(n-i)/n,v.darken(g)}}e.Color=L,L.white=new L(new C(255,255,255,1)),L.black=new L(new C(0,0,0,1)),L.red=new L(new C(255,0,0,1)),L.blue=new L(new C(0,0,255,1)),L.green=new L(new C(0,255,0,1)),L.cyan=new L(new C(0,255,255,1)),L.lightgrey=new L(new C(211,211,211,1)),L.transparent=new L(new C(0,0,0,0)),function(b){let v;(function(u){let g;(function(n){function i(p){return p.rgba.a===1?`rgb(${p.rgba.r}, ${p.rgba.g}, ${p.rgba.b})`:b.Format.CSS.formatRGBA(p)}n.formatRGB=i;function t(p){return`rgba(${p.rgba.r}, ${p.rgba.g}, ${p.rgba.b}, ${+p.rgba.a.toFixed(2)})`}n.formatRGBA=t;function r(p){return p.hsla.a===1?`hsl(${p.hsla.h}, ${(p.hsla.s*100).toFixed(2)}%, ${(p.hsla.l*100).toFixed(2)}%)`:b.Format.CSS.formatHSLA(p)}n.formatHSL=r;function l(p){return`hsla(${p.hsla.h}, ${(p.hsla.s*100).toFixed(2)}%, ${(p.hsla.l*100).toFixed(2)}%, ${p.hsla.a.toFixed(2)})`}n.formatHSLA=l;function d(p){const _=p.toString(16);return _.length!==2?"0"+_:_}function a(p){return`#${d(p.rgba.r)}${d(p.rgba.g)}${d(p.rgba.b)}`}n.formatHex=a;function s(p,_=!1){return _&&p.rgba.a===1?b.Format.CSS.formatHex(p):`#${d(p.rgba.r)}${d(p.rgba.g)}${d(p.rgba.b)}${d(Math.round(p.rgba.a*255))}`}n.formatHexA=s;function o(p){return p.isOpaque()?b.Format.CSS.formatHex(p):b.Format.CSS.formatRGBA(p)}n.format=o;function c(p){const _=p.length;if(_===0||p.charCodeAt(0)!==35)return null;if(_===7){const m=16*f(p.charCodeAt(1))+f(p.charCodeAt(2)),h=16*f(p.charCodeAt(3))+f(p.charCodeAt(4)),S=16*f(p.charCodeAt(5))+f(p.charCodeAt(6));return new b(new C(m,h,S,1))}if(_===9){const m=16*f(p.charCodeAt(1))+f(p.charCodeAt(2)),h=16*f(p.charCodeAt(3))+f(p.charCodeAt(4)),S=16*f(p.charCodeAt(5))+f(p.charCodeAt(6)),y=16*f(p.charCodeAt(7))+f(p.charCodeAt(8));return new b(new C(m,h,S,y/255))}if(_===4){const m=f(p.charCodeAt(1)),h=f(p.charCodeAt(2)),S=f(p.charCodeAt(3));return new b(new C(16*m+m,16*h+h,16*S+S))}if(_===5){const m=f(p.charCodeAt(1)),h=f(p.charCodeAt(2)),S=f(p.charCodeAt(3)),y=f(p.charCodeAt(4));return new b(new C(16*m+m,16*h+h,16*S+S,(16*y+y)/255))}return null}n.parseHex=c;function f(p){switch(p){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(g=u.CSS||(u.CSS={}))})(v=b.Format||(b.Format={}))}(L=e.Color||(e.Color={}))}),define(re[178],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VSDataTransfer=e.createFileDataTransferItem=e.createStringDataTransferItem=void 0;function w(I){return{asString:()=>Se(this,void 0,void 0,function*(){return I}),asFile:()=>{},value:typeof I=="string"?I:void 0}}e.createStringDataTransferItem=w;function C(I,L,b){return{asString:()=>Se(this,void 0,void 0,function*(){return""}),asFile:()=>({name:I,uri:L,data:b}),value:void 0}}e.createFileDataTransferItem=C;class k{constructor(){this._entries=new Map}get size(){return this._entries.size}has(L){return this._entries.has(this.toKey(L))}get(L){var b;return(b=this._entries.get(this.toKey(L)))===null||b===void 0?void 0:b[0]}append(L,b){const v=this._entries.get(L);v?v.push(b):this._entries.set(this.toKey(L),[b])}replace(L,b){this._entries.set(this.toKey(L),[b])}delete(L){this._entries.delete(this.toKey(L))}*entries(){for(const[L,b]of this._entries.entries())for(const v of b)yield[L,v]}values(){return Array.from(this._entries.values()).flat()}forEach(L){for(const[b,v]of this.entries())L(v,b)}toKey(L){return L.toLowerCase()}}e.VSDataTransfer=k}),define(re[103],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=void 0;function w(C,k,I){let L=null,b=null;if(typeof I.value=="function"?(L="value",b=I.value,b.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof I.get=="function"&&(L="get",b=I.get),!b)throw new Error("not supported");const v=`$memoize$${k}`;I[L]=function(...u){return this.hasOwnProperty(v)||Object.defineProperty(this,v,{configurable:!1,enumerable:!1,writable:!1,value:b.apply(this,u)}),this[v]}}e.memoize=w}),define(re[328],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class w{constructor(k,I,L,b){this.originalStart=k,this.originalLength=I,this.modifiedStart=L,this.modifiedLength=b}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=w}),define(re[14],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BugIndicatingError=e.ErrorNoTelemetry=e.NotSupportedError=e.illegalState=e.illegalArgument=e.canceled=e.CancellationError=e.isCancellationError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.errorHandler=e.ErrorHandler=void 0;class w{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(d){setTimeout(()=>{throw d.stack?t.isErrorNoTelemetry(d)?new t(d.message+`

`+d.stack):new Error(d.message+`

`+d.stack):d},0)}}emit(d){this.listeners.forEach(a=>{a(d)})}onUnexpectedError(d){this.unexpectedErrorHandler(d),this.emit(d)}onUnexpectedExternalError(d){this.unexpectedErrorHandler(d)}}e.ErrorHandler=w,e.errorHandler=new w;function C(l){b(l)||e.errorHandler.onUnexpectedError(l)}e.onUnexpectedError=C;function k(l){b(l)||e.errorHandler.onUnexpectedExternalError(l)}e.onUnexpectedExternalError=k;function I(l){if(l instanceof Error){const{name:d,message:a}=l,s=l.stacktrace||l.stack;return{$isError:!0,name:d,message:a,stack:s,noTelemetry:t.isErrorNoTelemetry(l)}}return l}e.transformErrorForSerialization=I;const L="Canceled";function b(l){return l instanceof v?!0:l instanceof Error&&l.name===L&&l.message===L}e.isCancellationError=b;class v extends Error{constructor(){super(L);this.name=this.message}}e.CancellationError=v;function u(){const l=new Error(L);return l.name=l.message,l}e.canceled=u;function g(l){return l?new Error(`Illegal argument: ${l}`):new Error("Illegal argument")}e.illegalArgument=g;function n(l){return l?new Error(`Illegal state: ${l}`):new Error("Illegal state")}e.illegalState=n;class i extends Error{constructor(d){super("NotSupported");d&&(this.message=d)}}e.NotSupportedError=i;class t extends Error{constructor(d){super(d);this.name="ErrorNoTelemetry"}static fromError(d){if(d instanceof t)return d;const a=new t;return a.message=d.message,a.stack=d.stack,a}static isErrorNoTelemetry(d){return d.name==="ErrorNoTelemetry"}}e.ErrorNoTelemetry=t;class r extends Error{constructor(d){super(d||"An unexpected bug occurred.");Object.setPrototypeOf(this,r.prototype);debugger}}e.BugIndicatingError=r}),define(re[96],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.once=void 0;function w(C){const k=this;let I=!1,L;return function(){return I||(I=!0,L=C.apply(k,arguments)),L}}e.once=w}),define(re[144],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class w{constructor(k){this._prefix=k,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=w,e.defaultGenerator=new w("id#")}),define(re[55],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var w;(function(C){function k(_){return _&&typeof _=="object"&&typeof _[Symbol.iterator]=="function"}C.is=k;const I=Object.freeze([]);function L(){return I}C.empty=L;function*b(_){yield _}C.single=b;function v(_){return _||I}C.from=v;function u(_){return!_||_[Symbol.iterator]().next().done===!0}C.isEmpty=u;function g(_){return _[Symbol.iterator]().next().value}C.first=g;function n(_,m){for(const h of _)if(m(h))return!0;return!1}C.some=n;function i(_,m){for(const h of _)if(m(h))return h}C.find=i;function*t(_,m){for(const h of _)m(h)&&(yield h)}C.filter=t;function*r(_,m){let h=0;for(const S of _)yield m(S,h++)}C.map=r;function*l(..._){for(const m of _)for(const h of m)yield h}C.concat=l;function*d(_){for(const m of _)for(const h of m)yield h}C.concatNested=d;function a(_,m,h){let S=h;for(const y of _)S=m(S,y);return S}C.reduce=a;function s(_,m){let h=0;for(const S of _)m(S,h++)}C.forEach=s;function*o(_,m,h=_.length){for(m<0&&(m+=_.length),h<0?h+=_.length:h>_.length&&(h=_.length);m<h;m++)yield _[m]}C.slice=o;function c(_,m=Number.POSITIVE_INFINITY){const h=[];if(m===0)return[h,_];const S=_[Symbol.iterator]();for(let y=0;y<m;y++){const E=S.next();if(E.done)return[h,C.empty()];h.push(E.value)}return[h,{[Symbol.iterator](){return S}}]}C.consume=c;function f(_){return c(_)[0]}C.collect=f;function p(_,m,h=(S,y)=>S===y){const S=_[Symbol.iterator](),y=m[Symbol.iterator]();for(;;){const E=S.next(),N=y.next();if(E.done!==N.done)return!1;if(E.done)return!0;if(!h(E.value,N.value))return!1}}C.equals=p})(w=e.Iterable||(e.Iterable={}))}),define(re[59],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyChord=e.KeyCodeUtils=e.IMMUTABLE_KEY_CODE_TO_CODE=e.IMMUTABLE_CODE_TO_KEY_CODE=e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE=e.EVENT_KEY_CODE_MAP=void 0;class w{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(i,t){this._keyCodeToStr[i]=t,this._strToKeyCode[t.toLowerCase()]=i}keyCodeToStr(i){return this._keyCodeToStr[i]}strToKeyCode(i){return this._strToKeyCode[i.toLowerCase()]||0}}const C=new w,k=new w,I=new w;e.EVENT_KEY_CODE_MAP=new Array(230),e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE={};const L=[],b=Object.create(null),v=Object.create(null);e.IMMUTABLE_CODE_TO_KEY_CODE=[],e.IMMUTABLE_KEY_CODE_TO_CODE=[];for(let n=0;n<=193;n++)e.IMMUTABLE_CODE_TO_KEY_CODE[n]=-1;for(let n=0;n<=127;n++)e.IMMUTABLE_KEY_CODE_TO_CODE[n]=-1;(function(){const n="",i=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",n,n],[0,1,1,"Hyper",0,n,0,n,n,n],[0,1,2,"Super",0,n,0,n,n,n],[0,1,3,"Fn",0,n,0,n,n,n],[0,1,4,"FnLock",0,n,0,n,n,n],[0,1,5,"Suspend",0,n,0,n,n,n],[0,1,6,"Resume",0,n,0,n,n,n],[0,1,7,"Turbo",0,n,0,n,n,n],[0,1,8,"Sleep",0,n,0,"VK_SLEEP",n,n],[0,1,9,"WakeUp",0,n,0,n,n,n],[31,0,10,"KeyA",31,"A",65,"VK_A",n,n],[32,0,11,"KeyB",32,"B",66,"VK_B",n,n],[33,0,12,"KeyC",33,"C",67,"VK_C",n,n],[34,0,13,"KeyD",34,"D",68,"VK_D",n,n],[35,0,14,"KeyE",35,"E",69,"VK_E",n,n],[36,0,15,"KeyF",36,"F",70,"VK_F",n,n],[37,0,16,"KeyG",37,"G",71,"VK_G",n,n],[38,0,17,"KeyH",38,"H",72,"VK_H",n,n],[39,0,18,"KeyI",39,"I",73,"VK_I",n,n],[40,0,19,"KeyJ",40,"J",74,"VK_J",n,n],[41,0,20,"KeyK",41,"K",75,"VK_K",n,n],[42,0,21,"KeyL",42,"L",76,"VK_L",n,n],[43,0,22,"KeyM",43,"M",77,"VK_M",n,n],[44,0,23,"KeyN",44,"N",78,"VK_N",n,n],[45,0,24,"KeyO",45,"O",79,"VK_O",n,n],[46,0,25,"KeyP",46,"P",80,"VK_P",n,n],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",n,n],[48,0,27,"KeyR",48,"R",82,"VK_R",n,n],[49,0,28,"KeyS",49,"S",83,"VK_S",n,n],[50,0,29,"KeyT",50,"T",84,"VK_T",n,n],[51,0,30,"KeyU",51,"U",85,"VK_U",n,n],[52,0,31,"KeyV",52,"V",86,"VK_V",n,n],[53,0,32,"KeyW",53,"W",87,"VK_W",n,n],[54,0,33,"KeyX",54,"X",88,"VK_X",n,n],[55,0,34,"KeyY",55,"Y",89,"VK_Y",n,n],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",n,n],[22,0,36,"Digit1",22,"1",49,"VK_1",n,n],[23,0,37,"Digit2",23,"2",50,"VK_2",n,n],[24,0,38,"Digit3",24,"3",51,"VK_3",n,n],[25,0,39,"Digit4",25,"4",52,"VK_4",n,n],[26,0,40,"Digit5",26,"5",53,"VK_5",n,n],[27,0,41,"Digit6",27,"6",54,"VK_6",n,n],[28,0,42,"Digit7",28,"7",55,"VK_7",n,n],[29,0,43,"Digit8",29,"8",56,"VK_8",n,n],[30,0,44,"Digit9",30,"9",57,"VK_9",n,n],[21,0,45,"Digit0",21,"0",48,"VK_0",n,n],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",n,n],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",n,n],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",n,n],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",n,n],[10,1,50,"Space",10,"Space",32,"VK_SPACE",n,n],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,n,0,n,n,n],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",n,n],[59,1,64,"F1",59,"F1",112,"VK_F1",n,n],[60,1,65,"F2",60,"F2",113,"VK_F2",n,n],[61,1,66,"F3",61,"F3",114,"VK_F3",n,n],[62,1,67,"F4",62,"F4",115,"VK_F4",n,n],[63,1,68,"F5",63,"F5",116,"VK_F5",n,n],[64,1,69,"F6",64,"F6",117,"VK_F6",n,n],[65,1,70,"F7",65,"F7",118,"VK_F7",n,n],[66,1,71,"F8",66,"F8",119,"VK_F8",n,n],[67,1,72,"F9",67,"F9",120,"VK_F9",n,n],[68,1,73,"F10",68,"F10",121,"VK_F10",n,n],[69,1,74,"F11",69,"F11",122,"VK_F11",n,n],[70,1,75,"F12",70,"F12",123,"VK_F12",n,n],[0,1,76,"PrintScreen",0,n,0,n,n,n],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",n,n],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",n,n],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",n,n],[14,1,80,"Home",14,"Home",36,"VK_HOME",n,n],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",n,n],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",n,n],[13,1,83,"End",13,"End",35,"VK_END",n,n],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",n,n],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",n],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",n],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",n],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",n],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",n,n],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",n,n],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",n,n],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",n,n],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",n,n],[3,1,94,"NumpadEnter",3,n,0,n,n,n],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",n,n],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",n,n],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",n,n],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",n,n],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",n,n],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",n,n],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",n,n],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",n,n],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",n,n],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",n,n],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",n,n],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",n,n],[58,1,107,"ContextMenu",58,"ContextMenu",93,n,n,n],[0,1,108,"Power",0,n,0,n,n,n],[0,1,109,"NumpadEqual",0,n,0,n,n,n],[71,1,110,"F13",71,"F13",124,"VK_F13",n,n],[72,1,111,"F14",72,"F14",125,"VK_F14",n,n],[73,1,112,"F15",73,"F15",126,"VK_F15",n,n],[74,1,113,"F16",74,"F16",127,"VK_F16",n,n],[75,1,114,"F17",75,"F17",128,"VK_F17",n,n],[76,1,115,"F18",76,"F18",129,"VK_F18",n,n],[77,1,116,"F19",77,"F19",130,"VK_F19",n,n],[0,1,117,"F20",0,n,0,"VK_F20",n,n],[0,1,118,"F21",0,n,0,"VK_F21",n,n],[0,1,119,"F22",0,n,0,"VK_F22",n,n],[0,1,120,"F23",0,n,0,"VK_F23",n,n],[0,1,121,"F24",0,n,0,"VK_F24",n,n],[0,1,122,"Open",0,n,0,n,n,n],[0,1,123,"Help",0,n,0,n,n,n],[0,1,124,"Select",0,n,0,n,n,n],[0,1,125,"Again",0,n,0,n,n,n],[0,1,126,"Undo",0,n,0,n,n,n],[0,1,127,"Cut",0,n,0,n,n,n],[0,1,128,"Copy",0,n,0,n,n,n],[0,1,129,"Paste",0,n,0,n,n,n],[0,1,130,"Find",0,n,0,n,n,n],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",n,n],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",n,n],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",n,n],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",n,n],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",n,n],[0,1,136,"KanaMode",0,n,0,n,n,n],[0,0,137,"IntlYen",0,n,0,n,n,n],[0,1,138,"Convert",0,n,0,n,n,n],[0,1,139,"NonConvert",0,n,0,n,n,n],[0,1,140,"Lang1",0,n,0,n,n,n],[0,1,141,"Lang2",0,n,0,n,n,n],[0,1,142,"Lang3",0,n,0,n,n,n],[0,1,143,"Lang4",0,n,0,n,n,n],[0,1,144,"Lang5",0,n,0,n,n,n],[0,1,145,"Abort",0,n,0,n,n,n],[0,1,146,"Props",0,n,0,n,n,n],[0,1,147,"NumpadParenLeft",0,n,0,n,n,n],[0,1,148,"NumpadParenRight",0,n,0,n,n,n],[0,1,149,"NumpadBackspace",0,n,0,n,n,n],[0,1,150,"NumpadMemoryStore",0,n,0,n,n,n],[0,1,151,"NumpadMemoryRecall",0,n,0,n,n,n],[0,1,152,"NumpadMemoryClear",0,n,0,n,n,n],[0,1,153,"NumpadMemoryAdd",0,n,0,n,n,n],[0,1,154,"NumpadMemorySubtract",0,n,0,n,n,n],[0,1,155,"NumpadClear",126,"Clear",12,"VK_CLEAR",n,n],[0,1,156,"NumpadClearEntry",0,n,0,n,n,n],[5,1,0,n,5,"Ctrl",17,"VK_CONTROL",n,n],[4,1,0,n,4,"Shift",16,"VK_SHIFT",n,n],[6,1,0,n,6,"Alt",18,"VK_MENU",n,n],[57,1,0,n,57,"Meta",0,"VK_COMMAND",n,n],[5,1,157,"ControlLeft",5,n,0,"VK_LCONTROL",n,n],[4,1,158,"ShiftLeft",4,n,0,"VK_LSHIFT",n,n],[6,1,159,"AltLeft",6,n,0,"VK_LMENU",n,n],[57,1,160,"MetaLeft",57,n,0,"VK_LWIN",n,n],[5,1,161,"ControlRight",5,n,0,"VK_RCONTROL",n,n],[4,1,162,"ShiftRight",4,n,0,"VK_RSHIFT",n,n],[6,1,163,"AltRight",6,n,0,"VK_RMENU",n,n],[57,1,164,"MetaRight",57,n,0,"VK_RWIN",n,n],[0,1,165,"BrightnessUp",0,n,0,n,n,n],[0,1,166,"BrightnessDown",0,n,0,n,n,n],[0,1,167,"MediaPlay",0,n,0,n,n,n],[0,1,168,"MediaRecord",0,n,0,n,n,n],[0,1,169,"MediaFastForward",0,n,0,n,n,n],[0,1,170,"MediaRewind",0,n,0,n,n,n],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",n,n],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",n,n],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",n,n],[0,1,174,"Eject",0,n,0,n,n,n],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",n,n],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",n,n],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",n,n],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",n,n],[0,1,179,"LaunchApp1",0,n,0,"VK_MEDIA_LAUNCH_APP1",n,n],[0,1,180,"SelectTask",0,n,0,n,n,n],[0,1,181,"LaunchScreenSaver",0,n,0,n,n,n],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",n,n],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",n,n],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",n,n],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",n,n],[0,1,186,"BrowserStop",0,n,0,"VK_BROWSER_STOP",n,n],[0,1,187,"BrowserRefresh",0,n,0,"VK_BROWSER_REFRESH",n,n],[0,1,188,"BrowserFavorites",0,n,0,"VK_BROWSER_FAVORITES",n,n],[0,1,189,"ZoomToggle",0,n,0,n,n,n],[0,1,190,"MailReply",0,n,0,n,n,n],[0,1,191,"MailForward",0,n,0,n,n,n],[0,1,192,"MailSend",0,n,0,n,n,n],[109,1,0,n,109,"KeyInComposition",229,n,n,n],[111,1,0,n,111,"ABNT_C2",194,"VK_ABNT_C2",n,n],[91,1,0,n,91,"OEM_8",223,"VK_OEM_8",n,n],[0,1,0,n,0,n,0,"VK_KANA",n,n],[0,1,0,n,0,n,0,"VK_HANGUL",n,n],[0,1,0,n,0,n,0,"VK_JUNJA",n,n],[0,1,0,n,0,n,0,"VK_FINAL",n,n],[0,1,0,n,0,n,0,"VK_HANJA",n,n],[0,1,0,n,0,n,0,"VK_KANJI",n,n],[0,1,0,n,0,n,0,"VK_CONVERT",n,n],[0,1,0,n,0,n,0,"VK_NONCONVERT",n,n],[0,1,0,n,0,n,0,"VK_ACCEPT",n,n],[0,1,0,n,0,n,0,"VK_MODECHANGE",n,n],[0,1,0,n,0,n,0,"VK_SELECT",n,n],[0,1,0,n,0,n,0,"VK_PRINT",n,n],[0,1,0,n,0,n,0,"VK_EXECUTE",n,n],[0,1,0,n,0,n,0,"VK_SNAPSHOT",n,n],[0,1,0,n,0,n,0,"VK_HELP",n,n],[0,1,0,n,0,n,0,"VK_APPS",n,n],[0,1,0,n,0,n,0,"VK_PROCESSKEY",n,n],[0,1,0,n,0,n,0,"VK_PACKET",n,n],[0,1,0,n,0,n,0,"VK_DBE_SBCSCHAR",n,n],[0,1,0,n,0,n,0,"VK_DBE_DBCSCHAR",n,n],[0,1,0,n,0,n,0,"VK_ATTN",n,n],[0,1,0,n,0,n,0,"VK_CRSEL",n,n],[0,1,0,n,0,n,0,"VK_EXSEL",n,n],[0,1,0,n,0,n,0,"VK_EREOF",n,n],[0,1,0,n,0,n,0,"VK_PLAY",n,n],[0,1,0,n,0,n,0,"VK_ZOOM",n,n],[0,1,0,n,0,n,0,"VK_NONAME",n,n],[0,1,0,n,0,n,0,"VK_PA1",n,n],[0,1,0,n,0,n,0,"VK_OEM_CLEAR",n,n]],t=[],r=[];for(const l of i){const[d,a,s,o,c,f,p,_,m,h]=l;if(r[s]||(r[s]=!0,L[s]=o,b[o]=s,v[o.toLowerCase()]=s,a&&(e.IMMUTABLE_CODE_TO_KEY_CODE[s]=c,c!==0&&c!==3&&c!==5&&c!==4&&c!==6&&c!==57&&(e.IMMUTABLE_KEY_CODE_TO_CODE[c]=s))),!t[c]){if(t[c]=!0,!f)throw new Error(`String representation missing for key code ${c} around scan code ${o}`);C.define(c,f),k.define(c,m||f),I.define(c,h||m||f)}p&&(e.EVENT_KEY_CODE_MAP[p]=c),_&&(e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE[_]=c)}e.IMMUTABLE_KEY_CODE_TO_CODE[3]=46})();var u;(function(n){function i(s){return C.keyCodeToStr(s)}n.toString=i;function t(s){return C.strToKeyCode(s)}n.fromString=t;function r(s){return k.keyCodeToStr(s)}n.toUserSettingsUS=r;function l(s){return I.keyCodeToStr(s)}n.toUserSettingsGeneral=l;function d(s){return k.strToKeyCode(s)||I.strToKeyCode(s)}n.fromUserSettings=d;function a(s){if(s>=93&&s<=108)return null;switch(s){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return C.keyCodeToStr(s)}n.toElectronAccelerator=a})(u=e.KeyCodeUtils||(e.KeyCodeUtils={}));function g(n,i){const t=(i&65535)<<16>>>0;return(n|t)>>>0}e.KeyChord=g}),define(re[104],ae([1,0,14]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedKeybindingPart=e.ScanCodeBinding=e.ChordKeybinding=e.SimpleKeybinding=e.createSimpleKeybinding=e.createKeybinding=void 0;function C(g,n){if(g===0)return null;const i=(g&65535)>>>0,t=(g&4294901760)>>>16;return t!==0?new L([k(i,n),k(t,n)]):new L([k(i,n)])}e.createKeybinding=C;function k(g,n){const i=!!(g&2048),t=!!(g&256),r=n===2?t:i,l=!!(g&1024),d=!!(g&512),a=n===2?i:t,s=g&255;return new I(r,l,d,a,s)}e.createSimpleKeybinding=k;class I{constructor(n,i,t,r,l){this.ctrlKey=n,this.shiftKey=i,this.altKey=t,this.metaKey=r,this.keyCode=l}equals(n){return this.ctrlKey===n.ctrlKey&&this.shiftKey===n.shiftKey&&this.altKey===n.altKey&&this.metaKey===n.metaKey&&this.keyCode===n.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new L([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.SimpleKeybinding=I;class L{constructor(n){if(n.length===0)throw(0,w.illegalArgument)("parts");this.parts=n}}e.ChordKeybinding=L;class b{constructor(n,i,t,r,l){this.ctrlKey=n,this.shiftKey=i,this.altKey=t,this.metaKey=r,this.scanCode=l}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}e.ScanCodeBinding=b;class v{constructor(n,i,t,r,l,d){this.ctrlKey=n,this.shiftKey=i,this.altKey=t,this.metaKey=r,this.keyLabel=l,this.keyAriaLabel=d}}e.ResolvedKeybindingPart=v;class u{}e.ResolvedKeybinding=u}),define(re[145],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class w{constructor(k){this.executor=k,this._didRun=!1}hasValue(){return this._didRun}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(k){this._error=k}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=w}),define(re[2],ae([1,0,96,55]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImmortalReference=e.SafeDisposable=e.RefCountedDisposable=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.MultiDisposeError=e.markAsSingleton=e.setDisposableTracker=void 0;const k=!1;let I=null;function L(_){I=_}if(e.setDisposableTracker=L,k){const _="__is_disposable_tracked__";L(new class{trackDisposable(m){const h=new Error("Potentially leaked disposable").stack;setTimeout(()=>{m[_]||console.log(h)},3e3)}setParent(m,h){if(m&&m!==s.None)try{m[_]=!0}catch{}}markAsDisposed(m){if(m&&m!==s.None)try{m[_]=!0}catch{}}markAsSingleton(m){}})}function b(_){return I==null||I.trackDisposable(_),_}function v(_){I==null||I.markAsDisposed(_)}function u(_,m){I==null||I.setParent(_,m)}function g(_,m){if(!!I)for(const h of _)I.setParent(h,m)}function n(_){return I==null||I.markAsSingleton(_),_}e.markAsSingleton=n;class i extends Error{constructor(m){super(`Encountered errors while disposing of store. Errors: [${m.join(", ")}]`);this.errors=m}}e.MultiDisposeError=i;function t(_){return typeof _.dispose=="function"&&_.dispose.length===0}e.isDisposable=t;function r(_){if(C.Iterable.is(_)){const m=[];for(const h of _)if(h)try{h.dispose()}catch(S){m.push(S)}if(m.length===1)throw m[0];if(m.length>1)throw new i(m);return Array.isArray(_)?[]:_}else if(_)return _.dispose(),_}e.dispose=r;function l(..._){const m=d(()=>r(_));return g(_,m),m}e.combinedDisposable=l;function d(_){const m=b({dispose:(0,w.once)(()=>{v(m),_()})});return m}e.toDisposable=d;class a{constructor(){this._toDispose=new Set,this._isDisposed=!1,b(this)}dispose(){this._isDisposed||(v(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){try{r(this._toDispose.values())}finally{this._toDispose.clear()}}add(m){if(!m)return m;if(m===this)throw new Error("Cannot register a disposable on itself!");return u(m,this),this._isDisposed?a.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(m),m}}e.DisposableStore=a,a.DISABLE_DISPOSED_WARNING=!1;class s{constructor(){this._store=new a,b(this),u(this._store,this)}dispose(){v(this),this._store.dispose()}_register(m){if(m===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(m)}}e.Disposable=s,s.None=Object.freeze({dispose(){}});class o{constructor(){this._isDisposed=!1,b(this)}get value(){return this._isDisposed?void 0:this._value}set value(m){var h;this._isDisposed||m===this._value||((h=this._value)===null||h===void 0||h.dispose(),m&&u(m,this),this._value=m)}clear(){this.value=void 0}dispose(){var m;this._isDisposed=!0,v(this),(m=this._value)===null||m===void 0||m.dispose(),this._value=void 0}clearAndLeak(){const m=this._value;return this._value=void 0,m&&u(m,null),m}}e.MutableDisposable=o;class c{constructor(m){this._disposable=m,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter==0&&this._disposable.dispose(),this}}e.RefCountedDisposable=c;class f{constructor(){this.dispose=()=>{},this.unset=()=>{},this.isset=()=>!1,b(this)}set(m){let h=m;return this.unset=()=>h=void 0,this.isset=()=>h!==void 0,this.dispose=()=>{h&&(h(),h=void 0,v(this))},this}}e.SafeDisposable=f;class p{constructor(m){this.object=m}dispose(){}}e.ImmortalReference=p}),define(re[73],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class w{constructor(I){this.element=I,this.next=w.Undefined,this.prev=w.Undefined}}w.Undefined=new w(void 0);class C{constructor(){this._first=w.Undefined,this._last=w.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===w.Undefined}clear(){let I=this._first;for(;I!==w.Undefined;){const L=I.next;I.prev=w.Undefined,I.next=w.Undefined,I=L}this._first=w.Undefined,this._last=w.Undefined,this._size=0}unshift(I){return this._insert(I,!1)}push(I){return this._insert(I,!0)}_insert(I,L){const b=new w(I);if(this._first===w.Undefined)this._first=b,this._last=b;else if(L){const u=this._last;this._last=b,b.prev=u,u.next=b}else{const u=this._first;this._first=b,b.next=u,u.prev=b}this._size+=1;let v=!1;return()=>{v||(v=!0,this._remove(b))}}shift(){if(this._first!==w.Undefined){const I=this._first.element;return this._remove(this._first),I}}pop(){if(this._last!==w.Undefined){const I=this._last.element;return this._remove(this._last),I}}_remove(I){if(I.prev!==w.Undefined&&I.next!==w.Undefined){const L=I.prev;L.next=I.next,I.next.prev=L}else I.prev===w.Undefined&&I.next===w.Undefined?(this._first=w.Undefined,this._last=w.Undefined):I.next===w.Undefined?(this._last=this._last.prev,this._last.next=w.Undefined):I.prev===w.Undefined&&(this._first=this._first.next,this._first.prev=w.Undefined);this._size-=1}*[Symbol.iterator](){let I=this._first;for(;I!==w.Undefined;)yield I.element,I=I.next}}e.LinkedList=C}),function($,e){typeof exports=="object"&&typeof module!="undefined"?e(exports):typeof define=="function"&&define.amd?define(re[329],ae([0]),e):($=typeof globalThis!="undefined"?globalThis:$||self,e($.marked={}))}(this,function($){"use strict";function e(z,X){for(var G=0;G<X.length;G++){var U=X[G];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(z,U.key,U)}}function w(z,X,G){return X&&e(z.prototype,X),G&&e(z,G),Object.defineProperty(z,"prototype",{writable:!1}),z}function C(z,X){if(!!z){if(typeof z=="string")return k(z,X);var G=Object.prototype.toString.call(z).slice(8,-1);if(G==="Object"&&z.constructor&&(G=z.constructor.name),G==="Map"||G==="Set")return Array.from(z);if(G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G))return k(z,X)}}function k(z,X){(X==null||X>z.length)&&(X=z.length);for(var G=0,U=new Array(X);G<X;G++)U[G]=z[G];return U}function I(z,X){var G=typeof Symbol!="undefined"&&z[Symbol.iterator]||z["@@iterator"];if(G)return(G=G.call(z)).next.bind(G);if(Array.isArray(z)||(G=C(z))||X&&z&&typeof z.length=="number"){G&&(z=G);var U=0;return function(){return U>=z.length?{done:!0}:{done:!1,value:z[U++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}$.defaults=L();function b(z){$.defaults=z}var v=/[&<>"']/,u=/[&<>"']/g,g=/[<>"']|&(?!#?\w+;)/,n=/[<>"']|&(?!#?\w+;)/g,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},t=function(X){return i[X]};function r(z,X){if(X){if(v.test(z))return z.replace(u,t)}else if(g.test(z))return z.replace(n,t);return z}var l=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function d(z){return z.replace(l,function(X,G){return G=G.toLowerCase(),G==="colon"?":":G.charAt(0)==="#"?G.charAt(1)==="x"?String.fromCharCode(parseInt(G.substring(2),16)):String.fromCharCode(+G.substring(1)):""})}var a=/(^|[^\[])\^/g;function s(z,X){z=typeof z=="string"?z:z.source,X=X||"";var G={replace:function(K,ce){return ce=ce.source||ce,ce=ce.replace(a,"$1"),z=z.replace(K,ce),G},getRegex:function(){return new RegExp(z,X)}};return G}var o=/[^\w:]/g,c=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function f(z,X,G){if(z){var U;try{U=decodeURIComponent(d(G)).replace(o,"").toLowerCase()}catch{return null}if(U.indexOf("javascript:")===0||U.indexOf("vbscript:")===0||U.indexOf("data:")===0)return null}X&&!c.test(G)&&(G=S(X,G));try{G=encodeURI(G).replace(/%25/g,"%")}catch{return null}return G}var p={},_=/^[^:]+:\/*[^/]*$/,m=/^([^:]+:)[\s\S]*$/,h=/^([^:]+:\/*[^/]*)[\s\S]*$/;function S(z,X){p[" "+z]||(_.test(z)?p[" "+z]=z+"/":p[" "+z]=T(z,"/",!0)),z=p[" "+z];var G=z.indexOf(":")===-1;return X.substring(0,2)==="//"?G?X:z.replace(m,"$1")+X:X.charAt(0)==="/"?G?X:z.replace(h,"$1")+X:z+X}var y={exec:function(){}};function E(z){for(var X=1,G,U;X<arguments.length;X++){G=arguments[X];for(U in G)Object.prototype.hasOwnProperty.call(G,U)&&(z[U]=G[U])}return z}function N(z,X){var G=z.replace(/\|/g,function(ce,ee,ue){for(var fe=!1,Ce=ee;--Ce>=0&&ue[Ce]==="\\";)fe=!fe;return fe?"|":" |"}),U=G.split(/ \|/),K=0;if(U[0].trim()||U.shift(),U.length>0&&!U[U.length-1].trim()&&U.pop(),U.length>X)U.splice(X);else for(;U.length<X;)U.push("");for(;K<U.length;K++)U[K]=U[K].trim().replace(/\\\|/g,"|");return U}function T(z,X,G){var U=z.length;if(U===0)return"";for(var K=0;K<U;){var ce=z.charAt(U-K-1);if(ce===X&&!G)K++;else if(ce!==X&&G)K++;else break}return z.slice(0,U-K)}function R(z,X){if(z.indexOf(X[1])===-1)return-1;for(var G=z.length,U=0,K=0;K<G;K++)if(z[K]==="\\")K++;else if(z[K]===X[0])U++;else if(z[K]===X[1]&&(U--,U<0))return K;return-1}function F(z){z&&z.sanitize&&!z.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function O(z,X){if(X<1)return"";for(var G="";X>1;)X&1&&(G+=z),X>>=1,z+=z;return G+z}function D(z,X,G,U){var K=X.href,ce=X.title?r(X.title):null,ee=z[1].replace(/\\([\[\]])/g,"$1");if(z[0].charAt(0)!=="!"){U.state.inLink=!0;var ue={type:"link",raw:G,href:K,title:ce,text:ee,tokens:U.inlineTokens(ee,[])};return U.state.inLink=!1,ue}return{type:"image",raw:G,href:K,title:ce,text:r(ee)}}function M(z,X){var G=z.match(/^(\s+)(?:```)/);if(G===null)return X;var U=G[1];return X.split(`
`).map(function(K){var ce=K.match(/^\s+/);if(ce===null)return K;var ee=ce[0];return ee.length>=U.length?K.slice(U.length):K}).join(`
`)}var P=function(){function z(G){this.options=G||$.defaults}var X=z.prototype;return X.space=function(U){var K=this.rules.block.newline.exec(U);if(K&&K[0].length>0)return{type:"space",raw:K[0]}},X.code=function(U){var K=this.rules.block.code.exec(U);if(K){var ce=K[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:K[0],codeBlockStyle:"indented",text:this.options.pedantic?ce:T(ce,`
`)}}},X.fences=function(U){var K=this.rules.block.fences.exec(U);if(K){var ce=K[0],ee=M(ce,K[3]||"");return{type:"code",raw:ce,lang:K[2]?K[2].trim():K[2],text:ee}}},X.heading=function(U){var K=this.rules.block.heading.exec(U);if(K){var ce=K[2].trim();if(/#$/.test(ce)){var ee=T(ce,"#");(this.options.pedantic||!ee||/ $/.test(ee))&&(ce=ee.trim())}var ue={type:"heading",raw:K[0],depth:K[1].length,text:ce,tokens:[]};return this.lexer.inline(ue.text,ue.tokens),ue}},X.hr=function(U){var K=this.rules.block.hr.exec(U);if(K)return{type:"hr",raw:K[0]}},X.blockquote=function(U){var K=this.rules.block.blockquote.exec(U);if(K){var ce=K[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:K[0],tokens:this.lexer.blockTokens(ce,[]),text:ce}}},X.list=function(U){var K=this.rules.block.list.exec(U);if(K){var ce,ee,ue,fe,Ce,we,ye,De,Me,pe,he,le,ge=K[1].trim(),_e=ge.length>1,Le={type:"list",raw:"",ordered:_e,start:_e?+ge.slice(0,-1):"",loose:!1,items:[]};ge=_e?"\\d{1,9}\\"+ge.slice(-1):"\\"+ge,this.options.pedantic&&(ge=_e?ge:"[*+-]");for(var Ie=new RegExp("^( {0,3}"+ge+")((?:[	 ][^\\n]*)?(?:\\n|$))");U&&(le=!1,!(!(K=Ie.exec(U))||this.rules.block.hr.test(U)));){if(ce=K[0],U=U.substring(ce.length),De=K[2].split(`
`,1)[0],Me=U.split(`
`,1)[0],this.options.pedantic?(fe=2,he=De.trimLeft()):(fe=K[2].search(/[^ ]/),fe=fe>4?1:fe,he=De.slice(fe),fe+=K[1].length),we=!1,!De&&/^ *$/.test(Me)&&(ce+=Me+`
`,U=U.substring(Me.length+1),le=!0),!le)for(var Ae=new RegExp("^ {0,"+Math.min(3,fe-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),Oe=new RegExp("^ {0,"+Math.min(3,fe-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)");U&&(pe=U.split(`
`,1)[0],De=pe,this.options.pedantic&&(De=De.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Ae.test(De)||Oe.test(U)));){if(De.search(/[^ ]/)>=fe||!De.trim())he+=`
`+De.slice(fe);else if(!we)he+=`
`+De;else break;!we&&!De.trim()&&(we=!0),ce+=pe+`
`,U=U.substring(pe.length+1)}Le.loose||(ye?Le.loose=!0:/\n *\n *$/.test(ce)&&(ye=!0)),this.options.gfm&&(ee=/^\[[ xX]\] /.exec(he),ee&&(ue=ee[0]!=="[ ] ",he=he.replace(/^\[[ xX]\] +/,""))),Le.items.push({type:"list_item",raw:ce,task:!!ee,checked:ue,loose:!1,text:he}),Le.raw+=ce}Le.items[Le.items.length-1].raw=ce.trimRight(),Le.items[Le.items.length-1].text=he.trimRight(),Le.raw=Le.raw.trimRight();var be=Le.items.length;for(Ce=0;Ce<be;Ce++){this.lexer.state.top=!1,Le.items[Ce].tokens=this.lexer.blockTokens(Le.items[Ce].text,[]);var ve=Le.items[Ce].tokens.filter(function(Re){return Re.type==="space"}),Ee=ve.every(function(Re){for(var Te=Re.raw.split(""),Be=0,xe=I(Te),qe;!(qe=xe()).done;){var Ze=qe.value;if(Ze===`
`&&(Be+=1),Be>1)return!0}return!1});!Le.loose&&ve.length&&Ee&&(Le.loose=!0,Le.items[Ce].loose=!0)}return Le}},X.html=function(U){var K=this.rules.block.html.exec(U);if(K){var ce={type:"html",raw:K[0],pre:!this.options.sanitizer&&(K[1]==="pre"||K[1]==="script"||K[1]==="style"),text:K[0]};return this.options.sanitize&&(ce.type="paragraph",ce.text=this.options.sanitizer?this.options.sanitizer(K[0]):r(K[0]),ce.tokens=[],this.lexer.inline(ce.text,ce.tokens)),ce}},X.def=function(U){var K=this.rules.block.def.exec(U);if(K){K[3]&&(K[3]=K[3].substring(1,K[3].length-1));var ce=K[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:ce,raw:K[0],href:K[2],title:K[3]}}},X.table=function(U){var K=this.rules.block.table.exec(U);if(K){var ce={type:"table",header:N(K[1]).map(function(ye){return{text:ye}}),align:K[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:K[3]&&K[3].trim()?K[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(ce.header.length===ce.align.length){ce.raw=K[0];var ee=ce.align.length,ue,fe,Ce,we;for(ue=0;ue<ee;ue++)/^ *-+: *$/.test(ce.align[ue])?ce.align[ue]="right":/^ *:-+: *$/.test(ce.align[ue])?ce.align[ue]="center":/^ *:-+ *$/.test(ce.align[ue])?ce.align[ue]="left":ce.align[ue]=null;for(ee=ce.rows.length,ue=0;ue<ee;ue++)ce.rows[ue]=N(ce.rows[ue],ce.header.length).map(function(ye){return{text:ye}});for(ee=ce.header.length,fe=0;fe<ee;fe++)ce.header[fe].tokens=[],this.lexer.inline(ce.header[fe].text,ce.header[fe].tokens);for(ee=ce.rows.length,fe=0;fe<ee;fe++)for(we=ce.rows[fe],Ce=0;Ce<we.length;Ce++)we[Ce].tokens=[],this.lexer.inline(we[Ce].text,we[Ce].tokens);return ce}}},X.lheading=function(U){var K=this.rules.block.lheading.exec(U);if(K){var ce={type:"heading",raw:K[0],depth:K[2].charAt(0)==="="?1:2,text:K[1],tokens:[]};return this.lexer.inline(ce.text,ce.tokens),ce}},X.paragraph=function(U){var K=this.rules.block.paragraph.exec(U);if(K){var ce={type:"paragraph",raw:K[0],text:K[1].charAt(K[1].length-1)===`
`?K[1].slice(0,-1):K[1],tokens:[]};return this.lexer.inline(ce.text,ce.tokens),ce}},X.text=function(U){var K=this.rules.block.text.exec(U);if(K){var ce={type:"text",raw:K[0],text:K[0],tokens:[]};return this.lexer.inline(ce.text,ce.tokens),ce}},X.escape=function(U){var K=this.rules.inline.escape.exec(U);if(K)return{type:"escape",raw:K[0],text:r(K[1])}},X.tag=function(U){var K=this.rules.inline.tag.exec(U);if(K)return!this.lexer.state.inLink&&/^<a /i.test(K[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(K[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(K[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(K[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:K[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(K[0]):r(K[0]):K[0]}},X.link=function(U){var K=this.rules.inline.link.exec(U);if(K){var ce=K[2].trim();if(!this.options.pedantic&&/^</.test(ce)){if(!/>$/.test(ce))return;var ee=T(ce.slice(0,-1),"\\");if((ce.length-ee.length)%2==0)return}else{var ue=R(K[2],"()");if(ue>-1){var fe=K[0].indexOf("!")===0?5:4,Ce=fe+K[1].length+ue;K[2]=K[2].substring(0,ue),K[0]=K[0].substring(0,Ce).trim(),K[3]=""}}var we=K[2],ye="";if(this.options.pedantic){var De=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(we);De&&(we=De[1],ye=De[3])}else ye=K[3]?K[3].slice(1,-1):"";return we=we.trim(),/^</.test(we)&&(this.options.pedantic&&!/>$/.test(ce)?we=we.slice(1):we=we.slice(1,-1)),D(K,{href:we&&we.replace(this.rules.inline._escapes,"$1"),title:ye&&ye.replace(this.rules.inline._escapes,"$1")},K[0],this.lexer)}},X.reflink=function(U,K){var ce;if((ce=this.rules.inline.reflink.exec(U))||(ce=this.rules.inline.nolink.exec(U))){var ee=(ce[2]||ce[1]).replace(/\s+/g," ");if(ee=K[ee.toLowerCase()],!ee||!ee.href){var ue=ce[0].charAt(0);return{type:"text",raw:ue,text:ue}}return D(ce,ee,ce[0],this.lexer)}},X.emStrong=function(U,K,ce){ce===void 0&&(ce="");var ee=this.rules.inline.emStrong.lDelim.exec(U);if(!!ee&&!(ee[3]&&ce.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var ue=ee[1]||ee[2]||"";if(!ue||ue&&(ce===""||this.rules.inline.punctuation.exec(ce))){var fe=ee[0].length-1,Ce,we,ye=fe,De=0,Me=ee[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Me.lastIndex=0,K=K.slice(-1*U.length+fe);(ee=Me.exec(K))!=null;)if(Ce=ee[1]||ee[2]||ee[3]||ee[4]||ee[5]||ee[6],!!Ce){if(we=Ce.length,ee[3]||ee[4]){ye+=we;continue}else if((ee[5]||ee[6])&&fe%3&&!((fe+we)%3)){De+=we;continue}if(ye-=we,!(ye>0)){if(we=Math.min(we,we+ye+De),Math.min(fe,we)%2){var pe=U.slice(1,fe+ee.index+we);return{type:"em",raw:U.slice(0,fe+ee.index+we+1),text:pe,tokens:this.lexer.inlineTokens(pe,[])}}var he=U.slice(2,fe+ee.index+we-1);return{type:"strong",raw:U.slice(0,fe+ee.index+we+1),text:he,tokens:this.lexer.inlineTokens(he,[])}}}}}},X.codespan=function(U){var K=this.rules.inline.code.exec(U);if(K){var ce=K[2].replace(/\n/g," "),ee=/[^ ]/.test(ce),ue=/^ /.test(ce)&&/ $/.test(ce);return ee&&ue&&(ce=ce.substring(1,ce.length-1)),ce=r(ce,!0),{type:"codespan",raw:K[0],text:ce}}},X.br=function(U){var K=this.rules.inline.br.exec(U);if(K)return{type:"br",raw:K[0]}},X.del=function(U){var K=this.rules.inline.del.exec(U);if(K)return{type:"del",raw:K[0],text:K[2],tokens:this.lexer.inlineTokens(K[2],[])}},X.autolink=function(U,K){var ce=this.rules.inline.autolink.exec(U);if(ce){var ee,ue;return ce[2]==="@"?(ee=r(this.options.mangle?K(ce[1]):ce[1]),ue="mailto:"+ee):(ee=r(ce[1]),ue=ee),{type:"link",raw:ce[0],text:ee,href:ue,tokens:[{type:"text",raw:ee,text:ee}]}}},X.url=function(U,K){var ce;if(ce=this.rules.inline.url.exec(U)){var ee,ue;if(ce[2]==="@")ee=r(this.options.mangle?K(ce[0]):ce[0]),ue="mailto:"+ee;else{var fe;do fe=ce[0],ce[0]=this.rules.inline._backpedal.exec(ce[0])[0];while(fe!==ce[0]);ee=r(ce[0]),ce[1]==="www."?ue="http://"+ee:ue=ee}return{type:"link",raw:ce[0],text:ee,href:ue,tokens:[{type:"text",raw:ee,text:ee}]}}},X.inlineText=function(U,K){var ce=this.rules.inline.text.exec(U);if(ce){var ee;return this.lexer.state.inRawBlock?ee=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ce[0]):r(ce[0]):ce[0]:ee=r(this.options.smartypants?K(ce[0]):ce[0]),{type:"text",raw:ce[0],text:ee}}},z}(),B={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:y,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};B._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,B._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,B.def=s(B.def).replace("label",B._label).replace("title",B._title).getRegex(),B.bullet=/(?:[*+-]|\d{1,9}[.)])/,B.listItemStart=s(/^( *)(bull) */).replace("bull",B.bullet).getRegex(),B.list=s(B.list).replace(/bull/g,B.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+B.def.source+")").getRegex(),B._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",B._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,B.html=s(B.html,"i").replace("comment",B._comment).replace("tag",B._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),B.paragraph=s(B._paragraph).replace("hr",B.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",B._tag).getRegex(),B.blockquote=s(B.blockquote).replace("paragraph",B.paragraph).getRegex(),B.normal=E({},B),B.gfm=E({},B.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),B.gfm.table=s(B.gfm.table).replace("hr",B.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",B._tag).getRegex(),B.gfm.paragraph=s(B._paragraph).replace("hr",B.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",B.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",B._tag).getRegex(),B.pedantic=E({},B.normal,{html:s(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",B._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:y,paragraph:s(B.normal._paragraph).replace("hr",B.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",B.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var W={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:y,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:y,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};W._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",W.punctuation=s(W.punctuation).replace(/punctuation/g,W._punctuation).getRegex(),W.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,W.escapedEmSt=/\\\*|\\_/g,W._comment=s(B._comment).replace("(?:-->|$)","-->").getRegex(),W.emStrong.lDelim=s(W.emStrong.lDelim).replace(/punct/g,W._punctuation).getRegex(),W.emStrong.rDelimAst=s(W.emStrong.rDelimAst,"g").replace(/punct/g,W._punctuation).getRegex(),W.emStrong.rDelimUnd=s(W.emStrong.rDelimUnd,"g").replace(/punct/g,W._punctuation).getRegex(),W._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,W._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,W._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,W.autolink=s(W.autolink).replace("scheme",W._scheme).replace("email",W._email).getRegex(),W._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,W.tag=s(W.tag).replace("comment",W._comment).replace("attribute",W._attribute).getRegex(),W._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,W._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,W._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,W.link=s(W.link).replace("label",W._label).replace("href",W._href).replace("title",W._title).getRegex(),W.reflink=s(W.reflink).replace("label",W._label).replace("ref",B._label).getRegex(),W.nolink=s(W.nolink).replace("ref",B._label).getRegex(),W.reflinkSearch=s(W.reflinkSearch,"g").replace("reflink",W.reflink).replace("nolink",W.nolink).getRegex(),W.normal=E({},W),W.pedantic=E({},W.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:s(/^!?\[(label)\]\((.*?)\)/).replace("label",W._label).getRegex(),reflink:s(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",W._label).getRegex()}),W.gfm=E({},W.normal,{escape:s(W.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),W.gfm.url=s(W.gfm.url,"i").replace("email",W.gfm._extended_email).getRegex(),W.breaks=E({},W.gfm,{br:s(W.br).replace("{2,}","*").getRegex(),text:s(W.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function V(z){return z.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function A(z){var X="",G,U,K=z.length;for(G=0;G<K;G++)U=z.charCodeAt(G),Math.random()>.5&&(U="x"+U.toString(16)),X+="&#"+U+";";return X}var Q=function(){function z(G){this.tokens=[],this.tokens.links=Object.create(null),this.options=G||$.defaults,this.options.tokenizer=this.options.tokenizer||new P,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var U={block:B.normal,inline:W.normal};this.options.pedantic?(U.block=B.pedantic,U.inline=W.pedantic):this.options.gfm&&(U.block=B.gfm,this.options.breaks?U.inline=W.breaks:U.inline=W.gfm),this.tokenizer.rules=U}z.lex=function(U,K){var ce=new z(K);return ce.lex(U)},z.lexInline=function(U,K){var ce=new z(K);return ce.inlineTokens(U)};var X=z.prototype;return X.lex=function(U){U=U.replace(/\r\n|\r/g,`
`),this.blockTokens(U,this.tokens);for(var K;K=this.inlineQueue.shift();)this.inlineTokens(K.src,K.tokens);return this.tokens},X.blockTokens=function(U,K){var ce=this;K===void 0&&(K=[]),this.options.pedantic?U=U.replace(/\t/g,"    ").replace(/^ +$/gm,""):U=U.replace(/^( *)(\t+)/gm,function(ye,De,Me){return De+"    ".repeat(Me.length)});for(var ee,ue,fe,Ce;U;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(ye){return(ee=ye.call({lexer:ce},U,K))?(U=U.substring(ee.raw.length),K.push(ee),!0):!1}))){if(ee=this.tokenizer.space(U)){U=U.substring(ee.raw.length),ee.raw.length===1&&K.length>0?K[K.length-1].raw+=`
`:K.push(ee);continue}if(ee=this.tokenizer.code(U)){U=U.substring(ee.raw.length),ue=K[K.length-1],ue&&(ue.type==="paragraph"||ue.type==="text")?(ue.raw+=`
`+ee.raw,ue.text+=`
`+ee.text,this.inlineQueue[this.inlineQueue.length-1].src=ue.text):K.push(ee);continue}if(ee=this.tokenizer.fences(U)){U=U.substring(ee.raw.length),K.push(ee);continue}if(ee=this.tokenizer.heading(U)){U=U.substring(ee.raw.length),K.push(ee);continue}if(ee=this.tokenizer.hr(U)){U=U.substring(ee.raw.length),K.push(ee);continue}if(ee=this.tokenizer.blockquote(U)){U=U.substring(ee.raw.length),K.push(ee);continue}if(ee=this.tokenizer.list(U)){U=U.substring(ee.raw.length),K.push(ee);continue}if(ee=this.tokenizer.html(U)){U=U.substring(ee.raw.length),K.push(ee);continue}if(ee=this.tokenizer.def(U)){U=U.substring(ee.raw.length),ue=K[K.length-1],ue&&(ue.type==="paragraph"||ue.type==="text")?(ue.raw+=`
`+ee.raw,ue.text+=`
`+ee.raw,this.inlineQueue[this.inlineQueue.length-1].src=ue.text):this.tokens.links[ee.tag]||(this.tokens.links[ee.tag]={href:ee.href,title:ee.title});continue}if(ee=this.tokenizer.table(U)){U=U.substring(ee.raw.length),K.push(ee);continue}if(ee=this.tokenizer.lheading(U)){U=U.substring(ee.raw.length),K.push(ee);continue}if(fe=U,this.options.extensions&&this.options.extensions.startBlock&&function(){var ye=1/0,De=U.slice(1),Me=void 0;ce.options.extensions.startBlock.forEach(function(pe){Me=pe.call({lexer:this},De),typeof Me=="number"&&Me>=0&&(ye=Math.min(ye,Me))}),ye<1/0&&ye>=0&&(fe=U.substring(0,ye+1))}(),this.state.top&&(ee=this.tokenizer.paragraph(fe))){ue=K[K.length-1],Ce&&ue.type==="paragraph"?(ue.raw+=`
`+ee.raw,ue.text+=`
`+ee.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ue.text):K.push(ee),Ce=fe.length!==U.length,U=U.substring(ee.raw.length);continue}if(ee=this.tokenizer.text(U)){U=U.substring(ee.raw.length),ue=K[K.length-1],ue&&ue.type==="text"?(ue.raw+=`
`+ee.raw,ue.text+=`
`+ee.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ue.text):K.push(ee);continue}if(U){var we="Infinite loop on byte: "+U.charCodeAt(0);if(this.options.silent){console.error(we);break}else throw new Error(we)}}return this.state.top=!0,K},X.inline=function(U,K){this.inlineQueue.push({src:U,tokens:K})},X.inlineTokens=function(U,K){var ce=this;K===void 0&&(K=[]);var ee,ue,fe,Ce=U,we,ye,De;if(this.tokens.links){var Me=Object.keys(this.tokens.links);if(Me.length>0)for(;(we=this.tokenizer.rules.inline.reflinkSearch.exec(Ce))!=null;)Me.includes(we[0].slice(we[0].lastIndexOf("[")+1,-1))&&(Ce=Ce.slice(0,we.index)+"["+O("a",we[0].length-2)+"]"+Ce.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(we=this.tokenizer.rules.inline.blockSkip.exec(Ce))!=null;)Ce=Ce.slice(0,we.index)+"["+O("a",we[0].length-2)+"]"+Ce.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(we=this.tokenizer.rules.inline.escapedEmSt.exec(Ce))!=null;)Ce=Ce.slice(0,we.index)+"++"+Ce.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;U;)if(ye||(De=""),ye=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(he){return(ee=he.call({lexer:ce},U,K))?(U=U.substring(ee.raw.length),K.push(ee),!0):!1}))){if(ee=this.tokenizer.escape(U)){U=U.substring(ee.raw.length),K.push(ee);continue}if(ee=this.tokenizer.tag(U)){U=U.substring(ee.raw.length),ue=K[K.length-1],ue&&ee.type==="text"&&ue.type==="text"?(ue.raw+=ee.raw,ue.text+=ee.text):K.push(ee);continue}if(ee=this.tokenizer.link(U)){U=U.substring(ee.raw.length),K.push(ee);continue}if(ee=this.tokenizer.reflink(U,this.tokens.links)){U=U.substring(ee.raw.length),ue=K[K.length-1],ue&&ee.type==="text"&&ue.type==="text"?(ue.raw+=ee.raw,ue.text+=ee.text):K.push(ee);continue}if(ee=this.tokenizer.emStrong(U,Ce,De)){U=U.substring(ee.raw.length),K.push(ee);continue}if(ee=this.tokenizer.codespan(U)){U=U.substring(ee.raw.length),K.push(ee);continue}if(ee=this.tokenizer.br(U)){U=U.substring(ee.raw.length),K.push(ee);continue}if(ee=this.tokenizer.del(U)){U=U.substring(ee.raw.length),K.push(ee);continue}if(ee=this.tokenizer.autolink(U,A)){U=U.substring(ee.raw.length),K.push(ee);continue}if(!this.state.inLink&&(ee=this.tokenizer.url(U,A))){U=U.substring(ee.raw.length),K.push(ee);continue}if(fe=U,this.options.extensions&&this.options.extensions.startInline&&function(){var he=1/0,le=U.slice(1),ge=void 0;ce.options.extensions.startInline.forEach(function(_e){ge=_e.call({lexer:this},le),typeof ge=="number"&&ge>=0&&(he=Math.min(he,ge))}),he<1/0&&he>=0&&(fe=U.substring(0,he+1))}(),ee=this.tokenizer.inlineText(fe,V)){U=U.substring(ee.raw.length),ee.raw.slice(-1)!=="_"&&(De=ee.raw.slice(-1)),ye=!0,ue=K[K.length-1],ue&&ue.type==="text"?(ue.raw+=ee.raw,ue.text+=ee.text):K.push(ee);continue}if(U){var pe="Infinite loop on byte: "+U.charCodeAt(0);if(this.options.silent){console.error(pe);break}else throw new Error(pe)}}return K},w(z,null,[{key:"rules",get:function(){return{block:B,inline:W}}}]),z}(),J=function(){function z(G){this.options=G||$.defaults}var X=z.prototype;return X.code=function(U,K,ce){var ee=(K||"").match(/\S*/)[0];if(this.options.highlight){var ue=this.options.highlight(U,ee);ue!=null&&ue!==U&&(ce=!0,U=ue)}return U=U.replace(/\n$/,"")+`
`,ee?'<pre><code class="'+this.options.langPrefix+r(ee,!0)+'">'+(ce?U:r(U,!0))+`</code></pre>
`:"<pre><code>"+(ce?U:r(U,!0))+`</code></pre>
`},X.blockquote=function(U){return`<blockquote>
`+U+`</blockquote>
`},X.html=function(U){return U},X.heading=function(U,K,ce,ee){if(this.options.headerIds){var ue=this.options.headerPrefix+ee.slug(ce);return"<h"+K+' id="'+ue+'">'+U+"</h"+K+`>
`}return"<h"+K+">"+U+"</h"+K+`>
`},X.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},X.list=function(U,K,ce){var ee=K?"ol":"ul",ue=K&&ce!==1?' start="'+ce+'"':"";return"<"+ee+ue+`>
`+U+"</"+ee+`>
`},X.listitem=function(U){return"<li>"+U+`</li>
`},X.checkbox=function(U){return"<input "+(U?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},X.paragraph=function(U){return"<p>"+U+`</p>
`},X.table=function(U,K){return K&&(K="<tbody>"+K+"</tbody>"),`<table>
<thead>
`+U+`</thead>
`+K+`</table>
`},X.tablerow=function(U){return`<tr>
`+U+`</tr>
`},X.tablecell=function(U,K){var ce=K.header?"th":"td",ee=K.align?"<"+ce+' align="'+K.align+'">':"<"+ce+">";return ee+U+("</"+ce+`>
`)},X.strong=function(U){return"<strong>"+U+"</strong>"},X.em=function(U){return"<em>"+U+"</em>"},X.codespan=function(U){return"<code>"+U+"</code>"},X.br=function(){return this.options.xhtml?"<br/>":"<br>"},X.del=function(U){return"<del>"+U+"</del>"},X.link=function(U,K,ce){if(U=f(this.options.sanitize,this.options.baseUrl,U),U===null)return ce;var ee='<a href="'+r(U)+'"';return K&&(ee+=' title="'+K+'"'),ee+=">"+ce+"</a>",ee},X.image=function(U,K,ce){if(U=f(this.options.sanitize,this.options.baseUrl,U),U===null)return ce;var ee='<img src="'+U+'" alt="'+ce+'"';return K&&(ee+=' title="'+K+'"'),ee+=this.options.xhtml?"/>":">",ee},X.text=function(U){return U},z}(),H=function(){function z(){}var X=z.prototype;return X.strong=function(U){return U},X.em=function(U){return U},X.codespan=function(U){return U},X.del=function(U){return U},X.html=function(U){return U},X.text=function(U){return U},X.link=function(U,K,ce){return""+ce},X.image=function(U,K,ce){return""+ce},X.br=function(){return""},z}(),q=function(){function z(){this.seen={}}var X=z.prototype;return X.serialize=function(U){return U.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},X.getNextSafeSlug=function(U,K){var ce=U,ee=0;if(this.seen.hasOwnProperty(ce)){ee=this.seen[U];do ee++,ce=U+"-"+ee;while(this.seen.hasOwnProperty(ce))}return K||(this.seen[U]=ee,this.seen[ce]=0),ce},X.slug=function(U,K){K===void 0&&(K={});var ce=this.serialize(U);return this.getNextSafeSlug(ce,K.dryrun)},z}(),Z=function(){function z(G){this.options=G||$.defaults,this.options.renderer=this.options.renderer||new J,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new H,this.slugger=new q}z.parse=function(U,K){var ce=new z(K);return ce.parse(U)},z.parseInline=function(U,K){var ce=new z(K);return ce.parseInline(U)};var X=z.prototype;return X.parse=function(U,K){K===void 0&&(K=!0);var ce="",ee,ue,fe,Ce,we,ye,De,Me,pe,he,le,ge,_e,Le,Ie,Ae,Oe,be,ve,Ee=U.length;for(ee=0;ee<Ee;ee++){if(he=U[ee],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[he.type]&&(ve=this.options.extensions.renderers[he.type].call({parser:this},he),ve!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(he.type))){ce+=ve||"";continue}switch(he.type){case"space":continue;case"hr":{ce+=this.renderer.hr();continue}case"heading":{ce+=this.renderer.heading(this.parseInline(he.tokens),he.depth,d(this.parseInline(he.tokens,this.textRenderer)),this.slugger);continue}case"code":{ce+=this.renderer.code(he.text,he.lang,he.escaped);continue}case"table":{for(Me="",De="",Ce=he.header.length,ue=0;ue<Ce;ue++)De+=this.renderer.tablecell(this.parseInline(he.header[ue].tokens),{header:!0,align:he.align[ue]});for(Me+=this.renderer.tablerow(De),pe="",Ce=he.rows.length,ue=0;ue<Ce;ue++){for(ye=he.rows[ue],De="",we=ye.length,fe=0;fe<we;fe++)De+=this.renderer.tablecell(this.parseInline(ye[fe].tokens),{header:!1,align:he.align[fe]});pe+=this.renderer.tablerow(De)}ce+=this.renderer.table(Me,pe);continue}case"blockquote":{pe=this.parse(he.tokens),ce+=this.renderer.blockquote(pe);continue}case"list":{for(le=he.ordered,ge=he.start,_e=he.loose,Ce=he.items.length,pe="",ue=0;ue<Ce;ue++)Ie=he.items[ue],Ae=Ie.checked,Oe=Ie.task,Le="",Ie.task&&(be=this.renderer.checkbox(Ae),_e?Ie.tokens.length>0&&Ie.tokens[0].type==="paragraph"?(Ie.tokens[0].text=be+" "+Ie.tokens[0].text,Ie.tokens[0].tokens&&Ie.tokens[0].tokens.length>0&&Ie.tokens[0].tokens[0].type==="text"&&(Ie.tokens[0].tokens[0].text=be+" "+Ie.tokens[0].tokens[0].text)):Ie.tokens.unshift({type:"text",text:be}):Le+=be),Le+=this.parse(Ie.tokens,_e),pe+=this.renderer.listitem(Le,Oe,Ae);ce+=this.renderer.list(pe,le,ge);continue}case"html":{ce+=this.renderer.html(he.text);continue}case"paragraph":{ce+=this.renderer.paragraph(this.parseInline(he.tokens));continue}case"text":{for(pe=he.tokens?this.parseInline(he.tokens):he.text;ee+1<Ee&&U[ee+1].type==="text";)he=U[++ee],pe+=`
`+(he.tokens?this.parseInline(he.tokens):he.text);ce+=K?this.renderer.paragraph(pe):pe;continue}default:{var Re='Token with "'+he.type+'" type was not found.';if(this.options.silent){console.error(Re);return}else throw new Error(Re)}}}return ce},X.parseInline=function(U,K){K=K||this.renderer;var ce="",ee,ue,fe,Ce=U.length;for(ee=0;ee<Ce;ee++){if(ue=U[ee],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ue.type]&&(fe=this.options.extensions.renderers[ue.type].call({parser:this},ue),fe!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(ue.type))){ce+=fe||"";continue}switch(ue.type){case"escape":{ce+=K.text(ue.text);break}case"html":{ce+=K.html(ue.text);break}case"link":{ce+=K.link(ue.href,ue.title,this.parseInline(ue.tokens,K));break}case"image":{ce+=K.image(ue.href,ue.title,ue.text);break}case"strong":{ce+=K.strong(this.parseInline(ue.tokens,K));break}case"em":{ce+=K.em(this.parseInline(ue.tokens,K));break}case"codespan":{ce+=K.codespan(ue.text);break}case"br":{ce+=K.br();break}case"del":{ce+=K.del(this.parseInline(ue.tokens,K));break}case"text":{ce+=K.text(ue.text);break}default:{var we='Token with "'+ue.type+'" type was not found.';if(this.options.silent){console.error(we);return}else throw new Error(we)}}}return ce},z}();function ie(z,X,G){if(typeof z=="undefined"||z===null)throw new Error("marked(): input parameter is undefined or null");if(typeof z!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(z)+", string expected");if(typeof X=="function"&&(G=X,X=null),X=E({},ie.defaults,X||{}),F(X),G){var U=X.highlight,K;try{K=Q.lex(z,X)}catch(fe){return G(fe)}var ce=function(Ce){var we;if(!Ce)try{X.walkTokens&&ie.walkTokens(K,X.walkTokens),we=Z.parse(K,X)}catch(ye){Ce=ye}return X.highlight=U,Ce?G(Ce):G(null,we)};if(!U||U.length<3||(delete X.highlight,!K.length))return ce();var ee=0;ie.walkTokens(K,function(fe){fe.type==="code"&&(ee++,setTimeout(function(){U(fe.text,fe.lang,function(Ce,we){if(Ce)return ce(Ce);we!=null&&we!==fe.text&&(fe.text=we,fe.escaped=!0),ee--,ee===0&&ce()})},0))}),ee===0&&ce();return}try{var ue=Q.lex(z,X);return X.walkTokens&&ie.walkTokens(ue,X.walkTokens),Z.parse(ue,X)}catch(fe){if(fe.message+=`
Please report this to https://github.com/markedjs/marked.`,X.silent)return"<p>An error occurred:</p><pre>"+r(fe.message+"",!0)+"</pre>";throw fe}}ie.options=ie.setOptions=function(z){return E(ie.defaults,z),b(ie.defaults),ie},ie.getDefaults=L,ie.defaults=$.defaults,ie.use=function(){for(var z=arguments.length,X=new Array(z),G=0;G<z;G++)X[G]=arguments[G];var U=E.apply(void 0,[{}].concat(X)),K=ie.defaults.extensions||{renderers:{},childTokens:{}},ce;X.forEach(function(ee){if(ee.extensions&&(ce=!0,ee.extensions.forEach(function(fe){if(!fe.name)throw new Error("extension name required");if(fe.renderer){var Ce=K.renderers?K.renderers[fe.name]:null;Ce?K.renderers[fe.name]=function(){for(var we=arguments.length,ye=new Array(we),De=0;De<we;De++)ye[De]=arguments[De];var Me=fe.renderer.apply(this,ye);return Me===!1&&(Me=Ce.apply(this,ye)),Me}:K.renderers[fe.name]=fe.renderer}if(fe.tokenizer){if(!fe.level||fe.level!=="block"&&fe.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");K[fe.level]?K[fe.level].unshift(fe.tokenizer):K[fe.level]=[fe.tokenizer],fe.start&&(fe.level==="block"?K.startBlock?K.startBlock.push(fe.start):K.startBlock=[fe.start]:fe.level==="inline"&&(K.startInline?K.startInline.push(fe.start):K.startInline=[fe.start]))}fe.childTokens&&(K.childTokens[fe.name]=fe.childTokens)})),ee.renderer&&function(){var fe=ie.defaults.renderer||new J,Ce=function(De){var Me=fe[De];fe[De]=function(){for(var pe=arguments.length,he=new Array(pe),le=0;le<pe;le++)he[le]=arguments[le];var ge=ee.renderer[De].apply(fe,he);return ge===!1&&(ge=Me.apply(fe,he)),ge}};for(var we in ee.renderer)Ce(we);U.renderer=fe}(),ee.tokenizer&&function(){var fe=ie.defaults.tokenizer||new P,Ce=function(De){var Me=fe[De];fe[De]=function(){for(var pe=arguments.length,he=new Array(pe),le=0;le<pe;le++)he[le]=arguments[le];var ge=ee.tokenizer[De].apply(fe,he);return ge===!1&&(ge=Me.apply(fe,he)),ge}};for(var we in ee.tokenizer)Ce(we);U.tokenizer=fe}(),ee.walkTokens){var ue=ie.defaults.walkTokens;U.walkTokens=function(fe){ee.walkTokens.call(this,fe),ue&&ue.call(this,fe)}}ce&&(U.extensions=K),ie.setOptions(U)})},ie.walkTokens=function(z,X){for(var G=function(){var ee=K.value;switch(X.call(ie,ee),ee.type){case"table":{for(var ue=I(ee.header),fe;!(fe=ue()).done;){var Ce=fe.value;ie.walkTokens(Ce.tokens,X)}for(var we=I(ee.rows),ye;!(ye=we()).done;)for(var De=ye.value,Me=I(De),pe;!(pe=Me()).done;){var he=pe.value;ie.walkTokens(he.tokens,X)}break}case"list":{ie.walkTokens(ee.items,X);break}default:ie.defaults.extensions&&ie.defaults.extensions.childTokens&&ie.defaults.extensions.childTokens[ee.type]?ie.defaults.extensions.childTokens[ee.type].forEach(function(le){ie.walkTokens(ee[le],X)}):ee.tokens&&ie.walkTokens(ee.tokens,X)}},U=I(z),K;!(K=U()).done;)G()},ie.parseInline=function(z,X){if(typeof z=="undefined"||z===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof z!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(z)+", string expected");X=E({},ie.defaults,X||{}),F(X);try{var G=Q.lexInline(z,X);return X.walkTokens&&ie.walkTokens(G,X.walkTokens),Z.parseInline(G,X)}catch(U){if(U.message+=`
Please report this to https://github.com/markedjs/marked.`,X.silent)return"<p>An error occurred:</p><pre>"+r(U.message+"",!0)+"</pre>";throw U}},ie.Parser=Z,ie.parser=Z.parse,ie.Renderer=J,ie.TextRenderer=H,ie.Lexer=Q,ie.lexer=Q.lex,ie.Tokenizer=P,ie.Slugger=q,ie.parse=ie;var Y=ie.options,te=ie.setOptions,de=ie.use,x=ie.walkTokens,oe=ie.parseInline,ne=ie,j=Z.parse,se=Q.lex;$.Lexer=Q,$.Parser=Z,$.Renderer=J,$.Slugger=q,$.TextRenderer=H,$.Tokenizer=P,$.getDefaults=L,$.lexer=se,$.marked=ie,$.options=Y,$.parse=ne,$.parseInline=oe,$.parser=j,$.setOptions=te,$.use=de,$.walkTokens=x,Object.defineProperty($,"__esModule",{value:!0})}),define(re[97],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mimes=void 0,e.Mimes=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})}),define(re[123],ae([1,0,97]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StaticDND=e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:w.Mimes.text},e.StaticDND={CurrentDragAndDropData:void 0}}),define(re[330],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class w{constructor(k,I=0,L=k.length,b=I-1){this.items=k,this.start=I,this.end=L,this.index=b}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=w}),define(re[331],ae([1,0,330]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class C{constructor(I=[],L=10){this._initialize(I),this._limit=L,this._onChange()}getHistory(){return this._elements}add(I){this._history.delete(I),this._history.add(I),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(I){return this._history.has(I)}_onChange(){this._reduceToLimit();const I=this._elements;this._navigator=new w.ArrayNavigator(I,0,I.length,I.length)}_reduceToLimit(){const I=this._elements;I.length>this._limit&&this._initialize(I.slice(I.length-this._limit))}_currentPosition(){const I=this._navigator.current();return I?this._elements.indexOf(I):-1}_initialize(I){this._history=new Set;for(const L of I)this._history.add(L)}get _elements(){const I=[];return this._history.forEach(L=>I.push(L)),I}}e.HistoryNavigator=C}),define(re[124],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlidingWindowAverage=e.MovingAverage=e.clamp=void 0;function w(I,L,b){return Math.min(Math.max(I,L),b)}e.clamp=w;class C{constructor(){this._n=1,this._val=0}update(L){return this._val=this._val+(L-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}e.MovingAverage=C;class k{constructor(L){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(L),this._values.fill(0,0,L)}update(L){const b=this._values[this._index];return this._values[this._index]=L,this._index=(this._index+1)%this._values.length,this._sum-=b,this._sum+=L,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}e.SlidingWindowAverage=k}),define(re[146],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var w;(function(C){function k(v,u){if(v.start>=u.end||u.start>=v.end)return{start:0,end:0};const g=Math.max(v.start,u.start),n=Math.min(v.end,u.end);return n-g<=0?{start:0,end:0}:{start:g,end:n}}C.intersect=k;function I(v){return v.end-v.start<=0}C.isEmpty=I;function L(v,u){return!I(k(v,u))}C.intersects=L;function b(v,u){const g=[],n={start:v.start,end:Math.min(u.start,v.end)},i={start:Math.max(u.end,v.start),end:v.end};return I(n)||g.push(n),I(i)||g.push(i),g}C.relativeComplement=b})(w=e.Range||(e.Range={}))}),define(re[332],ae([1,0,146]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=e.consolidate=e.shift=e.groupIntersect=void 0;function C(v,u){const g=[];for(const n of u){if(v.start>=n.range.end)continue;if(v.end<n.range.start)break;const i=w.Range.intersect(v,n.range);w.Range.isEmpty(i)||g.push({range:i,size:n.size})}return g}e.groupIntersect=C;function k({start:v,end:u},g){return{start:v+g,end:u+g}}e.shift=k;function I(v){const u=[];let g=null;for(const n of v){const i=n.range.start,t=n.range.end,r=n.size;if(g&&r===g.size){g.range.end=t;continue}g={range:{start:i,end:t},size:r},u.push(g)}return u}e.consolidate=I;function L(...v){return I(v.reduce((u,g)=>u.concat(g),[]))}class b{constructor(){this.groups=[],this._size=0}splice(u,g,n=[]){const i=n.length-g,t=C({start:0,end:u},this.groups),r=C({start:u+g,end:Number.POSITIVE_INFINITY},this.groups).map(d=>({range:k(d.range,i),size:d.size})),l=n.map((d,a)=>({range:{start:u+a,end:u+a+1},size:d.size}));this.groups=L(t,l,r),this._size=this.groups.reduce((d,a)=>d+a.size*(a.range.end-a.range.start),0)}get count(){const u=this.groups.length;return u?this.groups[u-1].range.end:0}get size(){return this._size}indexAt(u){if(u<0)return-1;let g=0,n=0;for(const i of this.groups){const t=i.range.end-i.range.start,r=n+t*i.size;if(u<r)return g+Math.floor((u-n)/i.size);g+=t,n=r}return g}indexAfter(u){return Math.min(this.indexAt(u)+1,this.count)}positionAt(u){if(u<0)return-1;let g=0,n=0;for(const i of this.groups){const t=i.range.end-i.range.start,r=n+t;if(u<r)return g+(u-n)*i.size;g+=t*i.size,n=r}return-1}}e.RangeMap=b}),define(re[8],ae([1,0,222,145]),function($,e,w,C){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.InvisibleCharacters=e.AmbiguousCharacters=e.noBreakWhitespace=e.getLeftDeleteOffset=e.singleLetterHash=e.containsUppercaseCharacter=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsRTL=e.getCharContainingOffset=e.prevCharLength=e.nextCharLength=e.GraphemeIterator=e.CodePointIterator=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.isAsciiDigit=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpFlags=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.escapeRegExpCharacters=e.escape=e.format=e.isFalsyOrWhitespace=void 0;function I(ee){return!ee||typeof ee!="string"?!0:ee.trim().length===0}e.isFalsyOrWhitespace=I;const L=/{(\d+)}/g;function b(ee,...ue){return ue.length===0?ee:ee.replace(L,function(fe,Ce){const we=parseInt(Ce,10);return isNaN(we)||we<0||we>=ue.length?fe:ue[we]})}e.format=b;function v(ee){return ee.replace(/[<>&]/g,function(ue){switch(ue){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return ue}})}e.escape=v;function u(ee){return ee.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=u;function g(ee,ue=" "){const fe=n(ee,ue);return i(fe,ue)}e.trim=g;function n(ee,ue){if(!ee||!ue)return ee;const fe=ue.length;if(fe===0||ee.length===0)return ee;let Ce=0;for(;ee.indexOf(ue,Ce)===Ce;)Ce=Ce+fe;return ee.substring(Ce)}e.ltrim=n;function i(ee,ue){if(!ee||!ue)return ee;const fe=ue.length,Ce=ee.length;if(fe===0||Ce===0)return ee;let we=Ce,ye=-1;for(;ye=ee.lastIndexOf(ue,we-1),!(ye===-1||ye+fe!==we);){if(ye===0)return"";we=ye}return ee.substring(0,we)}e.rtrim=i;function t(ee){return ee.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=t;function r(ee){return ee.replace(/\*/g,"")}e.stripWildcards=r;function l(ee,ue,fe={}){if(!ee)throw new Error("Cannot create regex from empty string");ue||(ee=u(ee)),fe.wholeWord&&(/\B/.test(ee.charAt(0))||(ee="\\b"+ee),/\B/.test(ee.charAt(ee.length-1))||(ee=ee+"\\b"));let Ce="";return fe.global&&(Ce+="g"),fe.matchCase||(Ce+="i"),fe.multiline&&(Ce+="m"),fe.unicode&&(Ce+="u"),new RegExp(ee,Ce)}e.createRegExp=l;function d(ee){return ee.source==="^"||ee.source==="^$"||ee.source==="$"||ee.source==="^\\s*$"?!1:!!(ee.exec("")&&ee.lastIndex===0)}e.regExpLeadsToEndlessLoop=d;function a(ee){return(ee.global?"g":"")+(ee.ignoreCase?"i":"")+(ee.multiline?"m":"")+(ee.unicode?"u":"")}e.regExpFlags=a;function s(ee){return ee.split(/\r\n|\r|\n/)}e.splitLines=s;function o(ee){for(let ue=0,fe=ee.length;ue<fe;ue++){const Ce=ee.charCodeAt(ue);if(Ce!==32&&Ce!==9)return ue}return-1}e.firstNonWhitespaceIndex=o;function c(ee,ue=0,fe=ee.length){for(let Ce=ue;Ce<fe;Ce++){const we=ee.charCodeAt(Ce);if(we!==32&&we!==9)return ee.substring(ue,Ce)}return ee.substring(ue,fe)}e.getLeadingWhitespace=c;function f(ee,ue=ee.length-1){for(let fe=ue;fe>=0;fe--){const Ce=ee.charCodeAt(fe);if(Ce!==32&&Ce!==9)return fe}return-1}e.lastNonWhitespaceIndex=f;function p(ee,ue){return ee<ue?-1:ee>ue?1:0}e.compare=p;function _(ee,ue,fe=0,Ce=ee.length,we=0,ye=ue.length){for(;fe<Ce&&we<ye;fe++,we++){const pe=ee.charCodeAt(fe),he=ue.charCodeAt(we);if(pe<he)return-1;if(pe>he)return 1}const De=Ce-fe,Me=ye-we;return De<Me?-1:De>Me?1:0}e.compareSubstring=_;function m(ee,ue){return h(ee,ue,0,ee.length,0,ue.length)}e.compareIgnoreCase=m;function h(ee,ue,fe=0,Ce=ee.length,we=0,ye=ue.length){for(;fe<Ce&&we<ye;fe++,we++){let pe=ee.charCodeAt(fe),he=ue.charCodeAt(we);if(pe===he)continue;if(pe>=128||he>=128)return _(ee.toLowerCase(),ue.toLowerCase(),fe,Ce,we,ye);y(pe)&&(pe-=32),y(he)&&(he-=32);const le=pe-he;if(le!==0)return le}const De=Ce-fe,Me=ye-we;return De<Me?-1:De>Me?1:0}e.compareSubstringIgnoreCase=h;function S(ee){return ee>=48&&ee<=57}e.isAsciiDigit=S;function y(ee){return ee>=97&&ee<=122}e.isLowerAsciiLetter=y;function E(ee){return ee>=65&&ee<=90}e.isUpperAsciiLetter=E;function N(ee,ue){return ee.length===ue.length&&h(ee,ue)===0}e.equalsIgnoreCase=N;function T(ee,ue){const fe=ue.length;return ue.length>ee.length?!1:h(ee,ue,0,fe)===0}e.startsWithIgnoreCase=T;function R(ee,ue){const fe=Math.min(ee.length,ue.length);let Ce;for(Ce=0;Ce<fe;Ce++)if(ee.charCodeAt(Ce)!==ue.charCodeAt(Ce))return Ce;return fe}e.commonPrefixLength=R;function F(ee,ue){const fe=Math.min(ee.length,ue.length);let Ce;const we=ee.length-1,ye=ue.length-1;for(Ce=0;Ce<fe;Ce++)if(ee.charCodeAt(we-Ce)!==ue.charCodeAt(ye-Ce))return Ce;return fe}e.commonSuffixLength=F;function O(ee){return 55296<=ee&&ee<=56319}e.isHighSurrogate=O;function D(ee){return 56320<=ee&&ee<=57343}e.isLowSurrogate=D;function M(ee,ue){return(ee-55296<<10)+(ue-56320)+65536}e.computeCodePoint=M;function P(ee,ue,fe){const Ce=ee.charCodeAt(fe);if(O(Ce)&&fe+1<ue){const we=ee.charCodeAt(fe+1);if(D(we))return M(Ce,we)}return Ce}e.getNextCodePoint=P;function B(ee,ue){const fe=ee.charCodeAt(ue-1);if(D(fe)&&ue>1){const Ce=ee.charCodeAt(ue-2);if(O(Ce))return M(Ce,fe)}return fe}class W{constructor(ue,fe=0){this._str=ue,this._len=ue.length,this._offset=fe}get offset(){return this._offset}setOffset(ue){this._offset=ue}prevCodePoint(){const ue=B(this._str,this._offset);return this._offset-=ue>=65536?2:1,ue}nextCodePoint(){const ue=P(this._str,this._len,this._offset);return this._offset+=ue>=65536?2:1,ue}eol(){return this._offset>=this._len}}e.CodePointIterator=W;class V{constructor(ue,fe=0){this._iterator=new W(ue,fe)}get offset(){return this._iterator.offset}nextGraphemeLength(){const ue=se.getInstance(),fe=this._iterator,Ce=fe.offset;let we=ue.getGraphemeBreakType(fe.nextCodePoint());for(;!fe.eol();){const ye=fe.offset,De=ue.getGraphemeBreakType(fe.nextCodePoint());if(j(we,De)){fe.setOffset(ye);break}we=De}return fe.offset-Ce}prevGraphemeLength(){const ue=se.getInstance(),fe=this._iterator,Ce=fe.offset;let we=ue.getGraphemeBreakType(fe.prevCodePoint());for(;fe.offset>0;){const ye=fe.offset,De=ue.getGraphemeBreakType(fe.prevCodePoint());if(j(De,we)){fe.setOffset(ye);break}we=De}return Ce-fe.offset}eol(){return this._iterator.eol()}}e.GraphemeIterator=V;function A(ee,ue){return new V(ee,ue).nextGraphemeLength()}e.nextCharLength=A;function Q(ee,ue){return new V(ee,ue).prevGraphemeLength()}e.prevCharLength=Q;function J(ee,ue){ue>0&&D(ee.charCodeAt(ue))&&ue--;const fe=ue+A(ee,ue);return[fe-Q(ee,fe),fe]}e.getCharContainingOffset=J;const H=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function q(ee){return H.test(ee)}e.containsRTL=q;const Z=/^[\t\n\r\x20-\x7E]*$/;function ie(ee){return Z.test(ee)}e.isBasicASCII=ie,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function Y(ee){return e.UNUSUAL_LINE_TERMINATORS.test(ee)}e.containsUnusualLineTerminators=Y;function te(ee){return ee>=11904&&ee<=55215||ee>=63744&&ee<=64255||ee>=65281&&ee<=65374}e.isFullWidthCharacter=te;function de(ee){return ee>=127462&&ee<=127487||ee===8986||ee===8987||ee===9200||ee===9203||ee>=9728&&ee<=10175||ee===11088||ee===11093||ee>=127744&&ee<=128591||ee>=128640&&ee<=128764||ee>=128992&&ee<=129008||ee>=129280&&ee<=129535||ee>=129648&&ee<=129782}e.isEmojiImprecise=de,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function x(ee){return!!(ee&&ee.length>0&&ee.charCodeAt(0)===65279)}e.startsWithUTF8BOM=x;function oe(ee,ue=!1){return ee?(ue&&(ee=ee.replace(/\\./g,"")),ee.toLowerCase()!==ee):!1}e.containsUppercaseCharacter=oe;function ne(ee){const ue=90-65+1;return ee=ee%(2*ue),ee<ue?String.fromCharCode(97+ee):String.fromCharCode(65+ee-ue)}e.singleLetterHash=ne;function j(ee,ue){return ee===0?ue!==5&&ue!==7:ee===2&&ue===3?!1:ee===4||ee===2||ee===3||ue===4||ue===2||ue===3?!0:!(ee===8&&(ue===8||ue===9||ue===11||ue===12)||(ee===11||ee===9)&&(ue===9||ue===10)||(ee===12||ee===10)&&ue===10||ue===5||ue===13||ue===7||ee===1||ee===13&&ue===14||ee===6&&ue===6)}class se{constructor(){this._data=z()}static getInstance(){return se._INSTANCE||(se._INSTANCE=new se),se._INSTANCE}getGraphemeBreakType(ue){if(ue<32)return ue===10?3:ue===13?2:4;if(ue<127)return 0;const fe=this._data,Ce=fe.length/3;let we=1;for(;we<=Ce;)if(ue<fe[3*we])we=2*we;else if(ue>fe[3*we+1])we=2*we+1;else return fe[3*we+2];return 0}}se._INSTANCE=null;function z(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function X(ee,ue){if(ee===0)return 0;const fe=G(ee,ue);if(fe!==void 0)return fe;const Ce=new W(ue,ee);return Ce.prevCodePoint(),Ce.offset}e.getLeftDeleteOffset=X;function G(ee,ue){const fe=new W(ue,ee);let Ce=fe.prevCodePoint();for(;U(Ce)||Ce===65039||Ce===8419;){if(fe.offset===0)return;Ce=fe.prevCodePoint()}if(!de(Ce))return;let we=fe.offset;return we>0&&fe.prevCodePoint()===8205&&(we=fe.offset),we}function U(ee){return 127995<=ee&&ee<=127999}e.noBreakWhitespace="\xA0";class K{constructor(ue){this.confusableDictionary=ue}static getInstance(ue){return K.cache.get(Array.from(ue))}static getLocales(){return K._locales.getValue()}isAmbiguous(ue){return this.confusableDictionary.has(ue)}getPrimaryConfusable(ue){return this.confusableDictionary.get(ue)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}e.AmbiguousCharacters=K,k=K,K.ambiguousCharacterData=new C.Lazy(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),K.cache=new w.LRUCachedFunction(ee=>{function ue(he){const le=new Map;for(let ge=0;ge<he.length;ge+=2)le.set(he[ge],he[ge+1]);return le}function fe(he,le){const ge=new Map(he);for(const[_e,Le]of le)ge.set(_e,Le);return ge}function Ce(he,le){if(!he)return le;const ge=new Map;for(const[_e,Le]of he)le.has(_e)&&ge.set(_e,Le);return ge}const we=k.ambiguousCharacterData.getValue();let ye=ee.filter(he=>!he.startsWith("_")&&he in we);ye.length===0&&(ye=["_default"]);let De;for(const he of ye){const le=ue(we[he]);De=Ce(De,le)}const Me=ue(we._common),pe=fe(Me,De);return new K(pe)}),K._locales=new C.Lazy(()=>Object.keys(K.ambiguousCharacterData.getValue()).filter(ee=>!ee.startsWith("_")));class ce{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(ce.getRawData())),this._data}static isInvisibleCharacter(ue){return ce.getData().has(ue)}static get codePoints(){return ce.getData()}}e.InvisibleCharacters=ce,ce._data=void 0}),define(re[105],ae([1,0,8]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=e.toHexString=e.stringHash=e.numberHash=e.doHash=e.hash=void 0;function C(l){return k(l,0)}e.hash=C;function k(l,d){switch(typeof l){case"object":return l===null?I(349,d):Array.isArray(l)?v(l,d):u(l,d);case"string":return b(l,d);case"boolean":return L(l,d);case"number":return I(l,d);case"undefined":return I(937,d);default:return I(617,d)}}e.doHash=k;function I(l,d){return(d<<5)-d+l|0}e.numberHash=I;function L(l,d){return I(l?433:863,d)}function b(l,d){d=I(149417,d);for(let a=0,s=l.length;a<s;a++)d=I(l.charCodeAt(a),d);return d}e.stringHash=b;function v(l,d){return d=I(104579,d),l.reduce((a,s)=>k(s,a),d)}function u(l,d){return d=I(181387,d),Object.keys(l).sort().reduce((a,s)=>(a=b(s,a),k(l[s],a)),d)}function g(l,d,a=32){const s=a-d,o=~((1<<s)-1);return(l<<d|(o&l)>>>s)>>>0}function n(l,d=0,a=l.byteLength,s=0){for(let o=0;o<a;o++)l[d+o]=s}function i(l,d,a="0"){for(;l.length<d;)l=a+l;return l}function t(l,d=32){return l instanceof ArrayBuffer?Array.from(new Uint8Array(l)).map(a=>a.toString(16).padStart(2,"0")).join(""):i((l>>>0).toString(16),d/4)}e.toHexString=t;class r{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(d){const a=d.length;if(a===0)return;const s=this._buff;let o=this._buffLen,c=this._leftoverHighSurrogate,f,p;for(c!==0?(f=c,p=-1,c=0):(f=d.charCodeAt(0),p=0);;){let _=f;if(w.isHighSurrogate(f))if(p+1<a){const m=d.charCodeAt(p+1);w.isLowSurrogate(m)?(p++,_=w.computeCodePoint(f,m)):_=65533}else{c=f;break}else w.isLowSurrogate(f)&&(_=65533);if(o=this._push(s,o,_),p++,p<a)f=d.charCodeAt(p);else break}this._buffLen=o,this._leftoverHighSurrogate=c}_push(d,a,s){return s<128?d[a++]=s:s<2048?(d[a++]=192|(s&1984)>>>6,d[a++]=128|(s&63)>>>0):s<65536?(d[a++]=224|(s&61440)>>>12,d[a++]=128|(s&4032)>>>6,d[a++]=128|(s&63)>>>0):(d[a++]=240|(s&1835008)>>>18,d[a++]=128|(s&258048)>>>12,d[a++]=128|(s&4032)>>>6,d[a++]=128|(s&63)>>>0),a>=64&&(this._step(),a-=64,this._totalLen+=64,d[0]=d[64+0],d[1]=d[64+1],d[2]=d[64+2]),a}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),t(this._h0)+t(this._h1)+t(this._h2)+t(this._h3)+t(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,n(this._buff,this._buffLen),this._buffLen>56&&(this._step(),n(this._buff));const d=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(d/4294967296),!1),this._buffDV.setUint32(60,d%4294967296,!1),this._step()}_step(){const d=r._bigBlock32,a=this._buffDV;for(let S=0;S<64;S+=4)d.setUint32(S,a.getUint32(S,!1),!1);for(let S=64;S<320;S+=4)d.setUint32(S,g(d.getUint32(S-12,!1)^d.getUint32(S-32,!1)^d.getUint32(S-56,!1)^d.getUint32(S-64,!1),1),!1);let s=this._h0,o=this._h1,c=this._h2,f=this._h3,p=this._h4,_,m,h;for(let S=0;S<80;S++)S<20?(_=o&c|~o&f,m=1518500249):S<40?(_=o^c^f,m=1859775393):S<60?(_=o&c|o&f|c&f,m=2400959708):(_=o^c^f,m=3395469782),h=g(s,5)+_+p+m+d.getUint32(S*4,!1)&4294967295,p=f,f=c,c=g(o,30),o=s,s=h;this._h0=this._h0+s&4294967295,this._h1=this._h1+o&4294967295,this._h2=this._h2+c&4294967295,this._h3=this._h3+f&4294967295,this._h4=this._h4+p&4294967295}}e.StringSHA1=r,r._bigBlock32=new DataView(new ArrayBuffer(320))}),define(re[147],ae([1,0,328,105]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.MyArray=e.Debug=e.stringDiff=e.StringDiffSequence=void 0;class k{constructor(n){this.source=n}getElements(){const n=this.source,i=new Int32Array(n.length);for(let t=0,r=n.length;t<r;t++)i[t]=n.charCodeAt(t);return i}}e.StringDiffSequence=k;function I(g,n,i){return new u(new k(g),new k(n)).ComputeDiff(i).changes}e.stringDiff=I;class L{static Assert(n,i){if(!n)throw new Error(i)}}e.Debug=L;class b{static Copy(n,i,t,r,l){for(let d=0;d<l;d++)t[r+d]=n[i+d]}static Copy2(n,i,t,r,l){for(let d=0;d<l;d++)t[r+d]=n[i+d]}}e.MyArray=b;class v{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new w.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(n,i){this.m_originalStart=Math.min(this.m_originalStart,n),this.m_modifiedStart=Math.min(this.m_modifiedStart,i),this.m_originalCount++}AddModifiedElement(n,i){this.m_originalStart=Math.min(this.m_originalStart,n),this.m_modifiedStart=Math.min(this.m_modifiedStart,i),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class u{constructor(n,i,t=null){this.ContinueProcessingPredicate=t,this._originalSequence=n,this._modifiedSequence=i;const[r,l,d]=u._getElements(n),[a,s,o]=u._getElements(i);this._hasStrings=d&&o,this._originalStringElements=r,this._originalElementsOrHash=l,this._modifiedStringElements=a,this._modifiedElementsOrHash=s,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(n){return n.length>0&&typeof n[0]=="string"}static _getElements(n){const i=n.getElements();if(u._isStringArray(i)){const t=new Int32Array(i.length);for(let r=0,l=i.length;r<l;r++)t[r]=(0,C.stringHash)(i[r],0);return[i,t,!0]}return i instanceof Int32Array?[[],i,!1]:[[],new Int32Array(i),!1]}ElementsAreEqual(n,i){return this._originalElementsOrHash[n]!==this._modifiedElementsOrHash[i]?!1:this._hasStrings?this._originalStringElements[n]===this._modifiedStringElements[i]:!0}ElementsAreStrictEqual(n,i){if(!this.ElementsAreEqual(n,i))return!1;const t=u._getStrictElement(this._originalSequence,n),r=u._getStrictElement(this._modifiedSequence,i);return t===r}static _getStrictElement(n,i){return typeof n.getStrictElement=="function"?n.getStrictElement(i):null}OriginalElementsAreEqual(n,i){return this._originalElementsOrHash[n]!==this._originalElementsOrHash[i]?!1:this._hasStrings?this._originalStringElements[n]===this._originalStringElements[i]:!0}ModifiedElementsAreEqual(n,i){return this._modifiedElementsOrHash[n]!==this._modifiedElementsOrHash[i]?!1:this._hasStrings?this._modifiedStringElements[n]===this._modifiedStringElements[i]:!0}ComputeDiff(n){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,n)}_ComputeDiff(n,i,t,r,l){const d=[!1];let a=this.ComputeDiffRecursive(n,i,t,r,d);return l&&(a=this.PrettifyChanges(a)),{quitEarly:d[0],changes:a}}ComputeDiffRecursive(n,i,t,r,l){for(l[0]=!1;n<=i&&t<=r&&this.ElementsAreEqual(n,t);)n++,t++;for(;i>=n&&r>=t&&this.ElementsAreEqual(i,r);)i--,r--;if(n>i||t>r){let f;return t<=r?(L.Assert(n===i+1,"originalStart should only be one more than originalEnd"),f=[new w.DiffChange(n,0,t,r-t+1)]):n<=i?(L.Assert(t===r+1,"modifiedStart should only be one more than modifiedEnd"),f=[new w.DiffChange(n,i-n+1,t,0)]):(L.Assert(n===i+1,"originalStart should only be one more than originalEnd"),L.Assert(t===r+1,"modifiedStart should only be one more than modifiedEnd"),f=[]),f}const d=[0],a=[0],s=this.ComputeRecursionPoint(n,i,t,r,d,a,l),o=d[0],c=a[0];if(s!==null)return s;if(!l[0]){const f=this.ComputeDiffRecursive(n,o,t,c,l);let p=[];return l[0]?p=[new w.DiffChange(o+1,i-(o+1)+1,c+1,r-(c+1)+1)]:p=this.ComputeDiffRecursive(o+1,i,c+1,r,l),this.ConcatenateChanges(f,p)}return[new w.DiffChange(n,i-n+1,t,r-t+1)]}WALKTRACE(n,i,t,r,l,d,a,s,o,c,f,p,_,m,h,S,y,E){let N=null,T=null,R=new v,F=i,O=t,D=_[0]-S[0]-r,M=-1073741824,P=this.m_forwardHistory.length-1;do{const B=D+n;B===F||B<O&&o[B-1]<o[B+1]?(f=o[B+1],m=f-D-r,f<M&&R.MarkNextChange(),M=f,R.AddModifiedElement(f+1,m),D=B+1-n):(f=o[B-1]+1,m=f-D-r,f<M&&R.MarkNextChange(),M=f-1,R.AddOriginalElement(f,m+1),D=B-1-n),P>=0&&(o=this.m_forwardHistory[P],n=o[0],F=1,O=o.length-1)}while(--P>=-1);if(N=R.getReverseChanges(),E[0]){let B=_[0]+1,W=S[0]+1;if(N!==null&&N.length>0){const V=N[N.length-1];B=Math.max(B,V.getOriginalEnd()),W=Math.max(W,V.getModifiedEnd())}T=[new w.DiffChange(B,p-B+1,W,h-W+1)]}else{R=new v,F=d,O=a,D=_[0]-S[0]-s,M=1073741824,P=y?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const B=D+l;B===F||B<O&&c[B-1]>=c[B+1]?(f=c[B+1]-1,m=f-D-s,f>M&&R.MarkNextChange(),M=f+1,R.AddOriginalElement(f+1,m+1),D=B+1-l):(f=c[B-1],m=f-D-s,f>M&&R.MarkNextChange(),M=f,R.AddModifiedElement(f+1,m+1),D=B-1-l),P>=0&&(c=this.m_reverseHistory[P],l=c[0],F=1,O=c.length-1)}while(--P>=-1);T=R.getChanges()}return this.ConcatenateChanges(N,T)}ComputeRecursionPoint(n,i,t,r,l,d,a){let s=0,o=0,c=0,f=0,p=0,_=0;n--,t--,l[0]=0,d[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const m=i-n+(r-t),h=m+1,S=new Int32Array(h),y=new Int32Array(h),E=r-t,N=i-n,T=n-t,R=i-r,O=(N-E)%2==0;S[E]=n,y[N]=i,a[0]=!1;for(let D=1;D<=m/2+1;D++){let M=0,P=0;c=this.ClipDiagonalBound(E-D,D,E,h),f=this.ClipDiagonalBound(E+D,D,E,h);for(let W=c;W<=f;W+=2){W===c||W<f&&S[W-1]<S[W+1]?s=S[W+1]:s=S[W-1]+1,o=s-(W-E)-T;const V=s;for(;s<i&&o<r&&this.ElementsAreEqual(s+1,o+1);)s++,o++;if(S[W]=s,s+o>M+P&&(M=s,P=o),!O&&Math.abs(W-N)<=D-1&&s>=y[W])return l[0]=s,d[0]=o,V<=y[W]&&1447>0&&D<=1447+1?this.WALKTRACE(E,c,f,T,N,p,_,R,S,y,s,i,l,o,r,d,O,a):null}const B=(M-n+(P-t)-D)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(M,B))return a[0]=!0,l[0]=M,d[0]=P,B>0&&1447>0&&D<=1447+1?this.WALKTRACE(E,c,f,T,N,p,_,R,S,y,s,i,l,o,r,d,O,a):(n++,t++,[new w.DiffChange(n,i-n+1,t,r-t+1)]);p=this.ClipDiagonalBound(N-D,D,N,h),_=this.ClipDiagonalBound(N+D,D,N,h);for(let W=p;W<=_;W+=2){W===p||W<_&&y[W-1]>=y[W+1]?s=y[W+1]-1:s=y[W-1],o=s-(W-N)-R;const V=s;for(;s>n&&o>t&&this.ElementsAreEqual(s,o);)s--,o--;if(y[W]=s,O&&Math.abs(W-E)<=D&&s<=S[W])return l[0]=s,d[0]=o,V>=S[W]&&1447>0&&D<=1447+1?this.WALKTRACE(E,c,f,T,N,p,_,R,S,y,s,i,l,o,r,d,O,a):null}if(D<=1447){let W=new Int32Array(f-c+2);W[0]=E-c+1,b.Copy2(S,c,W,1,f-c+1),this.m_forwardHistory.push(W),W=new Int32Array(_-p+2),W[0]=N-p+1,b.Copy2(y,p,W,1,_-p+1),this.m_reverseHistory.push(W)}}return this.WALKTRACE(E,c,f,T,N,p,_,R,S,y,s,i,l,o,r,d,O,a)}PrettifyChanges(n){for(let i=0;i<n.length;i++){const t=n[i],r=i<n.length-1?n[i+1].originalStart:this._originalElementsOrHash.length,l=i<n.length-1?n[i+1].modifiedStart:this._modifiedElementsOrHash.length,d=t.originalLength>0,a=t.modifiedLength>0;for(;t.originalStart+t.originalLength<r&&t.modifiedStart+t.modifiedLength<l&&(!d||this.OriginalElementsAreEqual(t.originalStart,t.originalStart+t.originalLength))&&(!a||this.ModifiedElementsAreEqual(t.modifiedStart,t.modifiedStart+t.modifiedLength));){const o=this.ElementsAreStrictEqual(t.originalStart,t.modifiedStart);if(this.ElementsAreStrictEqual(t.originalStart+t.originalLength,t.modifiedStart+t.modifiedLength)&&!o)break;t.originalStart++,t.modifiedStart++}const s=[null];if(i<n.length-1&&this.ChangesOverlap(n[i],n[i+1],s)){n[i]=s[0],n.splice(i+1,1),i--;continue}}for(let i=n.length-1;i>=0;i--){const t=n[i];let r=0,l=0;if(i>0){const f=n[i-1];r=f.originalStart+f.originalLength,l=f.modifiedStart+f.modifiedLength}const d=t.originalLength>0,a=t.modifiedLength>0;let s=0,o=this._boundaryScore(t.originalStart,t.originalLength,t.modifiedStart,t.modifiedLength);for(let f=1;;f++){const p=t.originalStart-f,_=t.modifiedStart-f;if(p<r||_<l||d&&!this.OriginalElementsAreEqual(p,p+t.originalLength)||a&&!this.ModifiedElementsAreEqual(_,_+t.modifiedLength))break;const h=(p===r&&_===l?5:0)+this._boundaryScore(p,t.originalLength,_,t.modifiedLength);h>o&&(o=h,s=f)}t.originalStart-=s,t.modifiedStart-=s;const c=[null];if(i>0&&this.ChangesOverlap(n[i-1],n[i],c)){n[i-1]=c[0],n.splice(i,1),i++;continue}}if(this._hasStrings)for(let i=1,t=n.length;i<t;i++){const r=n[i-1],l=n[i],d=l.originalStart-r.originalStart-r.originalLength,a=r.originalStart,s=l.originalStart+l.originalLength,o=s-a,c=r.modifiedStart,f=l.modifiedStart+l.modifiedLength,p=f-c;if(d<5&&o<20&&p<20){const _=this._findBetterContiguousSequence(a,o,c,p,d);if(_){const[m,h]=_;(m!==r.originalStart+r.originalLength||h!==r.modifiedStart+r.modifiedLength)&&(r.originalLength=m-r.originalStart,r.modifiedLength=h-r.modifiedStart,l.originalStart=m+d,l.modifiedStart=h+d,l.originalLength=s-l.originalStart,l.modifiedLength=f-l.modifiedStart)}}}return n}_findBetterContiguousSequence(n,i,t,r,l){if(i<l||r<l)return null;const d=n+i-l+1,a=t+r-l+1;let s=0,o=0,c=0;for(let f=n;f<d;f++)for(let p=t;p<a;p++){const _=this._contiguousSequenceScore(f,p,l);_>0&&_>s&&(s=_,o=f,c=p)}return s>0?[o,c]:null}_contiguousSequenceScore(n,i,t){let r=0;for(let l=0;l<t;l++){if(!this.ElementsAreEqual(n+l,i+l))return 0;r+=this._originalStringElements[n+l].length}return r}_OriginalIsBoundary(n){return n<=0||n>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[n])}_OriginalRegionIsBoundary(n,i){if(this._OriginalIsBoundary(n)||this._OriginalIsBoundary(n-1))return!0;if(i>0){const t=n+i;if(this._OriginalIsBoundary(t-1)||this._OriginalIsBoundary(t))return!0}return!1}_ModifiedIsBoundary(n){return n<=0||n>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[n])}_ModifiedRegionIsBoundary(n,i){if(this._ModifiedIsBoundary(n)||this._ModifiedIsBoundary(n-1))return!0;if(i>0){const t=n+i;if(this._ModifiedIsBoundary(t-1)||this._ModifiedIsBoundary(t))return!0}return!1}_boundaryScore(n,i,t,r){const l=this._OriginalRegionIsBoundary(n,i)?1:0,d=this._ModifiedRegionIsBoundary(t,r)?1:0;return l+d}ConcatenateChanges(n,i){const t=[];if(n.length===0||i.length===0)return i.length>0?i:n;if(this.ChangesOverlap(n[n.length-1],i[0],t)){const r=new Array(n.length+i.length-1);return b.Copy(n,0,r,0,n.length-1),r[n.length-1]=t[0],b.Copy(i,1,r,n.length,i.length-1),r}else{const r=new Array(n.length+i.length);return b.Copy(n,0,r,0,n.length),b.Copy(i,0,r,n.length,i.length),r}}ChangesOverlap(n,i,t){if(L.Assert(n.originalStart<=i.originalStart,"Left change is not less than or equal to right change"),L.Assert(n.modifiedStart<=i.modifiedStart,"Left change is not less than or equal to right change"),n.originalStart+n.originalLength>=i.originalStart||n.modifiedStart+n.modifiedLength>=i.modifiedStart){const r=n.originalStart;let l=n.originalLength;const d=n.modifiedStart;let a=n.modifiedLength;return n.originalStart+n.originalLength>=i.originalStart&&(l=i.originalStart+i.originalLength-n.originalStart),n.modifiedStart+n.modifiedLength>=i.modifiedStart&&(a=i.modifiedStart+i.modifiedLength-n.modifiedStart),t[0]=new w.DiffChange(r,l,d,a),!0}else return t[0]=null,!1}ClipDiagonalBound(n,i,t,r){if(n>=0&&n<r)return n;const l=t,d=r-t-1,a=i%2==0;if(n<0){const s=l%2==0;return a===s?0:1}else{const s=d%2==0;return a===s?r-1:r-2}}}e.LcsDiff=u}),define(re[51],ae([1,0,8]),function($,e,w){"use strict";var C,k;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.ResourceMap=e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class I{constructor(){this._value="",this._pos=0}reset(d){return this._value=d,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(d){const a=d.charCodeAt(0),s=this._value.charCodeAt(this._pos);return a-s}value(){return this._value[this._pos]}}e.StringIterator=I;class L{constructor(d=!0){this._caseSensitive=d}reset(d){return this._value=d,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let d=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(d)this._from++;else break;else d=!1;return this}cmp(d){return this._caseSensitive?(0,w.compareSubstring)(d,this._value,0,d.length,this._from,this._to):(0,w.compareSubstringIgnoreCase)(d,this._value,0,d.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=L;class b{constructor(d=!0,a=!0){this._splitOnBackslash=d,this._caseSensitive=a}reset(d){this._from=0,this._to=0,this._value=d,this._valueLen=d.length;for(let a=d.length-1;a>=0;a--,this._valueLen--){const s=this._value.charCodeAt(a);if(!(s===47||this._splitOnBackslash&&s===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let d=!0;for(;this._to<this._valueLen;this._to++){const a=this._value.charCodeAt(this._to);if(a===47||this._splitOnBackslash&&a===92)if(d)this._from++;else break;else d=!1}return this}cmp(d){return this._caseSensitive?(0,w.compareSubstring)(d,this._value,0,d.length,this._from,this._to):(0,w.compareSubstringIgnoreCase)(d,this._value,0,d.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=b;class v{constructor(d,a){this._ignorePathCasing=d,this._ignoreQueryAndFragment=a,this._states=[],this._stateIdx=0}reset(d){return this._value=d,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new b(!1,!this._ignorePathCasing(d)),this._pathIterator.reset(d.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(d)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(d){if(this._states[this._stateIdx]===1)return(0,w.compareIgnoreCase)(d,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,w.compareIgnoreCase)(d,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(d);if(this._states[this._stateIdx]===4)return(0,w.compare)(d,this._value.query);if(this._states[this._stateIdx]===5)return(0,w.compare)(d,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=v;class u{constructor(){this.height=1}rotateLeft(){const d=this.right;return this.right=d.left,d.left=this,this.updateHeight(),d.updateHeight(),d}rotateRight(){const d=this.left;return this.left=d.right,d.right=this,this.updateHeight(),d.updateHeight(),d}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var d,a;return(a=(d=this.left)===null||d===void 0?void 0:d.height)!==null&&a!==void 0?a:0}get heightRight(){var d,a;return(a=(d=this.right)===null||d===void 0?void 0:d.height)!==null&&a!==void 0?a:0}}class g{constructor(d){this._iter=d}static forUris(d=()=>!1,a=()=>!1){return new g(new v(d,a))}static forStrings(){return new g(new I)}static forConfigKeys(){return new g(new L)}clear(){this._root=void 0}set(d,a){const s=this._iter.reset(d);let o;this._root||(this._root=new u,this._root.segment=s.value());const c=[];for(o=this._root;;){const p=s.cmp(o.segment);if(p>0)o.left||(o.left=new u,o.left.segment=s.value()),c.push([-1,o]),o=o.left;else if(p<0)o.right||(o.right=new u,o.right.segment=s.value()),c.push([1,o]),o=o.right;else if(s.hasNext())s.next(),o.mid||(o.mid=new u,o.mid.segment=s.value()),c.push([0,o]),o=o.mid;else break}const f=o.value;o.value=a,o.key=d;for(let p=c.length-1;p>=0;p--){const _=c[p][1];_.updateHeight();const m=_.balanceFactor();if(m<-1||m>1){const h=c[p][0],S=c[p+1][0];if(h===1&&S===1)c[p][1]=_.rotateLeft();else if(h===-1&&S===-1)c[p][1]=_.rotateRight();else if(h===1&&S===-1)_.right=c[p+1][1]=c[p+1][1].rotateRight(),c[p][1]=_.rotateLeft();else if(h===-1&&S===1)_.left=c[p+1][1]=c[p+1][1].rotateLeft(),c[p][1]=_.rotateRight();else throw new Error;if(p>0)switch(c[p-1][0]){case-1:c[p-1][1].left=c[p][1];break;case 1:c[p-1][1].right=c[p][1];break;case 0:c[p-1][1].mid=c[p][1];break}else this._root=c[0][1]}}return f}get(d){var a;return(a=this._getNode(d))===null||a===void 0?void 0:a.value}_getNode(d){const a=this._iter.reset(d);let s=this._root;for(;s;){const o=a.cmp(s.segment);if(o>0)s=s.left;else if(o<0)s=s.right;else if(a.hasNext())a.next(),s=s.mid;else break}return s}has(d){const a=this._getNode(d);return!((a==null?void 0:a.value)===void 0&&(a==null?void 0:a.mid)===void 0)}delete(d){return this._delete(d,!1)}deleteSuperstr(d){return this._delete(d,!0)}_delete(d,a){var s;const o=this._iter.reset(d),c=[];let f=this._root;for(;f;){const p=o.cmp(f.segment);if(p>0)c.push([-1,f]),f=f.left;else if(p<0)c.push([1,f]),f=f.right;else if(o.hasNext())o.next(),c.push([0,f]),f=f.mid;else break}if(!!f){if(a?(f.left=void 0,f.mid=void 0,f.right=void 0,f.height=1):(f.key=void 0,f.value=void 0),!f.mid&&!f.value)if(f.left&&f.right){const p=this._min(f.right),{key:_,value:m,segment:h}=p;this._delete(p.key,!1),f.key=_,f.value=m,f.segment=h}else{const p=(s=f.left)!==null&&s!==void 0?s:f.right;if(c.length>0){const[_,m]=c[c.length-1];switch(_){case-1:m.left=p;break;case 0:m.mid=p;break;case 1:m.right=p;break}}else this._root=p}for(let p=c.length-1;p>=0;p--){const _=c[p][1];_.updateHeight();const m=_.balanceFactor();if(m>1?(_.right.balanceFactor()>=0||(_.right=_.right.rotateRight()),c[p][1]=_.rotateLeft()):m<-1&&(_.left.balanceFactor()<=0||(_.left=_.left.rotateLeft()),c[p][1]=_.rotateRight()),p>0)switch(c[p-1][0]){case-1:c[p-1][1].left=c[p][1];break;case 1:c[p-1][1].right=c[p][1];break;case 0:c[p-1][1].mid=c[p][1];break}else this._root=c[0][1]}}}_min(d){for(;d.left;)d=d.left;return d}findSubstr(d){const a=this._iter.reset(d);let s=this._root,o;for(;s;){const c=a.cmp(s.segment);if(c>0)s=s.left;else if(c<0)s=s.right;else if(a.hasNext())a.next(),o=s.value||o,s=s.mid;else break}return s&&s.value||o}findSuperstr(d){const a=this._iter.reset(d);let s=this._root;for(;s;){const o=a.cmp(s.segment);if(o>0)s=s.left;else if(o<0)s=s.right;else if(a.hasNext())a.next(),s=s.mid;else return s.mid?this._entries(s.mid):void 0}}forEach(d){for(const[a,s]of this)d(s,a)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(d){const a=[];return this._dfsEntries(d,a),a[Symbol.iterator]()}_dfsEntries(d,a){!d||(d.left&&this._dfsEntries(d.left,a),d.value&&a.push([d.key,d.value]),d.mid&&this._dfsEntries(d.mid,a),d.right&&this._dfsEntries(d.right,a))}}e.TernarySearchTree=g;class n{constructor(d,a){this.uri=d,this.value=a}}class i{constructor(d,a){this[C]="ResourceMap",d instanceof i?(this.map=new Map(d.map),this.toKey=a??i.defaultToKey):(this.map=new Map,this.toKey=d??i.defaultToKey)}set(d,a){return this.map.set(this.toKey(d),new n(d,a)),this}get(d){var a;return(a=this.map.get(this.toKey(d)))===null||a===void 0?void 0:a.value}has(d){return this.map.has(this.toKey(d))}get size(){return this.map.size}clear(){this.map.clear()}delete(d){return this.map.delete(this.toKey(d))}forEach(d,a){typeof a!="undefined"&&(d=d.bind(a));for(const[s,o]of this.map)d(o.value,o.uri,this)}*values(){for(const d of this.map.values())yield d.value}*keys(){for(const d of this.map.values())yield d.uri}*entries(){for(const d of this.map.values())yield[d.uri,d.value]}*[(C=Symbol.toStringTag,Symbol.iterator)](){for(const[,d]of this.map)yield[d.uri,d.value]}}e.ResourceMap=i,i.defaultToKey=l=>l.toString();class t{constructor(){this[k]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var d;return(d=this._head)===null||d===void 0?void 0:d.value}get last(){var d;return(d=this._tail)===null||d===void 0?void 0:d.value}has(d){return this._map.has(d)}get(d,a=0){const s=this._map.get(d);if(!!s)return a!==0&&this.touch(s,a),s.value}set(d,a,s=0){let o=this._map.get(d);if(o)o.value=a,s!==0&&this.touch(o,s);else{switch(o={key:d,value:a,next:void 0,previous:void 0},s){case 0:this.addItemLast(o);break;case 1:this.addItemFirst(o);break;case 2:this.addItemLast(o);break;default:this.addItemLast(o);break}this._map.set(d,o),this._size++}return this}delete(d){return!!this.remove(d)}remove(d){const a=this._map.get(d);if(!!a)return this._map.delete(d),this.removeItem(a),this._size--,a.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const d=this._head;return this._map.delete(d.key),this.removeItem(d),this._size--,d.value}forEach(d,a){const s=this._state;let o=this._head;for(;o;){if(a?d.bind(a)(o.value,o.key,this):d(o.value,o.key,this),this._state!==s)throw new Error("LinkedMap got modified during iteration.");o=o.next}}keys(){const d=this,a=this._state;let s=this._head;const o={[Symbol.iterator](){return o},next(){if(d._state!==a)throw new Error("LinkedMap got modified during iteration.");if(s){const c={value:s.key,done:!1};return s=s.next,c}else return{value:void 0,done:!0}}};return o}values(){const d=this,a=this._state;let s=this._head;const o={[Symbol.iterator](){return o},next(){if(d._state!==a)throw new Error("LinkedMap got modified during iteration.");if(s){const c={value:s.value,done:!1};return s=s.next,c}else return{value:void 0,done:!0}}};return o}entries(){const d=this,a=this._state;let s=this._head;const o={[Symbol.iterator](){return o},next(){if(d._state!==a)throw new Error("LinkedMap got modified during iteration.");if(s){const c={value:[s.key,s.value],done:!1};return s=s.next,c}else return{value:void 0,done:!0}}};return o}[(k=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(d){if(d>=this.size)return;if(d===0){this.clear();return}let a=this._head,s=this.size;for(;a&&s>d;)this._map.delete(a.key),a=a.next,s--;this._head=a,this._size=s,a&&(a.previous=void 0),this._state++}addItemFirst(d){if(!this._head&&!this._tail)this._tail=d;else if(this._head)d.next=this._head,this._head.previous=d;else throw new Error("Invalid list");this._head=d,this._state++}addItemLast(d){if(!this._head&&!this._tail)this._head=d;else if(this._tail)d.previous=this._tail,this._tail.next=d;else throw new Error("Invalid list");this._tail=d,this._state++}removeItem(d){if(d===this._head&&d===this._tail)this._head=void 0,this._tail=void 0;else if(d===this._head){if(!d.next)throw new Error("Invalid list");d.next.previous=void 0,this._head=d.next}else if(d===this._tail){if(!d.previous)throw new Error("Invalid list");d.previous.next=void 0,this._tail=d.previous}else{const a=d.next,s=d.previous;if(!a||!s)throw new Error("Invalid list");a.previous=s,s.next=a}d.next=void 0,d.previous=void 0,this._state++}touch(d,a){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(a!==1&&a!==2)){if(a===1){if(d===this._head)return;const s=d.next,o=d.previous;d===this._tail?(o.next=void 0,this._tail=o):(s.previous=o,o.next=s),d.previous=void 0,d.next=this._head,this._head.previous=d,this._head=d,this._state++}else if(a===2){if(d===this._tail)return;const s=d.next,o=d.previous;d===this._head?(s.previous=void 0,this._head=s):(s.previous=o,o.next=s),d.next=void 0,d.previous=this._tail,this._tail.next=d,this._tail=d,this._state++}}}toJSON(){const d=[];return this.forEach((a,s)=>{d.push([s,a])}),d}fromJSON(d){this.clear();for(const[a,s]of d)this.set(a,s)}}e.LinkedMap=t;class r extends t{constructor(d,a=1){super();this._limit=d,this._ratio=Math.min(Math.max(0,a),1)}get limit(){return this._limit}set limit(d){this._limit=d,this.checkTrim()}get(d,a=2){return super.get(d,a)}peek(d){return super.get(d,0)}set(d,a){return super.set(d,a,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=r}),define(re[63],ae([1,0,51,8]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScoreOptions=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.matchesStrictPrefix=e.or=void 0;function k(...G){return function(U,K){for(let ce=0,ee=G.length;ce<ee;ce++){const ue=G[ce](U,K);if(ue)return ue}return null}}e.or=k,e.matchesStrictPrefix=I.bind(void 0,!1),e.matchesPrefix=I.bind(void 0,!0);function I(G,U,K){if(!K||K.length<U.length)return null;let ce;return G?ce=C.startsWithIgnoreCase(K,U):ce=K.indexOf(U)===0,ce?U.length>0?[{start:0,end:U.length}]:[]:null}function L(G,U){const K=U.toLowerCase().indexOf(G.toLowerCase());return K===-1?null:[{start:K,end:K+G.length}]}e.matchesContiguousSubString=L;function b(G,U){return v(G.toLowerCase(),U.toLowerCase(),0,0)}e.matchesSubString=b;function v(G,U,K,ce){if(K===G.length)return[];if(ce===U.length)return null;if(G[K]===U[ce]){let ee=null;return(ee=v(G,U,K+1,ce+1))?a({start:ce,end:ce+1},ee):null}return v(G,U,K,ce+1)}function u(G){return 97<=G&&G<=122}function g(G){return 65<=G&&G<=90}e.isUpper=g;function n(G){return 48<=G&&G<=57}function i(G){return G===32||G===9||G===10||G===13}const t=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(G=>t.add(G.charCodeAt(0)));function r(G){return i(G)||t.has(G)}function l(G,U){return G===U||r(G)&&r(U)}function d(G){return u(G)||g(G)||n(G)}function a(G,U){return U.length===0?U=[G]:G.end===U[0].start?U[0].start=G.start:U.unshift(G),U}function s(G,U){for(let K=U;K<G.length;K++){const ce=G.charCodeAt(K);if(g(ce)||n(ce)||K>0&&!d(G.charCodeAt(K-1)))return K}return G.length}function o(G,U,K,ce){if(K===G.length)return[];if(ce===U.length)return null;if(G[K]!==U[ce].toLowerCase())return null;{let ee=null,ue=ce+1;for(ee=o(G,U,K+1,ce+1);!ee&&(ue=s(U,ue))<U.length;)ee=o(G,U,K+1,ue),ue++;return ee===null?null:a({start:ce,end:ce+1},ee)}}function c(G){let U=0,K=0,ce=0,ee=0,ue=0;for(let De=0;De<G.length;De++)ue=G.charCodeAt(De),g(ue)&&U++,u(ue)&&K++,d(ue)&&ce++,n(ue)&&ee++;const fe=U/G.length,Ce=K/G.length,we=ce/G.length,ye=ee/G.length;return{upperPercent:fe,lowerPercent:Ce,alphaPercent:we,numericPercent:ye}}function f(G){const{upperPercent:U,lowerPercent:K}=G;return K===0&&U>.6}function p(G){const{upperPercent:U,lowerPercent:K,alphaPercent:ce,numericPercent:ee}=G;return K>.2&&U<.8&&ce>.6&&ee<.2}function _(G){let U=0,K=0,ce=0,ee=0;for(let ue=0;ue<G.length;ue++)ce=G.charCodeAt(ue),g(ce)&&U++,u(ce)&&K++,i(ce)&&ee++;return(U===0||K===0)&&ee===0?G.length<=30:U<=5}function m(G,U){if(!U||(U=U.trim(),U.length===0)||!_(G)||U.length>60)return null;const K=c(U);if(!p(K)){if(!f(K))return null;U=U.toLowerCase()}let ce=null,ee=0;for(G=G.toLowerCase();ee<U.length&&(ce=o(G,U,0,ee))===null;)ee=s(U,ee+1);return ce}e.matchesCamelCase=m;function h(G,U,K=!1){if(!U||U.length===0)return null;let ce=null,ee=0;for(G=G.toLowerCase(),U=U.toLowerCase();ee<U.length&&(ce=S(G,U,0,ee,K))===null;)ee=y(U,ee+1);return ce}e.matchesWords=h;function S(G,U,K,ce,ee){if(K===G.length)return[];if(ce===U.length)return null;if(l(G.charCodeAt(K),U.charCodeAt(ce))){let ue=null,fe=ce+1;if(ue=S(G,U,K+1,ce+1,ee),!ee)for(;!ue&&(fe=y(U,fe))<U.length;)ue=S(G,U,K+1,fe,ee),fe++;return ue===null?null:a({start:ce,end:ce+1},ue)}else return null}function y(G,U){for(let K=U;K<G.length;K++)if(r(G.charCodeAt(K))||K>0&&r(G.charCodeAt(K-1)))return K;return G.length}const E=k(e.matchesPrefix,m,L),N=k(e.matchesPrefix,m,b),T=new w.LRUCache(1e4);function R(G,U,K=!1){if(typeof G!="string"||typeof U!="string")return null;let ce=T.get(G);ce||(ce=new RegExp(C.convertSimple2RegExpPattern(G),"i"),T.set(G,ce));const ee=ce.exec(U);return ee?[{start:ee.index,end:ee.index+ee[0].length}]:K?N(G,U):E(G,U)}e.matchesFuzzy=R;function F(G,U,K,ce,ee,ue){const fe=Math.min(13,G.length);for(;K<fe;K++){const Ce=oe(G,U,K,ce,ee,ue,{firstMatchCanBeWeak:!1,boostFullMatch:!0});if(Ce)return Ce}return[0,ue]}e.anyScore=F;function O(G){if(typeof G=="undefined")return[];const U=[],K=G[1];for(let ce=G.length-1;ce>1;ce--){const ee=G[ce]+K,ue=U[U.length-1];ue&&ue.end===ee?ue.end=ee+1:U.push({start:ee,end:ee+1})}return U}e.createMatches=O;const D=128;function M(){const G=[],U=[];for(let K=0;K<=D;K++)U[K]=0;for(let K=0;K<=D;K++)G.push(U.slice(0));return G}function P(G){const U=[];for(let K=0;K<=G;K++)U[K]=0;return U}const B=P(2*D),W=P(2*D),V=M(),A=M(),Q=M(),J=!1;function H(G,U,K,ce,ee){function ue(Ce,we,ye=" "){for(;Ce.length<we;)Ce=ye+Ce;return Ce}let fe=` |   |${ce.split("").map(Ce=>ue(Ce,3)).join("|")}
`;for(let Ce=0;Ce<=K;Ce++)Ce===0?fe+=" |":fe+=`${U[Ce-1]}|`,fe+=G[Ce].slice(0,ee+1).map(we=>ue(we.toString(),3)).join("|")+`
`;return fe}function q(G,U,K,ce){G=G.substr(U),K=K.substr(ce),console.log(H(A,G,G.length,K,K.length)),console.log(H(Q,G,G.length,K,K.length)),console.log(H(V,G,G.length,K,K.length))}function Z(G,U){if(U<0||U>=G.length)return!1;const K=G.codePointAt(U);switch(K){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!C.isEmojiImprecise(K)}}function ie(G,U){if(U<0||U>=G.length)return!1;switch(G.charCodeAt(U)){case 32:case 9:return!0;default:return!1}}function Y(G,U,K){return U[G]!==K[G]}function te(G,U,K,ce,ee,ue,fe=!1){for(;U<K&&ee<ue;)G[U]===ce[ee]&&(fe&&(B[U]=ee),U+=1),ee+=1;return U===K}e.isPatternInWord=te;var de;(function(G){G.Default=[-100,0];function U(K){return!K||K.length===2&&K[0]===-100&&K[1]===0}G.isDefault=U})(de=e.FuzzyScore||(e.FuzzyScore={}));class x{constructor(U,K){this.firstMatchCanBeWeak=U,this.boostFullMatch=K}}e.FuzzyScoreOptions=x,x.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function oe(G,U,K,ce,ee,ue,fe=x.default){const Ce=G.length>D?D:G.length,we=ce.length>D?D:ce.length;if(K>=Ce||ue>=we||Ce-K>we-ue||!te(U,K,Ce,ee,ue,we,!0))return;ne(Ce,we,K,ue,U,ee);let ye=1,De=1,Me=K,pe=ue;const he=[!1];for(ye=1,Me=K;Me<Ce;ye++,Me++){const Ie=B[Me],Ae=W[Me],Oe=Me+1<Ce?W[Me+1]:we;for(De=Ie-ue+1,pe=Ie;pe<Oe;De++,pe++){let be=Number.MIN_SAFE_INTEGER,ve=!1;pe<=Ae&&(be=j(G,U,Me,K,ce,ee,pe,we,ue,V[ye-1][De-1]===0,he));let Ee=0;be!==Number.MAX_SAFE_INTEGER&&(ve=!0,Ee=be+A[ye-1][De-1]);const Re=pe>Ie,Te=Re?A[ye][De-1]+(V[ye][De-1]>0?-5:0):0,Be=pe>Ie+1&&V[ye][De-1]>0,xe=Be?A[ye][De-2]+(V[ye][De-2]>0?-5:0):0;if(Be&&(!Re||xe>=Te)&&(!ve||xe>=Ee))A[ye][De]=xe,Q[ye][De]=3,V[ye][De]=0;else if(Re&&(!ve||Te>=Ee))A[ye][De]=Te,Q[ye][De]=2,V[ye][De]=0;else if(ve)A[ye][De]=Ee,Q[ye][De]=1,V[ye][De]=V[ye-1][De-1]+1;else throw new Error("not possible")}}if(J&&q(G,K,ce,ue),!he[0]&&!fe.firstMatchCanBeWeak)return;ye--,De--;const le=[A[ye][De],ue];let ge=0,_e=0;for(;ye>=1;){let Ie=De;do{const Ae=Q[ye][Ie];if(Ae===3)Ie=Ie-2;else if(Ae===2)Ie=Ie-1;else break}while(Ie>=1);ge>1&&U[K+ye-1]===ee[ue+De-1]&&!Y(Ie+ue-1,ce,ee)&&ge+1>V[ye][Ie]&&(Ie=De),Ie===De?ge++:ge=1,_e||(_e=Ie),ye--,De=Ie-1,le.push(De)}we===Ce&&fe.boostFullMatch&&(le[0]+=2);const Le=_e-Ce;return le[0]-=Le,le}e.fuzzyScore=oe;function ne(G,U,K,ce,ee,ue){let fe=G-1,Ce=U-1;for(;fe>=K&&Ce>=ce;)ee[fe]===ue[Ce]&&(W[fe]=Ce,fe--),Ce--}function j(G,U,K,ce,ee,ue,fe,Ce,we,ye,De){if(U[K]!==ue[fe])return Number.MIN_SAFE_INTEGER;let Me=1,pe=!1;return fe===K-ce?Me=G[K]===ee[fe]?7:5:Y(fe,ee,ue)&&(fe===0||!Y(fe-1,ee,ue))?(Me=G[K]===ee[fe]?7:5,pe=!0):Z(ue,fe)&&(fe===0||!Z(ue,fe-1))?Me=5:(Z(ue,fe-1)||ie(ue,fe-1))&&(Me=5,pe=!0),Me>1&&K===ce&&(De[0]=!0),pe||(pe=Y(fe,ee,ue)||Z(ue,fe-1)||ie(ue,fe-1)),K===ce?fe>we&&(Me-=pe?3:5):ye?Me+=pe?2:0:Me+=pe?0:1,fe+1===Ce&&(Me-=pe?3:5),Me}function se(G,U,K,ce,ee,ue,fe){return z(G,U,K,ce,ee,ue,!0,fe)}e.fuzzyScoreGracefulAggressive=se;function z(G,U,K,ce,ee,ue,fe,Ce){let we=oe(G,U,K,ce,ee,ue,Ce);if(we&&!fe)return we;if(G.length>=3){const ye=Math.min(7,G.length-1);for(let De=K+1;De<ye;De++){const Me=X(G,De);if(Me){const pe=oe(Me,Me.toLowerCase(),K,ce,ee,ue,Ce);pe&&(pe[0]-=3,(!we||pe[0]>we[0])&&(we=pe))}}}return we}function X(G,U){if(U+1>=G.length)return;const K=G[U],ce=G[U+1];if(K!==ce)return G.slice(0,U)+ce+K+G.slice(U+2)}}),define(re[106],ae([1,0,27,63,8]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=e.iconStartMarker=void 0,e.iconStartMarker="$(";const I=new RegExp(`\\$\\(${w.CSSIcon.iconNameExpression}(?:${w.CSSIcon.iconModifierExpression})?\\)`,"g"),L=new RegExp(w.CSSIcon.iconNameCharacter),b=new RegExp(`(\\\\)?${I.source}`,"g");function v(d){return d.replace(b,(a,s)=>s?a:`\\${a}`)}e.escapeIcons=v;const u=new RegExp(`\\\\${I.source}`,"g");function g(d){return d.replace(u,a=>`\\${a}`)}e.markdownEscapeEscapedIcons=g;const n=new RegExp(`(\\s)?(\\\\)?${I.source}(\\s)?`,"g");function i(d){return d.indexOf(e.iconStartMarker)===-1?d:d.replace(n,(a,s,o,c)=>o?a:s||c||"")}e.stripIcons=i;function t(d){const a=d.indexOf(e.iconStartMarker);return a===-1?{text:d}:r(d,a)}e.parseLabelWithIcons=t;function r(d,a){const s=[];let o="";function c(E){if(E){o+=E;for(const N of E)s.push(_)}}let f=-1,p="",_=0,m,h,S=a;const y=d.length;for(c(d.substr(0,a));S<y;)m=d[S],h=d[S+1],m===e.iconStartMarker[0]&&h===e.iconStartMarker[1]?(f=S,c(p),p=e.iconStartMarker,S++):m===")"&&f!==-1?(_+=S-f+1,f=-1,p=""):f!==-1?L.test(m)?p+=m:(c(p),f=-1,p=""):c(m),S++;return c(p),{text:o,iconOffsets:s}}function l(d,a,s=!1){const{text:o,iconOffsets:c}=a;if(!c||c.length===0)return(0,C.matchesFuzzy)(d,o,s);const f=(0,k.ltrim)(o," "),p=o.length-f.length,_=(0,C.matchesFuzzy)(d,f,s);if(_)for(const m of _){const h=c[m.start+p]+p;m.start+=h,m.end+=h}return _}e.matchesFuzzyIconAware=l}),define(re[64],ae([1,0,14,106,8]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeDoubleQuotes=e.escapeMarkdownSyntaxTokens=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=void 0;class I{constructor(t="",r=!1){var l,d,a;if(this.value=t,typeof this.value!="string")throw(0,w.illegalArgument)("value");typeof r=="boolean"?(this.isTrusted=r,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(l=r.isTrusted)!==null&&l!==void 0?l:void 0,this.supportThemeIcons=(d=r.supportThemeIcons)!==null&&d!==void 0?d:!1,this.supportHtml=(a=r.supportHtml)!==null&&a!==void 0?a:!1)}appendText(t,r=0){return this.value+=v(this.supportThemeIcons?(0,C.escapeIcons)(t):t).replace(/([ \t]+)/g,(l,d)=>"&nbsp;".repeat(d.length)).replace(/\>/gm,"\\>").replace(/\n/g,r===1?`\\
`:`

`),this}appendMarkdown(t){return this.value+=t,this}appendCodeblock(t,r){return this.value+="\n```",this.value+=t,this.value+=`
`,this.value+=r,this.value+="\n```\n",this}appendLink(t,r,l){return this.value+="[",this.value+=this._escape(r,"]"),this.value+="](",this.value+=this._escape(String(t),")"),l&&(this.value+=` "${this._escape(this._escape(l,'"'),")")}"`),this.value+=")",this}_escape(t,r){const l=new RegExp((0,k.escapeRegExpCharacters)(r),"g");return t.replace(l,(d,a)=>t.charAt(a-1)!=="\\"?`\\${d}`:d)}}e.MarkdownString=I;function L(i){return b(i)?!i.value:Array.isArray(i)?i.every(L):!0}e.isEmptyMarkdownString=L;function b(i){return i instanceof I?!0:i&&typeof i=="object"?typeof i.value=="string"&&(typeof i.isTrusted=="boolean"||i.isTrusted===void 0)&&(typeof i.supportThemeIcons=="boolean"||i.supportThemeIcons===void 0):!1}e.isMarkdownString=b;function v(i){return i.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=v;function u(i){return i.replace(/"/g,"&quot;")}e.escapeDoubleQuotes=u;function g(i){return i&&i.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}e.removeMarkdownEscapes=g;function n(i){const t=[],r=i.split("|").map(d=>d.trim());i=r[0];const l=r[1];if(l){const d=/height=(\d+)/.exec(l),a=/width=(\d+)/.exec(l),s=d?d[1]:"",o=a?a[1]:"",c=isFinite(parseInt(o)),f=isFinite(parseInt(s));c&&t.push(`width="${o}"`),f&&t.push(`height="${s}"`)}return{href:i,dimensions:t}}e.parseHrefAndDimensions=n}),define(re[333],ae([1,0,8]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=void 0;function C(L,b){if(L&&L[0]!==""){const v=k(L,b,"-"),u=k(L,b,"_");return v&&!u?I(L,b,"-"):!v&&u?I(L,b,"_"):L[0].toUpperCase()===L[0]?b.toUpperCase():L[0].toLowerCase()===L[0]?b.toLowerCase():w.containsUppercaseCharacter(L[0][0])&&b.length>0?b[0].toUpperCase()+b.substr(1):L[0][0].toUpperCase()!==L[0][0]&&b.length>0?b[0].toLowerCase()+b.substr(1):b}else return b}e.buildReplaceStringWithCasePreserved=C;function k(L,b,v){return L[0].indexOf(v)!==-1&&b.indexOf(v)!==-1&&L[0].split(v).length===b.split(v).length}function I(L,b,v){const u=b.split(v),g=L[0].split(v);let n="";return u.forEach((i,t)=>{n+=C([g[t]],i)+v}),n.slice(0,-1)}}),define(re[81],ae([1,0,8]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var C;(function(k){k[k.Ignore=0]="Ignore",k[k.Info=1]="Info",k[k.Warning=2]="Warning",k[k.Error=3]="Error"})(C||(C={})),function(k){const I="error",L="warning",b="warn",v="info",u="ignore";function g(i){return i?w.equalsIgnoreCase(I,i)?k.Error:w.equalsIgnoreCase(L,i)||w.equalsIgnoreCase(b,i)?k.Warning:w.equalsIgnoreCase(v,i)?k.Info:k.Ignore:k.Ignore}k.fromValue=g;function n(i){switch(i){case k.Error:return I;case k.Warning:return L;case k.Info:return v;default:return u}}k.toString=n}(C||(C={})),e.default=C}),define(re[19],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertNever=e.withNullAsUndefined=e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.validateConstraint=e.validateConstraints=e.isFunction=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isDefined=e.isUndefined=e.isBoolean=e.isIterable=e.isNumber=e.isTypedArray=e.isObject=e.isString=e.isArray=void 0;function w(p){return Array.isArray(p)}e.isArray=w;function C(p){return typeof p=="string"}e.isString=C;function k(p){return typeof p=="object"&&p!==null&&!Array.isArray(p)&&!(p instanceof RegExp)&&!(p instanceof Date)}e.isObject=k;function I(p){const _=Object.getPrototypeOf(Uint8Array);return typeof p=="object"&&p instanceof _}e.isTypedArray=I;function L(p){return typeof p=="number"&&!isNaN(p)}e.isNumber=L;function b(p){return!!p&&typeof p[Symbol.iterator]=="function"}e.isIterable=b;function v(p){return p===!0||p===!1}e.isBoolean=v;function u(p){return typeof p=="undefined"}e.isUndefined=u;function g(p){return!n(p)}e.isDefined=g;function n(p){return u(p)||p===null}e.isUndefinedOrNull=n;function i(p,_){if(!p)throw new Error(_?`Unexpected type, expected '${_}'`:"Unexpected type")}e.assertType=i;function t(p){if(n(p))throw new Error("Assertion Failed: argument is undefined or null");return p}e.assertIsDefined=t;function r(p){return typeof p=="function"}e.isFunction=r;function l(p,_){const m=Math.min(p.length,_.length);for(let h=0;h<m;h++)d(p[h],_[h])}e.validateConstraints=l;function d(p,_){if(C(_)){if(typeof p!==_)throw new Error(`argument does not match constraint: typeof ${_}`)}else if(r(_)){try{if(p instanceof _)return}catch{}if(!n(p)&&p.constructor===_||_.length===1&&_.call(void 0,p)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=d;function a(p){let _=[],m=Object.getPrototypeOf(p);for(;Object.prototype!==m;)_=_.concat(Object.getOwnPropertyNames(m)),m=Object.getPrototypeOf(m);return _}e.getAllPropertyNames=a;function s(p){const _=[];for(const m of a(p))typeof p[m]=="function"&&_.push(m);return _}e.getAllMethodNames=s;function o(p,_){const m=S=>function(){const y=Array.prototype.slice.call(arguments,0);return _(S,y)},h={};for(const S of p)h[S]=m(S);return h}e.createProxyObject=o;function c(p){return p===null?void 0:p}e.withNullAsUndefined=c;function f(p,_="Unreachable"){throw new Error(_)}e.assertNever=f}),define(re[40],ae([1,0,19]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function C(g){if(!g||typeof g!="object"||g instanceof RegExp)return g;const n=Array.isArray(g)?[]:{};return Object.keys(g).forEach(i=>{g[i]&&typeof g[i]=="object"?n[i]=C(g[i]):n[i]=g[i]}),n}e.deepClone=C;function k(g){if(!g||typeof g!="object")return g;const n=[g];for(;n.length>0;){const i=n.shift();Object.freeze(i);for(const t in i)if(I.call(i,t)){const r=i[t];typeof r=="object"&&!Object.isFrozen(r)&&!(0,w.isTypedArray)(r)&&n.push(r)}}return g}e.deepFreeze=k;const I=Object.prototype.hasOwnProperty;function L(g,n){return b(g,n,new Set)}e.cloneAndChange=L;function b(g,n,i){if((0,w.isUndefinedOrNull)(g))return g;const t=n(g);if(typeof t!="undefined")return t;if((0,w.isArray)(g)){const r=[];for(const l of g)r.push(b(l,n,i));return r}if((0,w.isObject)(g)){if(i.has(g))throw new Error("Cannot clone recursive data-structure");i.add(g);const r={};for(const l in g)I.call(g,l)&&(r[l]=b(g[l],n,i));return i.delete(g),r}return g}function v(g,n,i=!0){return(0,w.isObject)(g)?((0,w.isObject)(n)&&Object.keys(n).forEach(t=>{t in g?i&&((0,w.isObject)(g[t])&&(0,w.isObject)(n[t])?v(g[t],n[t],i):g[t]=n[t]):g[t]=n[t]}),g):n}e.mixin=v;function u(g,n){if(g===n)return!0;if(g==null||n===null||n===void 0||typeof g!=typeof n||typeof g!="object"||Array.isArray(g)!==Array.isArray(n))return!1;let i,t;if(Array.isArray(g)){if(g.length!==n.length)return!1;for(i=0;i<g.length;i++)if(!u(g[i],n[i]))return!1}else{const r=[];for(t in g)r.push(t);r.sort();const l=[];for(t in n)l.push(t);if(l.sort(),!u(r,l))return!1;for(i=0;i<r.length;i++)if(!u(g[r[i]],n[r[i]]))return!1}return!0}e.equals=u}),define(re[148],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32=e.toUint8=void 0;function w(k){return k<0?0:k>255?255:k|0}e.toUint8=w;function C(k){return k<0?0:k>4294967295?4294967295:k|0}e.toUint32=C}),define(re[223],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0,e.generateUuid=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let w;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?w=crypto.getRandomValues.bind(crypto):w=function(I){for(let L=0;L<I.length;L++)I[L]=Math.floor(Math.random()*256);return I};const C=new Uint8Array(16),k=[];for(let I=0;I<256;I++)k.push(I.toString(16).padStart(2,"0"));return function(){w(C),C[6]=C[6]&15|64,C[8]=C[8]&63|128;let L=0,b="";return b+=k[C[L++]],b+=k[C[L++]],b+=k[C[L++]],b+=k[C[L++]],b+="-",b+=k[C[L++]],b+=k[C[L++]],b+="-",b+=k[C[L++]],b+=k[C[L++]],b+="-",b+=k[C[L++]],b+=k[C[L++]],b+="-",b+=k[C[L++]],b+=k[C[L++]],b+=k[C[L++]],b+=k[C[L++]],b+=k[C[L++]],b+=k[C[L++]],b}}()}),define(re[224],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.quickPickItemScorerAccessor=e.QuickPickItemScorerAccessor=e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var w;(function(I){I[I.Blur=1]="Blur",I[I.Gesture=2]="Gesture",I[I.Other=3]="Other"})(w=e.QuickInputHideReason||(e.QuickInputHideReason={}));var C;(function(I){I[I.NONE=0]="NONE",I[I.FIRST=1]="FIRST",I[I.SECOND=2]="SECOND",I[I.LAST=3]="LAST"})(C=e.ItemActivation||(e.ItemActivation={}));class k{constructor(L){this.options=L}}e.QuickPickItemScorerAccessor=k,e.quickPickItemScorerAccessor=new k}),define(re[225],ae([13]),{}),define(re[334],ae([13]),{}),define(re[335],ae([13]),{}),define(re[336],ae([13]),{}),define(re[337],ae([13]),{}),define(re[149],ae([1,0,27,336,337]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatRule=void 0;function C(k){let I=k.definition;for(;I instanceof w.Codicon;)I=I.definition;return`.codicon-${k.id}:before { content: '${I.fontCharacter}'; }`}e.formatRule=C}),define(re[338],ae([13]),{}),define(re[339],ae([13]),{}),define(re[226],ae([13]),{}),define(re[227],ae([13]),{}),define(re[340],ae([13]),{}),define(re[341],ae([13]),{}),define(re[342],ae([13]),{}),define(re[343],ae([13]),{}),define(re[228],ae([13]),{}),define(re[344],ae([13]),{}),define(re[150],ae([1,0,344]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(re[345],ae([13]),{}),define(re[346],ae([13]),{}),define(re[347],ae([13]),{}),define(re[348],ae([13]),{}),define(re[349],ae([13]),{}),define(re[350],ae([13]),{}),define(re[351],ae([13]),{}),define(re[151],ae([13]),{}),define(re[352],ae([13]),{}),define(re[353],ae([13]),{}),define(re[354],ae([13]),{}),define(re[355],ae([13]),{}),define(re[356],ae([13]),{}),define(re[357],ae([13]),{}),define(re[358],ae([13]),{}),define(re[359],ae([13]),{}),define(re[360],ae([13]),{}),define(re[361],ae([13]),{}),define(re[362],ae([13]),{}),define(re[363],ae([13]),{}),define(re[364],ae([13]),{}),define(re[365],ae([13]),{}),define(re[366],ae([13]),{}),define(re[367],ae([13]),{}),define(re[368],ae([13]),{}),define(re[369],ae([13]),{}),define(re[370],ae([13]),{}),define(re[371],ae([13]),{}),define(re[372],ae([13]),{}),define(re[373],ae([13]),{}),define(re[374],ae([13]),{}),define(re[375],ae([13]),{}),define(re[376],ae([13]),{}),define(re[377],ae([13]),{}),define(re[378],ae([13]),{}),define(re[379],ae([13]),{}),define(re[380],ae([13]),{}),define(re[381],ae([13]),{}),define(re[382],ae([13]),{}),define(re[383],ae([13]),{}),define(re[384],ae([13]),{}),define(re[385],ae([13]),{}),define(re[386],ae([13]),{}),define(re[387],ae([13]),{}),define(re[388],ae([13]),{}),define(re[389],ae([13]),{}),define(re[390],ae([13]),{}),define(re[391],ae([13]),{}),define(re[392],ae([13]),{}),define(re[393],ae([13]),{}),define(re[394],ae([13]),{}),define(re[395],ae([13]),{}),define(re[396],ae([13]),{}),define(re[397],ae([13]),{}),define(re[398],ae([13]),{}),define(re[399],ae([13]),{}),define(re[65],ae([1,0,33]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyFontInfo=void 0;function C(k,I){k instanceof w.FastDomNode?(k.setFontFamily(I.getMassagedFontFamily()),k.setFontWeight(I.fontWeight),k.setFontSize(I.fontSize),k.setFontFeatureSettings(I.fontFeatureSettings),k.setLineHeight(I.lineHeight),k.setLetterSpacing(I.letterSpacing)):(k.style.fontFamily=I.getMassagedFontFamily(),k.style.fontWeight=I.fontWeight,k.style.fontSize=I.fontSize+"px",k.style.fontFeatureSettings=I.fontFeatureSettings,k.style.lineHeight=I.lineHeight+"px",k.style.letterSpacing=I.letterSpacing+"px")}e.applyFontInfo=C}),define(re[400],ae([1,0,65]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readCharWidths=e.CharWidthRequest=void 0;class C{constructor(b,v){this.chr=b,this.type=v,this.width=0}fulfill(b){this.width=b}}e.CharWidthRequest=C;class k{constructor(b,v){this._bareFontInfo=b,this._requests=v,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const b=document.createElement("div");b.style.position="absolute",b.style.top="-50000px",b.style.width="50000px";const v=document.createElement("div");(0,w.applyFontInfo)(v,this._bareFontInfo),b.appendChild(v);const u=document.createElement("div");(0,w.applyFontInfo)(u,this._bareFontInfo),u.style.fontWeight="bold",b.appendChild(u);const g=document.createElement("div");(0,w.applyFontInfo)(g,this._bareFontInfo),g.style.fontStyle="italic",b.appendChild(g);const n=[];for(const i of this._requests){let t;i.type===0&&(t=v),i.type===2&&(t=u),i.type===1&&(t=g),t.appendChild(document.createElement("br"));const r=document.createElement("span");k._render(r,i),t.appendChild(r),n.push(r)}this._container=b,this._testElements=n}static _render(b,v){if(v.chr===" "){let u="\xA0";for(let g=0;g<8;g++)u+=u;b.innerText=u}else{let u=v.chr;for(let g=0;g<8;g++)u+=u;b.textContent=u}}_readFromDomElements(){for(let b=0,v=this._requests.length;b<v;b++){const u=this._requests[b],g=this._testElements[b];u.fulfill(g.offsetWidth/256)}}}function I(L,b){new k(L,b).read()}e.readCharWidths=I}),define(re[401],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.migrateOptions=e.EditorSettingMigration=void 0;class w{constructor(v,u){this.key=v,this.migrate=u}apply(v){const u=w._read(v,this.key),g=i=>w._read(v,i),n=(i,t)=>w._write(v,i,t);this.migrate(u,g,n)}static _read(v,u){if(typeof v=="undefined")return;const g=u.indexOf(".");if(g>=0){const n=u.substring(0,g);return this._read(v[n],u.substring(g+1))}return v[u]}static _write(v,u,g){const n=u.indexOf(".");if(n>=0){const i=u.substring(0,n);v[i]=v[i]||{},this._write(v[i],u.substring(n+1),g);return}v[u]=g}}e.EditorSettingMigration=w,w.items=[];function C(b,v){w.items.push(new w(b,v))}function k(b,v){C(b,(u,g,n)=>{if(typeof u!="undefined"){for(const[i,t]of v)if(u===i){n(b,t);return}}})}function I(b){w.items.forEach(v=>v.apply(b))}e.migrateOptions=I,k("wordWrap",[[!0,"on"],[!1,"off"]]),k("lineNumbers",[[!0,"on"],[!1,"off"]]),k("cursorBlinking",[["visible","solid"]]),k("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),k("renderLineHighlight",[[!0,"line"],[!1,"none"]]),k("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),k("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),k("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),k("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),k("autoIndent",[[!1,"advanced"],[!0,"full"]]),k("matchBrackets",[[!0,"always"],[!1,"never"]]),C("autoClosingBrackets",(b,v,u)=>{b===!1&&(u("autoClosingBrackets","never"),typeof v("autoClosingQuotes")=="undefined"&&u("autoClosingQuotes","never"),typeof v("autoSurround")=="undefined"&&u("autoSurround","never"))}),C("renderIndentGuides",(b,v,u)=>{typeof b!="undefined"&&(u("renderIndentGuides",void 0),typeof v("guides.indentation")=="undefined"&&u("guides.indentation",!!b))}),C("highlightActiveIndentGuide",(b,v,u)=>{typeof b!="undefined"&&(u("highlightActiveIndentGuide",void 0),typeof v("guides.highlightActiveIndentation")=="undefined"&&u("guides.highlightActiveIndentation",!!b))});const L={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};C("suggest.filteredTypes",(b,v,u)=>{if(b&&typeof b=="object"){for(const g of Object.entries(L))b[g[0]]===!1&&typeof v(`suggest.${g[1]}`)=="undefined"&&u(`suggest.${g[1]}`,!1);u("suggest.filteredTypes",void 0)}}),C("quickSuggestions",(b,v,u)=>{if(typeof b=="boolean"){const g=b?"on":"off";u("quickSuggestions",{comments:g,strings:g,other:g})}})}),define(re[152],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=void 0;class w{constructor(k,I,L){this._visiblePosition=k,this._visiblePositionScrollDelta=I,this._cursorPosition=L}static capture(k){let I=null,L=0;if(k.getScrollTop()!==0){const b=k.getVisibleRanges();if(b.length>0){I=b[0].getStartPosition();const v=k.getTopForPosition(I.lineNumber,I.column);L=k.getScrollTop()-v}}return new w(I,L,k.getPosition())}restore(k){if(this._visiblePosition){const I=k.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);k.setScrollTop(I+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(k){const I=k.getPosition();if(!this._cursorPosition||!I)return;const L=k.getTopForLineNumber(I.lineNumber)-k.getTopForLineNumber(this._cursorPosition.lineNumber);k.setScrollTop(k.getScrollTop()+L)}}e.StableEditorScrollState=w}),define(re[125],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.FloatHorizontalRange=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class w{constructor(g,n){this._restrictedRenderingContextBrand=void 0,this._viewLayout=g,this.viewportData=n,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(g){return g-this.scrollTop}getVerticalOffsetForLineNumber(g){return this._viewLayout.getVerticalOffsetForLineNumber(g)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=w;class C extends w{constructor(g,n,i){super(g,n);this._renderingContextBrand=void 0,this._viewLines=i}linesVisibleRangesForRange(g,n){return this._viewLines.linesVisibleRangesForRange(g,n)}visibleRangeForPosition(g){return this._viewLines.visibleRangeForPosition(g)}}e.RenderingContext=C;class k{constructor(g,n,i){this.outsideRenderedLine=g,this.lineNumber=n,this.ranges=i}}e.LineVisibleRanges=k;class I{constructor(g,n){this._horizontalRangeBrand=void 0,this.left=Math.round(g),this.width=Math.round(n)}static from(g){const n=new Array(g.length);for(let i=0,t=g.length;i<t;i++){const r=g[i];n[i]=new I(r.left,r.width)}return n}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=I;class L{constructor(g,n){this._floatHorizontalRangeBrand=void 0,this.left=g,this.width=n}toString(){return`[${this.left},${this.width}]`}static compare(g,n){return g.left-n.left}}e.FloatHorizontalRange=L;class b{constructor(g,n){this.outsideRenderedLine=g,this.originalLeft=n,this.left=Math.round(this.originalLeft)}}e.HorizontalPosition=b;class v{constructor(g,n){this.outsideRenderedLine=g,this.ranges=n}}e.VisibleRanges=v}),define(re[229],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class w{constructor(k){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=k}emitKeyDown(k){var I;(I=this.onKeyDown)===null||I===void 0||I.call(this,k)}emitKeyUp(k){var I;(I=this.onKeyUp)===null||I===void 0||I.call(this,k)}emitContextMenu(k){var I;(I=this.onContextMenu)===null||I===void 0||I.call(this,this._convertViewToModelMouseEvent(k))}emitMouseMove(k){var I;(I=this.onMouseMove)===null||I===void 0||I.call(this,this._convertViewToModelMouseEvent(k))}emitMouseLeave(k){var I;(I=this.onMouseLeave)===null||I===void 0||I.call(this,this._convertViewToModelMouseEvent(k))}emitMouseDown(k){var I;(I=this.onMouseDown)===null||I===void 0||I.call(this,this._convertViewToModelMouseEvent(k))}emitMouseUp(k){var I;(I=this.onMouseUp)===null||I===void 0||I.call(this,this._convertViewToModelMouseEvent(k))}emitMouseDrag(k){var I;(I=this.onMouseDrag)===null||I===void 0||I.call(this,this._convertViewToModelMouseEvent(k))}emitMouseDrop(k){var I;(I=this.onMouseDrop)===null||I===void 0||I.call(this,this._convertViewToModelMouseEvent(k))}emitMouseDropCanceled(){var k;(k=this.onMouseDropCanceled)===null||k===void 0||k.call(this)}emitMouseWheel(k){var I;(I=this.onMouseWheel)===null||I===void 0||I.call(this,k)}_convertViewToModelMouseEvent(k){return k.target?{event:k.event,target:this._convertViewToModelMouseTarget(k.target)}:k}_convertViewToModelMouseTarget(k){return w.convertViewToModelMouseTarget(k,this._coordinatesConverter)}static convertViewToModelMouseTarget(k,I){const L=Object.assign({},k);return L.position&&(L.position=I.convertViewPositionToModelPosition(L.position)),L.range&&(L.range=I.convertViewRangeToModelRange(L.range)),L}}e.ViewUserInputEvents=w}),define(re[402],ae([1,0,125]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class C{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(I,L){I.selectNodeContents(L)}static _readClientRects(I,L,b,v,u){const g=this._createRange();try{return g.setStart(I,L),g.setEnd(b,v),g.getClientRects()}catch{return null}finally{this._detachRange(g,u)}}static _mergeAdjacentRanges(I){if(I.length===1)return I;I.sort(w.FloatHorizontalRange.compare);const L=[];let b=0,v=I[0];for(let u=1,g=I.length;u<g;u++){const n=I[u];v.left+v.width+.9>=n.left?v.width=Math.max(v.width,n.left+n.width-v.left):(L[b++]=v,v=n)}return L[b++]=v,L}static _createHorizontalRangesFromClientRects(I,L,b){if(!I||I.length===0)return null;const v=[];for(let u=0,g=I.length;u<g;u++){const n=I[u];v[u]=new w.FloatHorizontalRange(Math.max(0,(n.left-L)/b),n.width/b)}return this._mergeAdjacentRanges(v)}static readHorizontalRanges(I,L,b,v,u,g,n,i){const t=0,r=I.children.length-1;if(t>r)return null;if(L=Math.min(r,Math.max(t,L)),v=Math.min(r,Math.max(t,v)),L===v&&b===u&&b===0&&!I.children[L].firstChild){const s=I.children[L].getClientRects();return this._createHorizontalRangesFromClientRects(s,g,n)}L!==v&&v>0&&u===0&&(v--,u=1073741824);let l=I.children[L].firstChild,d=I.children[v].firstChild;if((!l||!d)&&(!l&&b===0&&L>0&&(l=I.children[L-1].firstChild,b=1073741824),!d&&u===0&&v>0&&(d=I.children[v-1].firstChild,u=1073741824)),!l||!d)return null;b=Math.min(l.textContent.length,Math.max(0,b)),u=Math.min(d.textContent.length,Math.max(0,u));const a=this._readClientRects(l,b,d,u,i);return this._createHorizontalRangesFromClientRects(a,g,n)}}e.RangeUtil=C}),define(re[230],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const C=[];for(let k=32;k<=126;k++)C.push(k);return C.push(65533),C})();const w=(C,k)=>(C-=32,C<0||C>96?k<=2?(C+96)%96:96-1:C);e.getCharIndex=w}),define(re[403],ae([1,0,230,148]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class k{constructor(L,b){this.scale=b,this._minimapCharRendererBrand=void 0,this.charDataNormal=k.soften(L,12/15),this.charDataLight=k.soften(L,50/60)}static soften(L,b){const v=new Uint8ClampedArray(L.length);for(let u=0,g=L.length;u<g;u++)v[u]=(0,C.toUint8)(L[u]*b);return v}renderChar(L,b,v,u,g,n,i,t,r,l,d){const a=1*this.scale,s=2*this.scale,o=d?1:s;if(b+a>L.width||v+o>L.height){console.warn("bad render request outside image data");return}const c=l?this.charDataLight:this.charDataNormal,f=(0,w.getCharIndex)(u,r),p=L.width*4,_=i.r,m=i.g,h=i.b,S=g.r-_,y=g.g-m,E=g.b-h,N=Math.max(n,t),T=L.data;let R=f*a*s,F=v*p+b*4;for(let O=0;O<o;O++){let D=F;for(let M=0;M<a;M++){const P=c[R++]/255*(n/255);T[D++]=_+S*P,T[D++]=m+y*P,T[D++]=h+E*P,T[D++]=N}F+=p}}blockRenderChar(L,b,v,u,g,n,i,t){const r=1*this.scale,l=2*this.scale,d=t?1:l;if(b+r>L.width||v+d>L.height){console.warn("bad render request outside image data");return}const a=L.width*4,s=.5*(g/255),o=n.r,c=n.g,f=n.b,p=u.r-o,_=u.g-c,m=u.b-f,h=o+p*s,S=c+_*s,y=f+m*s,E=Math.max(g,i),N=L.data;let T=v*a+b*4;for(let R=0;R<d;R++){let F=T;for(let O=0;O<r;O++)N[F++]=h,N[F++]=S,N[F++]=y,N[F++]=E;T+=a}}}e.MinimapCharRenderer=k}),define(re[404],ae([1,0,96]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const C={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},k=I=>{const L=new Uint8ClampedArray(I.length/2);for(let b=0;b<I.length;b+=2)L[b>>1]=C[I[b]]<<4|C[I[b+1]]&15;return L};e.prebakedMiniMaps={1:(0,w.once)(()=>k("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,w.once)(()=>k("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(re[405],ae([1,0,403,230,404,148]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class L{static create(v,u){if(this.lastCreated&&v===this.lastCreated.scale&&u===this.lastFontFamily)return this.lastCreated;let g;return k.prebakedMiniMaps[v]?g=new w.MinimapCharRenderer(k.prebakedMiniMaps[v](),v):g=L.createFromSampleData(L.createSampleData(u).data,v),this.lastFontFamily=u,this.lastCreated=g,g}static createSampleData(v){const u=document.createElement("canvas"),g=u.getContext("2d");u.style.height=`${16}px`,u.height=16,u.width=96*10,u.style.width=96*10+"px",g.fillStyle="#ffffff",g.font=`bold ${16}px ${v}`,g.textBaseline="middle";let n=0;for(const i of C.allCharCodes)g.fillText(String.fromCharCode(i),n,16/2),n+=10;return g.getImageData(0,0,96*10,16)}static createFromSampleData(v,u){const g=16*10*4*96;if(v.length!==g)throw new Error("Unexpected source in MinimapCharRenderer");const n=L._downsample(v,u);return new w.MinimapCharRenderer(n,u)}static _downsampleChar(v,u,g,n,i){const t=1*i,r=2*i;let l=n,d=0;for(let a=0;a<r;a++){const s=a/r*16,o=(a+1)/r*16;for(let c=0;c<t;c++){const f=c/t*10,p=(c+1)/t*10;let _=0,m=0;for(let S=s;S<o;S++){const y=u+Math.floor(S)*3840,E=1-(S-Math.floor(S));for(let N=f;N<p;N++){const T=1-(N-Math.floor(N)),R=y+Math.floor(N)*4,F=T*E;m+=F,_+=v[R]*v[R+3]/255*F}}const h=_/m;d=Math.max(d,h),g[l++]=(0,I.toUint8)(h)}}return d}static _downsample(v,u){const g=2*u*1*u,n=g*96,i=new Uint8ClampedArray(n);let t=0,r=0,l=0;for(let d=0;d<96;d++)l=Math.max(l,this._downsampleChar(v,r,i,t,u)),t+=g,r+=10*4;if(l>0){const d=255/l;for(let a=0;a<n;a++)i[a]*=d}return i}}e.MinimapCharRendererFactory=L}),define(re[107],ae([1,0,148]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class C{constructor(L){const b=(0,w.toUint8)(L);this._defaultValue=b,this._asciiMap=C._createAsciiMap(b),this._map=new Map}static _createAsciiMap(L){const b=new Uint8Array(256);for(let v=0;v<256;v++)b[v]=L;return b}set(L,b){const v=(0,w.toUint8)(b);L>=0&&L<256?this._asciiMap[L]=v:this._map.set(L,v)}get(L){return L>=0&&L<256?this._asciiMap[L]:this._map.get(L)||this._defaultValue}}e.CharacterClassifier=C;class k{constructor(){this._actual=new C(0)}add(L){this._actual.set(L,1)}has(L){return this._actual.get(L)===1}}e.CharacterSet=k}),define(re[66],ae([1,0,8]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorColumns=void 0;class C{static _nextVisibleColumn(I,L,b){return I===9?C.nextRenderTabStop(L,b):w.isFullWidthCharacter(I)||w.isEmojiImprecise(I)?L+2:L+1}static visibleColumnFromColumn(I,L,b){const v=Math.min(L-1,I.length),u=I.substring(0,v),g=new w.GraphemeIterator(u);let n=0;for(;!g.eol();){const i=w.getNextCodePoint(u,v,g.offset);g.nextGraphemeLength(),n=this._nextVisibleColumn(i,n,b)}return n}static columnFromVisibleColumn(I,L,b){if(L<=0)return 1;const v=I.length,u=new w.GraphemeIterator(I);let g=0,n=1;for(;!u.eol();){const i=w.getNextCodePoint(I,v,u.offset);u.nextGraphemeLength();const t=this._nextVisibleColumn(i,g,b),r=u.offset+1;if(t>=L){const l=L-g;return t-L<l?r:n}g=t,n=r}return v+1}static nextRenderTabStop(I,L){return I+L-I%L}static nextIndentTabStop(I,L){return I+L-I%L}static prevRenderTabStop(I,L){return Math.max(0,I-1-(I-1)%L)}static prevIndentTabStop(I,L){return Math.max(0,I-1-(I-1)%L)}}e.CursorColumns=C}),define(re[126],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.countEOL=void 0;function w(C){let k=0,I=0,L=0,b=0;for(let v=0,u=C.length;v<u;v++){const g=C.charCodeAt(v);g===13?(k===0&&(I=v),k++,v+1<u&&C.charCodeAt(v+1)===10?(b|=2,v++):b|=3,L=v+1):g===10&&(b|=1,k===0&&(I=v),k++,L=v+1)}return k===0&&(I=C.length),[k,I,C.length-L,b]}e.countEOL=w}),define(re[179],ae([1,0,8,66]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeIndentation=void 0;function k(L,b,v){let u=0;for(let n=0;n<L.length;n++)L.charAt(n)==="	"?u=C.CursorColumns.nextIndentTabStop(u,b):u++;let g="";if(!v){const n=Math.floor(u/b);u=u%b;for(let i=0;i<n;i++)g+="	"}for(let n=0;n<u;n++)g+=" ";return g}function I(L,b,v){let u=w.firstNonWhitespaceIndex(L);return u===-1&&(u=L.length),k(L.substring(0,u),b,v)+L.substring(u)}e.normalizeIndentation=I}),define(re[11],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class w{constructor(k,I){this.lineNumber=k,this.column=I}with(k=this.lineNumber,I=this.column){return k===this.lineNumber&&I===this.column?this:new w(k,I)}delta(k=0,I=0){return this.with(this.lineNumber+k,this.column+I)}equals(k){return w.equals(this,k)}static equals(k,I){return!k&&!I?!0:!!k&&!!I&&k.lineNumber===I.lineNumber&&k.column===I.column}isBefore(k){return w.isBefore(this,k)}static isBefore(k,I){return k.lineNumber<I.lineNumber?!0:I.lineNumber<k.lineNumber?!1:k.column<I.column}isBeforeOrEqual(k){return w.isBeforeOrEqual(this,k)}static isBeforeOrEqual(k,I){return k.lineNumber<I.lineNumber?!0:I.lineNumber<k.lineNumber?!1:k.column<=I.column}static compare(k,I){const L=k.lineNumber|0,b=I.lineNumber|0;if(L===b){const v=k.column|0,u=I.column|0;return v-u}return L-b}clone(){return new w(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(k){return new w(k.lineNumber,k.column)}static isIPosition(k){return k&&typeof k.lineNumber=="number"&&typeof k.column=="number"}}e.Position=w}),define(re[3],ae([1,0,11]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class C{constructor(I,L,b,v){I>b||I===b&&L>v?(this.startLineNumber=b,this.startColumn=v,this.endLineNumber=I,this.endColumn=L):(this.startLineNumber=I,this.startColumn=L,this.endLineNumber=b,this.endColumn=v)}isEmpty(){return C.isEmpty(this)}static isEmpty(I){return I.startLineNumber===I.endLineNumber&&I.startColumn===I.endColumn}containsPosition(I){return C.containsPosition(this,I)}static containsPosition(I,L){return!(L.lineNumber<I.startLineNumber||L.lineNumber>I.endLineNumber||L.lineNumber===I.startLineNumber&&L.column<I.startColumn||L.lineNumber===I.endLineNumber&&L.column>I.endColumn)}static strictContainsPosition(I,L){return!(L.lineNumber<I.startLineNumber||L.lineNumber>I.endLineNumber||L.lineNumber===I.startLineNumber&&L.column<=I.startColumn||L.lineNumber===I.endLineNumber&&L.column>=I.endColumn)}containsRange(I){return C.containsRange(this,I)}static containsRange(I,L){return!(L.startLineNumber<I.startLineNumber||L.endLineNumber<I.startLineNumber||L.startLineNumber>I.endLineNumber||L.endLineNumber>I.endLineNumber||L.startLineNumber===I.startLineNumber&&L.startColumn<I.startColumn||L.endLineNumber===I.endLineNumber&&L.endColumn>I.endColumn)}strictContainsRange(I){return C.strictContainsRange(this,I)}static strictContainsRange(I,L){return!(L.startLineNumber<I.startLineNumber||L.endLineNumber<I.startLineNumber||L.startLineNumber>I.endLineNumber||L.endLineNumber>I.endLineNumber||L.startLineNumber===I.startLineNumber&&L.startColumn<=I.startColumn||L.endLineNumber===I.endLineNumber&&L.endColumn>=I.endColumn)}plusRange(I){return C.plusRange(this,I)}static plusRange(I,L){let b,v,u,g;return L.startLineNumber<I.startLineNumber?(b=L.startLineNumber,v=L.startColumn):L.startLineNumber===I.startLineNumber?(b=L.startLineNumber,v=Math.min(L.startColumn,I.startColumn)):(b=I.startLineNumber,v=I.startColumn),L.endLineNumber>I.endLineNumber?(u=L.endLineNumber,g=L.endColumn):L.endLineNumber===I.endLineNumber?(u=L.endLineNumber,g=Math.max(L.endColumn,I.endColumn)):(u=I.endLineNumber,g=I.endColumn),new C(b,v,u,g)}intersectRanges(I){return C.intersectRanges(this,I)}static intersectRanges(I,L){let b=I.startLineNumber,v=I.startColumn,u=I.endLineNumber,g=I.endColumn;const n=L.startLineNumber,i=L.startColumn,t=L.endLineNumber,r=L.endColumn;return b<n?(b=n,v=i):b===n&&(v=Math.max(v,i)),u>t?(u=t,g=r):u===t&&(g=Math.min(g,r)),b>u||b===u&&v>g?null:new C(b,v,u,g)}equalsRange(I){return C.equalsRange(this,I)}static equalsRange(I,L){return!!I&&!!L&&I.startLineNumber===L.startLineNumber&&I.startColumn===L.startColumn&&I.endLineNumber===L.endLineNumber&&I.endColumn===L.endColumn}getEndPosition(){return C.getEndPosition(this)}static getEndPosition(I){return new w.Position(I.endLineNumber,I.endColumn)}getStartPosition(){return C.getStartPosition(this)}static getStartPosition(I){return new w.Position(I.startLineNumber,I.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(I,L){return new C(this.startLineNumber,this.startColumn,I,L)}setStartPosition(I,L){return new C(I,L,this.endLineNumber,this.endColumn)}collapseToStart(){return C.collapseToStart(this)}static collapseToStart(I){return new C(I.startLineNumber,I.startColumn,I.startLineNumber,I.startColumn)}static fromPositions(I,L=I){return new C(I.lineNumber,I.column,L.lineNumber,L.column)}static lift(I){return I?new C(I.startLineNumber,I.startColumn,I.endLineNumber,I.endColumn):null}static isIRange(I){return I&&typeof I.startLineNumber=="number"&&typeof I.startColumn=="number"&&typeof I.endLineNumber=="number"&&typeof I.endColumn=="number"}static areIntersectingOrTouching(I,L){return!(I.endLineNumber<L.startLineNumber||I.endLineNumber===L.startLineNumber&&I.endColumn<L.startColumn||L.endLineNumber<I.startLineNumber||L.endLineNumber===I.startLineNumber&&L.endColumn<I.startColumn)}static areIntersecting(I,L){return!(I.endLineNumber<L.startLineNumber||I.endLineNumber===L.startLineNumber&&I.endColumn<=L.startColumn||L.endLineNumber<I.startLineNumber||L.endLineNumber===I.startLineNumber&&L.endColumn<=I.startColumn)}static compareRangesUsingStarts(I,L){if(I&&L){const u=I.startLineNumber|0,g=L.startLineNumber|0;if(u===g){const n=I.startColumn|0,i=L.startColumn|0;if(n===i){const t=I.endLineNumber|0,r=L.endLineNumber|0;if(t===r){const l=I.endColumn|0,d=L.endColumn|0;return l-d}return t-r}return n-i}return u-g}return(I?1:0)-(L?1:0)}static compareRangesUsingEnds(I,L){return I.endLineNumber===L.endLineNumber?I.endColumn===L.endColumn?I.startLineNumber===L.startLineNumber?I.startColumn-L.startColumn:I.startLineNumber-L.startLineNumber:I.endColumn-L.endColumn:I.endLineNumber-L.endLineNumber}static spansMultipleLines(I){return I.endLineNumber>I.startLineNumber}toJSON(){return this}}e.Range=C}),define(re[231],ae([1,0,8,11,3]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class I{constructor(v,u,g,n,i){this.value=v,this.selectionStart=u,this.selectionEnd=g,this.selectionStartPosition=n,this.selectionEndPosition=i}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(v){return new I(v.getValue(),v.getSelectionStart(),v.getSelectionEnd(),null,null)}collapseSelection(){return new I(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(v,u,g){e._debugComposition&&console.log(`writeToTextArea ${v}: ${this.toString()}`),u.setValue(v,this.value),g&&u.setSelectionRange(v,this.selectionStart,this.selectionEnd)}deduceEditorPosition(v){if(v<=this.selectionStart){const n=this.value.substring(v,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,n,-1)}if(v>=this.selectionEnd){const n=this.value.substring(this.selectionEnd,v);return this._finishDeduceEditorPosition(this.selectionEndPosition,n,1)}const u=this.value.substring(this.selectionStart,v);if(u.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,u,1);const g=this.value.substring(v,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,g,-1)}_finishDeduceEditorPosition(v,u,g){let n=0,i=-1;for(;(i=u.indexOf(`
`,i+1))!==-1;)n++;return[v,g*u.length,n]}static deduceInput(v,u,g){if(!v)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${v.toString()}`),console.log(`CURRENT STATE: ${u.toString()}`));const n=Math.min(w.commonPrefixLength(v.value,u.value),v.selectionStart,u.selectionStart),i=Math.min(w.commonSuffixLength(v.value,u.value),v.value.length-v.selectionEnd,u.value.length-u.selectionEnd),t=v.value.substring(n,v.value.length-i),r=u.value.substring(n,u.value.length-i),l=v.selectionStart-n,d=v.selectionEnd-n,a=u.selectionStart-n,s=u.selectionEnd-n;if(e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${t}>, selectionStart: ${l}, selectionEnd: ${d}`),console.log(`AFTER DIFFING CURRENT STATE: <${r}>, selectionStart: ${a}, selectionEnd: ${s}`)),a===s){const c=v.selectionStart-n;return e._debugComposition&&console.log(`REMOVE PREVIOUS: ${c} chars`),{text:r,replacePrevCharCnt:c,replaceNextCharCnt:0,positionDelta:0}}const o=d-l;return{text:r,replacePrevCharCnt:o,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(v,u){if(!v)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${v.toString()}`),console.log(`CURRENT STATE: ${u.toString()}`)),v.value===u.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:u.selectionEnd-v.selectionEnd};const g=Math.min(w.commonPrefixLength(v.value,u.value),v.selectionEnd),n=Math.min(w.commonSuffixLength(v.value,u.value),v.value.length-v.selectionEnd),i=v.value.substring(g,v.value.length-n),t=u.value.substring(g,u.value.length-n),r=v.selectionStart-g,l=v.selectionEnd-g,d=u.selectionStart-g,a=u.selectionEnd-g;return e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${i}>, selectionStart: ${r}, selectionEnd: ${l}`),console.log(`AFTER DIFFING CURRENT STATE: <${t}>, selectionStart: ${d}, selectionEnd: ${a}`)),{text:t,replacePrevCharCnt:l,replaceNextCharCnt:i.length-l,positionDelta:a-t.length}}}e.TextAreaState=I,I.EMPTY=new I("",0,0,null,null);class L{static _getPageOfLine(v,u){return Math.floor((v-1)/u)}static _getRangeForPage(v,u){const g=v*u,n=g+1,i=g+u;return new k.Range(n,1,i+1,1)}static fromEditorSelection(v,u,g,n,i){const t=L._getPageOfLine(g.startLineNumber,n),r=L._getRangeForPage(t,n),l=L._getPageOfLine(g.endLineNumber,n),d=L._getRangeForPage(l,n),a=r.intersectRanges(new k.Range(1,1,g.startLineNumber,g.startColumn));let s=u.getValueInRange(a,1);const o=u.getLineCount(),c=u.getLineMaxColumn(o),f=d.intersectRanges(new k.Range(g.endLineNumber,g.endColumn,o,c));let p=u.getValueInRange(f,1),_;if(t===l||t+1===l)_=u.getValueInRange(g,1);else{const m=r.intersectRanges(g),h=d.intersectRanges(g);_=u.getValueInRange(m,1)+String.fromCharCode(8230)+u.getValueInRange(h,1)}if(i){const m=500;s.length>m&&(s=s.substring(s.length-m,s.length)),p.length>m&&(p=p.substring(0,m)),_.length>2*m&&(_=_.substring(0,m)+String.fromCharCode(8230)+_.substring(_.length-m,_.length))}return new I(s+_+p,s.length,s.length+_.length,new C.Position(g.startLineNumber,g.startColumn),new C.Position(g.endLineNumber,g.endColumn))}}e.PagedScreenReaderStrategy=L}),define(re[60],ae([1,0,3]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class C{static insert(I,L){return{range:new w.Range(I.lineNumber,I.column,I.lineNumber,I.column),text:L,forceMoveMarkers:!0}}static delete(I){return{range:I,text:null}}static replace(I,L){return{range:I,text:L}}static replaceMove(I,L){return{range:I,text:L,forceMoveMarkers:!0}}}e.EditOperation=C}),define(re[406],ae([1,0,8,60,3]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trimTrailingWhitespace=e.TrimTrailingWhitespaceCommand=void 0;class I{constructor(v,u){this._selection=v,this._cursors=u,this._selectionId=null}getEditOperations(v,u){const g=L(v,this._cursors);for(let n=0,i=g.length;n<i;n++){const t=g[n];u.addEditOperation(t.range,t.text)}this._selectionId=u.trackSelection(this._selection)}computeCursorState(v,u){return u.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=I;function L(b,v){v.sort((t,r)=>t.lineNumber===r.lineNumber?t.column-r.column:t.lineNumber-r.lineNumber);for(let t=v.length-2;t>=0;t--)v[t].lineNumber===v[t+1].lineNumber&&v.splice(t,1);const u=[];let g=0,n=0;const i=v.length;for(let t=1,r=b.getLineCount();t<=r;t++){const l=b.getLineContent(t),d=l.length+1;let a=0;if(n<i&&v[n].lineNumber===t&&(a=v[n].column,n++,a===d)||l.length===0)continue;const s=w.lastNonWhitespaceIndex(l);let o=0;if(s===-1)o=1;else if(s!==l.length-1)o=s+2;else continue;o=Math.max(a,o),u[g++]=C.EditOperation.delete(new k.Range(t,o,t,d))}return u}e.trimTrailingWhitespace=L}),define(re[232],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class w{constructor(k,I,L,b){this._rgba8Brand=void 0,this.r=w._clamp(k),this.g=w._clamp(I),this.b=w._clamp(L),this.a=w._clamp(b)}equals(k){return this.r===k.r&&this.g===k.g&&this.b===k.b&&this.a===k.a}static _clamp(k){return k<0?0:k>255?255:k|0}}e.RGBA8=w,w.Empty=new w(0,0,0,0)}),define(re[23],ae([1,0,11,3]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class k extends C.Range{constructor(L,b,v,u){super(L,b,v,u);this.selectionStartLineNumber=L,this.selectionStartColumn=b,this.positionLineNumber=v,this.positionColumn=u}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(L){return k.selectionsEqual(this,L)}static selectionsEqual(L,b){return L.selectionStartLineNumber===b.selectionStartLineNumber&&L.selectionStartColumn===b.selectionStartColumn&&L.positionLineNumber===b.positionLineNumber&&L.positionColumn===b.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(L,b){return this.getDirection()===0?new k(this.startLineNumber,this.startColumn,L,b):new k(L,b,this.startLineNumber,this.startColumn)}getPosition(){return new w.Position(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new w.Position(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(L,b){return this.getDirection()===0?new k(L,b,this.endLineNumber,this.endColumn):new k(this.endLineNumber,this.endColumn,L,b)}static fromPositions(L,b=L){return new k(L.lineNumber,L.column,b.lineNumber,b.column)}static fromRange(L,b){return b===0?new k(L.startLineNumber,L.startColumn,L.endLineNumber,L.endColumn):new k(L.endLineNumber,L.endColumn,L.startLineNumber,L.startColumn)}static liftSelection(L){return new k(L.selectionStartLineNumber,L.selectionStartColumn,L.positionLineNumber,L.positionColumn)}static selectionsArrEqual(L,b){if(L&&!b||!L&&b)return!1;if(!L&&!b)return!0;if(L.length!==b.length)return!1;for(let v=0,u=L.length;v<u;v++)if(!this.selectionsEqual(L[v],b[v]))return!1;return!0}static isISelection(L){return L&&typeof L.selectionStartLineNumber=="number"&&typeof L.selectionStartColumn=="number"&&typeof L.positionLineNumber=="number"&&typeof L.positionColumn=="number"}static createWithDirection(L,b,v,u,g){return g===0?new k(L,b,v,u):new k(v,u,L,b)}}e.Selection=k}),define(re[108],ae([1,0,23]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class C{constructor(u,g,n=!1){this._range=u,this._text=g,this.insertsAutoWhitespace=n}getEditOperations(u,g){g.addTrackedEditOperation(this._range,this._text)}computeCursorState(u,g){const i=g.getInverseEditOperations()[0].range;return w.Selection.fromPositions(i.getEndPosition())}}e.ReplaceCommand=C;class k{constructor(u,g){this._range=u,this._text=g}getEditOperations(u,g){g.addTrackedEditOperation(this._range,this._text)}computeCursorState(u,g){const i=g.getInverseEditOperations()[0].range;return w.Selection.fromRange(i,0)}}e.ReplaceCommandThatSelectsText=k;class I{constructor(u,g,n=!1){this._range=u,this._text=g,this.insertsAutoWhitespace=n}getEditOperations(u,g){g.addTrackedEditOperation(this._range,this._text)}computeCursorState(u,g){const i=g.getInverseEditOperations()[0].range;return w.Selection.fromPositions(i.getStartPosition())}}e.ReplaceCommandWithoutChangingPosition=I;class L{constructor(u,g,n,i,t=!1){this._range=u,this._text=g,this._columnDeltaOffset=i,this._lineNumberDeltaOffset=n,this.insertsAutoWhitespace=t}getEditOperations(u,g){g.addTrackedEditOperation(this._range,this._text)}computeCursorState(u,g){const i=g.getInverseEditOperations()[0].range;return w.Selection.fromPositions(i.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}e.ReplaceCommandWithOffsetCursorState=L;class b{constructor(u,g,n,i=!1){this._range=u,this._text=g,this._initialSelection=n,this._forceMoveMarkers=i,this._selectionId=null}getEditOperations(u,g){g.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=g.trackSelection(this._initialSelection)}computeCursorState(u,g){return g.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=b}),define(re[407],ae([1,0,3,23]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionSurroundSelectionCommand=e.SurroundSelectionCommand=void 0;class k{constructor(b,v,u){this._range=b,this._charBeforeSelection=v,this._charAfterSelection=u}getEditOperations(b,v){v.addTrackedEditOperation(new w.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),v.addTrackedEditOperation(new w.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(b,v){const u=v.getInverseEditOperations(),g=u[0].range,n=u[1].range;return new C.Selection(g.endLineNumber,g.endColumn,n.endLineNumber,n.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=k;class I{constructor(b,v,u){this._position=b,this._text=v,this._charAfter=u}getEditOperations(b,v){v.addTrackedEditOperation(new w.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(b,v){const g=v.getInverseEditOperations()[0].range;return new C.Selection(g.endLineNumber,g.startColumn,g.endLineNumber,g.endColumn-this._charAfter.length)}}e.CompositionSurroundSelectionCommand=I}),define(re[153],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EDITOR_MODEL_DEFAULTS=void 0,e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}}),define(re[127],ae([1,0,107]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMapForWordSeparators=e.WordCharacterClassifier=void 0;class C extends w.CharacterClassifier{constructor(L){super(0);for(let b=0,v=L.length;b<v;b++)this.set(L.charCodeAt(b),2);this.set(32,1),this.set(9,1)}}e.WordCharacterClassifier=C;function k(I){const L={};return b=>(L.hasOwnProperty(b)||(L[b]=I(b)),L[b])}e.getMapForWordSeparators=k(I=>new C(I))}),define(re[128],ae([1,0,55,73]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWordAtText=e.ensureValidWordDefinition=e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function k(u=""){let g="(-?\\d*\\.\\d\\w*)|([^";for(const n of e.USUAL_WORD_SEPARATORS)u.indexOf(n)>=0||(g+="\\"+n);return g+="\\s]+)",new RegExp(g,"g")}e.DEFAULT_WORD_REGEXP=k();function I(u){let g=e.DEFAULT_WORD_REGEXP;if(u&&u instanceof RegExp)if(u.global)g=u;else{let n="g";u.ignoreCase&&(n+="i"),u.multiline&&(n+="m"),u.unicode&&(n+="u"),g=new RegExp(u.source,n)}return g.lastIndex=0,g}e.ensureValidWordDefinition=I;const L=new C.LinkedList;L.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function b(u,g,n,i,t){if(t||(t=w.Iterable.first(L)),n.length>t.maxLen){let s=u-t.maxLen/2;return s<0?s=0:i+=s,n=n.substring(s,u+t.maxLen/2),b(u,g,n,i,t)}const r=Date.now(),l=u-1-i;let d=-1,a=null;for(let s=1;!(Date.now()-r>=t.timeBudget);s++){const o=l-t.windowSize*s;g.lastIndex=Math.max(0,o);const c=v(g,n,l,d);if(!c&&a||(a=c,o<=0))break;d=o}if(a){const s={word:a[0],startColumn:i+1+a.index,endColumn:i+1+a.index+a[0].length};return g.lastIndex=0,s}return null}e.getWordAtText=b;function v(u,g,n,i){let t;for(;t=u.exec(g);){const r=t.index||0;if(r<=n&&u.lastIndex>=n)return t;if(i>0&&r>i)return null}return null}}),define(re[233],ae([1,0,66]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class C{static whitespaceVisibleColumn(I,L,b){const v=I.length;let u=0,g=-1,n=-1;for(let i=0;i<v;i++){if(i===L)return[g,n,u];switch(u%b==0&&(g=i,n=u),I.charCodeAt(i)){case 32:u+=1;break;case 9:u=w.CursorColumns.nextRenderTabStop(u,b);break;default:return[-1,-1,-1]}}return L===v?[g,n,u]:[-1,-1,-1]}static atomicPosition(I,L,b,v){const u=I.length,[g,n,i]=C.whitespaceVisibleColumn(I,L,b);if(i===-1)return-1;let t;switch(v){case 0:t=!0;break;case 1:t=!1;break;case 2:if(i%b==0)return L;t=i%b<=b/2;break}if(t){if(g===-1)return-1;let d=n;for(let a=g;a<u;++a){if(d===n+b)return g;switch(I.charCodeAt(a)){case 32:d+=1;break;case 9:d=w.CursorColumns.nextRenderTabStop(d,b);break;default:return-1}}return d===n+b?g:-1}const r=w.CursorColumns.nextRenderTabStop(i,b);let l=i;for(let d=L;d<u;d++){if(l===r)return d;switch(I.charCodeAt(d)){case 32:l+=1;break;case 9:l=w.CursorColumns.nextRenderTabStop(l,b);break;default:return-1}}return l===r?u:-1}}e.AtomicTabMoveOperations=C}),define(re[408],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorContext=void 0;class w{constructor(k,I,L,b){this._cursorContextBrand=void 0,this.model=k,this.viewModel=I,this.coordinatesConverter=L,this.cursorConfig=b}}e.CursorContext=w}),define(re[409],ae([1,0,147,8]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=void 0;const k=3;function I(l,d,a,s){return new w.LcsDiff(l,d,a).ComputeDiff(s)}class L{constructor(d){const a=[],s=[];for(let o=0,c=d.length;o<c;o++)a[o]=i(d[o],1),s[o]=t(d[o],1);this.lines=d,this._startColumns=a,this._endColumns=s}getElements(){const d=[];for(let a=0,s=this.lines.length;a<s;a++)d[a]=this.lines[a].substring(this._startColumns[a]-1,this._endColumns[a]-1);return d}getStrictElement(d){return this.lines[d]}getStartLineNumber(d){return d+1}getEndLineNumber(d){return d+1}createCharSequence(d,a,s){const o=[],c=[],f=[];let p=0;for(let _=a;_<=s;_++){const m=this.lines[_],h=d?this._startColumns[_]:1,S=d?this._endColumns[_]:m.length+1;for(let y=h;y<S;y++)o[p]=m.charCodeAt(y-1),c[p]=_+1,f[p]=y,p++;!d&&_<s&&(o[p]=10,c[p]=_+1,f[p]=m.length+1,p++)}return new b(o,c,f)}}class b{constructor(d,a,s){this._charCodes=d,this._lineNumbers=a,this._columns=s}toString(){return"["+this._charCodes.map((d,a)=>(d===10?"\\n":String.fromCharCode(d))+`-(${this._lineNumbers[a]},${this._columns[a]})`).join(", ")+"]"}_assertIndex(d,a){if(d<0||d>=a.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(d){return d>0&&d===this._lineNumbers.length?this.getEndLineNumber(d-1):(this._assertIndex(d,this._lineNumbers),this._lineNumbers[d])}getEndLineNumber(d){return d===-1?this.getStartLineNumber(d+1):(this._assertIndex(d,this._lineNumbers),this._charCodes[d]===10?this._lineNumbers[d]+1:this._lineNumbers[d])}getStartColumn(d){return d>0&&d===this._columns.length?this.getEndColumn(d-1):(this._assertIndex(d,this._columns),this._columns[d])}getEndColumn(d){return d===-1?this.getStartColumn(d+1):(this._assertIndex(d,this._columns),this._charCodes[d]===10?1:this._columns[d]+1)}}class v{constructor(d,a,s,o,c,f,p,_){this.originalStartLineNumber=d,this.originalStartColumn=a,this.originalEndLineNumber=s,this.originalEndColumn=o,this.modifiedStartLineNumber=c,this.modifiedStartColumn=f,this.modifiedEndLineNumber=p,this.modifiedEndColumn=_}static createFromDiffChange(d,a,s){const o=a.getStartLineNumber(d.originalStart),c=a.getStartColumn(d.originalStart),f=a.getEndLineNumber(d.originalStart+d.originalLength-1),p=a.getEndColumn(d.originalStart+d.originalLength-1),_=s.getStartLineNumber(d.modifiedStart),m=s.getStartColumn(d.modifiedStart),h=s.getEndLineNumber(d.modifiedStart+d.modifiedLength-1),S=s.getEndColumn(d.modifiedStart+d.modifiedLength-1);return new v(o,c,f,p,_,m,h,S)}}function u(l){if(l.length<=1)return l;const d=[l[0]];let a=d[0];for(let s=1,o=l.length;s<o;s++){const c=l[s],f=c.originalStart-(a.originalStart+a.originalLength),p=c.modifiedStart-(a.modifiedStart+a.modifiedLength);Math.min(f,p)<k?(a.originalLength=c.originalStart+c.originalLength-a.originalStart,a.modifiedLength=c.modifiedStart+c.modifiedLength-a.modifiedStart):(d.push(c),a=c)}return d}class g{constructor(d,a,s,o,c){this.originalStartLineNumber=d,this.originalEndLineNumber=a,this.modifiedStartLineNumber=s,this.modifiedEndLineNumber=o,this.charChanges=c}static createFromDiffResult(d,a,s,o,c,f,p){let _,m,h,S,y;if(a.originalLength===0?(_=s.getStartLineNumber(a.originalStart)-1,m=0):(_=s.getStartLineNumber(a.originalStart),m=s.getEndLineNumber(a.originalStart+a.originalLength-1)),a.modifiedLength===0?(h=o.getStartLineNumber(a.modifiedStart)-1,S=0):(h=o.getStartLineNumber(a.modifiedStart),S=o.getEndLineNumber(a.modifiedStart+a.modifiedLength-1)),f&&a.originalLength>0&&a.originalLength<20&&a.modifiedLength>0&&a.modifiedLength<20&&c()){const E=s.createCharSequence(d,a.originalStart,a.originalStart+a.originalLength-1),N=o.createCharSequence(d,a.modifiedStart,a.modifiedStart+a.modifiedLength-1);if(E.getElements().length>0&&N.getElements().length>0){let T=I(E,N,c,!0).changes;p&&(T=u(T)),y=[];for(let R=0,F=T.length;R<F;R++)y.push(v.createFromDiffChange(T[R],E,N))}}return new g(_,m,h,S,y)}}class n{constructor(d,a,s){this.shouldComputeCharChanges=s.shouldComputeCharChanges,this.shouldPostProcessCharChanges=s.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=s.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=s.shouldMakePrettyDiff,this.originalLines=d,this.modifiedLines=a,this.original=new L(d),this.modified=new L(a),this.continueLineDiff=r(s.maxComputationTime),this.continueCharDiff=r(s.maxComputationTime===0?0:Math.min(s.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const d=I(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),a=d.changes,s=d.quitEarly;if(this.shouldIgnoreTrimWhitespace){const p=[];for(let _=0,m=a.length;_<m;_++)p.push(g.createFromDiffResult(this.shouldIgnoreTrimWhitespace,a[_],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:s,changes:p}}const o=[];let c=0,f=0;for(let p=-1,_=a.length;p<_;p++){const m=p+1<_?a[p+1]:null,h=m?m.originalStart:this.originalLines.length,S=m?m.modifiedStart:this.modifiedLines.length;for(;c<h&&f<S;){const y=this.originalLines[c],E=this.modifiedLines[f];if(y!==E){{let N=i(y,1),T=i(E,1);for(;N>1&&T>1;){const R=y.charCodeAt(N-2),F=E.charCodeAt(T-2);if(R!==F)break;N--,T--}(N>1||T>1)&&this._pushTrimWhitespaceCharChange(o,c+1,1,N,f+1,1,T)}{let N=t(y,1),T=t(E,1);const R=y.length+1,F=E.length+1;for(;N<R&&T<F;){const O=y.charCodeAt(N-1),D=y.charCodeAt(T-1);if(O!==D)break;N++,T++}(N<R||T<F)&&this._pushTrimWhitespaceCharChange(o,c+1,N,R,f+1,T,F)}}c++,f++}m&&(o.push(g.createFromDiffResult(this.shouldIgnoreTrimWhitespace,m,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),c+=m.originalLength,f+=m.modifiedLength)}return{quitEarly:s,changes:o}}_pushTrimWhitespaceCharChange(d,a,s,o,c,f,p){if(this._mergeTrimWhitespaceCharChange(d,a,s,o,c,f,p))return;let _;this.shouldComputeCharChanges&&(_=[new v(a,s,a,o,c,f,c,p)]),d.push(new g(a,a,c,c,_))}_mergeTrimWhitespaceCharChange(d,a,s,o,c,f,p){const _=d.length;if(_===0)return!1;const m=d[_-1];return m.originalEndLineNumber===0||m.modifiedEndLineNumber===0?!1:m.originalEndLineNumber+1===a&&m.modifiedEndLineNumber+1===c?(m.originalEndLineNumber=a,m.modifiedEndLineNumber=c,this.shouldComputeCharChanges&&m.charChanges&&m.charChanges.push(new v(a,s,a,o,c,f,c,p)),!0):!1}}e.DiffComputer=n;function i(l,d){const a=C.firstNonWhitespaceIndex(l);return a===-1?d:a+1}function t(l,d){const a=C.lastNonWhitespaceIndex(l);return a===-1?d:a+2}function r(l){if(l===0)return()=>!0;const d=Date.now();return()=>Date.now()-d<l}}),define(re[234],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class w{constructor(k,I,L,b,v,u){this.id=k,this.label=I,this.alias=L,this._precondition=b,this._run=v,this._contextKeyService=u}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}e.InternalEditorAction=w}),define(re[154],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=void 0,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(re[155],ae([1,0,154]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeEditor=e.isDiffEditor=e.isCodeEditor=void 0;function C(L){return L&&typeof L.getEditorType=="function"?L.getEditorType()===w.EditorType.ICodeEditor:!1}e.isCodeEditor=C;function k(L){return L&&typeof L.getEditorType=="function"?L.getEditorType()===w.EditorType.IDiffEditor:!1}e.isDiffEditor=k;function I(L){return C(L)?L:k(L)?L.getModifiedEditor():null}e.getCodeEditor=I}),define(re[410],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorTheme=void 0;class w{constructor(k){this._theme=k}get type(){return this._theme.type}get value(){return this._theme}update(k){this._theme=k}getColor(k){return this._theme.getColor(k)}}e.EditorTheme=w}),define(re[109],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenMetadata=void 0;class w{static getLanguageId(k){return(k&255)>>>0}static getTokenType(k){return(k&768)>>>8}static containsBalancedBrackets(k){return(k&1024)!=0}static getFontStyle(k){return(k&30720)>>>11}static getForeground(k){return(k&16744448)>>>15}static getBackground(k){return(k&4278190080)>>>24}static getClassNameFromMetadata(k){const I=this.getForeground(k);let L="mtk"+I;const b=this.getFontStyle(k);return b&1&&(L+=" mtki"),b&2&&(L+=" mtkb"),b&4&&(L+=" mtku"),b&8&&(L+=" mtks"),L}static getInlineStyleFromMetadata(k,I){const L=this.getForeground(k),b=this.getFontStyle(k);let v=`color: ${I[L]};`;b&1&&(v+="font-style: italic;"),b&2&&(v+="font-weight: bold;");let u="";return b&4&&(u+=" underline"),b&8&&(u+=" line-through"),u&&(v+=`text-decoration:${u};`),v}static getPresentationFromMetadata(k){const I=this.getForeground(k),L=this.getFontStyle(k);return{foreground:I,italic:Boolean(L&1),bold:Boolean(L&2),underline:Boolean(L&4),strikethrough:Boolean(L&8)}}}e.TokenMetadata=w}),define(re[98],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var w;(function(L){L[L.None=0]="None",L[L.Indent=1]="Indent",L[L.IndentOutdent=2]="IndentOutdent",L[L.Outdent=3]="Outdent"})(w=e.IndentAction||(e.IndentAction={}));class C{constructor(b){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=b.open,this.close=b.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(b.notIn))for(let v=0,u=b.notIn.length;v<u;v++)switch(b.notIn[v]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(b){switch(b){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(b,v){if(b.getTokenCount()===0)return!0;const u=b.findTokenIndexAtOffset(v-2),g=b.getStandardTokenType(u);return this.isOK(g)}_findNeutralCharacterInRange(b,v){for(let u=b;u<=v;u++){const g=String.fromCharCode(u);if(!this.open.includes(g)&&!this.close.includes(g))return g}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}e.StandardAutoClosingPairConditional=C;class k{constructor(b){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const v of b)I(this.autoClosingPairsOpenByStart,v.open.charAt(0),v),I(this.autoClosingPairsOpenByEnd,v.open.charAt(v.open.length-1),v),I(this.autoClosingPairsCloseByStart,v.close.charAt(0),v),I(this.autoClosingPairsCloseByEnd,v.close.charAt(v.close.length-1),v),v.close.length===1&&v.open.length===1&&I(this.autoClosingPairsCloseSingleChar,v.close,v)}}e.AutoClosingPairs=k;function I(L,b,v){L.has(b)?L.get(b).push(v):L.set(b,[v])}}),define(re[411],ae([1,0,107]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeLinks=e.LinkComputer=e.StateMachine=e.Uint8Matrix=void 0;class C{constructor(i,t,r){const l=new Uint8Array(i*t);for(let d=0,a=i*t;d<a;d++)l[d]=r;this._data=l,this.rows=i,this.cols=t}get(i,t){return this._data[i*this.cols+t]}set(i,t,r){this._data[i*this.cols+t]=r}}e.Uint8Matrix=C;class k{constructor(i){let t=0,r=0;for(let d=0,a=i.length;d<a;d++){const[s,o,c]=i[d];o>t&&(t=o),s>r&&(r=s),c>r&&(r=c)}t++,r++;const l=new C(r,t,0);for(let d=0,a=i.length;d<a;d++){const[s,o,c]=i[d];l.set(s,o,c)}this._states=l,this._maxCharCode=t}nextState(i,t){return t<0||t>=this._maxCharCode?0:this._states.get(i,t)}}e.StateMachine=k;let I=null;function L(){return I===null&&(I=new k([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),I}let b=null;function v(){if(b===null){b=new w.CharacterClassifier(0);const n=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let t=0;t<n.length;t++)b.set(n.charCodeAt(t),1);const i=".,;:";for(let t=0;t<i.length;t++)b.set(i.charCodeAt(t),2)}return b}class u{static _createLink(i,t,r,l,d){let a=d-1;do{const s=t.charCodeAt(a);if(i.get(s)!==2)break;a--}while(a>l);if(l>0){const s=t.charCodeAt(l-1),o=t.charCodeAt(a);(s===40&&o===41||s===91&&o===93||s===123&&o===125)&&a--}return{range:{startLineNumber:r,startColumn:l+1,endLineNumber:r,endColumn:a+2},url:t.substring(l,a+1)}}static computeLinks(i,t=L()){const r=v(),l=[];for(let d=1,a=i.getLineCount();d<=a;d++){const s=i.getLineContent(d),o=s.length;let c=0,f=0,p=0,_=1,m=!1,h=!1,S=!1,y=!1;for(;c<o;){let E=!1;const N=s.charCodeAt(c);if(_===13){let T;switch(N){case 40:m=!0,T=0;break;case 41:T=m?0:1;break;case 91:S=!0,h=!0,T=0;break;case 93:S=!1,T=h?0:1;break;case 123:y=!0,T=0;break;case 125:T=y?0:1;break;case 39:T=p===39?1:0;break;case 34:T=p===34?1:0;break;case 96:T=p===96?1:0;break;case 42:T=p===42?1:0;break;case 124:T=p===124?1:0;break;case 32:T=S?0:1;break;default:T=r.get(N)}T===1&&(l.push(u._createLink(r,s,d,f,c)),E=!0)}else if(_===12){let T;N===91?(h=!0,T=0):T=r.get(N),T===1?E=!0:_=13}else _=t.nextState(_,N),_===0&&(E=!0);E&&(_=1,m=!1,h=!1,y=!1,f=c+1,p=N),c++}_===13&&l.push(u._createLink(r,s,d,f,o))}return l}}e.LinkComputer=u;function g(n){return!n||typeof n.getLineCount!="function"||typeof n.getLineContent!="function"?[]:u.computeLinks(n)}e.computeLinks=g}),define(re[110],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreBracketsInToken=e.ScopedLineTokens=e.createScopedLineTokens=void 0;function w(I,L){const b=I.getCount(),v=I.findTokenIndexAtOffset(L),u=I.getLanguageId(v);let g=v;for(;g+1<b&&I.getLanguageId(g+1)===u;)g++;let n=v;for(;n>0&&I.getLanguageId(n-1)===u;)n--;return new C(I,u,n,g+1,I.getStartOffset(n),I.getEndOffset(g))}e.createScopedLineTokens=w;class C{constructor(L,b,v,u,g,n){this._scopedLineTokensBrand=void 0,this._actual=L,this.languageId=b,this._firstTokenIndex=v,this._lastTokenIndex=u,this.firstCharOffset=g,this._lastCharOffset=n}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(L){return this._actual.getLineContent().substring(0,this.firstCharOffset+L)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(L){return this._actual.findTokenIndexAtOffset(L+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(L){return this._actual.getStandardTokenType(L+this._firstTokenIndex)}}e.ScopedLineTokens=C;function k(I){return(I&3)!=0}e.ignoreBracketsInToken=k}),define(re[61],ae([1,0,11,3,23,110,66,179]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isQuote=e.EditOperationResult=e.SingleCursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorState=e.CursorConfiguration=void 0;const v=()=>!0,u=()=>!1,g=s=>s===" "||s==="	";class n{constructor(o,c,f,p){this.languageConfigurationService=p,this._cursorMoveConfigurationBrand=void 0,this._languageId=o;const _=f.options,m=_.get(133);this.readOnly=_.get(83),this.tabSize=c.tabSize,this.indentSize=c.indentSize,this.insertSpaces=c.insertSpaces,this.stickyTabStops=_.get(106),this.lineHeight=_.get(61),this.pageSize=Math.max(1,Math.floor(m.height/this.lineHeight)-2),this.useTabStops=_.get(118),this.wordSeparators=_.get(119),this.emptySelectionClipboard=_.get(33),this.copyWithSyntaxHighlighting=_.get(21),this.multiCursorMergeOverlapping=_.get(71),this.multiCursorPaste=_.get(73),this.autoClosingBrackets=_.get(5),this.autoClosingQuotes=_.get(8),this.autoClosingDelete=_.get(6),this.autoClosingOvertype=_.get(7),this.autoSurround=_.get(11),this.autoIndent=_.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(o,this.autoClosingQuotes),bracket:this._getShouldAutoClose(o,this.autoClosingBrackets)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(o).getAutoClosingPairs();const h=this.languageConfigurationService.getLanguageConfiguration(o).getSurroundingPairs();if(h)for(const S of h)this.surroundingPairs[S.open]=S.close}static shouldRecreate(o){return o.hasChanged(133)||o.hasChanged(119)||o.hasChanged(33)||o.hasChanged(71)||o.hasChanged(73)||o.hasChanged(5)||o.hasChanged(8)||o.hasChanged(6)||o.hasChanged(7)||o.hasChanged(11)||o.hasChanged(118)||o.hasChanged(61)||o.hasChanged(83)}get electricChars(){var o;if(!this._electricChars){this._electricChars={};const c=(o=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||o===void 0?void 0:o.getElectricCharacters();if(c)for(const f of c)this._electricChars[f]=!0}return this._electricChars}onElectricCharacter(o,c,f){const p=(0,I.createScopedLineTokens)(c,f-1),_=this.languageConfigurationService.getLanguageConfiguration(p.languageId).electricCharacter;return _?_.onElectricCharacter(o,p,f-p.firstCharOffset):null}normalizeIndentation(o){return(0,b.normalizeIndentation)(o,this.indentSize,this.insertSpaces)}_getShouldAutoClose(o,c){switch(c){case"beforeWhitespace":return g;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(o);case"always":return v;case"never":return u}}_getLanguageDefinedShouldAutoClose(o){const c=this.languageConfigurationService.getLanguageConfiguration(o).getAutoCloseBeforeSet();return f=>c.indexOf(f)!==-1}visibleColumnFromColumn(o,c){return L.CursorColumns.visibleColumnFromColumn(o.getLineContent(c.lineNumber),c.column,this.tabSize)}columnFromVisibleColumn(o,c,f){const p=L.CursorColumns.columnFromVisibleColumn(o.getLineContent(c),f,this.tabSize),_=o.getLineMinColumn(c);if(p<_)return _;const m=o.getLineMaxColumn(c);return p>m?m:p}}e.CursorConfiguration=n;class i{constructor(o,c){this._cursorStateBrand=void 0,this.modelState=o,this.viewState=c}static fromModelState(o){return new t(o)}static fromViewState(o){return new r(o)}static fromModelSelection(o){const c=k.Selection.liftSelection(o),f=new l(C.Range.fromPositions(c.getSelectionStart()),0,c.getPosition(),0);return i.fromModelState(f)}static fromModelSelections(o){const c=[];for(let f=0,p=o.length;f<p;f++)c[f]=this.fromModelSelection(o[f]);return c}equals(o){return this.viewState.equals(o.viewState)&&this.modelState.equals(o.modelState)}}e.CursorState=i;class t{constructor(o){this.modelState=o,this.viewState=null}}e.PartialModelCursorState=t;class r{constructor(o){this.modelState=null,this.viewState=o}}e.PartialViewCursorState=r;class l{constructor(o,c,f,p){this._singleCursorStateBrand=void 0,this.selectionStart=o,this.selectionStartLeftoverVisibleColumns=c,this.position=f,this.leftoverVisibleColumns=p,this.selection=l._computeSelection(this.selectionStart,this.position)}equals(o){return this.selectionStartLeftoverVisibleColumns===o.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===o.leftoverVisibleColumns&&this.position.equals(o.position)&&this.selectionStart.equalsRange(o.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(o,c,f,p){return o?new l(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new w.Position(c,f),p):new l(new C.Range(c,f,c,f),p,new w.Position(c,f),p)}static _computeSelection(o,c){return o.isEmpty()||!c.isBeforeOrEqual(o.getStartPosition())?k.Selection.fromPositions(o.getStartPosition(),c):k.Selection.fromPositions(o.getEndPosition(),c)}}e.SingleCursorState=l;class d{constructor(o,c,f){this._editOperationResultBrand=void 0,this.type=o,this.commands=c,this.shouldPushStackElementBefore=f.shouldPushStackElementBefore,this.shouldPushStackElementAfter=f.shouldPushStackElementAfter}}e.EditOperationResult=d;function a(s){return s==="'"||s==='"'||s==="`"}e.isQuote=a}),define(re[412],ae([1,0,61,11,3]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class I{static columnSelect(b,v,u,g,n,i){const t=Math.abs(n-u)+1,r=u>n,l=g>i,d=g<i,a=[];for(let s=0;s<t;s++){const o=u+(r?-s:s),c=b.columnFromVisibleColumn(v,o,g),f=b.columnFromVisibleColumn(v,o,i),p=b.visibleColumnFromColumn(v,new C.Position(o,c)),_=b.visibleColumnFromColumn(v,new C.Position(o,f));d&&(p>i||_<g)||l&&(_>g||p<i)||a.push(new w.SingleCursorState(new k.Range(o,c,o,c),0,new C.Position(o,f),0))}if(a.length===0)for(let s=0;s<t;s++){const o=u+(r?-s:s),c=v.getLineMaxColumn(o);a.push(new w.SingleCursorState(new k.Range(o,c,o,c),0,new C.Position(o,c),0))}return{viewStates:a,reversed:r,fromLineNumber:u,fromVisualColumn:g,toLineNumber:n,toVisualColumn:i}}static columnSelectLeft(b,v,u){let g=u.toViewVisualColumn;return g>0&&g--,I.columnSelect(b,v,u.fromViewLineNumber,u.fromViewVisualColumn,u.toViewLineNumber,g)}static columnSelectRight(b,v,u){let g=0;const n=Math.min(u.fromViewLineNumber,u.toViewLineNumber),i=Math.max(u.fromViewLineNumber,u.toViewLineNumber);for(let r=n;r<=i;r++){const l=v.getLineMaxColumn(r),d=b.visibleColumnFromColumn(v,new C.Position(r,l));g=Math.max(g,d)}let t=u.toViewVisualColumn;return t<g&&t++,this.columnSelect(b,v,u.fromViewLineNumber,u.fromViewVisualColumn,u.toViewLineNumber,t)}static columnSelectUp(b,v,u,g){const n=g?b.pageSize:1,i=Math.max(1,u.toViewLineNumber-n);return this.columnSelect(b,v,u.fromViewLineNumber,u.fromViewVisualColumn,i,u.toViewVisualColumn)}static columnSelectDown(b,v,u,g){const n=g?b.pageSize:1,i=Math.min(v.getLineCount(),u.toViewLineNumber+n);return this.columnSelect(b,v,u.fromViewLineNumber,u.fromViewVisualColumn,i,u.toViewVisualColumn)}}e.ColumnSelection=I}),define(re[180],ae([1,0,61,66,11,3,8,233]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class v{constructor(n,i,t){this._cursorPositionBrand=void 0,this.lineNumber=n,this.column=i,this.leftoverVisibleColumns=t}}e.CursorPosition=v;class u{static leftPosition(n,i){if(i.column>n.getLineMinColumn(i.lineNumber))return i.delta(void 0,-L.prevCharLength(n.getLineContent(i.lineNumber),i.column-1));if(i.lineNumber>1){const t=i.lineNumber-1;return new k.Position(t,n.getLineMaxColumn(t))}else return i}static leftPositionAtomicSoftTabs(n,i,t){if(i.column<=n.getLineIndentColumn(i.lineNumber)){const r=n.getLineMinColumn(i.lineNumber),l=n.getLineContent(i.lineNumber),d=b.AtomicTabMoveOperations.atomicPosition(l,i.column-1,t,0);if(d!==-1&&d+1>=r)return new k.Position(i.lineNumber,d+1)}return this.leftPosition(n,i)}static left(n,i,t){const r=n.stickyTabStops?u.leftPositionAtomicSoftTabs(i,t,n.tabSize):u.leftPosition(i,t);return new v(r.lineNumber,r.column,0)}static moveLeft(n,i,t,r,l){let d,a;if(t.hasSelection()&&!r)d=t.selection.startLineNumber,a=t.selection.startColumn;else{const s=t.position.delta(void 0,-(l-1)),o=i.normalizePosition(u.clipPositionColumn(s,i),0),c=u.left(n,i,o);d=c.lineNumber,a=c.column}return t.move(r,d,a,0)}static clipPositionColumn(n,i){return new k.Position(n.lineNumber,u.clipRange(n.column,i.getLineMinColumn(n.lineNumber),i.getLineMaxColumn(n.lineNumber)))}static clipRange(n,i,t){return n<i?i:n>t?t:n}static rightPosition(n,i,t){return t<n.getLineMaxColumn(i)?t=t+L.nextCharLength(n.getLineContent(i),t-1):i<n.getLineCount()&&(i=i+1,t=n.getLineMinColumn(i)),new k.Position(i,t)}static rightPositionAtomicSoftTabs(n,i,t,r,l){if(t<n.getLineIndentColumn(i)){const d=n.getLineContent(i),a=b.AtomicTabMoveOperations.atomicPosition(d,t-1,r,1);if(a!==-1)return new k.Position(i,a+1)}return this.rightPosition(n,i,t)}static right(n,i,t){const r=n.stickyTabStops?u.rightPositionAtomicSoftTabs(i,t.lineNumber,t.column,n.tabSize,n.indentSize):u.rightPosition(i,t.lineNumber,t.column);return new v(r.lineNumber,r.column,0)}static moveRight(n,i,t,r,l){let d,a;if(t.hasSelection()&&!r)d=t.selection.endLineNumber,a=t.selection.endColumn;else{const s=t.position.delta(void 0,l-1),o=i.normalizePosition(u.clipPositionColumn(s,i),1),c=u.right(n,i,o);d=c.lineNumber,a=c.column}return t.move(r,d,a,0)}static vertical(n,i,t,r,l,d,a,s){const o=C.CursorColumns.visibleColumnFromColumn(i.getLineContent(t),r,n.tabSize)+l,c=i.getLineCount(),f=t===1&&r===1,p=t===c&&r===i.getLineMaxColumn(t),_=d<t?f:p;if(t=d,t<1?(t=1,a?r=i.getLineMinColumn(t):r=Math.min(i.getLineMaxColumn(t),r)):t>c?(t=c,a?r=i.getLineMaxColumn(t):r=Math.min(i.getLineMaxColumn(t),r)):r=n.columnFromVisibleColumn(i,t,o),_?l=0:l=o-C.CursorColumns.visibleColumnFromColumn(i.getLineContent(t),r,n.tabSize),s!==void 0){const m=new k.Position(t,r),h=i.normalizePosition(m,s);l=l+(r-h.column),t=h.lineNumber,r=h.column}return new v(t,r,l)}static down(n,i,t,r,l,d,a){return this.vertical(n,i,t,r,l,t+d,a,4)}static moveDown(n,i,t,r,l){let d,a;t.hasSelection()&&!r?(d=t.selection.endLineNumber,a=t.selection.endColumn):(d=t.position.lineNumber,a=t.position.column);const s=u.down(n,i,d,a,t.leftoverVisibleColumns,l,!0);return t.move(r,s.lineNumber,s.column,s.leftoverVisibleColumns)}static translateDown(n,i,t){const r=t.selection,l=u.down(n,i,r.selectionStartLineNumber,r.selectionStartColumn,t.selectionStartLeftoverVisibleColumns,1,!1),d=u.down(n,i,r.positionLineNumber,r.positionColumn,t.leftoverVisibleColumns,1,!1);return new w.SingleCursorState(new I.Range(l.lineNumber,l.column,l.lineNumber,l.column),l.leftoverVisibleColumns,new k.Position(d.lineNumber,d.column),d.leftoverVisibleColumns)}static up(n,i,t,r,l,d,a){return this.vertical(n,i,t,r,l,t-d,a,3)}static moveUp(n,i,t,r,l){let d,a;t.hasSelection()&&!r?(d=t.selection.startLineNumber,a=t.selection.startColumn):(d=t.position.lineNumber,a=t.position.column);const s=u.up(n,i,d,a,t.leftoverVisibleColumns,l,!0);return t.move(r,s.lineNumber,s.column,s.leftoverVisibleColumns)}static translateUp(n,i,t){const r=t.selection,l=u.up(n,i,r.selectionStartLineNumber,r.selectionStartColumn,t.selectionStartLeftoverVisibleColumns,1,!1),d=u.up(n,i,r.positionLineNumber,r.positionColumn,t.leftoverVisibleColumns,1,!1);return new w.SingleCursorState(new I.Range(l.lineNumber,l.column,l.lineNumber,l.column),l.leftoverVisibleColumns,new k.Position(d.lineNumber,d.column),d.leftoverVisibleColumns)}static _isBlankLine(n,i){return n.getLineFirstNonWhitespaceColumn(i)===0}static moveToPrevBlankLine(n,i,t,r){let l=t.position.lineNumber;for(;l>1&&this._isBlankLine(i,l);)l--;for(;l>1&&!this._isBlankLine(i,l);)l--;return t.move(r,l,i.getLineMinColumn(l),0)}static moveToNextBlankLine(n,i,t,r){const l=i.getLineCount();let d=t.position.lineNumber;for(;d<l&&this._isBlankLine(i,d);)d++;for(;d<l&&!this._isBlankLine(i,d);)d++;return t.move(r,d,i.getLineMinColumn(d),0)}static moveToBeginningOfLine(n,i,t,r){const l=t.position.lineNumber,d=i.getLineMinColumn(l),a=i.getLineFirstNonWhitespaceColumn(l)||d;let s;return t.position.column===a?s=d:s=a,t.move(r,l,s,0)}static moveToEndOfLine(n,i,t,r,l){const d=t.position.lineNumber,a=i.getLineMaxColumn(d);return t.move(r,d,a,l?1073741824-a:0)}static moveToBeginningOfBuffer(n,i,t,r){return t.move(r,1,1,0)}static moveToEndOfBuffer(n,i,t,r){const l=i.getLineCount(),d=i.getLineMaxColumn(l);return t.move(r,l,d,0)}}e.MoveOperations=u}),define(re[181],ae([1,0,8,108,61,66,180,3,11]),function($,e,w,C,k,I,L,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class u{static deleteRight(n,i,t,r){const l=[];let d=n!==3;for(let a=0,s=r.length;a<s;a++){const o=r[a];let c=o;if(c.isEmpty()){const f=o.getPosition(),p=L.MoveOperations.right(i,t,f);c=new b.Range(p.lineNumber,p.column,f.lineNumber,f.column)}if(c.isEmpty()){l[a]=null;continue}c.startLineNumber!==c.endLineNumber&&(d=!0),l[a]=new C.ReplaceCommand(c,"")}return[d,l]}static isAutoClosingPairDelete(n,i,t,r,l,d,a){if(i==="never"&&t==="never"||n==="never")return!1;for(let s=0,o=d.length;s<o;s++){const c=d[s],f=c.getPosition();if(!c.isEmpty())return!1;const p=l.getLineContent(f.lineNumber);if(f.column<2||f.column>=p.length+1)return!1;const _=p.charAt(f.column-2),m=r.get(_);if(!m)return!1;if((0,k.isQuote)(_)){if(t==="never")return!1}else if(i==="never")return!1;const h=p.charAt(f.column-1);let S=!1;for(const y of m)y.open===_&&y.close===h&&(S=!0);if(!S)return!1;if(n==="auto"){let y=!1;for(let E=0,N=a.length;E<N;E++){const T=a[E];if(f.lineNumber===T.startLineNumber&&f.column===T.startColumn){y=!0;break}}if(!y)return!1}}return!0}static _runAutoClosingPairDelete(n,i,t){const r=[];for(let l=0,d=t.length;l<d;l++){const a=t[l].getPosition(),s=new b.Range(a.lineNumber,a.column-1,a.lineNumber,a.column+1);r[l]=new C.ReplaceCommand(s,"")}return[!0,r]}static deleteLeft(n,i,t,r,l){if(this.isAutoClosingPairDelete(i.autoClosingDelete,i.autoClosingBrackets,i.autoClosingQuotes,i.autoClosingPairs.autoClosingPairsOpenByEnd,t,r,l))return this._runAutoClosingPairDelete(i,t,r);const d=[];let a=n!==2;for(let s=0,o=r.length;s<o;s++){const c=u.getDeleteRange(r[s],t,i);if(c.isEmpty()){d[s]=null;continue}c.startLineNumber!==c.endLineNumber&&(a=!0),d[s]=new C.ReplaceCommand(c,"")}return[a,d]}static getDeleteRange(n,i,t){if(!n.isEmpty())return n;const r=n.getPosition();if(t.useTabStops&&r.column>1){const l=i.getLineContent(r.lineNumber),d=w.firstNonWhitespaceIndex(l),a=d===-1?l.length+1:d+1;if(r.column<=a){const s=t.visibleColumnFromColumn(i,r),o=I.CursorColumns.prevIndentTabStop(s,t.indentSize),c=t.columnFromVisibleColumn(i,r.lineNumber,o);return new b.Range(r.lineNumber,c,r.lineNumber,r.column)}}return b.Range.fromPositions(u.getPositionAfterDeleteLeft(r,i),r)}static getPositionAfterDeleteLeft(n,i){if(n.column>1){const t=w.getLeftDeleteOffset(n.column-1,i.getLineContent(n.lineNumber));return n.with(void 0,t+1)}else if(n.lineNumber>1){const t=n.lineNumber-1;return new v.Position(t,i.getLineMaxColumn(t))}else return n}static cut(n,i,t){const r=[];let l=null;t.sort((d,a)=>v.Position.compare(d.getStartPosition(),a.getEndPosition()));for(let d=0,a=t.length;d<a;d++){const s=t[d];if(s.isEmpty())if(n.emptySelectionClipboard){const o=s.getPosition();let c,f,p,_;o.lineNumber<i.getLineCount()?(c=o.lineNumber,f=1,p=o.lineNumber+1,_=1):o.lineNumber>1&&(l==null?void 0:l.endLineNumber)!==o.lineNumber?(c=o.lineNumber-1,f=i.getLineMaxColumn(o.lineNumber-1),p=o.lineNumber,_=i.getLineMaxColumn(o.lineNumber)):(c=o.lineNumber,f=1,p=o.lineNumber,_=i.getLineMaxColumn(o.lineNumber));const m=new b.Range(c,f,p,_);l=m,m.isEmpty()?r[d]=null:r[d]=new C.ReplaceCommand(m,"")}else r[d]=null;else r[d]=new C.ReplaceCommand(s,"")}return new k.EditOperationResult(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=u}),define(re[156],ae([1,0,8,61,181,127,11,3]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class v{static _createWord(i,t,r,l,d){return{start:l,end:d,wordType:t,nextCharClass:r}}static _findPreviousWordOnLine(i,t,r){const l=t.getLineContent(r.lineNumber);return this._doFindPreviousWordOnLine(l,i,r)}static _doFindPreviousWordOnLine(i,t,r){let l=0;for(let d=r.column-2;d>=0;d--){const a=i.charCodeAt(d),s=t.get(a);if(s===0){if(l===2)return this._createWord(i,l,s,d+1,this._findEndOfWord(i,t,l,d+1));l=1}else if(s===2){if(l===1)return this._createWord(i,l,s,d+1,this._findEndOfWord(i,t,l,d+1));l=2}else if(s===1&&l!==0)return this._createWord(i,l,s,d+1,this._findEndOfWord(i,t,l,d+1))}return l!==0?this._createWord(i,l,1,0,this._findEndOfWord(i,t,l,0)):null}static _findEndOfWord(i,t,r,l){const d=i.length;for(let a=l;a<d;a++){const s=i.charCodeAt(a),o=t.get(s);if(o===1||r===1&&o===2||r===2&&o===0)return a}return d}static _findNextWordOnLine(i,t,r){const l=t.getLineContent(r.lineNumber);return this._doFindNextWordOnLine(l,i,r)}static _doFindNextWordOnLine(i,t,r){let l=0;const d=i.length;for(let a=r.column-1;a<d;a++){const s=i.charCodeAt(a),o=t.get(s);if(o===0){if(l===2)return this._createWord(i,l,o,this._findStartOfWord(i,t,l,a-1),a);l=1}else if(o===2){if(l===1)return this._createWord(i,l,o,this._findStartOfWord(i,t,l,a-1),a);l=2}else if(o===1&&l!==0)return this._createWord(i,l,o,this._findStartOfWord(i,t,l,a-1),a)}return l!==0?this._createWord(i,l,1,this._findStartOfWord(i,t,l,d-1),d):null}static _findStartOfWord(i,t,r,l){for(let d=l;d>=0;d--){const a=i.charCodeAt(d),s=t.get(a);if(s===1||r===1&&s===2||r===2&&s===0)return d+1}return 0}static moveWordLeft(i,t,r,l){let d=r.lineNumber,a=r.column;a===1&&d>1&&(d=d-1,a=t.getLineMaxColumn(d));let s=v._findPreviousWordOnLine(i,t,new L.Position(d,a));if(l===0)return new L.Position(d,s?s.start+1:1);if(l===1)return s&&s.wordType===2&&s.end-s.start==1&&s.nextCharClass===0&&(s=v._findPreviousWordOnLine(i,t,new L.Position(d,s.start+1))),new L.Position(d,s?s.start+1:1);if(l===3){for(;s&&s.wordType===2;)s=v._findPreviousWordOnLine(i,t,new L.Position(d,s.start+1));return new L.Position(d,s?s.start+1:1)}return s&&a<=s.end+1&&(s=v._findPreviousWordOnLine(i,t,new L.Position(d,s.start+1))),new L.Position(d,s?s.end+1:1)}static _moveWordPartLeft(i,t){const r=t.lineNumber,l=i.getLineMaxColumn(r);if(t.column===1)return r>1?new L.Position(r-1,i.getLineMaxColumn(r-1)):t;const d=i.getLineContent(r);for(let a=t.column-1;a>1;a--){const s=d.charCodeAt(a-2),o=d.charCodeAt(a-1);if(s===95&&o!==95)return new L.Position(r,a);if((w.isLowerAsciiLetter(s)||w.isAsciiDigit(s))&&w.isUpperAsciiLetter(o))return new L.Position(r,a);if(w.isUpperAsciiLetter(s)&&w.isUpperAsciiLetter(o)&&a+1<l){const c=d.charCodeAt(a);if(w.isLowerAsciiLetter(c)||w.isAsciiDigit(c))return new L.Position(r,a)}}return new L.Position(r,1)}static moveWordRight(i,t,r,l){let d=r.lineNumber,a=r.column,s=!1;a===t.getLineMaxColumn(d)&&d<t.getLineCount()&&(s=!0,d=d+1,a=1);let o=v._findNextWordOnLine(i,t,new L.Position(d,a));if(l===2)o&&o.wordType===2&&o.end-o.start==1&&o.nextCharClass===0&&(o=v._findNextWordOnLine(i,t,new L.Position(d,o.end+1))),o?a=o.end+1:a=t.getLineMaxColumn(d);else if(l===3){for(s&&(a=0);o&&(o.wordType===2||o.start+1<=a);)o=v._findNextWordOnLine(i,t,new L.Position(d,o.end+1));o?a=o.start+1:a=t.getLineMaxColumn(d)}else o&&!s&&a>=o.start+1&&(o=v._findNextWordOnLine(i,t,new L.Position(d,o.end+1))),o?a=o.start+1:a=t.getLineMaxColumn(d);return new L.Position(d,a)}static _moveWordPartRight(i,t){const r=t.lineNumber,l=i.getLineMaxColumn(r);if(t.column===l)return r<i.getLineCount()?new L.Position(r+1,1):t;const d=i.getLineContent(r);for(let a=t.column+1;a<l;a++){const s=d.charCodeAt(a-2),o=d.charCodeAt(a-1);if(s!==95&&o===95)return new L.Position(r,a);if((w.isLowerAsciiLetter(s)||w.isAsciiDigit(s))&&w.isUpperAsciiLetter(o))return new L.Position(r,a);if(w.isUpperAsciiLetter(s)&&w.isUpperAsciiLetter(o)&&a+1<l){const c=d.charCodeAt(a);if(w.isLowerAsciiLetter(c)||w.isAsciiDigit(c))return new L.Position(r,a)}}return new L.Position(r,l)}static _deleteWordLeftWhitespace(i,t){const r=i.getLineContent(t.lineNumber),l=t.column-2,d=w.lastNonWhitespaceIndex(r,l);return d+1<l?new b.Range(t.lineNumber,d+2,t.lineNumber,t.column):null}static deleteWordLeft(i,t){const r=i.wordSeparators,l=i.model,d=i.selection,a=i.whitespaceHeuristics;if(!d.isEmpty())return d;if(k.DeleteOperations.isAutoClosingPairDelete(i.autoClosingDelete,i.autoClosingBrackets,i.autoClosingQuotes,i.autoClosingPairs.autoClosingPairsOpenByEnd,i.model,[i.selection],i.autoClosedCharacters)){const p=i.selection.getPosition();return new b.Range(p.lineNumber,p.column-1,p.lineNumber,p.column+1)}const s=new L.Position(d.positionLineNumber,d.positionColumn);let o=s.lineNumber,c=s.column;if(o===1&&c===1)return null;if(a){const p=this._deleteWordLeftWhitespace(l,s);if(p)return p}let f=v._findPreviousWordOnLine(r,l,s);return t===0?f?c=f.start+1:c>1?c=1:(o--,c=l.getLineMaxColumn(o)):(f&&c<=f.end+1&&(f=v._findPreviousWordOnLine(r,l,new L.Position(o,f.start+1))),f?c=f.end+1:c>1?c=1:(o--,c=l.getLineMaxColumn(o))),new b.Range(o,c,s.lineNumber,s.column)}static deleteInsideWord(i,t,r){if(!r.isEmpty())return r;const l=new L.Position(r.positionLineNumber,r.positionColumn),d=this._deleteInsideWordWhitespace(t,l);return d||this._deleteInsideWordDetermineDeleteRange(i,t,l)}static _charAtIsWhitespace(i,t){const r=i.charCodeAt(t);return r===32||r===9}static _deleteInsideWordWhitespace(i,t){const r=i.getLineContent(t.lineNumber),l=r.length;if(l===0)return null;let d=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(r,d))return null;let a=Math.min(t.column-1,l-1);if(!this._charAtIsWhitespace(r,a))return null;for(;d>0&&this._charAtIsWhitespace(r,d-1);)d--;for(;a+1<l&&this._charAtIsWhitespace(r,a+1);)a++;return new b.Range(t.lineNumber,d+1,t.lineNumber,a+2)}static _deleteInsideWordDetermineDeleteRange(i,t,r){const l=t.getLineContent(r.lineNumber),d=l.length;if(d===0)return r.lineNumber>1?new b.Range(r.lineNumber-1,t.getLineMaxColumn(r.lineNumber-1),r.lineNumber,1):r.lineNumber<t.getLineCount()?new b.Range(r.lineNumber,1,r.lineNumber+1,1):new b.Range(r.lineNumber,1,r.lineNumber,1);const a=p=>p.start+1<=r.column&&r.column<=p.end+1,s=(p,_)=>(p=Math.min(p,r.column),_=Math.max(_,r.column),new b.Range(r.lineNumber,p,r.lineNumber,_)),o=p=>{let _=p.start+1,m=p.end+1,h=!1;for(;m-1<d&&this._charAtIsWhitespace(l,m-1);)h=!0,m++;if(!h)for(;_>1&&this._charAtIsWhitespace(l,_-2);)_--;return s(_,m)},c=v._findPreviousWordOnLine(i,t,r);if(c&&a(c))return o(c);const f=v._findNextWordOnLine(i,t,r);return f&&a(f)?o(f):c&&f?s(c.end+1,f.start+1):c?s(c.start+1,c.end+1):f?s(f.start+1,f.end+1):s(1,d+1)}static _deleteWordPartLeft(i,t){if(!t.isEmpty())return t;const r=t.getPosition(),l=v._moveWordPartLeft(i,r);return new b.Range(r.lineNumber,r.column,l.lineNumber,l.column)}static _findFirstNonWhitespaceChar(i,t){const r=i.length;for(let l=t;l<r;l++){const d=i.charAt(l);if(d!==" "&&d!=="	")return l}return r}static _deleteWordRightWhitespace(i,t){const r=i.getLineContent(t.lineNumber),l=t.column-1,d=this._findFirstNonWhitespaceChar(r,l);return l+1<d?new b.Range(t.lineNumber,t.column,t.lineNumber,d+1):null}static deleteWordRight(i,t){const r=i.wordSeparators,l=i.model,d=i.selection,a=i.whitespaceHeuristics;if(!d.isEmpty())return d;const s=new L.Position(d.positionLineNumber,d.positionColumn);let o=s.lineNumber,c=s.column;const f=l.getLineCount(),p=l.getLineMaxColumn(o);if(o===f&&c===p)return null;if(a){const m=this._deleteWordRightWhitespace(l,s);if(m)return m}let _=v._findNextWordOnLine(r,l,s);return t===2?_?c=_.end+1:c<p||o===f?c=p:(o++,_=v._findNextWordOnLine(r,l,new L.Position(o,1)),_?c=_.start+1:c=l.getLineMaxColumn(o)):(_&&c>=_.start+1&&(_=v._findNextWordOnLine(r,l,new L.Position(o,_.end+1))),_?c=_.start+1:c<p||o===f?c=p:(o++,_=v._findNextWordOnLine(r,l,new L.Position(o,1)),_?c=_.start+1:c=l.getLineMaxColumn(o))),new b.Range(o,c,s.lineNumber,s.column)}static _deleteWordPartRight(i,t){if(!t.isEmpty())return t;const r=t.getPosition(),l=v._moveWordPartRight(i,r);return new b.Range(r.lineNumber,r.column,l.lineNumber,l.column)}static _createWordAtPosition(i,t,r){const l=new b.Range(t,r.start+1,t,r.end+1);return{word:i.getValueInRange(l),startColumn:l.startColumn,endColumn:l.endColumn}}static getWordAtPosition(i,t,r){const l=(0,I.getMapForWordSeparators)(t),d=v._findPreviousWordOnLine(l,i,r);if(d&&d.wordType===1&&d.start<=r.column-1&&r.column-1<=d.end)return v._createWordAtPosition(i,r.lineNumber,d);const a=v._findNextWordOnLine(l,i,r);return a&&a.wordType===1&&a.start<=r.column-1&&r.column-1<=a.end?v._createWordAtPosition(i,r.lineNumber,a):null}static word(i,t,r,l,d){const a=(0,I.getMapForWordSeparators)(i.wordSeparators),s=v._findPreviousWordOnLine(a,t,d),o=v._findNextWordOnLine(a,t,d);if(!l){let m,h;return s&&s.wordType===1&&s.start<=d.column-1&&d.column-1<=s.end?(m=s.start+1,h=s.end+1):o&&o.wordType===1&&o.start<=d.column-1&&d.column-1<=o.end?(m=o.start+1,h=o.end+1):(s?m=s.end+1:m=1,o?h=o.start+1:h=t.getLineMaxColumn(d.lineNumber)),new C.SingleCursorState(new b.Range(d.lineNumber,m,d.lineNumber,h),0,new L.Position(d.lineNumber,h),0)}let c,f;s&&s.wordType===1&&s.start<d.column-1&&d.column-1<s.end?(c=s.start+1,f=s.end+1):o&&o.wordType===1&&o.start<d.column-1&&d.column-1<o.end?(c=o.start+1,f=o.end+1):(c=d.column,f=d.column);const p=d.lineNumber;let _;if(r.selectionStart.containsPosition(d))_=r.selectionStart.endColumn;else if(d.isBeforeOrEqual(r.selectionStart.getStartPosition())){_=c;const m=new L.Position(p,_);r.selectionStart.containsPosition(m)&&(_=r.selectionStart.endColumn)}else{_=f;const m=new L.Position(p,_);r.selectionStart.containsPosition(m)&&(_=r.selectionStart.startColumn)}return r.move(!0,p,_,0)}}e.WordOperations=v;class u extends v{static deleteWordPartLeft(i){const t=g([v.deleteWordLeft(i,0),v.deleteWordLeft(i,2),v._deleteWordPartLeft(i.model,i.selection)]);return t.sort(b.Range.compareRangesUsingEnds),t[2]}static deleteWordPartRight(i){const t=g([v.deleteWordRight(i,0),v.deleteWordRight(i,2),v._deleteWordPartRight(i.model,i.selection)]);return t.sort(b.Range.compareRangesUsingStarts),t[0]}static moveWordPartLeft(i,t,r){const l=g([v.moveWordLeft(i,t,r,0),v.moveWordLeft(i,t,r,2),v._moveWordPartLeft(t,r)]);return l.sort(L.Position.compare),l[2]}static moveWordPartRight(i,t,r){const l=g([v.moveWordRight(i,t,r,0),v.moveWordRight(i,t,r,2),v._moveWordPartRight(t,r)]);return l.sort(L.Position.compare),l[0]}}e.WordPartOperations=u;function g(n){return n.filter(i=>Boolean(i))}}),define(re[182],ae([1,0,19,61,180,156,11,3]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class v{static addCursorDown(n,i,t){const r=[];let l=0;for(let d=0,a=i.length;d<a;d++){const s=i[d];r[l++]=new C.CursorState(s.modelState,s.viewState),t?r[l++]=C.CursorState.fromModelState(k.MoveOperations.translateDown(n.cursorConfig,n.model,s.modelState)):r[l++]=C.CursorState.fromViewState(k.MoveOperations.translateDown(n.cursorConfig,n,s.viewState))}return r}static addCursorUp(n,i,t){const r=[];let l=0;for(let d=0,a=i.length;d<a;d++){const s=i[d];r[l++]=new C.CursorState(s.modelState,s.viewState),t?r[l++]=C.CursorState.fromModelState(k.MoveOperations.translateUp(n.cursorConfig,n.model,s.modelState)):r[l++]=C.CursorState.fromViewState(k.MoveOperations.translateUp(n.cursorConfig,n,s.viewState))}return r}static moveToBeginningOfLine(n,i,t){const r=[];for(let l=0,d=i.length;l<d;l++){const a=i[l];r[l]=this._moveToLineStart(n,a,t)}return r}static _moveToLineStart(n,i,t){const r=i.viewState.position.column,l=i.modelState.position.column,d=r===l,a=i.viewState.position.lineNumber,s=n.getLineFirstNonWhitespaceColumn(a);return!d&&!(r===s)?this._moveToLineStartByView(n,i,t):this._moveToLineStartByModel(n,i,t)}static _moveToLineStartByView(n,i,t){return C.CursorState.fromViewState(k.MoveOperations.moveToBeginningOfLine(n.cursorConfig,n,i.viewState,t))}static _moveToLineStartByModel(n,i,t){return C.CursorState.fromModelState(k.MoveOperations.moveToBeginningOfLine(n.cursorConfig,n.model,i.modelState,t))}static moveToEndOfLine(n,i,t,r){const l=[];for(let d=0,a=i.length;d<a;d++){const s=i[d];l[d]=this._moveToLineEnd(n,s,t,r)}return l}static _moveToLineEnd(n,i,t,r){const l=i.viewState.position,d=n.getLineMaxColumn(l.lineNumber),a=l.column===d,s=i.modelState.position,o=n.model.getLineMaxColumn(s.lineNumber),c=d-l.column==o-s.column;return a||c?this._moveToLineEndByModel(n,i,t,r):this._moveToLineEndByView(n,i,t,r)}static _moveToLineEndByView(n,i,t,r){return C.CursorState.fromViewState(k.MoveOperations.moveToEndOfLine(n.cursorConfig,n,i.viewState,t,r))}static _moveToLineEndByModel(n,i,t,r){return C.CursorState.fromModelState(k.MoveOperations.moveToEndOfLine(n.cursorConfig,n.model,i.modelState,t,r))}static expandLineSelection(n,i){const t=[];for(let r=0,l=i.length;r<l;r++){const d=i[r],a=d.modelState.selection.startLineNumber,s=n.model.getLineCount();let o=d.modelState.selection.endLineNumber,c;o===s?c=n.model.getLineMaxColumn(s):(o++,c=1),t[r]=C.CursorState.fromModelState(new C.SingleCursorState(new b.Range(a,1,a,1),0,new L.Position(o,c),0))}return t}static moveToBeginningOfBuffer(n,i,t){const r=[];for(let l=0,d=i.length;l<d;l++){const a=i[l];r[l]=C.CursorState.fromModelState(k.MoveOperations.moveToBeginningOfBuffer(n.cursorConfig,n.model,a.modelState,t))}return r}static moveToEndOfBuffer(n,i,t){const r=[];for(let l=0,d=i.length;l<d;l++){const a=i[l];r[l]=C.CursorState.fromModelState(k.MoveOperations.moveToEndOfBuffer(n.cursorConfig,n.model,a.modelState,t))}return r}static selectAll(n,i){const t=n.model.getLineCount(),r=n.model.getLineMaxColumn(t);return C.CursorState.fromModelState(new C.SingleCursorState(new b.Range(1,1,1,1),0,new L.Position(t,r),0))}static line(n,i,t,r,l){const d=n.model.validatePosition(r),a=l?n.coordinatesConverter.validateViewPosition(new L.Position(l.lineNumber,l.column),d):n.coordinatesConverter.convertModelPositionToViewPosition(d);if(!t||!i.modelState.hasSelection()){const o=n.model.getLineCount();let c=d.lineNumber+1,f=1;return c>o&&(c=o,f=n.model.getLineMaxColumn(c)),C.CursorState.fromModelState(new C.SingleCursorState(new b.Range(d.lineNumber,1,c,f),0,new L.Position(c,f),0))}const s=i.modelState.selectionStart.getStartPosition().lineNumber;if(d.lineNumber<s)return C.CursorState.fromViewState(i.viewState.move(i.modelState.hasSelection(),a.lineNumber,1,0));if(d.lineNumber>s){const o=n.getLineCount();let c=a.lineNumber+1,f=1;return c>o&&(c=o,f=n.getLineMaxColumn(c)),C.CursorState.fromViewState(i.viewState.move(i.modelState.hasSelection(),c,f,0))}else{const o=i.modelState.selectionStart.getEndPosition();return C.CursorState.fromModelState(i.modelState.move(i.modelState.hasSelection(),o.lineNumber,o.column,0))}}static word(n,i,t,r){const l=n.model.validatePosition(r);return C.CursorState.fromModelState(I.WordOperations.word(n.cursorConfig,n.model,i.modelState,t,l))}static cancelSelection(n,i){if(!i.modelState.hasSelection())return new C.CursorState(i.modelState,i.viewState);const t=i.viewState.position.lineNumber,r=i.viewState.position.column;return C.CursorState.fromViewState(new C.SingleCursorState(new b.Range(t,r,t,r),0,new L.Position(t,r),0))}static moveTo(n,i,t,r,l){const d=n.model.validatePosition(r),a=l?n.coordinatesConverter.validateViewPosition(new L.Position(l.lineNumber,l.column),d):n.coordinatesConverter.convertModelPositionToViewPosition(d);return C.CursorState.fromViewState(i.viewState.move(t,a.lineNumber,a.column,0))}static simpleMove(n,i,t,r,l,d){switch(t){case 0:return d===4?this._moveHalfLineLeft(n,i,r):this._moveLeft(n,i,r,l);case 1:return d===4?this._moveHalfLineRight(n,i,r):this._moveRight(n,i,r,l);case 2:return d===2?this._moveUpByViewLines(n,i,r,l):this._moveUpByModelLines(n,i,r,l);case 3:return d===2?this._moveDownByViewLines(n,i,r,l):this._moveDownByModelLines(n,i,r,l);case 4:return d===2?i.map(a=>C.CursorState.fromViewState(k.MoveOperations.moveToPrevBlankLine(n.cursorConfig,n,a.viewState,r))):i.map(a=>C.CursorState.fromModelState(k.MoveOperations.moveToPrevBlankLine(n.cursorConfig,n.model,a.modelState,r)));case 5:return d===2?i.map(a=>C.CursorState.fromViewState(k.MoveOperations.moveToNextBlankLine(n.cursorConfig,n,a.viewState,r))):i.map(a=>C.CursorState.fromModelState(k.MoveOperations.moveToNextBlankLine(n.cursorConfig,n.model,a.modelState,r)));case 6:return this._moveToViewMinColumn(n,i,r);case 7:return this._moveToViewFirstNonWhitespaceColumn(n,i,r);case 8:return this._moveToViewCenterColumn(n,i,r);case 9:return this._moveToViewMaxColumn(n,i,r);case 10:return this._moveToViewLastNonWhitespaceColumn(n,i,r);default:return null}}static viewportMove(n,i,t,r,l){const d=n.getCompletelyVisibleViewRange(),a=n.coordinatesConverter.convertViewRangeToModelRange(d);switch(t){case 11:{const s=this._firstLineNumberInRange(n.model,a,l),o=n.model.getLineFirstNonWhitespaceColumn(s);return[this._moveToModelPosition(n,i[0],r,s,o)]}case 13:{const s=this._lastLineNumberInRange(n.model,a,l),o=n.model.getLineFirstNonWhitespaceColumn(s);return[this._moveToModelPosition(n,i[0],r,s,o)]}case 12:{const s=Math.round((a.startLineNumber+a.endLineNumber)/2),o=n.model.getLineFirstNonWhitespaceColumn(s);return[this._moveToModelPosition(n,i[0],r,s,o)]}case 14:{const s=[];for(let o=0,c=i.length;o<c;o++){const f=i[o];s[o]=this.findPositionInViewportIfOutside(n,f,d,r)}return s}default:return null}}static findPositionInViewportIfOutside(n,i,t,r){const l=i.viewState.position.lineNumber;if(t.startLineNumber<=l&&l<=t.endLineNumber-1)return new C.CursorState(i.modelState,i.viewState);{let d;l>t.endLineNumber-1?d=t.endLineNumber-1:l<t.startLineNumber?d=t.startLineNumber:d=l;const a=k.MoveOperations.vertical(n.cursorConfig,n,l,i.viewState.position.column,i.viewState.leftoverVisibleColumns,d,!1);return C.CursorState.fromViewState(i.viewState.move(r,a.lineNumber,a.column,a.leftoverVisibleColumns))}}static _firstLineNumberInRange(n,i,t){let r=i.startLineNumber;return i.startColumn!==n.getLineMinColumn(r)&&r++,Math.min(i.endLineNumber,r+t-1)}static _lastLineNumberInRange(n,i,t){let r=i.startLineNumber;return i.startColumn!==n.getLineMinColumn(r)&&r++,Math.max(r,i.endLineNumber-t+1)}static _moveLeft(n,i,t,r){return i.map(l=>C.CursorState.fromViewState(k.MoveOperations.moveLeft(n.cursorConfig,n,l.viewState,t,r)))}static _moveHalfLineLeft(n,i,t){const r=[];for(let l=0,d=i.length;l<d;l++){const a=i[l],s=a.viewState.position.lineNumber,o=Math.round(n.getLineContent(s).length/2);r[l]=C.CursorState.fromViewState(k.MoveOperations.moveLeft(n.cursorConfig,n,a.viewState,t,o))}return r}static _moveRight(n,i,t,r){return i.map(l=>C.CursorState.fromViewState(k.MoveOperations.moveRight(n.cursorConfig,n,l.viewState,t,r)))}static _moveHalfLineRight(n,i,t){const r=[];for(let l=0,d=i.length;l<d;l++){const a=i[l],s=a.viewState.position.lineNumber,o=Math.round(n.getLineContent(s).length/2);r[l]=C.CursorState.fromViewState(k.MoveOperations.moveRight(n.cursorConfig,n,a.viewState,t,o))}return r}static _moveDownByViewLines(n,i,t,r){const l=[];for(let d=0,a=i.length;d<a;d++){const s=i[d];l[d]=C.CursorState.fromViewState(k.MoveOperations.moveDown(n.cursorConfig,n,s.viewState,t,r))}return l}static _moveDownByModelLines(n,i,t,r){const l=[];for(let d=0,a=i.length;d<a;d++){const s=i[d];l[d]=C.CursorState.fromModelState(k.MoveOperations.moveDown(n.cursorConfig,n.model,s.modelState,t,r))}return l}static _moveUpByViewLines(n,i,t,r){const l=[];for(let d=0,a=i.length;d<a;d++){const s=i[d];l[d]=C.CursorState.fromViewState(k.MoveOperations.moveUp(n.cursorConfig,n,s.viewState,t,r))}return l}static _moveUpByModelLines(n,i,t,r){const l=[];for(let d=0,a=i.length;d<a;d++){const s=i[d];l[d]=C.CursorState.fromModelState(k.MoveOperations.moveUp(n.cursorConfig,n.model,s.modelState,t,r))}return l}static _moveToViewPosition(n,i,t,r,l){return C.CursorState.fromViewState(i.viewState.move(t,r,l,0))}static _moveToModelPosition(n,i,t,r,l){return C.CursorState.fromModelState(i.modelState.move(t,r,l,0))}static _moveToViewMinColumn(n,i,t){const r=[];for(let l=0,d=i.length;l<d;l++){const a=i[l],s=a.viewState.position.lineNumber,o=n.getLineMinColumn(s);r[l]=this._moveToViewPosition(n,a,t,s,o)}return r}static _moveToViewFirstNonWhitespaceColumn(n,i,t){const r=[];for(let l=0,d=i.length;l<d;l++){const a=i[l],s=a.viewState.position.lineNumber,o=n.getLineFirstNonWhitespaceColumn(s);r[l]=this._moveToViewPosition(n,a,t,s,o)}return r}static _moveToViewCenterColumn(n,i,t){const r=[];for(let l=0,d=i.length;l<d;l++){const a=i[l],s=a.viewState.position.lineNumber,o=Math.round((n.getLineMaxColumn(s)+n.getLineMinColumn(s))/2);r[l]=this._moveToViewPosition(n,a,t,s,o)}return r}static _moveToViewMaxColumn(n,i,t){const r=[];for(let l=0,d=i.length;l<d;l++){const a=i[l],s=a.viewState.position.lineNumber,o=n.getLineMaxColumn(s);r[l]=this._moveToViewPosition(n,a,t,s,o)}return r}static _moveToViewLastNonWhitespaceColumn(n,i,t){const r=[];for(let l=0,d=i.length;l<d;l++){const a=i[l],s=a.viewState.position.lineNumber,o=n.getLineLastNonWhitespaceColumn(s);r[l]=this._moveToViewPosition(n,a,t,s,o)}return r}}e.CursorMoveCommands=v;var u;(function(g){const n=function(t){if(!w.isObject(t))return!1;const r=t;return!(!w.isString(r.to)||!w.isUndefined(r.select)&&!w.isBoolean(r.select)||!w.isUndefined(r.by)&&!w.isString(r.by)||!w.isUndefined(r.value)&&!w.isNumber(r.value))};g.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:n,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},g.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},g.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function i(t){if(!t.to)return null;let r;switch(t.to){case g.RawDirection.Left:r=0;break;case g.RawDirection.Right:r=1;break;case g.RawDirection.Up:r=2;break;case g.RawDirection.Down:r=3;break;case g.RawDirection.PrevBlankLine:r=4;break;case g.RawDirection.NextBlankLine:r=5;break;case g.RawDirection.WrappedLineStart:r=6;break;case g.RawDirection.WrappedLineFirstNonWhitespaceCharacter:r=7;break;case g.RawDirection.WrappedLineColumnCenter:r=8;break;case g.RawDirection.WrappedLineEnd:r=9;break;case g.RawDirection.WrappedLineLastNonWhitespaceCharacter:r=10;break;case g.RawDirection.ViewPortTop:r=11;break;case g.RawDirection.ViewPortBottom:r=13;break;case g.RawDirection.ViewPortCenter:r=12;break;case g.RawDirection.ViewPortIfOutside:r=14;break;default:return null}let l=0;switch(t.by){case g.RawUnit.Line:l=1;break;case g.RawUnit.WrappedLine:l=2;break;case g.RawUnit.Character:l=3;break;case g.RawUnit.HalfLine:l=4;break}return{direction:r,unit:l,select:!!t.select,value:t.value||1}}g.parse=i})(u=e.CursorMove||(e.CursorMove={}))}),define(re[413],ae([1,0,61,11,3,23]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=void 0;class L{constructor(v){this._selTrackedRange=null,this._trackSelection=!0,this._setState(v,new w.SingleCursorState(new k.Range(1,1,1,1),0,new C.Position(1,1),0),new w.SingleCursorState(new k.Range(1,1,1,1),0,new C.Position(1,1),0))}dispose(v){this._removeTrackedRange(v)}startTrackingSelection(v){this._trackSelection=!0,this._updateTrackedRange(v)}stopTrackingSelection(v){this._trackSelection=!1,this._removeTrackedRange(v)}_updateTrackedRange(v){!this._trackSelection||(this._selTrackedRange=v.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(v){this._selTrackedRange=v.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new w.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(v){const u=v.model._getTrackedRange(this._selTrackedRange);return I.Selection.fromRange(u,this.modelState.selection.getDirection())}ensureValidState(v){this._setState(v,this.modelState,this.viewState)}setState(v,u,g){this._setState(v,u,g)}static _validatePositionWithCache(v,u,g,n){return u.equals(g)?n:v.normalizePosition(u,2)}static _validateViewState(v,u){const g=u.position,n=u.selectionStart.getStartPosition(),i=u.selectionStart.getEndPosition(),t=v.normalizePosition(g,2),r=this._validatePositionWithCache(v,n,g,t),l=this._validatePositionWithCache(v,i,n,r);return g.equals(t)&&n.equals(r)&&i.equals(l)?u:new w.SingleCursorState(k.Range.fromPositions(r,l),u.selectionStartLeftoverVisibleColumns+n.column-r.column,t,u.leftoverVisibleColumns+g.column-t.column)}_setState(v,u,g){if(g&&(g=L._validateViewState(v.viewModel,g)),u){const n=v.model.validateRange(u.selectionStart),i=u.selectionStart.equalsRange(n)?u.selectionStartLeftoverVisibleColumns:0,t=v.model.validatePosition(u.position),r=u.position.equals(t)?u.leftoverVisibleColumns:0;u=new w.SingleCursorState(n,i,t,r)}else{if(!g)return;const n=v.model.validateRange(v.coordinatesConverter.convertViewRangeToModelRange(g.selectionStart)),i=v.model.validatePosition(v.coordinatesConverter.convertViewPositionToModelPosition(g.position));u=new w.SingleCursorState(n,g.selectionStartLeftoverVisibleColumns,i,g.leftoverVisibleColumns)}if(g){const n=v.coordinatesConverter.validateViewRange(g.selectionStart,u.selectionStart),i=v.coordinatesConverter.validateViewPosition(g.position,u.position);g=new w.SingleCursorState(n,u.selectionStartLeftoverVisibleColumns,i,u.leftoverVisibleColumns)}else{const n=v.coordinatesConverter.convertModelPositionToViewPosition(new C.Position(u.selectionStart.startLineNumber,u.selectionStart.startColumn)),i=v.coordinatesConverter.convertModelPositionToViewPosition(new C.Position(u.selectionStart.endLineNumber,u.selectionStart.endColumn)),t=new k.Range(n.lineNumber,n.column,i.lineNumber,i.column),r=v.coordinatesConverter.convertModelPositionToViewPosition(u.position);g=new w.SingleCursorState(t,u.selectionStartLeftoverVisibleColumns,r,u.leftoverVisibleColumns)}this.modelState=u,this.viewState=g,this._updateTrackedRange(v)}}e.Cursor=L}),define(re[414],ae([1,0,18,61,413,11,3,23]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class v{constructor(g){this.context=g,this.cursors=[new k.Cursor(g)],this.lastAddedCursorIndex=0}dispose(){for(const g of this.cursors)g.dispose(this.context)}startTrackingSelections(){for(const g of this.cursors)g.startTrackingSelection(this.context)}stopTrackingSelections(){for(const g of this.cursors)g.stopTrackingSelection(this.context)}updateContext(g){this.context=g}ensureValidState(){for(const g of this.cursors)g.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(g=>g.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(g=>g.asCursorState())}getViewPositions(){return this.cursors.map(g=>g.viewState.position)}getTopMostViewPosition(){return(0,w.findMinBy)(this.cursors,(0,w.compareBy)(g=>g.viewState.position,I.Position.compare)).viewState.position}getBottomMostViewPosition(){return(0,w.findLastMaxBy)(this.cursors,(0,w.compareBy)(g=>g.viewState.position,I.Position.compare)).viewState.position}getSelections(){return this.cursors.map(g=>g.modelState.selection)}getViewSelections(){return this.cursors.map(g=>g.viewState.selection)}setSelections(g){this.setStates(C.CursorState.fromModelSelections(g))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(g){g!==null&&(this.cursors[0].setState(this.context,g[0].modelState,g[0].viewState),this._setSecondaryStates(g.slice(1)))}_setSecondaryStates(g){const n=this.cursors.length-1,i=g.length;if(n<i){const t=i-n;for(let r=0;r<t;r++)this._addSecondaryCursor()}else if(n>i){const t=n-i;for(let r=0;r<t;r++)this._removeSecondaryCursor(this.cursors.length-2)}for(let t=0;t<i;t++)this.cursors[t+1].setState(this.context,g[t].modelState,g[t].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new k.Cursor(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(g){this.lastAddedCursorIndex>=g+1&&this.lastAddedCursorIndex--,this.cursors[g+1].dispose(this.context),this.cursors.splice(g+1,1)}normalize(){if(this.cursors.length===1)return;const g=this.cursors.slice(0),n=[];for(let i=0,t=g.length;i<t;i++)n.push({index:i,selection:g[i].modelState.selection});n.sort((0,w.compareBy)(i=>i.selection,L.Range.compareRangesUsingStarts));for(let i=0;i<n.length-1;i++){const t=n[i],r=n[i+1],l=t.selection,d=r.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let a;if(d.isEmpty()||l.isEmpty()?a=d.getStartPosition().isBeforeOrEqual(l.getEndPosition()):a=d.getStartPosition().isBefore(l.getEndPosition()),a){const s=t.index<r.index?i:i+1,o=t.index<r.index?i+1:i,c=n[o].index,f=n[s].index,p=n[o].selection,_=n[s].selection;if(!p.equalsSelection(_)){const m=p.plusRange(_),h=p.selectionStartLineNumber===p.startLineNumber&&p.selectionStartColumn===p.startColumn,S=_.selectionStartLineNumber===_.startLineNumber&&_.selectionStartColumn===_.startColumn;let y;c===this.lastAddedCursorIndex?(y=h,this.lastAddedCursorIndex=f):y=S;let E;y?E=new b.Selection(m.startLineNumber,m.startColumn,m.endLineNumber,m.endColumn):E=new b.Selection(m.endLineNumber,m.endColumn,m.startLineNumber,m.startColumn),n[s].selection=E;const N=C.CursorState.fromModelSelection(E);g[f].setState(this.context,N.modelState,N.viewState)}for(const m of n)m.index>c&&m.index--;g.splice(c,1),n.splice(o,1),this._removeSecondaryCursor(c-1),i--}}}}e.CursorCollection=v}),define(re[415],ae([1,0,98]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class C{constructor(I){if(I.autoClosingPairs?this._autoClosingPairs=I.autoClosingPairs.map(L=>new w.StandardAutoClosingPairConditional(L)):I.brackets?this._autoClosingPairs=I.brackets.map(L=>new w.StandardAutoClosingPairConditional({open:L[0],close:L[1]})):this._autoClosingPairs=[],I.__electricCharacterSupport&&I.__electricCharacterSupport.docComment){const L=I.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new w.StandardAutoClosingPairConditional({open:L.open,close:L.close||""}))}this._autoCloseBefore=typeof I.autoCloseBefore=="string"?I.autoCloseBefore:C.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=I.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}}e.CharacterPairSupport=C,C.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`}),define(re[416],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function w(k){return k.global&&(k.lastIndex=0),!0}class C{constructor(I){this._indentationRules=I}shouldIncrease(I){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&w(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(I))}shouldDecrease(I){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&w(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(I))}shouldIndentNextLine(I){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&w(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(I))}shouldIgnore(I){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&w(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(I))}getIndentMetadata(I){let L=0;return this.shouldIncrease(I)&&(L+=1),this.shouldDecrease(I)&&(L+=2),this.shouldIndentNextLine(I)&&(L+=4),this.shouldIgnore(I)&&(L+=8),L}}e.IndentRulesSupport=C}),define(re[417],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class w{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(k,I,L,b,v){if(k&&I){const u=this.doNavigateValueSet(I,v);if(u)return{range:k,value:u}}if(L&&b){const u=this.doNavigateValueSet(b,v);if(u)return{range:L,value:u}}return null}doNavigateValueSet(k,I){const L=this.numberReplace(k,I);return L!==null?L:this.textReplace(k,I)}numberReplace(k,I){const L=Math.pow(10,k.length-(k.lastIndexOf(".")+1));let b=Number(k);const v=parseFloat(k);return!isNaN(b)&&!isNaN(v)&&b===v?b===0&&!I?null:(b=Math.floor(b*L),b+=I?L:-L,String(b/L)):null}textReplace(k,I){return this.valueSetsReplace(this._defaultValueSet,k,I)}valueSetsReplace(k,I,L){let b=null;for(let v=0,u=k.length;b===null&&v<u;v++)b=this.valueSetReplace(k[v],I,L);return b}valueSetReplace(k,I,L){let b=k.indexOf(I);return b>=0?(b+=L?1:-1,b<0?b=k.length-1:b%=k.length,k[b]):null}}e.BasicInplaceReplace=w,w.INSTANCE=new w}),define(re[418],ae([1,0,222,14]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClosingBracketKind=e.OpeningBracketKind=e.BracketKindBase=e.LanguageBracketsConfiguration=void 0;class k{constructor(g,n){this.languageId=g;let i;n.colorizedBracketPairs?i=I(n.colorizedBracketPairs.map(l=>[l[0],l[1]])):n.brackets?i=I(n.brackets.map(l=>[l[0],l[1]]).filter(l=>!(l[0]==="<"&&l[1]===">"))):i=[];const t=new w.CachedFunction(l=>{const d=new Set;return{info:new b(this,l,d),closing:d}}),r=new w.CachedFunction(l=>{const d=new Set;return{info:new v(this,l,d),opening:d}});for(const[l,d]of i){const a=t.get(l),s=r.get(d);a.closing.add(s.info),s.opening.add(a.info)}this._openingBrackets=new Map([...t.cachedValues].map(([l,d])=>[l,d.info])),this._closingBrackets=new Map([...r.cachedValues].map(([l,d])=>[l,d.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(g){return this._openingBrackets.get(g)}getClosingBracketInfo(g){return this._closingBrackets.get(g)}getBracketInfo(g){return this.getOpeningBracketInfo(g)||this.getClosingBracketInfo(g)}}e.LanguageBracketsConfiguration=k;function I(u){return u.filter(([g,n])=>g!==""&&n!=="")}class L{constructor(g,n){this.config=g,this.bracketText=n}get languageId(){return this.config.languageId}}e.BracketKindBase=L;class b extends L{constructor(g,n,i){super(g,n);this.openedBrackets=i,this.isOpeningBracket=!0}}e.OpeningBracketKind=b;class v extends L{constructor(g,n,i){super(g,n);this.closedBrackets=i,this.isOpeningBracket=!1}closes(g){if(g.languageId===this.languageId&&g.config!==this.config)throw new C.BugIndicatingError("Brackets from different language configuration cannot be used.");return this.closedBrackets.has(g)}getClosedBrackets(){return[...this.closedBrackets]}}e.ClosingBracketKind=v}),define(re[419],ae([1,0,14,8,98]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class I{constructor(b){b=b||{},b.brackets=b.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],b.brackets.forEach(v=>{const u=I._createOpenBracketRegExp(v[0]),g=I._createCloseBracketRegExp(v[1]);u&&g&&this._brackets.push({open:v[0],openRegExp:u,close:v[1],closeRegExp:g})}),this._regExpRules=b.onEnterRules||[]}onEnter(b,v,u,g){if(b>=3)for(let n=0,i=this._regExpRules.length;n<i;n++){const t=this._regExpRules[n];if([{reg:t.beforeText,text:u},{reg:t.afterText,text:g},{reg:t.previousLineText,text:v}].every(l=>l.reg?(l.reg.lastIndex=0,l.reg.test(l.text)):!0))return t.action}if(b>=2&&u.length>0&&g.length>0)for(let n=0,i=this._brackets.length;n<i;n++){const t=this._brackets[n];if(t.openRegExp.test(u)&&t.closeRegExp.test(g))return{indentAction:k.IndentAction.IndentOutdent}}if(b>=2&&u.length>0){for(let n=0,i=this._brackets.length;n<i;n++)if(this._brackets[n].openRegExp.test(u))return{indentAction:k.IndentAction.Indent}}return null}static _createOpenBracketRegExp(b){let v=C.escapeRegExpCharacters(b);return/\B/.test(v.charAt(0))||(v="\\b"+v),v+="\\s*$",I._safeRegExp(v)}static _createCloseBracketRegExp(b){let v=C.escapeRegExpCharacters(b);return/\B/.test(v.charAt(v.length-1))||(v=v+"\\b"),v="^\\s*"+v,I._safeRegExp(v)}static _safeRegExp(b){try{return new RegExp(b)}catch(v){return(0,w.onUnexpectedError)(v),null}}}e.OnEnterSupport=I}),define(re[420],ae([1,0,31]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTokensCSSForColorMap=e.ThemeTrieElement=e.ThemeTrieElementRule=e.strcmp=e.toStandardTokenType=e.TokenTheme=e.ColorMap=e.parseTokenTheme=e.ParsedTokenThemeRule=void 0;class C{constructor(d,a,s,o,c){this._parsedThemeRuleBrand=void 0,this.token=d,this.index=a,this.fontStyle=s,this.foreground=o,this.background=c}}e.ParsedTokenThemeRule=C;function k(l){if(!l||!Array.isArray(l))return[];const d=[];let a=0;for(let s=0,o=l.length;s<o;s++){const c=l[s];let f=-1;if(typeof c.fontStyle=="string"){f=0;const m=c.fontStyle.split(" ");for(let h=0,S=m.length;h<S;h++)switch(m[h]){case"italic":f=f|1;break;case"bold":f=f|2;break;case"underline":f=f|4;break;case"strikethrough":f=f|8;break}}let p=null;typeof c.foreground=="string"&&(p=c.foreground);let _=null;typeof c.background=="string"&&(_=c.background),d[a++]=new C(c.token||"",s,f,p,_)}return d}e.parseTokenTheme=k;function I(l,d){l.sort((h,S)=>{const y=n(h.token,S.token);return y!==0?y:h.index-S.index});let a=0,s="000000",o="ffffff";for(;l.length>=1&&l[0].token==="";){const h=l.shift();h.fontStyle!==-1&&(a=h.fontStyle),h.foreground!==null&&(s=h.foreground),h.background!==null&&(o=h.background)}const c=new b;for(const h of d)c.getId(h);const f=c.getId(s),p=c.getId(o),_=new i(a,f,p),m=new t(_);for(let h=0,S=l.length;h<S;h++){const y=l[h];m.insert(y.token,y.fontStyle,c.getId(y.foreground),c.getId(y.background))}return new v(c,m)}const L=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class b{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(d){if(d===null)return 0;const a=d.match(L);if(!a)throw new Error("Illegal value for token color: "+d);d=a[1].toUpperCase();let s=this._color2id.get(d);return s||(s=++this._lastColorId,this._color2id.set(d,s),this._id2color[s]=w.Color.fromHex("#"+d),s)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=b;class v{constructor(d,a){this._colorMap=d,this._root=a,this._cache=new Map}static createFromRawTokenTheme(d,a){return this.createFromParsedTokenTheme(k(d),a)}static createFromParsedTokenTheme(d,a){return I(d,a)}getColorMap(){return this._colorMap.getColorMap()}_match(d){return this._root.match(d)}match(d,a){let s=this._cache.get(a);if(typeof s=="undefined"){const o=this._match(a),c=g(a);s=(o.metadata|c<<8)>>>0,this._cache.set(a,s)}return(s|d<<0)>>>0}}e.TokenTheme=v;const u=/\b(comment|string|regex|regexp)\b/;function g(l){const d=l.match(u);if(!d)return 0;switch(d[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}e.toStandardTokenType=g;function n(l,d){return l<d?-1:l>d?1:0}e.strcmp=n;class i{constructor(d,a,s){this._themeTrieElementRuleBrand=void 0,this._fontStyle=d,this._foreground=a,this._background=s,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new i(this._fontStyle,this._foreground,this._background)}acceptOverwrite(d,a,s){d!==-1&&(this._fontStyle=d),a!==0&&(this._foreground=a),s!==0&&(this._background=s),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}e.ThemeTrieElementRule=i;class t{constructor(d){this._themeTrieElementBrand=void 0,this._mainRule=d,this._children=new Map}match(d){if(d==="")return this._mainRule;const a=d.indexOf(".");let s,o;a===-1?(s=d,o=""):(s=d.substring(0,a),o=d.substring(a+1));const c=this._children.get(s);return typeof c!="undefined"?c.match(o):this._mainRule}insert(d,a,s,o){if(d===""){this._mainRule.acceptOverwrite(a,s,o);return}const c=d.indexOf(".");let f,p;c===-1?(f=d,p=""):(f=d.substring(0,c),p=d.substring(c+1));let _=this._children.get(f);typeof _=="undefined"&&(_=new t(this._mainRule.clone()),this._children.set(f,_)),_.insert(p,a,s,o)}}e.ThemeTrieElement=t;function r(l){const d=[];for(let a=1,s=l.length;a<s;a++){const o=l[a];d[a]=`.mtk${a} { color: ${o}; }`}return d.push(".mtki { font-style: italic; }"),d.push(".mtkb { font-weight: bold; }"),d.push(".mtku { text-decoration: underline; text-underline-position: under; }"),d.push(".mtks { text-decoration: line-through; }"),d.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),d.join(`
`)}e.generateTokensCSSForColorMap=r}),define(re[46],ae([1,0,40]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.ApplyEditsResult=e.SearchData=e.ValidAnnotatedEditOperation=e.isITextSnapshot=e.FindMatch=e.TextModelResolvedOptions=e.InjectedTextCursorStops=e.MinimapPosition=e.OverviewRulerLane=void 0;var C;(function(t){t[t.Left=1]="Left",t[t.Center=2]="Center",t[t.Right=4]="Right",t[t.Full=7]="Full"})(C=e.OverviewRulerLane||(e.OverviewRulerLane={}));var k;(function(t){t[t.Inline=1]="Inline",t[t.Gutter=2]="Gutter"})(k=e.MinimapPosition||(e.MinimapPosition={}));var I;(function(t){t[t.Both=0]="Both",t[t.Right=1]="Right",t[t.Left=2]="Left",t[t.None=3]="None"})(I=e.InjectedTextCursorStops||(e.InjectedTextCursorStops={}));class L{constructor(r){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,r.tabSize|0),this.indentSize=r.tabSize|0,this.insertSpaces=Boolean(r.insertSpaces),this.defaultEOL=r.defaultEOL|0,this.trimAutoWhitespace=Boolean(r.trimAutoWhitespace),this.bracketPairColorizationOptions=r.bracketPairColorizationOptions}equals(r){return this.tabSize===r.tabSize&&this.indentSize===r.indentSize&&this.insertSpaces===r.insertSpaces&&this.defaultEOL===r.defaultEOL&&this.trimAutoWhitespace===r.trimAutoWhitespace&&(0,w.equals)(this.bracketPairColorizationOptions,r.bracketPairColorizationOptions)}createChangeEvent(r){return{tabSize:this.tabSize!==r.tabSize,indentSize:this.indentSize!==r.indentSize,insertSpaces:this.insertSpaces!==r.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==r.trimAutoWhitespace}}}e.TextModelResolvedOptions=L;class b{constructor(r,l){this._findMatchBrand=void 0,this.range=r,this.matches=l}}e.FindMatch=b;function v(t){return t&&typeof t.read=="function"}e.isITextSnapshot=v;class u{constructor(r,l,d,a,s,o){this.identifier=r,this.range=l,this.text=d,this.forceMoveMarkers=a,this.isAutoWhitespaceEdit=s,this._isTracked=o}}e.ValidAnnotatedEditOperation=u;class g{constructor(r,l,d){this.regex=r,this.wordSeparators=l,this.simpleSearch=d}}e.SearchData=g;class n{constructor(r,l,d){this.reverseEdits=r,this.changes=l,this.trimAutoWhitespaceLineNumbers=d}}e.ApplyEditsResult=n;function i(t){return!t.isTooLargeForSyncing()&&!t.isForSimpleWidget}e.shouldSynchronizeModel=i}),define(re[87],ae([1,0,8,3]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthOfString=e.lengthsToRange=e.positionToLength=e.lengthGreaterThanEqual=e.lengthLessThanEqual=e.lengthLessThan=e.lengthDiffNonNegative=e.lengthAdd=e.lengthGetColumnCountIfZeroLineCount=e.lengthGetLineCount=e.lengthToObj=e.toLength=e.lengthIsZero=e.lengthZero=e.lengthDiff=e.LengthObj=void 0;class k{constructor(f,p){this.lineCount=f,this.columnCount=p}toString(){return`${this.lineCount},${this.columnCount}`}}e.LengthObj=k,k.zero=new k(0,0);function I(c,f,p,_){return c!==p?v(p-c,_):v(0,_-f)}e.lengthDiff=I,e.lengthZero=0;function L(c){return c===0}e.lengthIsZero=L;const b=Math.pow(2,26);function v(c,f){return c*b+f}e.toLength=v;function u(c){const f=c,p=Math.floor(f/b),_=f-p*b;return new k(p,_)}e.lengthToObj=u;function g(c){return Math.floor(c/b)}e.lengthGetLineCount=g;function n(c){return c}e.lengthGetColumnCountIfZeroLineCount=n;function i(c,f){return f<b?c+f:c-c%b+f}e.lengthAdd=i;function t(c,f){const p=c,_=f;if(_-p<=0)return e.lengthZero;const h=Math.floor(p/b),S=Math.floor(_/b),y=_-S*b;if(h===S){const E=p-h*b;return v(0,y-E)}else return v(S-h,y)}e.lengthDiffNonNegative=t;function r(c,f){return c<f}e.lengthLessThan=r;function l(c,f){return c<=f}e.lengthLessThanEqual=l;function d(c,f){return c>=f}e.lengthGreaterThanEqual=d;function a(c){return v(c.lineNumber-1,c.column-1)}e.positionToLength=a;function s(c,f){const p=c,_=Math.floor(p/b),m=p-_*b,h=f,S=Math.floor(h/b),y=h-S*b;return new C.Range(_+1,m+1,S+1,y+1)}e.lengthsToRange=s;function o(c){const f=(0,w.splitLines)(c);return v(f.length-1,f[f.length-1].length)}e.lengthOfString=o}),define(re[235],ae([1,0,87]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BeforeEditPositionMapper=e.TextEditInfo=void 0;class C{constructor(b,v,u){this.startOffset=b,this.endOffset=v,this.newLength=u}}e.TextEditInfo=C;class k{constructor(b,v){this.documentLength=v,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=b.map(u=>I.from(u))}getOffsetBeforeChange(b){return this.adjustNextEdit(b),this.translateCurToOld(b)}getDistanceToNextChange(b){this.adjustNextEdit(b);const v=this.edits[this.nextEditIdx],u=v?this.translateOldToCur(v.offsetObj):this.documentLength;return(0,w.lengthDiffNonNegative)(b,u)}translateOldToCur(b){return b.lineCount===this.deltaLineIdxInOld?(0,w.toLength)(b.lineCount+this.deltaOldToNewLineCount,b.columnCount+this.deltaOldToNewColumnCount):(0,w.toLength)(b.lineCount+this.deltaOldToNewLineCount,b.columnCount)}translateCurToOld(b){const v=(0,w.lengthToObj)(b);return v.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,w.toLength)(v.lineCount-this.deltaOldToNewLineCount,v.columnCount-this.deltaOldToNewColumnCount):(0,w.toLength)(v.lineCount-this.deltaOldToNewLineCount,v.columnCount)}adjustNextEdit(b){for(;this.nextEditIdx<this.edits.length;){const v=this.edits[this.nextEditIdx],u=this.translateOldToCur(v.endOffsetAfterObj);if((0,w.lengthLessThanEqual)(u,b)){this.nextEditIdx++;const g=(0,w.lengthToObj)(u),n=(0,w.lengthToObj)(this.translateOldToCur(v.endOffsetBeforeObj)),i=g.lineCount-n.lineCount;this.deltaOldToNewLineCount+=i;const t=this.deltaLineIdxInOld===v.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,r=g.columnCount-n.columnCount;this.deltaOldToNewColumnCount=t+r,this.deltaLineIdxInOld=v.endOffsetBeforeObj.lineCount}else break}}}e.BeforeEditPositionMapper=k;class I{constructor(b,v,u){this.endOffsetBeforeObj=(0,w.lengthToObj)(v),this.endOffsetAfterObj=(0,w.lengthToObj)((0,w.lengthAdd)(b,u)),this.offsetObj=(0,w.lengthToObj)(b)}static from(b){return new I(b.startOffset,b.endOffset,b.newLength)}}}),define(re[421],ae([1,0,87]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeReader=void 0;class C{constructor(b){this.lastOffset=w.lengthZero,this.nextNodes=[b],this.offsets=[w.lengthZero],this.idxs=[]}readLongestNodeAt(b,v){if((0,w.lengthLessThan)(b,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=b;;){const u=I(this.nextNodes);if(!u)return;const g=I(this.offsets);if((0,w.lengthLessThan)(b,g))return;if((0,w.lengthLessThan)(g,b))if((0,w.lengthAdd)(g,u.length)<=b)this.nextNodeAfterCurrent();else{const n=k(u);n!==-1?(this.nextNodes.push(u.getChild(n)),this.offsets.push(g),this.idxs.push(n)):this.nextNodeAfterCurrent()}else{if(v(u))return this.nextNodeAfterCurrent(),u;{const n=k(u);if(n===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(u.getChild(n)),this.offsets.push(g),this.idxs.push(n)}}}}nextNodeAfterCurrent(){for(;;){const b=I(this.offsets),v=I(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const u=I(this.nextNodes),g=k(u,this.idxs[this.idxs.length-1]);if(g!==-1){this.nextNodes.push(u.getChild(g)),this.offsets.push((0,w.lengthAdd)(b,v.length)),this.idxs[this.idxs.length-1]=g;break}else this.idxs.pop()}}}e.NodeReader=C;function k(L,b=-1){for(;;){if(b++,b>=L.childrenLength)return-1;if(L.getChild(b))return b}}function I(L){return L.length>0?L[L.length-1]:void 0}}),define(re[111],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DenseKeyProvider=e.identityKeyProvider=e.SmallImmutableSet=void 0;const w=new Array;class C{constructor(L,b){this.items=L,this.additionalItems=b}static create(L,b){if(L<=128&&b.length===0){let v=C.cache[L];return v||(v=new C(L,b),C.cache[L]=v),v}return new C(L,b)}static getEmpty(){return this.empty}add(L,b){const v=b.getKey(L);let u=v>>5;if(u===0){const n=1<<v|this.items;return n===this.items?this:C.create(n,this.additionalItems)}u--;const g=this.additionalItems.slice(0);for(;g.length<u;)g.push(0);return g[u]|=1<<(v&31),C.create(this.items,g)}merge(L){const b=this.items|L.items;if(this.additionalItems===w&&L.additionalItems===w)return b===this.items?this:b===L.items?L:C.create(b,w);const v=new Array;for(let u=0;u<Math.max(this.additionalItems.length,L.additionalItems.length);u++){const g=this.additionalItems[u]||0,n=L.additionalItems[u]||0;v.push(g|n)}return C.create(b,v)}intersects(L){if((this.items&L.items)!=0)return!0;for(let b=0;b<Math.min(this.additionalItems.length,L.additionalItems.length);b++)if((this.additionalItems[b]&L.additionalItems[b])!=0)return!0;return!1}}e.SmallImmutableSet=C,C.cache=new Array(129),C.empty=C.create(0,w),e.identityKeyProvider={getKey(I){return I}};class k{constructor(){this.items=new Map}getKey(L){let b=this.items.get(L);return b===void 0&&(b=this.items.size,this.items.set(L,b)),b}}e.DenseKeyProvider=k}),define(re[157],ae([1,0,66,87,111]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidBracketAstNode=e.BracketAstNode=e.TextAstNode=e.ListAstNode=e.PairAstNode=void 0;class I{constructor(s){this._length=s}get length(){return this._length}}class L extends I{constructor(s,o,c,f,p){super(s);this.openingBracket=o,this.child=c,this.closingBracket=f,this.missingOpeningBracketIds=p}static create(s,o,c){let f=s.length;return o&&(f=(0,C.lengthAdd)(f,o.length)),c&&(f=(0,C.lengthAdd)(f,c.length)),new L(f,s,o,c,o?o.missingOpeningBracketIds:k.SmallImmutableSet.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(s){switch(s){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const s=new Array;return s.push(this.openingBracket),this.child&&s.push(this.child),this.closingBracket&&s.push(this.closingBracket),s}canBeReused(s){return!(this.closingBracket===null||s.intersects(this.missingOpeningBracketIds))}deepClone(){return new L(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(s,o){return this.child?this.child.computeMinIndentation((0,C.lengthAdd)(s,this.openingBracket.length),o):Number.MAX_SAFE_INTEGER}}e.PairAstNode=L;class b extends I{constructor(s,o,c){super(s);this.listHeight=o,this._missingOpeningBracketIds=c,this.cachedMinIndentation=-1}static create23(s,o,c,f=!1){let p=s.length,_=s.missingOpeningBracketIds;if(s.listHeight!==o.listHeight)throw new Error("Invalid list heights");if(p=(0,C.lengthAdd)(p,o.length),_=_.merge(o.missingOpeningBracketIds),c){if(s.listHeight!==c.listHeight)throw new Error("Invalid list heights");p=(0,C.lengthAdd)(p,c.length),_=_.merge(c.missingOpeningBracketIds)}return f?new u(p,s.listHeight+1,s,o,c,_):new v(p,s.listHeight+1,s,o,c,_)}static getEmpty(){return new n(C.lengthZero,0,[],k.SmallImmutableSet.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const s=this.childrenLength;if(s===0)return;const o=this.getChild(s-1),c=o.kind===4?o.toMutable():o;return o!==c&&this.setChild(s-1,c),c}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const o=this.getChild(0),c=o.kind===4?o.toMutable():o;return o!==c&&this.setChild(0,c),c}canBeReused(s){if(s.intersects(this.missingOpeningBracketIds))return!1;let o=this,c;for(;o.kind===4&&(c=o.childrenLength)>0;)o=o.getChild(c-1);return o.canBeReused(s)}handleChildrenChanged(){this.throwIfImmutable();const s=this.childrenLength;let o=this.getChild(0).length,c=this.getChild(0).missingOpeningBracketIds;for(let f=1;f<s;f++){const p=this.getChild(f);o=(0,C.lengthAdd)(o,p.length),c=c.merge(p.missingOpeningBracketIds)}this._length=o,this._missingOpeningBracketIds=c,this.cachedMinIndentation=-1}computeMinIndentation(s,o){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let c=Number.MAX_SAFE_INTEGER,f=s;for(let p=0;p<this.childrenLength;p++){const _=this.getChild(p);_&&(c=Math.min(c,_.computeMinIndentation(f,o)),f=(0,C.lengthAdd)(f,_.length))}return this.cachedMinIndentation=c,c}}e.ListAstNode=b;class v extends b{constructor(s,o,c,f,p,_){super(s,o,_);this._item1=c,this._item2=f,this._item3=p}get childrenLength(){return this._item3!==null?3:2}getChild(s){switch(s){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(s,o){switch(s){case 0:this._item1=o;return;case 1:this._item2=o;return;case 2:this._item3=o;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new v(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(s){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=s,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const s=this._item3;return this._item3=null,this.handleChildrenChanged(),s}prependChildOfSameHeight(s){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=s,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const s=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),s}toMutable(){return this}}class u extends v{toMutable(){return new v(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class g extends b{constructor(s,o,c,f){super(s,o,f);this._children=c}get childrenLength(){return this._children.length}getChild(s){return this._children[s]}setChild(s,o){this._children[s]=o}get children(){return this._children}deepClone(){const s=new Array(this._children.length);for(let o=0;o<this._children.length;o++)s[o]=this._children[o].deepClone();return new g(this.length,this.listHeight,s,this.missingOpeningBracketIds)}appendChildOfSameHeight(s){this.throwIfImmutable(),this._children.push(s),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const s=this._children.pop();return this.handleChildrenChanged(),s}prependChildOfSameHeight(s){this.throwIfImmutable(),this._children.unshift(s),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const s=this._children.shift();return this.handleChildrenChanged(),s}toMutable(){return this}}class n extends g{toMutable(){return new g(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const i=[];class t extends I{get listHeight(){return 0}get childrenLength(){return 0}getChild(s){return null}get children(){return i}deepClone(){return this}}class r extends t{get kind(){return 0}get missingOpeningBracketIds(){return k.SmallImmutableSet.getEmpty()}canBeReused(s){return!0}computeMinIndentation(s,o){const c=(0,C.lengthToObj)(s),f=(c.columnCount===0?c.lineCount:c.lineCount+1)+1,p=(0,C.lengthGetLineCount)((0,C.lengthAdd)(s,this.length))+1;let _=Number.MAX_SAFE_INTEGER;for(let m=f;m<=p;m++){const h=o.getLineFirstNonWhitespaceColumn(m),S=o.getLineContent(m);if(h===0)continue;const y=w.CursorColumns.visibleColumnFromColumn(S,h,o.getOptions().tabSize);_=Math.min(_,y)}return _}}e.TextAstNode=r;class l extends t{constructor(s,o,c){super(s);this.bracketInfo=o,this.bracketIds=c}static create(s,o,c){return new l(s,o,c)}get kind(){return 1}get missingOpeningBracketIds(){return k.SmallImmutableSet.getEmpty()}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(s){return!1}computeMinIndentation(s,o){return Number.MAX_SAFE_INTEGER}}e.BracketAstNode=l;class d extends t{constructor(s,o){super(o);this.missingOpeningBracketIds=s}get kind(){return 3}canBeReused(s){return!s.intersects(this.missingOpeningBracketIds)}computeMinIndentation(s,o){return Number.MAX_SAFE_INTEGER}}e.InvalidBracketAstNode=d}),define(re[422],ae([1,0,157]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concat23TreesOfSameHeight=e.concat23Trees=void 0;function C(u){if(u.length===0)return null;if(u.length===1)return u[0];let g=0;function n(){if(g>=u.length)return null;const l=g,d=u[l].listHeight;for(g++;g<u.length&&u[g].listHeight===d;)g++;return g-l>=2?k(l===0&&g===u.length?u:u.slice(l,g),!1):u[l]}let i=n(),t=n();if(!t)return i;for(let l=n();l;l=n())I(i,t)<=I(t,l)?(i=L(i,t),t=l):t=L(t,l);return L(i,t)}e.concat23Trees=C;function k(u,g=!1){if(u.length===0)return null;if(u.length===1)return u[0];let n=u.length;for(;n>3;){const i=n>>1;for(let t=0;t<i;t++){const r=t<<1;u[t]=w.ListAstNode.create23(u[r],u[r+1],r+3===n?u[r+2]:null,g)}n=i}return w.ListAstNode.create23(u[0],u[1],n>=3?u[2]:null,g)}e.concat23TreesOfSameHeight=k;function I(u,g){return Math.abs(u.listHeight-g.listHeight)}function L(u,g){return u.listHeight===g.listHeight?w.ListAstNode.create23(u,g,null,!1):u.listHeight>g.listHeight?b(u,g):v(g,u)}function b(u,g){u=u.toMutable();let n=u;const i=new Array;let t;for(;;){if(g.listHeight===n.listHeight){t=g;break}if(n.kind!==4)throw new Error("unexpected");i.push(n),n=n.makeLastElementMutable()}for(let r=i.length-1;r>=0;r--){const l=i[r];t?l.childrenLength>=3?t=w.ListAstNode.create23(l.unappendChild(),t,null,!1):(l.appendChildOfSameHeight(t),t=void 0):l.handleChildrenChanged()}return t?w.ListAstNode.create23(u,t,null,!1):u}function v(u,g){u=u.toMutable();let n=u;const i=new Array;for(;g.listHeight!==n.listHeight;){if(n.kind!==4)throw new Error("unexpected");i.push(n),n=n.makeFirstElementMutable()}let t=g;for(let r=i.length-1;r>=0;r--){const l=i[r];t?l.childrenLength>=3?t=w.ListAstNode.create23(t,l.unprependChild(),null,!1):(l.prependChildOfSameHeight(t),t=void 0):l.handleChildrenChanged()}return t?w.ListAstNode.create23(t,u,null,!1):u}}),define(re[236],ae([1,0,157,235,111,87,422,421]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDocument=void 0;function v(g,n,i,t){return new u(g,n,i,t).parseDocument()}e.parseDocument=v;class u{constructor(n,i,t,r){if(this.tokenizer=n,this.createImmutableLists=r,this._itemsConstructed=0,this._itemsFromCache=0,t&&r)throw new Error("Not supported");this.oldNodeReader=t?new b.NodeReader(t):void 0,this.positionMapper=new C.BeforeEditPositionMapper(i,n.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let n=this.parseList(k.SmallImmutableSet.getEmpty());return n||(n=w.ListAstNode.getEmpty()),n}parseList(n){const i=new Array;for(;;){const r=this.tokenizer.peek();if(!r||r.kind===2&&r.bracketIds.intersects(n))break;const l=this.parseChild(n);l.kind===4&&l.childrenLength===0||i.push(l)}return this.oldNodeReader?(0,L.concat23Trees)(i):(0,L.concat23TreesOfSameHeight)(i,this.createImmutableLists)}parseChild(n){if(this.oldNodeReader){const t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!(0,I.lengthIsZero)(t)){const r=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),l=>(0,I.lengthLessThan)(l.length,t)?l.canBeReused(n):!1);if(r)return this._itemsFromCache++,this.tokenizer.skip(r.length),r}}this._itemsConstructed++;const i=this.tokenizer.read();switch(i.kind){case 2:return new w.InvalidBracketAstNode(i.bracketIds,i.length);case 0:return i.astNode;case 1:{const t=n.merge(i.bracketIds),r=this.parseList(t),l=this.tokenizer.peek();return l&&l.kind===2&&(l.bracketId===i.bracketId||l.bracketIds.intersects(i.bracketIds))?(this.tokenizer.read(),w.PairAstNode.create(i.astNode,r,l.astNode)):w.PairAstNode.create(i.astNode,r,null)}default:throw new Error("unexpected")}}}}),define(re[183],ae([1,0,14,109,157,87,111]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastTokenizer=e.TextBufferTokenizer=e.Token=void 0;class b{constructor(i,t,r,l,d){this.length=i,this.kind=t,this.bracketId=r,this.bracketIds=l,this.astNode=d}}e.Token=b;class v{constructor(i,t){this.textModel=i,this.bracketTokens=t,this.reader=new u(this.textModel,this.bracketTokens),this._offset=I.lengthZero,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=i.getLineCount(),this.textBufferLastLineLength=i.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,I.toLength)(this.textBufferLineCount,this.textBufferLastLineLength)}skip(i){this.didPeek=!1,this._offset=(0,I.lengthAdd)(this._offset,i);const t=(0,I.lengthToObj)(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let i;return this.peeked?(this.didPeek=!1,i=this.peeked):i=this.reader.read(),i&&(this._offset=(0,I.lengthAdd)(this._offset,i.length)),i}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}e.TextBufferTokenizer=v;class u{constructor(i,t){this.textModel=i,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=i.getLineCount(),this.textBufferLastLineLength=i.getLineLength(this.textBufferLineCount)}setPosition(i,t){i===this.lineIdx?(this.lineCharOffset=t,this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=i,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const d=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,I.lengthGetColumnCountIfZeroLineCount)(d.length),d}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const i=this.lineIdx,t=this.lineCharOffset;let r=0;for(;;){const d=this.lineTokens,a=d.getCount();let s=null;if(this.lineTokenOffset<a){const o=d.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<a&&o===d.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const c=C.TokenMetadata.getTokenType(o)===0,f=C.TokenMetadata.containsBalancedBrackets(o),p=d.getEndOffset(this.lineTokenOffset);if(f&&c&&this.lineCharOffset<p){const _=d.getLanguageId(this.lineTokenOffset),m=this.line.substring(this.lineCharOffset,p),h=this.bracketTokens.getSingleLanguageBracketTokens(_),S=h.regExpGlobal;if(S){S.lastIndex=0;const y=S.exec(m);y&&(s=h.getToken(y[0]),s&&(this.lineCharOffset+=y.index))}}if(r+=p-this.lineCharOffset,s)if(i!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=s;break}else return this.lineCharOffset+=(0,I.lengthGetColumnCountIfZeroLineCount)(s.length),s;else this.lineTokenOffset++,this.lineCharOffset=p}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,r+=33,r>1e3))break;if(r>1500)break}const l=(0,I.lengthDiff)(i,t,this.lineIdx,this.lineCharOffset);return new b(l,0,-1,L.SmallImmutableSet.getEmpty(),new k.TextAstNode(l))}}class g{constructor(i,t){this.text=i,this._offset=I.lengthZero,this.idx=0;const r=t.getRegExpStr(),l=r?new RegExp(r+`|
`,"gi"):null,d=[];let a,s=0,o=0,c=0,f=0;const p=new Array;for(let h=0;h<60;h++)p.push(new b((0,I.toLength)(0,h),0,-1,L.SmallImmutableSet.getEmpty(),new k.TextAstNode((0,I.toLength)(0,h))));const _=new Array;for(let h=0;h<60;h++)_.push(new b((0,I.toLength)(1,h),0,-1,L.SmallImmutableSet.getEmpty(),new k.TextAstNode((0,I.toLength)(1,h))));if(l)for(l.lastIndex=0;(a=l.exec(i))!==null;){const h=a.index,S=a[0];if(S===`
`)s++,o=h+1;else{if(c!==h){let y;if(f===s){const E=h-c;if(E<p.length)y=p[E];else{const N=(0,I.toLength)(0,E);y=new b(N,0,-1,L.SmallImmutableSet.getEmpty(),new k.TextAstNode(N))}}else{const E=s-f,N=h-o;if(E===1&&N<_.length)y=_[N];else{const T=(0,I.toLength)(E,N);y=new b(T,0,-1,L.SmallImmutableSet.getEmpty(),new k.TextAstNode(T))}}d.push(y)}d.push(t.getToken(S)),c=h+S.length,f=s}}const m=i.length;if(c!==m){const h=f===s?(0,I.toLength)(0,m-c):(0,I.toLength)(s-f,m-o);d.push(new b(h,0,-1,L.SmallImmutableSet.getEmpty(),new k.TextAstNode(h)))}this.length=(0,I.toLength)(s,m-o),this.tokens=d}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(i){throw new w.NotSupportedError}}e.FastTokenizer=g}),define(re[237],ae([1,0,8,157,87,111,183]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageAgnosticBracketTokens=e.BracketTokens=void 0;class b{constructor(n){this.map=n,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(n,i){function t(l){return i.getKey(`${l.languageId}:::${l.bracketText}`)}const r=new Map;for(const l of n.bracketsNew.openingBrackets){const d=(0,k.toLength)(0,l.bracketText.length),a=t(l),s=I.SmallImmutableSet.getEmpty().add(a,I.identityKeyProvider);r.set(l.bracketText,new L.Token(d,1,a,s,C.BracketAstNode.create(d,l,s)))}for(const l of n.bracketsNew.closingBrackets){const d=(0,k.toLength)(0,l.bracketText.length);let a=I.SmallImmutableSet.getEmpty();const s=l.getClosedBrackets();for(const o of s)a=a.add(t(o),I.identityKeyProvider);r.set(l.bracketText,new L.Token(d,2,t(s[0]),a,C.BracketAstNode.create(d,l,a)))}return new b(r)}getRegExpStr(){if(this.isEmpty)return null;{const n=[...this.map.keys()];return n.sort(),n.reverse(),n.map(i=>v(i)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const n=this.getRegExpStr();this._regExpGlobal=n?new RegExp(n,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(n){return this.map.get(n.toLowerCase())}findClosingTokenText(n){for(const[i,t]of this.map)if(t.kind===2&&t.bracketIds.intersects(n))return i}get isEmpty(){return this.map.size===0}}e.BracketTokens=b;function v(g){let n=(0,w.escapeRegExpCharacters)(g);return/^[\w ]+/.test(g)&&(n=`\\b${n}`),/[\w ]+$/.test(g)&&(n=`${n}\\b`),n}class u{constructor(n,i){this.denseKeyProvider=n,this.getLanguageConfiguration=i,this.languageIdToBracketTokens=new Map}didLanguageChange(n){return this.languageIdToBracketTokens.has(n)}getSingleLanguageBracketTokens(n){let i=this.languageIdToBracketTokens.get(n);return i||(i=b.createFromLanguage(this.getLanguageConfiguration(n),this.denseKeyProvider),this.languageIdToBracketTokens.set(n,i)),i}}e.LanguageAgnosticBracketTokens=u}),define(re[423],ae([1,0,237,87,236,111,183]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fixBracketsInLine=void 0;function b(u,g){const n=new I.DenseKeyProvider,i=new w.LanguageAgnosticBracketTokens(n,s=>g.getLanguageConfiguration(s)),t=new L.TextBufferTokenizer(new v([u]),i),r=(0,k.parseDocument)(t,[],void 0,!0);let l="";const d=u.getLineContent();function a(s,o){if(s.kind===2)a(s.openingBracket,o),o=(0,C.lengthAdd)(o,s.openingBracket.length),s.child&&(a(s.child,o),o=(0,C.lengthAdd)(o,s.child.length)),s.closingBracket?(a(s.closingBracket,o),o=(0,C.lengthAdd)(o,s.closingBracket.length)):l+=i.getSingleLanguageBracketTokens(s.openingBracket.languageId).findClosingTokenText(s.openingBracket.bracketIds);else if(s.kind!==3){if(s.kind===0||s.kind===1)l+=d.substring((0,C.lengthGetColumnCountIfZeroLineCount)(o),(0,C.lengthGetColumnCountIfZeroLineCount)((0,C.lengthAdd)(o,s.length)));else if(s.kind===4)for(const c of s.children)a(c,o),o=(0,C.lengthAdd)(o,c.length)}}return a(r,C.lengthZero),l}e.fixBracketsInLine=b;class v{constructor(g){this.lines=g,this.tokenization={getLineTokens:n=>this.lines[n-1]}}getLineCount(){return this.lines.length}getLineLength(g){return this.lines[g-1].getLineContent().length}}}),define(re[424],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=void 0;class w{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function C(I,L,b,v,u){u.spacesDiff=0,u.looksLikeAlignment=!1;let g;for(g=0;g<L&&g<v;g++){const a=I.charCodeAt(g),s=b.charCodeAt(g);if(a!==s)break}let n=0,i=0;for(let a=g;a<L;a++)I.charCodeAt(a)===32?n++:i++;let t=0,r=0;for(let a=g;a<v;a++)b.charCodeAt(a)===32?t++:r++;if(n>0&&i>0||t>0&&r>0)return;const l=Math.abs(i-r),d=Math.abs(n-t);if(l===0){u.spacesDiff=d,d>0&&0<=t-1&&t-1<I.length&&t<b.length&&b.charCodeAt(t)!==32&&I.charCodeAt(t-1)===32&&I.charCodeAt(I.length-1)===44&&(u.looksLikeAlignment=!0);return}if(d%l==0){u.spacesDiff=d/l;return}}function k(I,L,b){const v=Math.min(I.getLineCount(),1e4);let u=0,g=0,n="",i=0;const t=[2,4,6,8,3,5,7],r=8,l=[0,0,0,0,0,0,0,0,0],d=new w;for(let o=1;o<=v;o++){const c=I.getLineLength(o),f=I.getLineContent(o),p=c<=65536;let _=!1,m=0,h=0,S=0;for(let E=0,N=c;E<N;E++){const T=p?f.charCodeAt(E):I.getLineCharCode(o,E);if(T===9)S++;else if(T===32)h++;else{_=!0,m=E;break}}if(!_||(S>0?u++:h>1&&g++,C(n,i,f,m,d),d.looksLikeAlignment&&!(b&&L===d.spacesDiff)))continue;const y=d.spacesDiff;y<=r&&l[y]++,n=f,i=m}let a=b;u!==g&&(a=u<g);let s=L;if(a){let o=a?0:.1*v;t.forEach(c=>{const f=l[c];f>o&&(o=f,s=c)}),s===4&&l[4]>0&&l[2]>0&&l[2]>=l[4]/2&&(s=2)}return{insertSpaces:a,tabSize:s}}e.guessIndentation=k}),define(re[425],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intervalCompare=e.recomputeMaxEnd=e.nodeAcceptEdit=e.IntervalTree=e.SENTINEL=e.IntervalNode=e.getNodeColor=void 0;function w(D){return(D.metadata&1)>>>0}e.getNodeColor=w;function C(D,M){D.metadata=D.metadata&254|M<<0}function k(D){return(D.metadata&2)>>>1==1}function I(D,M){D.metadata=D.metadata&253|(M?1:0)<<1}function L(D){return(D.metadata&4)>>>2==1}function b(D,M){D.metadata=D.metadata&251|(M?1:0)<<2}function v(D){return(D.metadata&24)>>>3}function u(D,M){D.metadata=D.metadata&231|M<<3}function g(D){return(D.metadata&32)>>>5==1}function n(D,M){D.metadata=D.metadata&223|(M?1:0)<<5}class i{constructor(M,P,B){this.metadata=0,this.parent=this,this.left=this,this.right=this,C(this,1),this.start=P,this.end=B,this.delta=0,this.maxEnd=B,this.id=M,this.ownerId=0,this.options=null,b(this,!1),u(this,1),n(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=P,this.cachedAbsoluteEnd=B,this.range=null,I(this,!1)}reset(M,P,B,W){this.start=P,this.end=B,this.maxEnd=B,this.cachedVersionId=M,this.cachedAbsoluteStart=P,this.cachedAbsoluteEnd=B,this.range=W}setOptions(M){this.options=M;const P=this.options.className;b(this,P==="squiggly-error"||P==="squiggly-warning"||P==="squiggly-info"),u(this,this.options.stickiness),n(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(M,P,B){this.cachedVersionId!==B&&(this.range=null),this.cachedVersionId=B,this.cachedAbsoluteStart=M,this.cachedAbsoluteEnd=P}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=i,e.SENTINEL=new i(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,C(e.SENTINEL,0);class t{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(M,P,B,W,V){return this.root===e.SENTINEL?[]:p(this,M,P,B,W,V)}search(M,P,B){return this.root===e.SENTINEL?[]:f(this,M,P,B)}collectNodesFromOwner(M){return o(this,M)}collectNodesPostOrder(){return c(this)}insert(M){_(this,M),this._normalizeDeltaIfNecessary()}delete(M){h(this,M),this._normalizeDeltaIfNecessary()}resolveNode(M,P){const B=M;let W=0;for(;M!==this.root;)M===M.parent.right&&(W+=M.parent.delta),M=M.parent;const V=B.start+W,A=B.end+W;B.setCachedOffsets(V,A,P)}acceptReplace(M,P,B,W){const V=a(this,M,M+P);for(let A=0,Q=V.length;A<Q;A++){const J=V[A];h(this,J)}this._normalizeDeltaIfNecessary(),s(this,M,M+P,B),this._normalizeDeltaIfNecessary();for(let A=0,Q=V.length;A<Q;A++){const J=V[A];J.start=J.cachedAbsoluteStart,J.end=J.cachedAbsoluteEnd,d(J,M,M+P,B,W),J.maxEnd=J.end,_(this,J)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,r(this))}}e.IntervalTree=t;function r(D){let M=D.root,P=0;for(;M!==e.SENTINEL;){if(M.left!==e.SENTINEL&&!k(M.left)){M=M.left;continue}if(M.right!==e.SENTINEL&&!k(M.right)){P+=M.delta,M=M.right;continue}M.start=P+M.start,M.end=P+M.end,M.delta=0,R(M),I(M,!0),I(M.left,!1),I(M.right,!1),M===M.parent.right&&(P-=M.parent.delta),M=M.parent}I(D.root,!1)}function l(D,M,P,B){return D<P?!0:D>P||B===1?!1:B===2?!0:M}function d(D,M,P,B,W){const V=v(D),A=V===0||V===2,Q=V===1||V===2,J=P-M,H=B,q=Math.min(J,H),Z=D.start;let ie=!1;const Y=D.end;let te=!1;M<=Z&&Y<=P&&g(D)&&(D.start=M,ie=!0,D.end=M,te=!0);{const x=W?1:J>0?2:0;!ie&&l(Z,A,M,x)&&(ie=!0),!te&&l(Y,Q,M,x)&&(te=!0)}if(q>0&&!W){const x=J>H?2:0;!ie&&l(Z,A,M+q,x)&&(ie=!0),!te&&l(Y,Q,M+q,x)&&(te=!0)}{const x=W?1:0;!ie&&l(Z,A,P,x)&&(D.start=M+H,ie=!0),!te&&l(Y,Q,P,x)&&(D.end=M+H,te=!0)}const de=H-J;ie||(D.start=Math.max(0,Z+de)),te||(D.end=Math.max(0,Y+de)),D.start>D.end&&(D.end=D.start)}e.nodeAcceptEdit=d;function a(D,M,P){let B=D.root,W=0,V=0,A=0,Q=0;const J=[];let H=0;for(;B!==e.SENTINEL;){if(k(B)){I(B.left,!1),I(B.right,!1),B===B.parent.right&&(W-=B.parent.delta),B=B.parent;continue}if(!k(B.left)){if(V=W+B.maxEnd,V<M){I(B,!0);continue}if(B.left!==e.SENTINEL){B=B.left;continue}}if(A=W+B.start,A>P){I(B,!0);continue}if(Q=W+B.end,Q>=M&&(B.setCachedOffsets(A,Q,0),J[H++]=B),I(B,!0),B.right!==e.SENTINEL&&!k(B.right)){W+=B.delta,B=B.right;continue}}return I(D.root,!1),J}function s(D,M,P,B){let W=D.root,V=0,A=0,Q=0;const J=B-(P-M);for(;W!==e.SENTINEL;){if(k(W)){I(W.left,!1),I(W.right,!1),W===W.parent.right&&(V-=W.parent.delta),R(W),W=W.parent;continue}if(!k(W.left)){if(A=V+W.maxEnd,A<M){I(W,!0);continue}if(W.left!==e.SENTINEL){W=W.left;continue}}if(Q=V+W.start,Q>P){W.start+=J,W.end+=J,W.delta+=J,(W.delta<-1073741824||W.delta>1073741824)&&(D.requestNormalizeDelta=!0),I(W,!0);continue}if(I(W,!0),W.right!==e.SENTINEL&&!k(W.right)){V+=W.delta,W=W.right;continue}}I(D.root,!1)}function o(D,M){let P=D.root;const B=[];let W=0;for(;P!==e.SENTINEL;){if(k(P)){I(P.left,!1),I(P.right,!1),P=P.parent;continue}if(P.left!==e.SENTINEL&&!k(P.left)){P=P.left;continue}if(P.ownerId===M&&(B[W++]=P),I(P,!0),P.right!==e.SENTINEL&&!k(P.right)){P=P.right;continue}}return I(D.root,!1),B}function c(D){let M=D.root;const P=[];let B=0;for(;M!==e.SENTINEL;){if(k(M)){I(M.left,!1),I(M.right,!1),M=M.parent;continue}if(M.left!==e.SENTINEL&&!k(M.left)){M=M.left;continue}if(M.right!==e.SENTINEL&&!k(M.right)){M=M.right;continue}P[B++]=M,I(M,!0)}return I(D.root,!1),P}function f(D,M,P,B){let W=D.root,V=0,A=0,Q=0;const J=[];let H=0;for(;W!==e.SENTINEL;){if(k(W)){I(W.left,!1),I(W.right,!1),W===W.parent.right&&(V-=W.parent.delta),W=W.parent;continue}if(W.left!==e.SENTINEL&&!k(W.left)){W=W.left;continue}A=V+W.start,Q=V+W.end,W.setCachedOffsets(A,Q,B);let q=!0;if(M&&W.ownerId&&W.ownerId!==M&&(q=!1),P&&L(W)&&(q=!1),q&&(J[H++]=W),I(W,!0),W.right!==e.SENTINEL&&!k(W.right)){V+=W.delta,W=W.right;continue}}return I(D.root,!1),J}function p(D,M,P,B,W,V){let A=D.root,Q=0,J=0,H=0,q=0;const Z=[];let ie=0;for(;A!==e.SENTINEL;){if(k(A)){I(A.left,!1),I(A.right,!1),A===A.parent.right&&(Q-=A.parent.delta),A=A.parent;continue}if(!k(A.left)){if(J=Q+A.maxEnd,J<M){I(A,!0);continue}if(A.left!==e.SENTINEL){A=A.left;continue}}if(H=Q+A.start,H>P){I(A,!0);continue}if(q=Q+A.end,q>=M){A.setCachedOffsets(H,q,V);let Y=!0;B&&A.ownerId&&A.ownerId!==B&&(Y=!1),W&&L(A)&&(Y=!1),Y&&(Z[ie++]=A)}if(I(A,!0),A.right!==e.SENTINEL&&!k(A.right)){Q+=A.delta,A=A.right;continue}}return I(D.root,!1),Z}function _(D,M){if(D.root===e.SENTINEL)return M.parent=e.SENTINEL,M.left=e.SENTINEL,M.right=e.SENTINEL,C(M,0),D.root=M,D.root;m(D,M),F(M.parent);let P=M;for(;P!==D.root&&w(P.parent)===1;)if(P.parent===P.parent.parent.left){const B=P.parent.parent.right;w(B)===1?(C(P.parent,0),C(B,0),C(P.parent.parent,1),P=P.parent.parent):(P===P.parent.right&&(P=P.parent,E(D,P)),C(P.parent,0),C(P.parent.parent,1),N(D,P.parent.parent))}else{const B=P.parent.parent.left;w(B)===1?(C(P.parent,0),C(B,0),C(P.parent.parent,1),P=P.parent.parent):(P===P.parent.left&&(P=P.parent,N(D,P)),C(P.parent,0),C(P.parent.parent,1),E(D,P.parent.parent))}return C(D.root,0),M}function m(D,M){let P=0,B=D.root;const W=M.start,V=M.end;for(;;)if(O(W,V,B.start+P,B.end+P)<0)if(B.left===e.SENTINEL){M.start-=P,M.end-=P,M.maxEnd-=P,B.left=M;break}else B=B.left;else if(B.right===e.SENTINEL){M.start-=P+B.delta,M.end-=P+B.delta,M.maxEnd-=P+B.delta,B.right=M;break}else P+=B.delta,B=B.right;M.parent=B,M.left=e.SENTINEL,M.right=e.SENTINEL,C(M,1)}function h(D,M){let P,B;if(M.left===e.SENTINEL?(P=M.right,B=M,P.delta+=M.delta,(P.delta<-1073741824||P.delta>1073741824)&&(D.requestNormalizeDelta=!0),P.start+=M.delta,P.end+=M.delta):M.right===e.SENTINEL?(P=M.left,B=M):(B=S(M.right),P=B.right,P.start+=B.delta,P.end+=B.delta,P.delta+=B.delta,(P.delta<-1073741824||P.delta>1073741824)&&(D.requestNormalizeDelta=!0),B.start+=M.delta,B.end+=M.delta,B.delta=M.delta,(B.delta<-1073741824||B.delta>1073741824)&&(D.requestNormalizeDelta=!0)),B===D.root){D.root=P,C(P,0),M.detach(),y(),R(P),D.root.parent=e.SENTINEL;return}const W=w(B)===1;if(B===B.parent.left?B.parent.left=P:B.parent.right=P,B===M?P.parent=B.parent:(B.parent===M?P.parent=B:P.parent=B.parent,B.left=M.left,B.right=M.right,B.parent=M.parent,C(B,w(M)),M===D.root?D.root=B:M===M.parent.left?M.parent.left=B:M.parent.right=B,B.left!==e.SENTINEL&&(B.left.parent=B),B.right!==e.SENTINEL&&(B.right.parent=B)),M.detach(),W){F(P.parent),B!==M&&(F(B),F(B.parent)),y();return}F(P),F(P.parent),B!==M&&(F(B),F(B.parent));let V;for(;P!==D.root&&w(P)===0;)P===P.parent.left?(V=P.parent.right,w(V)===1&&(C(V,0),C(P.parent,1),E(D,P.parent),V=P.parent.right),w(V.left)===0&&w(V.right)===0?(C(V,1),P=P.parent):(w(V.right)===0&&(C(V.left,0),C(V,1),N(D,V),V=P.parent.right),C(V,w(P.parent)),C(P.parent,0),C(V.right,0),E(D,P.parent),P=D.root)):(V=P.parent.left,w(V)===1&&(C(V,0),C(P.parent,1),N(D,P.parent),V=P.parent.left),w(V.left)===0&&w(V.right)===0?(C(V,1),P=P.parent):(w(V.left)===0&&(C(V.right,0),C(V,1),E(D,V),V=P.parent.left),C(V,w(P.parent)),C(P.parent,0),C(V.left,0),N(D,P.parent),P=D.root));C(P,0),y()}function S(D){for(;D.left!==e.SENTINEL;)D=D.left;return D}function y(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function E(D,M){const P=M.right;P.delta+=M.delta,(P.delta<-1073741824||P.delta>1073741824)&&(D.requestNormalizeDelta=!0),P.start+=M.delta,P.end+=M.delta,M.right=P.left,P.left!==e.SENTINEL&&(P.left.parent=M),P.parent=M.parent,M.parent===e.SENTINEL?D.root=P:M===M.parent.left?M.parent.left=P:M.parent.right=P,P.left=M,M.parent=P,R(M),R(P)}function N(D,M){const P=M.left;M.delta-=P.delta,(M.delta<-1073741824||M.delta>1073741824)&&(D.requestNormalizeDelta=!0),M.start-=P.delta,M.end-=P.delta,M.left=P.right,P.right!==e.SENTINEL&&(P.right.parent=M),P.parent=M.parent,M.parent===e.SENTINEL?D.root=P:M===M.parent.right?M.parent.right=P:M.parent.left=P,P.right=M,M.parent=P,R(M),R(P)}function T(D){let M=D.end;if(D.left!==e.SENTINEL){const P=D.left.maxEnd;P>M&&(M=P)}if(D.right!==e.SENTINEL){const P=D.right.maxEnd+D.delta;P>M&&(M=P)}return M}function R(D){D.maxEnd=T(D)}e.recomputeMaxEnd=R;function F(D){for(;D!==e.SENTINEL;){const M=T(D);if(D.maxEnd===M)return;D.maxEnd=M,D=D.parent}}function O(D,M,P,B){return D===P?M-B:D-P}e.intervalCompare=O}),define(re[426],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomputeTreeMetadata=e.updateTreeMetadata=e.fixInsert=e.rbDelete=e.rightRotate=e.leftRotate=e.resetSentinel=e.calculateLF=e.calculateSize=e.righttest=e.leftest=e.SENTINEL=e.TreeNode=void 0;class w{constructor(l,d){this.piece=l,this.color=d,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return C(this.right);let l=this;for(;l.parent!==e.SENTINEL&&l.parent.left!==l;)l=l.parent;return l.parent===e.SENTINEL?e.SENTINEL:l.parent}prev(){if(this.left!==e.SENTINEL)return k(this.left);let l=this;for(;l.parent!==e.SENTINEL&&l.parent.right!==l;)l=l.parent;return l.parent===e.SENTINEL?e.SENTINEL:l.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=w,e.SENTINEL=new w(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function C(r){for(;r.left!==e.SENTINEL;)r=r.left;return r}e.leftest=C;function k(r){for(;r.right!==e.SENTINEL;)r=r.right;return r}e.righttest=k;function I(r){return r===e.SENTINEL?0:r.size_left+r.piece.length+I(r.right)}e.calculateSize=I;function L(r){return r===e.SENTINEL?0:r.lf_left+r.piece.lineFeedCnt+L(r.right)}e.calculateLF=L;function b(){e.SENTINEL.parent=e.SENTINEL}e.resetSentinel=b;function v(r,l){const d=l.right;d.size_left+=l.size_left+(l.piece?l.piece.length:0),d.lf_left+=l.lf_left+(l.piece?l.piece.lineFeedCnt:0),l.right=d.left,d.left!==e.SENTINEL&&(d.left.parent=l),d.parent=l.parent,l.parent===e.SENTINEL?r.root=d:l.parent.left===l?l.parent.left=d:l.parent.right=d,d.left=l,l.parent=d}e.leftRotate=v;function u(r,l){const d=l.left;l.left=d.right,d.right!==e.SENTINEL&&(d.right.parent=l),d.parent=l.parent,l.size_left-=d.size_left+(d.piece?d.piece.length:0),l.lf_left-=d.lf_left+(d.piece?d.piece.lineFeedCnt:0),l.parent===e.SENTINEL?r.root=d:l===l.parent.right?l.parent.right=d:l.parent.left=d,d.right=l,l.parent=d}e.rightRotate=u;function g(r,l){let d,a;if(l.left===e.SENTINEL?(a=l,d=a.right):l.right===e.SENTINEL?(a=l,d=a.left):(a=C(l.right),d=a.right),a===r.root){r.root=d,d.color=0,l.detach(),b(),r.root.parent=e.SENTINEL;return}const s=a.color===1;if(a===a.parent.left?a.parent.left=d:a.parent.right=d,a===l?(d.parent=a.parent,t(r,d)):(a.parent===l?d.parent=a:d.parent=a.parent,t(r,d),a.left=l.left,a.right=l.right,a.parent=l.parent,a.color=l.color,l===r.root?r.root=a:l===l.parent.left?l.parent.left=a:l.parent.right=a,a.left!==e.SENTINEL&&(a.left.parent=a),a.right!==e.SENTINEL&&(a.right.parent=a),a.size_left=l.size_left,a.lf_left=l.lf_left,t(r,a)),l.detach(),d.parent.left===d){const c=I(d),f=L(d);if(c!==d.parent.size_left||f!==d.parent.lf_left){const p=c-d.parent.size_left,_=f-d.parent.lf_left;d.parent.size_left=c,d.parent.lf_left=f,i(r,d.parent,p,_)}}if(t(r,d.parent),s){b();return}let o;for(;d!==r.root&&d.color===0;)d===d.parent.left?(o=d.parent.right,o.color===1&&(o.color=0,d.parent.color=1,v(r,d.parent),o=d.parent.right),o.left.color===0&&o.right.color===0?(o.color=1,d=d.parent):(o.right.color===0&&(o.left.color=0,o.color=1,u(r,o),o=d.parent.right),o.color=d.parent.color,d.parent.color=0,o.right.color=0,v(r,d.parent),d=r.root)):(o=d.parent.left,o.color===1&&(o.color=0,d.parent.color=1,u(r,d.parent),o=d.parent.left),o.left.color===0&&o.right.color===0?(o.color=1,d=d.parent):(o.left.color===0&&(o.right.color=0,o.color=1,v(r,o),o=d.parent.left),o.color=d.parent.color,d.parent.color=0,o.left.color=0,u(r,d.parent),d=r.root));d.color=0,b()}e.rbDelete=g;function n(r,l){for(t(r,l);l!==r.root&&l.parent.color===1;)if(l.parent===l.parent.parent.left){const d=l.parent.parent.right;d.color===1?(l.parent.color=0,d.color=0,l.parent.parent.color=1,l=l.parent.parent):(l===l.parent.right&&(l=l.parent,v(r,l)),l.parent.color=0,l.parent.parent.color=1,u(r,l.parent.parent))}else{const d=l.parent.parent.left;d.color===1?(l.parent.color=0,d.color=0,l.parent.parent.color=1,l=l.parent.parent):(l===l.parent.left&&(l=l.parent,u(r,l)),l.parent.color=0,l.parent.parent.color=1,v(r,l.parent.parent))}r.root.color=0}e.fixInsert=n;function i(r,l,d,a){for(;l!==r.root&&l!==e.SENTINEL;)l.parent.left===l&&(l.parent.size_left+=d,l.parent.lf_left+=a),l=l.parent}e.updateTreeMetadata=i;function t(r,l){let d=0,a=0;if(l!==r.root){for(;l!==r.root&&l===l.parent.right;)l=l.parent;if(l!==r.root)for(l=l.parent,d=I(l.left)-l.size_left,a=L(l.left)-l.lf_left,l.size_left+=d,l.lf_left+=a;l!==r.root&&(d!==0||a!==0);)l.parent.left===l&&(l.parent.size_left+=d,l.parent.lf_left+=a),l=l.parent}}e.recomputeTreeMetadata=t}),define(re[238],ae([1,0,18,148]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumIndexOfResult=e.ConstantTimePrefixSumComputer=e.PrefixSumComputer=void 0;class k{constructor(v){this.values=v,this.prefixSum=new Uint32Array(v.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(v,u){v=(0,C.toUint32)(v);const g=this.values,n=this.prefixSum,i=u.length;return i===0?!1:(this.values=new Uint32Array(g.length+i),this.values.set(g.subarray(0,v),0),this.values.set(g.subarray(v),v+i),this.values.set(u,v),v-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=v-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(v,u){return v=(0,C.toUint32)(v),u=(0,C.toUint32)(u),this.values[v]===u?!1:(this.values[v]=u,v-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=v-1),!0)}removeValues(v,u){v=(0,C.toUint32)(v),u=(0,C.toUint32)(u);const g=this.values,n=this.prefixSum;if(v>=g.length)return!1;const i=g.length-v;return u>=i&&(u=i),u===0?!1:(this.values=new Uint32Array(g.length-u),this.values.set(g.subarray(0,v),0),this.values.set(g.subarray(v+u),v),this.prefixSum=new Uint32Array(this.values.length),v-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=v-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(v){return v<0?0:(v=(0,C.toUint32)(v),this._getPrefixSum(v))}_getPrefixSum(v){if(v<=this.prefixSumValidIndex[0])return this.prefixSum[v];let u=this.prefixSumValidIndex[0]+1;u===0&&(this.prefixSum[0]=this.values[0],u++),v>=this.values.length&&(v=this.values.length-1);for(let g=u;g<=v;g++)this.prefixSum[g]=this.prefixSum[g-1]+this.values[g];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],v),this.prefixSum[v]}getIndexOf(v){v=Math.floor(v),this.getTotalSum();let u=0,g=this.values.length-1,n=0,i=0,t=0;for(;u<=g;)if(n=u+(g-u)/2|0,i=this.prefixSum[n],t=i-this.values[n],v<t)g=n-1;else if(v>=i)u=n+1;else break;return new L(n,v-t)}}e.PrefixSumComputer=k;class I{constructor(v){this._values=v,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(v){return this._ensureValid(),v===0?0:this._prefixSum[v-1]}getIndexOf(v){this._ensureValid();const u=this._indexBySum[v],g=u>0?this._prefixSum[u-1]:0;return new L(u,v-g)}removeValues(v,u){this._values.splice(v,u),this._invalidate(v)}insertValues(v,u){this._values=(0,w.arrayInsert)(this._values,v,u),this._invalidate(v)}_invalidate(v){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,v-1)}_ensureValid(){if(!this._isValid){for(let v=this._validEndIndex+1,u=this._values.length;v<u;v++){const g=this._values[v],n=v>0?this._prefixSum[v-1]:0;this._prefixSum[v]=n+g;for(let i=0;i<g;i++)this._indexBySum[n+i]=v}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(v,u){this._values[v]!==u&&(this._values[v]=u,this._invalidate(v))}}e.ConstantTimePrefixSumComputer=I;class L{constructor(v,u){this.index=v,this.remainder=u,this._prefixSumIndexOfResultBrand=void 0,this.index=v,this.remainder=u}}e.PrefixSumIndexOfResult=L}),define(re[427],ae([1,0,8,11,238]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class I{constructor(b,v,u,g){this._uri=b,this._lines=v,this._eol=u,this._versionId=g,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(b){b.eol&&b.eol!==this._eol&&(this._eol=b.eol,this._lineStarts=null);const v=b.changes;for(const u of v)this._acceptDeleteRange(u.range),this._acceptInsertText(new C.Position(u.range.startLineNumber,u.range.startColumn),u.text);this._versionId=b.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const b=this._eol.length,v=this._lines.length,u=new Uint32Array(v);for(let g=0;g<v;g++)u[g]=this._lines[g].length+b;this._lineStarts=new k.PrefixSumComputer(u)}}_setLineText(b,v){this._lines[b]=v,this._lineStarts&&this._lineStarts.setValue(b,this._lines[b].length+this._eol.length)}_acceptDeleteRange(b){if(b.startLineNumber===b.endLineNumber){if(b.startColumn===b.endColumn)return;this._setLineText(b.startLineNumber-1,this._lines[b.startLineNumber-1].substring(0,b.startColumn-1)+this._lines[b.startLineNumber-1].substring(b.endColumn-1));return}this._setLineText(b.startLineNumber-1,this._lines[b.startLineNumber-1].substring(0,b.startColumn-1)+this._lines[b.endLineNumber-1].substring(b.endColumn-1)),this._lines.splice(b.startLineNumber,b.endLineNumber-b.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(b.startLineNumber,b.endLineNumber-b.startLineNumber)}_acceptInsertText(b,v){if(v.length===0)return;const u=(0,w.splitLines)(v);if(u.length===1){this._setLineText(b.lineNumber-1,this._lines[b.lineNumber-1].substring(0,b.column-1)+u[0]+this._lines[b.lineNumber-1].substring(b.column-1));return}u[u.length-1]+=this._lines[b.lineNumber-1].substring(b.column-1),this._setLineText(b.lineNumber-1,this._lines[b.lineNumber-1].substring(0,b.column-1)+u[0]);const g=new Uint32Array(u.length-1);for(let n=1;n<u.length;n++)this._lines.splice(b.lineNumber+n-1,0,u[n]),g[n-1]=u[n].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(b.lineNumber,g)}}e.MirrorTextModel=I}),define(re[239],ae([1,0,2]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelPart=void 0;class C extends w.Disposable{constructor(){super(...arguments);this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}e.TextModelPart=C}),define(re[158],ae([1,0,8,127,11,3,46]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.isValidMatch=e.TextModelSearch=e.createFindMatch=e.isMultilineRegexSource=e.SearchParams=void 0;const b=999;class v{constructor(s,o,c,f){this.searchString=s,this.isRegex=o,this.matchCase=c,this.wordSeparators=f}parseSearchRequest(){if(this.searchString==="")return null;let s;this.isRegex?s=u(this.searchString):s=this.searchString.indexOf(`
`)>=0;let o=null;try{o=w.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:s,global:!0,unicode:!0})}catch{return null}if(!o)return null;let c=!this.isRegex&&!s;return c&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(c=this.matchCase),new L.SearchData(o,this.wordSeparators?(0,C.getMapForWordSeparators)(this.wordSeparators):null,c?this.searchString:null)}}e.SearchParams=v;function u(a){if(!a||a.length===0)return!1;for(let s=0,o=a.length;s<o;s++){const c=a.charCodeAt(s);if(c===10)return!0;if(c===92){if(s++,s>=o)break;const f=a.charCodeAt(s);if(f===110||f===114||f===87)return!0}}return!1}e.isMultilineRegexSource=u;function g(a,s,o){if(!o)return new L.FindMatch(a,null);const c=[];for(let f=0,p=s.length;f<p;f++)c[f]=s[f];return new L.FindMatch(a,c)}e.createFindMatch=g;class n{constructor(s){const o=[];let c=0;for(let f=0,p=s.length;f<p;f++)s.charCodeAt(f)===10&&(o[c++]=f);this._lineFeedsOffsets=o}findLineFeedCountBeforeOffset(s){const o=this._lineFeedsOffsets;let c=0,f=o.length-1;if(f===-1||s<=o[0])return 0;for(;c<f;){const p=c+((f-c)/2>>0);o[p]>=s?f=p-1:o[p+1]>=s?(c=p,f=p):c=p+1}return c+1}}class i{static findMatches(s,o,c,f,p){const _=o.parseSearchRequest();return _?_.regex.multiline?this._doFindMatchesMultiline(s,c,new d(_.wordSeparators,_.regex),f,p):this._doFindMatchesLineByLine(s,c,_,f,p):[]}static _getMultilineMatchRange(s,o,c,f,p,_){let m,h=0;f?(h=f.findLineFeedCountBeforeOffset(p),m=o+p+h):m=o+p;let S;if(f){const T=f.findLineFeedCountBeforeOffset(p+_.length)-h;S=m+_.length+T}else S=m+_.length;const y=s.getPositionAt(m),E=s.getPositionAt(S);return new I.Range(y.lineNumber,y.column,E.lineNumber,E.column)}static _doFindMatchesMultiline(s,o,c,f,p){const _=s.getOffsetAt(o.getStartPosition()),m=s.getValueInRange(o,1),h=s.getEOL()===`\r
`?new n(m):null,S=[];let y=0,E;for(c.reset(0);E=c.next(m);)if(S[y++]=g(this._getMultilineMatchRange(s,_,m,h,E.index,E[0]),E,f),y>=p)return S;return S}static _doFindMatchesLineByLine(s,o,c,f,p){const _=[];let m=0;if(o.startLineNumber===o.endLineNumber){const S=s.getLineContent(o.startLineNumber).substring(o.startColumn-1,o.endColumn-1);return m=this._findMatchesInLine(c,S,o.startLineNumber,o.startColumn-1,m,_,f,p),_}const h=s.getLineContent(o.startLineNumber).substring(o.startColumn-1);m=this._findMatchesInLine(c,h,o.startLineNumber,o.startColumn-1,m,_,f,p);for(let S=o.startLineNumber+1;S<o.endLineNumber&&m<p;S++)m=this._findMatchesInLine(c,s.getLineContent(S),S,0,m,_,f,p);if(m<p){const S=s.getLineContent(o.endLineNumber).substring(0,o.endColumn-1);m=this._findMatchesInLine(c,S,o.endLineNumber,0,m,_,f,p)}return _}static _findMatchesInLine(s,o,c,f,p,_,m,h){const S=s.wordSeparators;if(!m&&s.simpleSearch){const N=s.simpleSearch,T=N.length,R=o.length;let F=-T;for(;(F=o.indexOf(N,F+T))!==-1;)if((!S||l(S,o,R,F,T))&&(_[p++]=new L.FindMatch(new I.Range(c,F+1+f,c,F+1+T+f),null),p>=h))return p;return p}const y=new d(s.wordSeparators,s.regex);let E;y.reset(0);do if(E=y.next(o),E&&(_[p++]=g(new I.Range(c,E.index+1+f,c,E.index+1+E[0].length+f),E,m),p>=h))return p;while(E);return p}static findNextMatch(s,o,c,f){const p=o.parseSearchRequest();if(!p)return null;const _=new d(p.wordSeparators,p.regex);return p.regex.multiline?this._doFindNextMatchMultiline(s,c,_,f):this._doFindNextMatchLineByLine(s,c,_,f)}static _doFindNextMatchMultiline(s,o,c,f){const p=new k.Position(o.lineNumber,1),_=s.getOffsetAt(p),m=s.getLineCount(),h=s.getValueInRange(new I.Range(p.lineNumber,p.column,m,s.getLineMaxColumn(m)),1),S=s.getEOL()===`\r
`?new n(h):null;c.reset(o.column-1);const y=c.next(h);return y?g(this._getMultilineMatchRange(s,_,h,S,y.index,y[0]),y,f):o.lineNumber!==1||o.column!==1?this._doFindNextMatchMultiline(s,new k.Position(1,1),c,f):null}static _doFindNextMatchLineByLine(s,o,c,f){const p=s.getLineCount(),_=o.lineNumber,m=s.getLineContent(_),h=this._findFirstMatchInLine(c,m,_,o.column,f);if(h)return h;for(let S=1;S<=p;S++){const y=(_+S-1)%p,E=s.getLineContent(y+1),N=this._findFirstMatchInLine(c,E,y+1,1,f);if(N)return N}return null}static _findFirstMatchInLine(s,o,c,f,p){s.reset(f-1);const _=s.next(o);return _?g(new I.Range(c,_.index+1,c,_.index+1+_[0].length),_,p):null}static findPreviousMatch(s,o,c,f){const p=o.parseSearchRequest();if(!p)return null;const _=new d(p.wordSeparators,p.regex);return p.regex.multiline?this._doFindPreviousMatchMultiline(s,c,_,f):this._doFindPreviousMatchLineByLine(s,c,_,f)}static _doFindPreviousMatchMultiline(s,o,c,f){const p=this._doFindMatchesMultiline(s,new I.Range(1,1,o.lineNumber,o.column),c,f,10*b);if(p.length>0)return p[p.length-1];const _=s.getLineCount();return o.lineNumber!==_||o.column!==s.getLineMaxColumn(_)?this._doFindPreviousMatchMultiline(s,new k.Position(_,s.getLineMaxColumn(_)),c,f):null}static _doFindPreviousMatchLineByLine(s,o,c,f){const p=s.getLineCount(),_=o.lineNumber,m=s.getLineContent(_).substring(0,o.column-1),h=this._findLastMatchInLine(c,m,_,f);if(h)return h;for(let S=1;S<=p;S++){const y=(p+_-S-1)%p,E=s.getLineContent(y+1),N=this._findLastMatchInLine(c,E,y+1,f);if(N)return N}return null}static _findLastMatchInLine(s,o,c,f){let p=null,_;for(s.reset(0);_=s.next(o);)p=g(new I.Range(c,_.index+1,c,_.index+1+_[0].length),_,f);return p}}e.TextModelSearch=i;function t(a,s,o,c,f){if(c===0)return!0;const p=s.charCodeAt(c-1);if(a.get(p)!==0||p===13||p===10)return!0;if(f>0){const _=s.charCodeAt(c);if(a.get(_)!==0)return!0}return!1}function r(a,s,o,c,f){if(c+f===o)return!0;const p=s.charCodeAt(c+f);if(a.get(p)!==0||p===13||p===10)return!0;if(f>0){const _=s.charCodeAt(c+f-1);if(a.get(_)!==0)return!0}return!1}function l(a,s,o,c,f){return t(a,s,o,c,f)&&r(a,s,o,c,f)}e.isValidMatch=l;class d{constructor(s,o){this._wordSeparators=s,this._searchRegex=o,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(s){this._searchRegex.lastIndex=s,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(s){const o=s.length;let c;do{if(this._prevMatchStartIndex+this._prevMatchLength===o||(c=this._searchRegex.exec(s),!c))return null;const f=c.index,p=c[0].length;if(f===this._prevMatchStartIndex&&p===this._prevMatchLength){if(p===0){w.getNextCodePoint(s,o,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=f,this._prevMatchLength=p,!this._wordSeparators||l(this._wordSeparators,s,o,f,p))return c}while(c);return null}}e.Searcher=d}),define(re[240],ae([1,0,11,3,46,426,158]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=e.createLineStarts=e.createLineStartsFast=e.LineStarts=e.createUintArray=e.AverageBufferSize=void 0,e.AverageBufferSize=65535;function b(d){let a;return d[d.length-1]<65536?a=new Uint16Array(d.length):a=new Uint32Array(d.length),a.set(d,0),a}e.createUintArray=b;class v{constructor(a,s,o,c,f){this.lineStarts=a,this.cr=s,this.lf=o,this.crlf=c,this.isBasicASCII=f}}e.LineStarts=v;function u(d,a=!0){const s=[0];let o=1;for(let c=0,f=d.length;c<f;c++){const p=d.charCodeAt(c);p===13?c+1<f&&d.charCodeAt(c+1)===10?(s[o++]=c+2,c++):s[o++]=c+1:p===10&&(s[o++]=c+1)}return a?b(s):s}e.createLineStartsFast=u;function g(d,a){d.length=0,d[0]=0;let s=1,o=0,c=0,f=0,p=!0;for(let m=0,h=a.length;m<h;m++){const S=a.charCodeAt(m);S===13?m+1<h&&a.charCodeAt(m+1)===10?(f++,d[s++]=m+2,m++):(o++,d[s++]=m+1):S===10?(c++,d[s++]=m+1):p&&S!==9&&(S<32||S>126)&&(p=!1)}const _=new v(b(d),o,c,f,p);return d.length=0,_}e.createLineStarts=g;class n{constructor(a,s,o,c,f){this.bufferIndex=a,this.start=s,this.end=o,this.lineFeedCnt=c,this.length=f}}e.Piece=n;class i{constructor(a,s){this.buffer=a,this.lineStarts=s}}e.StringBuffer=i;class t{constructor(a,s){this._pieces=[],this._tree=a,this._BOM=s,this._index=0,a.root!==I.SENTINEL&&a.iterate(a.root,o=>(o!==I.SENTINEL&&this._pieces.push(o.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class r{constructor(a){this._limit=a,this._cache=[]}get(a){for(let s=this._cache.length-1;s>=0;s--){const o=this._cache[s];if(o.nodeStartOffset<=a&&o.nodeStartOffset+o.node.piece.length>=a)return o}return null}get2(a){for(let s=this._cache.length-1;s>=0;s--){const o=this._cache[s];if(o.nodeStartLineNumber&&o.nodeStartLineNumber<a&&o.nodeStartLineNumber+o.node.piece.lineFeedCnt>=a)return o}return null}set(a){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(a)}validate(a){let s=!1;const o=this._cache;for(let c=0;c<o.length;c++){const f=o[c];if(f.node.parent===null||f.nodeStartOffset>=a){o[c]=null,s=!0;continue}}if(s){const c=[];for(const f of o)f!==null&&c.push(f);this._cache=c}}}class l{constructor(a,s,o){this.create(a,s,o)}create(a,s,o){this._buffers=[new i("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=I.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=s,this._EOLLength=s.length,this._EOLNormalized=o;let c=null;for(let f=0,p=a.length;f<p;f++)if(a[f].buffer.length>0){a[f].lineStarts||(a[f].lineStarts=u(a[f].buffer));const _=new n(f+1,{line:0,column:0},{line:a[f].lineStarts.length-1,column:a[f].buffer.length-a[f].lineStarts[a[f].lineStarts.length-1]},a[f].lineStarts.length-1,a[f].buffer.length);this._buffers.push(a[f]),c=this.rbInsertRight(c,_)}this._searchCache=new r(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(a){const s=e.AverageBufferSize,o=s-Math.floor(s/3),c=o*2;let f="",p=0;const _=[];if(this.iterate(this.root,m=>{const h=this.getNodeContent(m),S=h.length;if(p<=o||p+S<c)return f+=h,p+=S,!0;const y=f.replace(/\r\n|\r|\n/g,a);return _.push(new i(y,u(y))),f=h,p=S,!0}),p>0){const m=f.replace(/\r\n|\r|\n/g,a);_.push(new i(m,u(m)))}this.create(_,a,!0)}getEOL(){return this._EOL}setEOL(a){this._EOL=a,this._EOLLength=this._EOL.length,this.normalizeEOL(a)}createSnapshot(a){return new t(this,a)}getOffsetAt(a,s){let o=0,c=this.root;for(;c!==I.SENTINEL;)if(c.left!==I.SENTINEL&&c.lf_left+1>=a)c=c.left;else{if(c.lf_left+c.piece.lineFeedCnt+1>=a)return o+=c.size_left,o+=this.getAccumulatedValue(c,a-c.lf_left-2)+s-1;a-=c.lf_left+c.piece.lineFeedCnt,o+=c.size_left+c.piece.length,c=c.right}return o}getPositionAt(a){a=Math.floor(a),a=Math.max(0,a);let s=this.root,o=0;const c=a;for(;s!==I.SENTINEL;)if(s.size_left!==0&&s.size_left>=a)s=s.left;else if(s.size_left+s.piece.length>=a){const f=this.getIndexOf(s,a-s.size_left);if(o+=s.lf_left+f.index,f.index===0){const p=this.getOffsetAt(o+1,1),_=c-p;return new w.Position(o+1,_+1)}return new w.Position(o+1,f.remainder+1)}else if(a-=s.size_left+s.piece.length,o+=s.lf_left+s.piece.lineFeedCnt,s.right===I.SENTINEL){const f=this.getOffsetAt(o+1,1),p=c-a-f;return new w.Position(o+1,p+1)}else s=s.right;return new w.Position(1,1)}getValueInRange(a,s){if(a.startLineNumber===a.endLineNumber&&a.startColumn===a.endColumn)return"";const o=this.nodeAt2(a.startLineNumber,a.startColumn),c=this.nodeAt2(a.endLineNumber,a.endColumn),f=this.getValueInRange2(o,c);return s?s!==this._EOL||!this._EOLNormalized?f.replace(/\r\n|\r|\n/g,s):s===this.getEOL()&&this._EOLNormalized?f:f.replace(/\r\n|\r|\n/g,s):f}getValueInRange2(a,s){if(a.node===s.node){const _=a.node,m=this._buffers[_.piece.bufferIndex].buffer,h=this.offsetInBuffer(_.piece.bufferIndex,_.piece.start);return m.substring(h+a.remainder,h+s.remainder)}let o=a.node;const c=this._buffers[o.piece.bufferIndex].buffer,f=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);let p=c.substring(f+a.remainder,f+o.piece.length);for(o=o.next();o!==I.SENTINEL;){const _=this._buffers[o.piece.bufferIndex].buffer,m=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);if(o===s.node){p+=_.substring(m,m+s.remainder);break}else p+=_.substr(m,o.piece.length);o=o.next()}return p}getLinesContent(){const a=[];let s=0,o="",c=!1;return this.iterate(this.root,f=>{if(f===I.SENTINEL)return!0;const p=f.piece;let _=p.length;if(_===0)return!0;const m=this._buffers[p.bufferIndex].buffer,h=this._buffers[p.bufferIndex].lineStarts,S=p.start.line,y=p.end.line;let E=h[S]+p.start.column;if(c&&(m.charCodeAt(E)===10&&(E++,_--),a[s++]=o,o="",c=!1,_===0))return!0;if(S===y)return!this._EOLNormalized&&m.charCodeAt(E+_-1)===13?(c=!0,o+=m.substr(E,_-1)):o+=m.substr(E,_),!0;o+=this._EOLNormalized?m.substring(E,Math.max(E,h[S+1]-this._EOLLength)):m.substring(E,h[S+1]).replace(/(\r\n|\r|\n)$/,""),a[s++]=o;for(let N=S+1;N<y;N++)o=this._EOLNormalized?m.substring(h[N],h[N+1]-this._EOLLength):m.substring(h[N],h[N+1]).replace(/(\r\n|\r|\n)$/,""),a[s++]=o;return!this._EOLNormalized&&m.charCodeAt(h[y]+p.end.column-1)===13?(c=!0,p.end.column===0?s--:o=m.substr(h[y],p.end.column-1)):o=m.substr(h[y],p.end.column),!0}),c&&(a[s++]=o,o=""),a[s++]=o,a}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(a){return this._lastVisitedLine.lineNumber===a?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=a,a===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(a):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(a,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(a).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(a){if(a.remainder===a.node.piece.length){const s=a.node.next();if(!s)return 0;const o=this._buffers[s.piece.bufferIndex],c=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);return o.buffer.charCodeAt(c)}else{const s=this._buffers[a.node.piece.bufferIndex],c=this.offsetInBuffer(a.node.piece.bufferIndex,a.node.piece.start)+a.remainder;return s.buffer.charCodeAt(c)}}getLineCharCode(a,s){const o=this.nodeAt2(a,s+1);return this._getCharCode(o)}getLineLength(a){if(a===this.getLineCount()){const s=this.getOffsetAt(a,1);return this.getLength()-s}return this.getOffsetAt(a+1,1)-this.getOffsetAt(a,1)-this._EOLLength}findMatchesInNode(a,s,o,c,f,p,_,m,h,S,y){const E=this._buffers[a.piece.bufferIndex],N=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start),T=this.offsetInBuffer(a.piece.bufferIndex,f),R=this.offsetInBuffer(a.piece.bufferIndex,p);let F;const O={line:0,column:0};let D,M;s._wordSeparators?(D=E.buffer.substring(T,R),M=P=>P+T,s.reset(0)):(D=E.buffer,M=P=>P,s.reset(T));do if(F=s.next(D),F){if(M(F.index)>=R)return S;this.positionInBuffer(a,M(F.index)-N,O);const P=this.getLineFeedCnt(a.piece.bufferIndex,f,O),B=O.line===f.line?O.column-f.column+c:O.column+1,W=B+F[0].length;if(y[S++]=(0,L.createFindMatch)(new C.Range(o+P,B,o+P,W),F,m),M(F.index)+F[0].length>=R||S>=h)return S}while(F);return S}findMatchesLineByLine(a,s,o,c){const f=[];let p=0;const _=new L.Searcher(s.wordSeparators,s.regex);let m=this.nodeAt2(a.startLineNumber,a.startColumn);if(m===null)return[];const h=this.nodeAt2(a.endLineNumber,a.endColumn);if(h===null)return[];let S=this.positionInBuffer(m.node,m.remainder);const y=this.positionInBuffer(h.node,h.remainder);if(m.node===h.node)return this.findMatchesInNode(m.node,_,a.startLineNumber,a.startColumn,S,y,s,o,c,p,f),f;let E=a.startLineNumber,N=m.node;for(;N!==h.node;){const R=this.getLineFeedCnt(N.piece.bufferIndex,S,N.piece.end);if(R>=1){const O=this._buffers[N.piece.bufferIndex].lineStarts,D=this.offsetInBuffer(N.piece.bufferIndex,N.piece.start),M=O[S.line+R],P=E===a.startLineNumber?a.startColumn:1;if(p=this.findMatchesInNode(N,_,E,P,S,this.positionInBuffer(N,M-D),s,o,c,p,f),p>=c)return f;E+=R}const F=E===a.startLineNumber?a.startColumn-1:0;if(E===a.endLineNumber){const O=this.getLineContent(E).substring(F,a.endColumn-1);return p=this._findMatchesInLine(s,_,O,a.endLineNumber,F,p,f,o,c),f}if(p=this._findMatchesInLine(s,_,this.getLineContent(E).substr(F),E,F,p,f,o,c),p>=c)return f;E++,m=this.nodeAt2(E,1),N=m.node,S=this.positionInBuffer(m.node,m.remainder)}if(E===a.endLineNumber){const R=E===a.startLineNumber?a.startColumn-1:0,F=this.getLineContent(E).substring(R,a.endColumn-1);return p=this._findMatchesInLine(s,_,F,a.endLineNumber,R,p,f,o,c),f}const T=E===a.startLineNumber?a.startColumn:1;return p=this.findMatchesInNode(h.node,_,E,T,S,y,s,o,c,p,f),f}_findMatchesInLine(a,s,o,c,f,p,_,m,h){const S=a.wordSeparators;if(!m&&a.simpleSearch){const E=a.simpleSearch,N=E.length,T=o.length;let R=-N;for(;(R=o.indexOf(E,R+N))!==-1;)if((!S||(0,L.isValidMatch)(S,o,T,R,N))&&(_[p++]=new k.FindMatch(new C.Range(c,R+1+f,c,R+1+N+f),null),p>=h))return p;return p}let y;s.reset(0);do if(y=s.next(o),y&&(_[p++]=(0,L.createFindMatch)(new C.Range(c,y.index+1+f,c,y.index+1+y[0].length+f),y,m),p>=h))return p;while(y);return p}insert(a,s,o=!1){if(this._EOLNormalized=this._EOLNormalized&&o,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==I.SENTINEL){const{node:c,remainder:f,nodeStartOffset:p}=this.nodeAt(a),_=c.piece,m=_.bufferIndex,h=this.positionInBuffer(c,f);if(c.piece.bufferIndex===0&&_.end.line===this._lastChangeBufferPos.line&&_.end.column===this._lastChangeBufferPos.column&&p+_.length===a&&s.length<e.AverageBufferSize){this.appendToNode(c,s),this.computeBufferMetadata();return}if(p===a)this.insertContentToNodeLeft(s,c),this._searchCache.validate(a);else if(p+c.piece.length>a){const S=[];let y=new n(_.bufferIndex,h,_.end,this.getLineFeedCnt(_.bufferIndex,h,_.end),this.offsetInBuffer(m,_.end)-this.offsetInBuffer(m,h));if(this.shouldCheckCRLF()&&this.endWithCR(s)&&this.nodeCharCodeAt(c,f)===10){const R={line:y.start.line+1,column:0};y=new n(y.bufferIndex,R,y.end,this.getLineFeedCnt(y.bufferIndex,R,y.end),y.length-1),s+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(s))if(this.nodeCharCodeAt(c,f-1)===13){const R=this.positionInBuffer(c,f-1);this.deleteNodeTail(c,R),s="\r"+s,c.piece.length===0&&S.push(c)}else this.deleteNodeTail(c,h);else this.deleteNodeTail(c,h);const E=this.createNewPieces(s);y.length>0&&this.rbInsertRight(c,y);let N=c;for(let T=0;T<E.length;T++)N=this.rbInsertRight(N,E[T]);this.deleteNodes(S)}else this.insertContentToNodeRight(s,c)}else{const c=this.createNewPieces(s);let f=this.rbInsertLeft(null,c[0]);for(let p=1;p<c.length;p++)f=this.rbInsertRight(f,c[p])}this.computeBufferMetadata()}delete(a,s){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",s<=0||this.root===I.SENTINEL)return;const o=this.nodeAt(a),c=this.nodeAt(a+s),f=o.node,p=c.node;if(f===p){const E=this.positionInBuffer(f,o.remainder),N=this.positionInBuffer(f,c.remainder);if(o.nodeStartOffset===a){if(s===f.piece.length){const T=f.next();(0,I.rbDelete)(this,f),this.validateCRLFWithPrevNode(T),this.computeBufferMetadata();return}this.deleteNodeHead(f,N),this._searchCache.validate(a),this.validateCRLFWithPrevNode(f),this.computeBufferMetadata();return}if(o.nodeStartOffset+f.piece.length===a+s){this.deleteNodeTail(f,E),this.validateCRLFWithNextNode(f),this.computeBufferMetadata();return}this.shrinkNode(f,E,N),this.computeBufferMetadata();return}const _=[],m=this.positionInBuffer(f,o.remainder);this.deleteNodeTail(f,m),this._searchCache.validate(a),f.piece.length===0&&_.push(f);const h=this.positionInBuffer(p,c.remainder);this.deleteNodeHead(p,h),p.piece.length===0&&_.push(p);const S=f.next();for(let E=S;E!==I.SENTINEL&&E!==p;E=E.next())_.push(E);const y=f.piece.length===0?f.prev():f;this.deleteNodes(_),this.validateCRLFWithNextNode(y),this.computeBufferMetadata()}insertContentToNodeLeft(a,s){const o=[];if(this.shouldCheckCRLF()&&this.endWithCR(a)&&this.startWithLF(s)){const p=s.piece,_={line:p.start.line+1,column:0},m=new n(p.bufferIndex,_,p.end,this.getLineFeedCnt(p.bufferIndex,_,p.end),p.length-1);s.piece=m,a+=`
`,(0,I.updateTreeMetadata)(this,s,-1,-1),s.piece.length===0&&o.push(s)}const c=this.createNewPieces(a);let f=this.rbInsertLeft(s,c[c.length-1]);for(let p=c.length-2;p>=0;p--)f=this.rbInsertLeft(f,c[p]);this.validateCRLFWithPrevNode(f),this.deleteNodes(o)}insertContentToNodeRight(a,s){this.adjustCarriageReturnFromNext(a,s)&&(a+=`
`);const o=this.createNewPieces(a),c=this.rbInsertRight(s,o[0]);let f=c;for(let p=1;p<o.length;p++)f=this.rbInsertRight(f,o[p]);this.validateCRLFWithPrevNode(c)}positionInBuffer(a,s,o){const c=a.piece,f=a.piece.bufferIndex,p=this._buffers[f].lineStarts,m=p[c.start.line]+c.start.column+s;let h=c.start.line,S=c.end.line,y=0,E=0,N=0;for(;h<=S&&(y=h+(S-h)/2|0,N=p[y],y!==S);)if(E=p[y+1],m<N)S=y-1;else if(m>=E)h=y+1;else break;return o?(o.line=y,o.column=m-N,null):{line:y,column:m-N}}getLineFeedCnt(a,s,o){if(o.column===0)return o.line-s.line;const c=this._buffers[a].lineStarts;if(o.line===c.length-1)return o.line-s.line;const f=c[o.line+1],p=c[o.line]+o.column;if(f>p+1)return o.line-s.line;const _=p-1;return this._buffers[a].buffer.charCodeAt(_)===13?o.line-s.line+1:o.line-s.line}offsetInBuffer(a,s){return this._buffers[a].lineStarts[s.line]+s.column}deleteNodes(a){for(let s=0;s<a.length;s++)(0,I.rbDelete)(this,a[s])}createNewPieces(a){if(a.length>e.AverageBufferSize){const S=[];for(;a.length>e.AverageBufferSize;){const E=a.charCodeAt(e.AverageBufferSize-1);let N;E===13||E>=55296&&E<=56319?(N=a.substring(0,e.AverageBufferSize-1),a=a.substring(e.AverageBufferSize-1)):(N=a.substring(0,e.AverageBufferSize),a=a.substring(e.AverageBufferSize));const T=u(N);S.push(new n(this._buffers.length,{line:0,column:0},{line:T.length-1,column:N.length-T[T.length-1]},T.length-1,N.length)),this._buffers.push(new i(N,T))}const y=u(a);return S.push(new n(this._buffers.length,{line:0,column:0},{line:y.length-1,column:a.length-y[y.length-1]},y.length-1,a.length)),this._buffers.push(new i(a,y)),S}let s=this._buffers[0].buffer.length;const o=u(a,!1);let c=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===s&&s!==0&&this.startWithLF(a)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},c=this._lastChangeBufferPos;for(let S=0;S<o.length;S++)o[S]+=s+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1)),this._buffers[0].buffer+="_"+a,s+=1}else{if(s!==0)for(let S=0;S<o.length;S++)o[S]+=s;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1)),this._buffers[0].buffer+=a}const f=this._buffers[0].buffer.length,p=this._buffers[0].lineStarts.length-1,_=f-this._buffers[0].lineStarts[p],m={line:p,column:_},h=new n(0,c,m,this.getLineFeedCnt(0,c,m),f-s);return this._lastChangeBufferPos=m,[h]}getLineRawContent(a,s=0){let o=this.root,c="";const f=this._searchCache.get2(a);if(f){o=f.node;const p=this.getAccumulatedValue(o,a-f.nodeStartLineNumber-1),_=this._buffers[o.piece.bufferIndex].buffer,m=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);if(f.nodeStartLineNumber+o.piece.lineFeedCnt===a)c=_.substring(m+p,m+o.piece.length);else{const h=this.getAccumulatedValue(o,a-f.nodeStartLineNumber);return _.substring(m+p,m+h-s)}}else{let p=0;const _=a;for(;o!==I.SENTINEL;)if(o.left!==I.SENTINEL&&o.lf_left>=a-1)o=o.left;else if(o.lf_left+o.piece.lineFeedCnt>a-1){const m=this.getAccumulatedValue(o,a-o.lf_left-2),h=this.getAccumulatedValue(o,a-o.lf_left-1),S=this._buffers[o.piece.bufferIndex].buffer,y=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);return p+=o.size_left,this._searchCache.set({node:o,nodeStartOffset:p,nodeStartLineNumber:_-(a-1-o.lf_left)}),S.substring(y+m,y+h-s)}else if(o.lf_left+o.piece.lineFeedCnt===a-1){const m=this.getAccumulatedValue(o,a-o.lf_left-2),h=this._buffers[o.piece.bufferIndex].buffer,S=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);c=h.substring(S+m,S+o.piece.length);break}else a-=o.lf_left+o.piece.lineFeedCnt,p+=o.size_left+o.piece.length,o=o.right}for(o=o.next();o!==I.SENTINEL;){const p=this._buffers[o.piece.bufferIndex].buffer;if(o.piece.lineFeedCnt>0){const _=this.getAccumulatedValue(o,0),m=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);return c+=p.substring(m,m+_-s),c}else{const _=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);c+=p.substr(_,o.piece.length)}o=o.next()}return c}computeBufferMetadata(){let a=this.root,s=1,o=0;for(;a!==I.SENTINEL;)s+=a.lf_left+a.piece.lineFeedCnt,o+=a.size_left+a.piece.length,a=a.right;this._lineCnt=s,this._length=o,this._searchCache.validate(this._length)}getIndexOf(a,s){const o=a.piece,c=this.positionInBuffer(a,s),f=c.line-o.start.line;if(this.offsetInBuffer(o.bufferIndex,o.end)-this.offsetInBuffer(o.bufferIndex,o.start)===s){const p=this.getLineFeedCnt(a.piece.bufferIndex,o.start,c);if(p!==f)return{index:p,remainder:0}}return{index:f,remainder:c.column}}getAccumulatedValue(a,s){if(s<0)return 0;const o=a.piece,c=this._buffers[o.bufferIndex].lineStarts,f=o.start.line+s+1;return f>o.end.line?c[o.end.line]+o.end.column-c[o.start.line]-o.start.column:c[f]-c[o.start.line]-o.start.column}deleteNodeTail(a,s){const o=a.piece,c=o.lineFeedCnt,f=this.offsetInBuffer(o.bufferIndex,o.end),p=s,_=this.offsetInBuffer(o.bufferIndex,p),m=this.getLineFeedCnt(o.bufferIndex,o.start,p),h=m-c,S=_-f,y=o.length+S;a.piece=new n(o.bufferIndex,o.start,p,m,y),(0,I.updateTreeMetadata)(this,a,S,h)}deleteNodeHead(a,s){const o=a.piece,c=o.lineFeedCnt,f=this.offsetInBuffer(o.bufferIndex,o.start),p=s,_=this.getLineFeedCnt(o.bufferIndex,p,o.end),m=this.offsetInBuffer(o.bufferIndex,p),h=_-c,S=f-m,y=o.length+S;a.piece=new n(o.bufferIndex,p,o.end,_,y),(0,I.updateTreeMetadata)(this,a,S,h)}shrinkNode(a,s,o){const c=a.piece,f=c.start,p=c.end,_=c.length,m=c.lineFeedCnt,h=s,S=this.getLineFeedCnt(c.bufferIndex,c.start,h),y=this.offsetInBuffer(c.bufferIndex,s)-this.offsetInBuffer(c.bufferIndex,f);a.piece=new n(c.bufferIndex,c.start,h,S,y),(0,I.updateTreeMetadata)(this,a,y-_,S-m);const E=new n(c.bufferIndex,o,p,this.getLineFeedCnt(c.bufferIndex,o,p),this.offsetInBuffer(c.bufferIndex,p)-this.offsetInBuffer(c.bufferIndex,o)),N=this.rbInsertRight(a,E);this.validateCRLFWithPrevNode(N)}appendToNode(a,s){this.adjustCarriageReturnFromNext(s,a)&&(s+=`
`);const o=this.shouldCheckCRLF()&&this.startWithLF(s)&&this.endWithCR(a),c=this._buffers[0].buffer.length;this._buffers[0].buffer+=s;const f=u(s,!1);for(let N=0;N<f.length;N++)f[N]+=c;if(o){const N=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:c-N}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(f.slice(1));const p=this._buffers[0].lineStarts.length-1,_=this._buffers[0].buffer.length-this._buffers[0].lineStarts[p],m={line:p,column:_},h=a.piece.length+s.length,S=a.piece.lineFeedCnt,y=this.getLineFeedCnt(0,a.piece.start,m),E=y-S;a.piece=new n(a.piece.bufferIndex,a.piece.start,m,y,h),this._lastChangeBufferPos=m,(0,I.updateTreeMetadata)(this,a,s.length,E)}nodeAt(a){let s=this.root;const o=this._searchCache.get(a);if(o)return{node:o.node,nodeStartOffset:o.nodeStartOffset,remainder:a-o.nodeStartOffset};let c=0;for(;s!==I.SENTINEL;)if(s.size_left>a)s=s.left;else if(s.size_left+s.piece.length>=a){c+=s.size_left;const f={node:s,remainder:a-s.size_left,nodeStartOffset:c};return this._searchCache.set(f),f}else a-=s.size_left+s.piece.length,c+=s.size_left+s.piece.length,s=s.right;return null}nodeAt2(a,s){let o=this.root,c=0;for(;o!==I.SENTINEL;)if(o.left!==I.SENTINEL&&o.lf_left>=a-1)o=o.left;else if(o.lf_left+o.piece.lineFeedCnt>a-1){const f=this.getAccumulatedValue(o,a-o.lf_left-2),p=this.getAccumulatedValue(o,a-o.lf_left-1);return c+=o.size_left,{node:o,remainder:Math.min(f+s-1,p),nodeStartOffset:c}}else if(o.lf_left+o.piece.lineFeedCnt===a-1){const f=this.getAccumulatedValue(o,a-o.lf_left-2);if(f+s-1<=o.piece.length)return{node:o,remainder:f+s-1,nodeStartOffset:c};s-=o.piece.length-f;break}else a-=o.lf_left+o.piece.lineFeedCnt,c+=o.size_left+o.piece.length,o=o.right;for(o=o.next();o!==I.SENTINEL;){if(o.piece.lineFeedCnt>0){const f=this.getAccumulatedValue(o,0),p=this.offsetOfNode(o);return{node:o,remainder:Math.min(s-1,f),nodeStartOffset:p}}else if(o.piece.length>=s-1){const f=this.offsetOfNode(o);return{node:o,remainder:s-1,nodeStartOffset:f}}else s-=o.piece.length;o=o.next()}return null}nodeCharCodeAt(a,s){if(a.piece.lineFeedCnt<1)return-1;const o=this._buffers[a.piece.bufferIndex],c=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start)+s;return o.buffer.charCodeAt(c)}offsetOfNode(a){if(!a)return 0;let s=a.size_left;for(;a!==this.root;)a.parent.right===a&&(s+=a.parent.size_left+a.parent.piece.length),a=a.parent;return s}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(a){if(typeof a=="string")return a.charCodeAt(0)===10;if(a===I.SENTINEL||a.piece.lineFeedCnt===0)return!1;const s=a.piece,o=this._buffers[s.bufferIndex].lineStarts,c=s.start.line,f=o[c]+s.start.column;return c===o.length-1||o[c+1]>f+1?!1:this._buffers[s.bufferIndex].buffer.charCodeAt(f)===10}endWithCR(a){return typeof a=="string"?a.charCodeAt(a.length-1)===13:a===I.SENTINEL||a.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(a,a.piece.length-1)===13}validateCRLFWithPrevNode(a){if(this.shouldCheckCRLF()&&this.startWithLF(a)){const s=a.prev();this.endWithCR(s)&&this.fixCRLF(s,a)}}validateCRLFWithNextNode(a){if(this.shouldCheckCRLF()&&this.endWithCR(a)){const s=a.next();this.startWithLF(s)&&this.fixCRLF(a,s)}}fixCRLF(a,s){const o=[],c=this._buffers[a.piece.bufferIndex].lineStarts;let f;a.piece.end.column===0?f={line:a.piece.end.line-1,column:c[a.piece.end.line]-c[a.piece.end.line-1]-1}:f={line:a.piece.end.line,column:a.piece.end.column-1};const p=a.piece.length-1,_=a.piece.lineFeedCnt-1;a.piece=new n(a.piece.bufferIndex,a.piece.start,f,_,p),(0,I.updateTreeMetadata)(this,a,-1,-1),a.piece.length===0&&o.push(a);const m={line:s.piece.start.line+1,column:0},h=s.piece.length-1,S=this.getLineFeedCnt(s.piece.bufferIndex,m,s.piece.end);s.piece=new n(s.piece.bufferIndex,m,s.piece.end,S,h),(0,I.updateTreeMetadata)(this,s,-1,-1),s.piece.length===0&&o.push(s);const y=this.createNewPieces(`\r
`);this.rbInsertRight(a,y[0]);for(let E=0;E<o.length;E++)(0,I.rbDelete)(this,o[E])}adjustCarriageReturnFromNext(a,s){if(this.shouldCheckCRLF()&&this.endWithCR(a)){const o=s.next();if(this.startWithLF(o)){if(a+=`
`,o.piece.length===1)(0,I.rbDelete)(this,o);else{const c=o.piece,f={line:c.start.line+1,column:0},p=c.length-1,_=this.getLineFeedCnt(c.bufferIndex,f,c.end);o.piece=new n(c.bufferIndex,f,c.end,_,p),(0,I.updateTreeMetadata)(this,o,-1,-1)}return!0}}return!1}iterate(a,s){if(a===I.SENTINEL)return s(I.SENTINEL);const o=this.iterate(a.left,s);return o&&s(a)&&this.iterate(a.right,s)}getNodeContent(a){if(a===I.SENTINEL)return"";const s=this._buffers[a.piece.bufferIndex],o=a.piece,c=this.offsetInBuffer(o.bufferIndex,o.start),f=this.offsetInBuffer(o.bufferIndex,o.end);return s.buffer.substring(c,f)}getPieceContent(a){const s=this._buffers[a.bufferIndex],o=this.offsetInBuffer(a.bufferIndex,a.start),c=this.offsetInBuffer(a.bufferIndex,a.end);return s.buffer.substring(o,c)}rbInsertRight(a,s){const o=new I.TreeNode(s,1);if(o.left=I.SENTINEL,o.right=I.SENTINEL,o.parent=I.SENTINEL,o.size_left=0,o.lf_left=0,this.root===I.SENTINEL)this.root=o,o.color=0;else if(a.right===I.SENTINEL)a.right=o,o.parent=a;else{const f=(0,I.leftest)(a.right);f.left=o,o.parent=f}return(0,I.fixInsert)(this,o),o}rbInsertLeft(a,s){const o=new I.TreeNode(s,1);if(o.left=I.SENTINEL,o.right=I.SENTINEL,o.parent=I.SENTINEL,o.size_left=0,o.lf_left=0,this.root===I.SENTINEL)this.root=o,o.color=0;else if(a.left===I.SENTINEL)a.left=o,o.parent=a;else{const c=(0,I.righttest)(a.left);c.right=o,o.parent=c}return(0,I.fixInsert)(this,o),o}}e.PieceTreeBase=l}),define(re[184],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeIndentLevel=void 0;function w(C,k){let I=0,L=0;const b=C.length;for(;L<b;){const v=C.charCodeAt(L);if(v===32)I++;else if(v===9)I=I-I%k+k;else break;L++}return L===b?-1:I}e.computeIndentLevel=w}),define(re[241],ae([1,0,19,11,46]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutputPosition=e.InjectedText=e.ModelLineProjectionData=void 0;class I{constructor(n,i,t,r,l){this.injectionOffsets=n,this.injectionOptions=i,this.breakOffsets=t,this.breakOffsetsVisibleColumn=r,this.wrappedTextIndentLength=l}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(n){return n>0?this.wrappedTextIndentLength:0}getLineLength(n){const i=n>0?this.breakOffsets[n-1]:0;let r=this.breakOffsets[n]-i;return n>0&&(r+=this.wrappedTextIndentLength),r}getMaxOutputOffset(n){return this.getLineLength(n)}translateToInputOffset(n,i){n>0&&(i=Math.max(0,i-this.wrappedTextIndentLength));let r=n===0?i:this.breakOffsets[n-1]+i;if(this.injectionOffsets!==null)for(let l=0;l<this.injectionOffsets.length&&r>this.injectionOffsets[l];l++)r<this.injectionOffsets[l]+this.injectionOptions[l].content.length?r=this.injectionOffsets[l]:r-=this.injectionOptions[l].content.length;return r}translateToOutputPosition(n,i=2){let t=n;if(this.injectionOffsets!==null)for(let r=0;r<this.injectionOffsets.length&&!(n<this.injectionOffsets[r]||i!==1&&n===this.injectionOffsets[r]);r++)t+=this.injectionOptions[r].content.length;return this.offsetInInputWithInjectionsToOutputPosition(t,i)}offsetInInputWithInjectionsToOutputPosition(n,i=2){let t=0,r=this.breakOffsets.length-1,l=0,d=0;for(;t<=r;){l=t+(r-t)/2|0;const s=this.breakOffsets[l];if(d=l>0?this.breakOffsets[l-1]:0,i===0)if(n<=d)r=l-1;else if(n>s)t=l+1;else break;else if(n<d)r=l-1;else if(n>=s)t=l+1;else break}let a=n-d;return l>0&&(a+=this.wrappedTextIndentLength),new u(l,a)}normalizeOutputPosition(n,i,t){if(this.injectionOffsets!==null){const r=this.outputPositionToOffsetInInputWithInjections(n,i),l=this.normalizeOffsetInInputWithInjectionsAroundInjections(r,t);if(l!==r)return this.offsetInInputWithInjectionsToOutputPosition(l,t)}if(t===0){if(n>0&&i===this.getMinOutputOffset(n))return new u(n-1,this.getMaxOutputOffset(n-1))}else if(t===1){const r=this.getOutputLineCount()-1;if(n<r&&i===this.getMaxOutputOffset(n))return new u(n+1,this.getMinOutputOffset(n+1))}return new u(n,i)}outputPositionToOffsetInInputWithInjections(n,i){return n>0&&(i=Math.max(0,i-this.wrappedTextIndentLength)),(n>0?this.breakOffsets[n-1]:0)+i}normalizeOffsetInInputWithInjectionsAroundInjections(n,i){const t=this.getInjectedTextAtOffset(n);if(!t)return n;if(i===2){if(n===t.offsetInInputWithInjections+t.length&&L(this.injectionOptions[t.injectedTextIndex].cursorStops))return t.offsetInInputWithInjections+t.length;{let r=t.offsetInInputWithInjections;if(b(this.injectionOptions[t.injectedTextIndex].cursorStops))return r;let l=t.injectedTextIndex-1;for(;l>=0&&this.injectionOffsets[l]===this.injectionOffsets[t.injectedTextIndex]&&!(L(this.injectionOptions[l].cursorStops)||(r-=this.injectionOptions[l].content.length,b(this.injectionOptions[l].cursorStops)));)l--;return r}}else if(i===1||i===4){let r=t.offsetInInputWithInjections+t.length,l=t.injectedTextIndex;for(;l+1<this.injectionOffsets.length&&this.injectionOffsets[l+1]===this.injectionOffsets[l];)r+=this.injectionOptions[l+1].content.length,l++;return r}else if(i===0||i===3){let r=t.offsetInInputWithInjections,l=t.injectedTextIndex;for(;l-1>=0&&this.injectionOffsets[l-1]===this.injectionOffsets[l];)r-=this.injectionOptions[l-1].content.length,l--;return r}(0,w.assertNever)(i)}getInjectedText(n,i){const t=this.outputPositionToOffsetInInputWithInjections(n,i),r=this.getInjectedTextAtOffset(t);return r?{options:this.injectionOptions[r.injectedTextIndex]}:null}getInjectedTextAtOffset(n){const i=this.injectionOffsets,t=this.injectionOptions;if(i!==null){let r=0;for(let l=0;l<i.length;l++){const d=t[l].content.length,a=i[l]+r,s=i[l]+r+d;if(a>n)break;if(n<=s)return{injectedTextIndex:l,offsetInInputWithInjections:a,length:d};r+=d}}}}e.ModelLineProjectionData=I;function L(g){return g==null?!0:g===k.InjectedTextCursorStops.Right||g===k.InjectedTextCursorStops.Both}function b(g){return g==null?!0:g===k.InjectedTextCursorStops.Left||g===k.InjectedTextCursorStops.Both}class v{constructor(n){this.options=n}}e.InjectedText=v;class u{constructor(n,i){this.outputLineIndex=n,this.outputOffset=i}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(n){return new C.Position(n+this.outputLineIndex,this.outputOffset+1)}}e.OutputPosition=u}),define(re[242],ae([1,0,3,158,8,19,128]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnicodeTextModelHighlighter=void 0;class b{static computeUnicodeHighlights(i,t,r){const l=r?r.startLineNumber:1,d=r?r.endLineNumber:i.getLineCount(),a=new u(t),s=a.getCandidateCodePoints();let o;s==="allNonBasicAscii"?o=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):o=new RegExp(`${v(Array.from(s))}`,"g");const c=new C.Searcher(null,o),f=[];let p=!1,_,m=0,h=0,S=0;e:for(let y=l,E=d;y<=E;y++){const N=i.getLineContent(y),T=N.length;c.reset(0);do if(_=c.next(N),_){let R=_.index,F=_.index+_[0].length;if(R>0){const P=N.charCodeAt(R-1);k.isHighSurrogate(P)&&R--}if(F+1<T){const P=N.charCodeAt(F-1);k.isHighSurrogate(P)&&F++}const O=N.substring(R,F),D=(0,L.getWordAtText)(R+1,L.DEFAULT_WORD_REGEXP,N,0),M=a.shouldHighlightNonBasicASCII(O,D?D.word:null);if(M!==0){M===3?m++:M===2?h++:M===1?S++:(0,I.assertNever)(M);const P=1e3;if(f.length>=P){p=!0;break e}f.push(new w.Range(y,R+1,y,F+1))}}while(_)}return{ranges:f,hasMore:p,ambiguousCharacterCount:m,invisibleCharacterCount:h,nonBasicAsciiCharacterCount:S}}static computeUnicodeHighlightReason(i,t){const r=new u(t);switch(r.shouldHighlightNonBasicASCII(i,null)){case 0:return null;case 2:return{kind:1};case 3:{const d=i.codePointAt(0),a=r.ambiguousCharacters.getPrimaryConfusable(d),s=k.AmbiguousCharacters.getLocales().filter(o=>!k.AmbiguousCharacters.getInstance(new Set([...t.allowedLocales,o])).isAmbiguous(d));return{kind:0,confusableWith:String.fromCodePoint(a),notAmbiguousInLocales:s}}case 1:return{kind:2}}}}e.UnicodeTextModelHighlighter=b;function v(n,i){return`[${k.escapeRegExpCharacters(n.map(r=>String.fromCodePoint(r)).join(""))}]`}class u{constructor(i){this.options=i,this.allowedCodePoints=new Set(i.allowedCodePoints),this.ambiguousCharacters=k.AmbiguousCharacters.getInstance(new Set(i.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const i=new Set;if(this.options.invisibleCharacters)for(const t of k.InvisibleCharacters.codePoints)g(String.fromCodePoint(t))||i.add(t);if(this.options.ambiguousCharacters)for(const t of this.ambiguousCharacters.getConfusableCodePoints())i.add(t);for(const t of this.allowedCodePoints)i.delete(t);return i}shouldHighlightNonBasicASCII(i,t){const r=i.codePointAt(0);if(this.allowedCodePoints.has(r))return 0;if(this.options.nonBasicASCII)return 1;let l=!1,d=!1;if(t)for(const a of t){const s=a.codePointAt(0),o=k.isBasicASCII(a);l=l||o,!o&&!this.ambiguousCharacters.isAmbiguous(s)&&!k.InvisibleCharacters.isInvisibleCharacter(s)&&(d=!0)}return!l&&d?0:this.options.invisibleCharacters&&!g(i)&&k.InvisibleCharacters.isInvisibleCharacter(r)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(r)?3:0}}function g(n){return n===" "||n===`
`||n==="	"}}),define(re[159],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.PositionAffinity=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.MouseTargetType=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineCompletionTriggerKind=e.InlayHintKind=e.InjectedTextCursorStops=e.IndentAction=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.CodeActionTriggerType=e.AccessibilitySupport=void 0;var w;(function(A){A[A.Unknown=0]="Unknown",A[A.Disabled=1]="Disabled",A[A.Enabled=2]="Enabled"})(w=e.AccessibilitySupport||(e.AccessibilitySupport={}));var C;(function(A){A[A.Invoke=1]="Invoke",A[A.Auto=2]="Auto"})(C=e.CodeActionTriggerType||(e.CodeActionTriggerType={}));var k;(function(A){A[A.KeepWhitespace=1]="KeepWhitespace",A[A.InsertAsSnippet=4]="InsertAsSnippet"})(k=e.CompletionItemInsertTextRule||(e.CompletionItemInsertTextRule={}));var I;(function(A){A[A.Method=0]="Method",A[A.Function=1]="Function",A[A.Constructor=2]="Constructor",A[A.Field=3]="Field",A[A.Variable=4]="Variable",A[A.Class=5]="Class",A[A.Struct=6]="Struct",A[A.Interface=7]="Interface",A[A.Module=8]="Module",A[A.Property=9]="Property",A[A.Event=10]="Event",A[A.Operator=11]="Operator",A[A.Unit=12]="Unit",A[A.Value=13]="Value",A[A.Constant=14]="Constant",A[A.Enum=15]="Enum",A[A.EnumMember=16]="EnumMember",A[A.Keyword=17]="Keyword",A[A.Text=18]="Text",A[A.Color=19]="Color",A[A.File=20]="File",A[A.Reference=21]="Reference",A[A.Customcolor=22]="Customcolor",A[A.Folder=23]="Folder",A[A.TypeParameter=24]="TypeParameter",A[A.User=25]="User",A[A.Issue=26]="Issue",A[A.Snippet=27]="Snippet"})(I=e.CompletionItemKind||(e.CompletionItemKind={}));var L;(function(A){A[A.Deprecated=1]="Deprecated"})(L=e.CompletionItemTag||(e.CompletionItemTag={}));var b;(function(A){A[A.Invoke=0]="Invoke",A[A.TriggerCharacter=1]="TriggerCharacter",A[A.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(b=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var v;(function(A){A[A.EXACT=0]="EXACT",A[A.ABOVE=1]="ABOVE",A[A.BELOW=2]="BELOW"})(v=e.ContentWidgetPositionPreference||(e.ContentWidgetPositionPreference={}));var u;(function(A){A[A.NotSet=0]="NotSet",A[A.ContentFlush=1]="ContentFlush",A[A.RecoverFromMarkers=2]="RecoverFromMarkers",A[A.Explicit=3]="Explicit",A[A.Paste=4]="Paste",A[A.Undo=5]="Undo",A[A.Redo=6]="Redo"})(u=e.CursorChangeReason||(e.CursorChangeReason={}));var g;(function(A){A[A.LF=1]="LF",A[A.CRLF=2]="CRLF"})(g=e.DefaultEndOfLine||(e.DefaultEndOfLine={}));var n;(function(A){A[A.Text=0]="Text",A[A.Read=1]="Read",A[A.Write=2]="Write"})(n=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var i;(function(A){A[A.None=0]="None",A[A.Keep=1]="Keep",A[A.Brackets=2]="Brackets",A[A.Advanced=3]="Advanced",A[A.Full=4]="Full"})(i=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={}));var t;(function(A){A[A.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",A[A.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",A[A.accessibilitySupport=2]="accessibilitySupport",A[A.accessibilityPageSize=3]="accessibilityPageSize",A[A.ariaLabel=4]="ariaLabel",A[A.autoClosingBrackets=5]="autoClosingBrackets",A[A.autoClosingDelete=6]="autoClosingDelete",A[A.autoClosingOvertype=7]="autoClosingOvertype",A[A.autoClosingQuotes=8]="autoClosingQuotes",A[A.autoIndent=9]="autoIndent",A[A.automaticLayout=10]="automaticLayout",A[A.autoSurround=11]="autoSurround",A[A.bracketPairColorization=12]="bracketPairColorization",A[A.guides=13]="guides",A[A.codeLens=14]="codeLens",A[A.codeLensFontFamily=15]="codeLensFontFamily",A[A.codeLensFontSize=16]="codeLensFontSize",A[A.colorDecorators=17]="colorDecorators",A[A.columnSelection=18]="columnSelection",A[A.comments=19]="comments",A[A.contextmenu=20]="contextmenu",A[A.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",A[A.cursorBlinking=22]="cursorBlinking",A[A.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",A[A.cursorStyle=24]="cursorStyle",A[A.cursorSurroundingLines=25]="cursorSurroundingLines",A[A.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",A[A.cursorWidth=27]="cursorWidth",A[A.disableLayerHinting=28]="disableLayerHinting",A[A.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",A[A.domReadOnly=30]="domReadOnly",A[A.dragAndDrop=31]="dragAndDrop",A[A.dropIntoEditor=32]="dropIntoEditor",A[A.emptySelectionClipboard=33]="emptySelectionClipboard",A[A.experimental=34]="experimental",A[A.extraEditorClassName=35]="extraEditorClassName",A[A.fastScrollSensitivity=36]="fastScrollSensitivity",A[A.find=37]="find",A[A.fixedOverflowWidgets=38]="fixedOverflowWidgets",A[A.folding=39]="folding",A[A.foldingStrategy=40]="foldingStrategy",A[A.foldingHighlight=41]="foldingHighlight",A[A.foldingImportsByDefault=42]="foldingImportsByDefault",A[A.foldingMaximumRegions=43]="foldingMaximumRegions",A[A.unfoldOnClickAfterEndOfLine=44]="unfoldOnClickAfterEndOfLine",A[A.fontFamily=45]="fontFamily",A[A.fontInfo=46]="fontInfo",A[A.fontLigatures=47]="fontLigatures",A[A.fontSize=48]="fontSize",A[A.fontWeight=49]="fontWeight",A[A.formatOnPaste=50]="formatOnPaste",A[A.formatOnType=51]="formatOnType",A[A.glyphMargin=52]="glyphMargin",A[A.gotoLocation=53]="gotoLocation",A[A.hideCursorInOverviewRuler=54]="hideCursorInOverviewRuler",A[A.hover=55]="hover",A[A.inDiffEditor=56]="inDiffEditor",A[A.inlineSuggest=57]="inlineSuggest",A[A.letterSpacing=58]="letterSpacing",A[A.lightbulb=59]="lightbulb",A[A.lineDecorationsWidth=60]="lineDecorationsWidth",A[A.lineHeight=61]="lineHeight",A[A.lineNumbers=62]="lineNumbers",A[A.lineNumbersMinChars=63]="lineNumbersMinChars",A[A.linkedEditing=64]="linkedEditing",A[A.links=65]="links",A[A.matchBrackets=66]="matchBrackets",A[A.minimap=67]="minimap",A[A.mouseStyle=68]="mouseStyle",A[A.mouseWheelScrollSensitivity=69]="mouseWheelScrollSensitivity",A[A.mouseWheelZoom=70]="mouseWheelZoom",A[A.multiCursorMergeOverlapping=71]="multiCursorMergeOverlapping",A[A.multiCursorModifier=72]="multiCursorModifier",A[A.multiCursorPaste=73]="multiCursorPaste",A[A.occurrencesHighlight=74]="occurrencesHighlight",A[A.overviewRulerBorder=75]="overviewRulerBorder",A[A.overviewRulerLanes=76]="overviewRulerLanes",A[A.padding=77]="padding",A[A.parameterHints=78]="parameterHints",A[A.peekWidgetDefaultFocus=79]="peekWidgetDefaultFocus",A[A.definitionLinkOpensInPeek=80]="definitionLinkOpensInPeek",A[A.quickSuggestions=81]="quickSuggestions",A[A.quickSuggestionsDelay=82]="quickSuggestionsDelay",A[A.readOnly=83]="readOnly",A[A.renameOnType=84]="renameOnType",A[A.renderControlCharacters=85]="renderControlCharacters",A[A.renderFinalNewline=86]="renderFinalNewline",A[A.renderLineHighlight=87]="renderLineHighlight",A[A.renderLineHighlightOnlyWhenFocus=88]="renderLineHighlightOnlyWhenFocus",A[A.renderValidationDecorations=89]="renderValidationDecorations",A[A.renderWhitespace=90]="renderWhitespace",A[A.revealHorizontalRightPadding=91]="revealHorizontalRightPadding",A[A.roundedSelection=92]="roundedSelection",A[A.rulers=93]="rulers",A[A.scrollbar=94]="scrollbar",A[A.scrollBeyondLastColumn=95]="scrollBeyondLastColumn",A[A.scrollBeyondLastLine=96]="scrollBeyondLastLine",A[A.scrollPredominantAxis=97]="scrollPredominantAxis",A[A.selectionClipboard=98]="selectionClipboard",A[A.selectionHighlight=99]="selectionHighlight",A[A.selectOnLineNumbers=100]="selectOnLineNumbers",A[A.showFoldingControls=101]="showFoldingControls",A[A.showUnused=102]="showUnused",A[A.snippetSuggestions=103]="snippetSuggestions",A[A.smartSelect=104]="smartSelect",A[A.smoothScrolling=105]="smoothScrolling",A[A.stickyTabStops=106]="stickyTabStops",A[A.stopRenderingLineAfter=107]="stopRenderingLineAfter",A[A.suggest=108]="suggest",A[A.suggestFontSize=109]="suggestFontSize",A[A.suggestLineHeight=110]="suggestLineHeight",A[A.suggestOnTriggerCharacters=111]="suggestOnTriggerCharacters",A[A.suggestSelection=112]="suggestSelection",A[A.tabCompletion=113]="tabCompletion",A[A.tabIndex=114]="tabIndex",A[A.unicodeHighlighting=115]="unicodeHighlighting",A[A.unusualLineTerminators=116]="unusualLineTerminators",A[A.useShadowDOM=117]="useShadowDOM",A[A.useTabStops=118]="useTabStops",A[A.wordSeparators=119]="wordSeparators",A[A.wordWrap=120]="wordWrap",A[A.wordWrapBreakAfterCharacters=121]="wordWrapBreakAfterCharacters",A[A.wordWrapBreakBeforeCharacters=122]="wordWrapBreakBeforeCharacters",A[A.wordWrapColumn=123]="wordWrapColumn",A[A.wordWrapOverride1=124]="wordWrapOverride1",A[A.wordWrapOverride2=125]="wordWrapOverride2",A[A.wrappingIndent=126]="wrappingIndent",A[A.wrappingStrategy=127]="wrappingStrategy",A[A.showDeprecated=128]="showDeprecated",A[A.inlayHints=129]="inlayHints",A[A.editorClassName=130]="editorClassName",A[A.pixelRatio=131]="pixelRatio",A[A.tabFocusMode=132]="tabFocusMode",A[A.layoutInfo=133]="layoutInfo",A[A.wrappingInfo=134]="wrappingInfo"})(t=e.EditorOption||(e.EditorOption={}));var r;(function(A){A[A.TextDefined=0]="TextDefined",A[A.LF=1]="LF",A[A.CRLF=2]="CRLF"})(r=e.EndOfLinePreference||(e.EndOfLinePreference={}));var l;(function(A){A[A.LF=0]="LF",A[A.CRLF=1]="CRLF"})(l=e.EndOfLineSequence||(e.EndOfLineSequence={}));var d;(function(A){A[A.None=0]="None",A[A.Indent=1]="Indent",A[A.IndentOutdent=2]="IndentOutdent",A[A.Outdent=3]="Outdent"})(d=e.IndentAction||(e.IndentAction={}));var a;(function(A){A[A.Both=0]="Both",A[A.Right=1]="Right",A[A.Left=2]="Left",A[A.None=3]="None"})(a=e.InjectedTextCursorStops||(e.InjectedTextCursorStops={}));var s;(function(A){A[A.Type=1]="Type",A[A.Parameter=2]="Parameter"})(s=e.InlayHintKind||(e.InlayHintKind={}));var o;(function(A){A[A.Automatic=0]="Automatic",A[A.Explicit=1]="Explicit"})(o=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var c;(function(A){A[A.DependsOnKbLayout=-1]="DependsOnKbLayout",A[A.Unknown=0]="Unknown",A[A.Backspace=1]="Backspace",A[A.Tab=2]="Tab",A[A.Enter=3]="Enter",A[A.Shift=4]="Shift",A[A.Ctrl=5]="Ctrl",A[A.Alt=6]="Alt",A[A.PauseBreak=7]="PauseBreak",A[A.CapsLock=8]="CapsLock",A[A.Escape=9]="Escape",A[A.Space=10]="Space",A[A.PageUp=11]="PageUp",A[A.PageDown=12]="PageDown",A[A.End=13]="End",A[A.Home=14]="Home",A[A.LeftArrow=15]="LeftArrow",A[A.UpArrow=16]="UpArrow",A[A.RightArrow=17]="RightArrow",A[A.DownArrow=18]="DownArrow",A[A.Insert=19]="Insert",A[A.Delete=20]="Delete",A[A.Digit0=21]="Digit0",A[A.Digit1=22]="Digit1",A[A.Digit2=23]="Digit2",A[A.Digit3=24]="Digit3",A[A.Digit4=25]="Digit4",A[A.Digit5=26]="Digit5",A[A.Digit6=27]="Digit6",A[A.Digit7=28]="Digit7",A[A.Digit8=29]="Digit8",A[A.Digit9=30]="Digit9",A[A.KeyA=31]="KeyA",A[A.KeyB=32]="KeyB",A[A.KeyC=33]="KeyC",A[A.KeyD=34]="KeyD",A[A.KeyE=35]="KeyE",A[A.KeyF=36]="KeyF",A[A.KeyG=37]="KeyG",A[A.KeyH=38]="KeyH",A[A.KeyI=39]="KeyI",A[A.KeyJ=40]="KeyJ",A[A.KeyK=41]="KeyK",A[A.KeyL=42]="KeyL",A[A.KeyM=43]="KeyM",A[A.KeyN=44]="KeyN",A[A.KeyO=45]="KeyO",A[A.KeyP=46]="KeyP",A[A.KeyQ=47]="KeyQ",A[A.KeyR=48]="KeyR",A[A.KeyS=49]="KeyS",A[A.KeyT=50]="KeyT",A[A.KeyU=51]="KeyU",A[A.KeyV=52]="KeyV",A[A.KeyW=53]="KeyW",A[A.KeyX=54]="KeyX",A[A.KeyY=55]="KeyY",A[A.KeyZ=56]="KeyZ",A[A.Meta=57]="Meta",A[A.ContextMenu=58]="ContextMenu",A[A.F1=59]="F1",A[A.F2=60]="F2",A[A.F3=61]="F3",A[A.F4=62]="F4",A[A.F5=63]="F5",A[A.F6=64]="F6",A[A.F7=65]="F7",A[A.F8=66]="F8",A[A.F9=67]="F9",A[A.F10=68]="F10",A[A.F11=69]="F11",A[A.F12=70]="F12",A[A.F13=71]="F13",A[A.F14=72]="F14",A[A.F15=73]="F15",A[A.F16=74]="F16",A[A.F17=75]="F17",A[A.F18=76]="F18",A[A.F19=77]="F19",A[A.NumLock=78]="NumLock",A[A.ScrollLock=79]="ScrollLock",A[A.Semicolon=80]="Semicolon",A[A.Equal=81]="Equal",A[A.Comma=82]="Comma",A[A.Minus=83]="Minus",A[A.Period=84]="Period",A[A.Slash=85]="Slash",A[A.Backquote=86]="Backquote",A[A.BracketLeft=87]="BracketLeft",A[A.Backslash=88]="Backslash",A[A.BracketRight=89]="BracketRight",A[A.Quote=90]="Quote",A[A.OEM_8=91]="OEM_8",A[A.IntlBackslash=92]="IntlBackslash",A[A.Numpad0=93]="Numpad0",A[A.Numpad1=94]="Numpad1",A[A.Numpad2=95]="Numpad2",A[A.Numpad3=96]="Numpad3",A[A.Numpad4=97]="Numpad4",A[A.Numpad5=98]="Numpad5",A[A.Numpad6=99]="Numpad6",A[A.Numpad7=100]="Numpad7",A[A.Numpad8=101]="Numpad8",A[A.Numpad9=102]="Numpad9",A[A.NumpadMultiply=103]="NumpadMultiply",A[A.NumpadAdd=104]="NumpadAdd",A[A.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",A[A.NumpadSubtract=106]="NumpadSubtract",A[A.NumpadDecimal=107]="NumpadDecimal",A[A.NumpadDivide=108]="NumpadDivide",A[A.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",A[A.ABNT_C1=110]="ABNT_C1",A[A.ABNT_C2=111]="ABNT_C2",A[A.AudioVolumeMute=112]="AudioVolumeMute",A[A.AudioVolumeUp=113]="AudioVolumeUp",A[A.AudioVolumeDown=114]="AudioVolumeDown",A[A.BrowserSearch=115]="BrowserSearch",A[A.BrowserHome=116]="BrowserHome",A[A.BrowserBack=117]="BrowserBack",A[A.BrowserForward=118]="BrowserForward",A[A.MediaTrackNext=119]="MediaTrackNext",A[A.MediaTrackPrevious=120]="MediaTrackPrevious",A[A.MediaStop=121]="MediaStop",A[A.MediaPlayPause=122]="MediaPlayPause",A[A.LaunchMediaPlayer=123]="LaunchMediaPlayer",A[A.LaunchMail=124]="LaunchMail",A[A.LaunchApp2=125]="LaunchApp2",A[A.Clear=126]="Clear",A[A.MAX_VALUE=127]="MAX_VALUE"})(c=e.KeyCode||(e.KeyCode={}));var f;(function(A){A[A.Hint=1]="Hint",A[A.Info=2]="Info",A[A.Warning=4]="Warning",A[A.Error=8]="Error"})(f=e.MarkerSeverity||(e.MarkerSeverity={}));var p;(function(A){A[A.Unnecessary=1]="Unnecessary",A[A.Deprecated=2]="Deprecated"})(p=e.MarkerTag||(e.MarkerTag={}));var _;(function(A){A[A.Inline=1]="Inline",A[A.Gutter=2]="Gutter"})(_=e.MinimapPosition||(e.MinimapPosition={}));var m;(function(A){A[A.UNKNOWN=0]="UNKNOWN",A[A.TEXTAREA=1]="TEXTAREA",A[A.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",A[A.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",A[A.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",A[A.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",A[A.CONTENT_TEXT=6]="CONTENT_TEXT",A[A.CONTENT_EMPTY=7]="CONTENT_EMPTY",A[A.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",A[A.CONTENT_WIDGET=9]="CONTENT_WIDGET",A[A.OVERVIEW_RULER=10]="OVERVIEW_RULER",A[A.SCROLLBAR=11]="SCROLLBAR",A[A.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",A[A.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(m=e.MouseTargetType||(e.MouseTargetType={}));var h;(function(A){A[A.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",A[A.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",A[A.TOP_CENTER=2]="TOP_CENTER"})(h=e.OverlayWidgetPositionPreference||(e.OverlayWidgetPositionPreference={}));var S;(function(A){A[A.Left=1]="Left",A[A.Center=2]="Center",A[A.Right=4]="Right",A[A.Full=7]="Full"})(S=e.OverviewRulerLane||(e.OverviewRulerLane={}));var y;(function(A){A[A.Left=0]="Left",A[A.Right=1]="Right",A[A.None=2]="None",A[A.LeftOfInjectedText=3]="LeftOfInjectedText",A[A.RightOfInjectedText=4]="RightOfInjectedText"})(y=e.PositionAffinity||(e.PositionAffinity={}));var E;(function(A){A[A.Off=0]="Off",A[A.On=1]="On",A[A.Relative=2]="Relative",A[A.Interval=3]="Interval",A[A.Custom=4]="Custom"})(E=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));var N;(function(A){A[A.None=0]="None",A[A.Text=1]="Text",A[A.Blocks=2]="Blocks"})(N=e.RenderMinimap||(e.RenderMinimap={}));var T;(function(A){A[A.Smooth=0]="Smooth",A[A.Immediate=1]="Immediate"})(T=e.ScrollType||(e.ScrollType={}));var R;(function(A){A[A.Auto=1]="Auto",A[A.Hidden=2]="Hidden",A[A.Visible=3]="Visible"})(R=e.ScrollbarVisibility||(e.ScrollbarVisibility={}));var F;(function(A){A[A.LTR=0]="LTR",A[A.RTL=1]="RTL"})(F=e.SelectionDirection||(e.SelectionDirection={}));var O;(function(A){A[A.Invoke=1]="Invoke",A[A.TriggerCharacter=2]="TriggerCharacter",A[A.ContentChange=3]="ContentChange"})(O=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var D;(function(A){A[A.File=0]="File",A[A.Module=1]="Module",A[A.Namespace=2]="Namespace",A[A.Package=3]="Package",A[A.Class=4]="Class",A[A.Method=5]="Method",A[A.Property=6]="Property",A[A.Field=7]="Field",A[A.Constructor=8]="Constructor",A[A.Enum=9]="Enum",A[A.Interface=10]="Interface",A[A.Function=11]="Function",A[A.Variable=12]="Variable",A[A.Constant=13]="Constant",A[A.String=14]="String",A[A.Number=15]="Number",A[A.Boolean=16]="Boolean",A[A.Array=17]="Array",A[A.Object=18]="Object",A[A.Key=19]="Key",A[A.Null=20]="Null",A[A.EnumMember=21]="EnumMember",A[A.Struct=22]="Struct",A[A.Event=23]="Event",A[A.Operator=24]="Operator",A[A.TypeParameter=25]="TypeParameter"})(D=e.SymbolKind||(e.SymbolKind={}));var M;(function(A){A[A.Deprecated=1]="Deprecated"})(M=e.SymbolTag||(e.SymbolTag={}));var P;(function(A){A[A.Hidden=0]="Hidden",A[A.Blink=1]="Blink",A[A.Smooth=2]="Smooth",A[A.Phase=3]="Phase",A[A.Expand=4]="Expand",A[A.Solid=5]="Solid"})(P=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));var B;(function(A){A[A.Line=1]="Line",A[A.Block=2]="Block",A[A.Underline=3]="Underline",A[A.LineThin=4]="LineThin",A[A.BlockOutline=5]="BlockOutline",A[A.UnderlineThin=6]="UnderlineThin"})(B=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));var W;(function(A){A[A.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",A[A.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",A[A.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",A[A.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(W=e.TrackedRangeStickiness||(e.TrackedRangeStickiness={}));var V;(function(A){A[A.None=0]="None",A[A.Same=1]="Same",A[A.Indent=2]="Indent",A[A.DeepIndent=3]="DeepIndent"})(V=e.WrappingIndent||(e.WrappingIndent={}))}),define(re[428],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairWithMinIndentationInfo=e.BracketPairInfo=e.BracketInfo=void 0;class w{constructor(L,b,v,u){this.range=L,this.nestingLevel=b,this.nestingLevelOfEqualBracketType=v,this.isInvalid=u}}e.BracketInfo=w;class C{constructor(L,b,v,u,g,n){this.range=L,this.openingBracketRange=b,this.closingBracketRange=v,this.nestingLevel=u,this.nestingLevelOfEqualBracketType=g,this.bracketPairNode=n}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}e.BracketPairInfo=C;class k extends C{constructor(L,b,v,u,g,n,i){super(L,b,v,u,g,n);this.minVisibleColumnIndentation=i}}e.BracketPairWithMinIndentationInfo=k}),define(re[99],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelInjectedTextChangedEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.LineInjectedText=e.ModelRawFlush=void 0;class w{constructor(){this.changeType=1}}e.ModelRawFlush=w;class C{constructor(i,t,r,l,d){this.ownerId=i,this.lineNumber=t,this.column=r,this.options=l,this.order=d}static applyInjectedText(i,t){if(!t||t.length===0)return i;let r="",l=0;for(const d of t)r+=i.substring(l,d.column-1),l=d.column-1,r+=d.options.content;return r+=i.substring(l),r}static fromDecorations(i){const t=[];for(const r of i)r.options.before&&r.options.before.content.length>0&&t.push(new C(r.ownerId,r.range.startLineNumber,r.range.startColumn,r.options.before,0)),r.options.after&&r.options.after.content.length>0&&t.push(new C(r.ownerId,r.range.endLineNumber,r.range.endColumn,r.options.after,1));return t.sort((r,l)=>r.lineNumber===l.lineNumber?r.column===l.column?r.order-l.order:r.column-l.column:r.lineNumber-l.lineNumber),t}}e.LineInjectedText=C;class k{constructor(i,t,r){this.changeType=2,this.lineNumber=i,this.detail=t,this.injectedText=r}}e.ModelRawLineChanged=k;class I{constructor(i,t){this.changeType=3,this.fromLineNumber=i,this.toLineNumber=t}}e.ModelRawLinesDeleted=I;class L{constructor(i,t,r,l){this.changeType=4,this.injectedTexts=l,this.fromLineNumber=i,this.toLineNumber=t,this.detail=r}}e.ModelRawLinesInserted=L;class b{constructor(){this.changeType=5}}e.ModelRawEOLChanged=b;class v{constructor(i,t,r,l){this.changes=i,this.versionId=t,this.isUndoing=r,this.isRedoing=l,this.resultingSelection=null}containsEvent(i){for(let t=0,r=this.changes.length;t<r;t++)if(this.changes[t].changeType===i)return!0;return!1}static merge(i,t){const r=[].concat(i.changes).concat(t.changes),l=t.versionId,d=i.isUndoing||t.isUndoing,a=i.isRedoing||t.isRedoing;return new v(r,l,d,a)}}e.ModelRawContentChangedEvent=v;class u{constructor(i){this.changes=i}}e.ModelInjectedTextChangedEvent=u;class g{constructor(i,t){this.rawContentChangedEvent=i,this.contentChangedEvent=t}merge(i){const t=v.merge(this.rawContentChangedEvent,i.rawContentChangedEvent),r=g._mergeChangeEvents(this.contentChangedEvent,i.contentChangedEvent);return new g(t,r)}static _mergeChangeEvents(i,t){const r=[].concat(i.changes).concat(t.changes),l=t.eol,d=t.versionId,a=i.isUndoing||t.isUndoing,s=i.isRedoing||t.isRedoing,o=i.isFlush||t.isFlush;return{changes:r,eol:l,versionId:d,isUndoing:a,isRedoing:s,isFlush:o}}}e.InternalModelContentChangeEvent=g}),define(re[185],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuideHorizontalLine=e.IndentGuide=e.HorizontalGuidesState=void 0;var w;(function(I){I[I.Disabled=0]="Disabled",I[I.EnabledForActive=1]="EnabledForActive",I[I.Enabled=2]="Enabled"})(w=e.HorizontalGuidesState||(e.HorizontalGuidesState={}));class C{constructor(L,b,v,u,g,n){if(this.visibleColumn=L,this.column=b,this.className=v,this.horizontalLine=u,this.forWrappedLinesAfterColumn=g,this.forWrappedLinesBeforeOrAtColumn=n,L!==-1==(b!==-1))throw new Error}}e.IndentGuide=C;class k{constructor(L,b){this.top=L,this.endColumn=b}}e.IndentGuideHorizontalLine=k}),define(re[243],ae([1,0,18,8,66,3,239,184,185]),function($,e,w,C,k,I,L,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairGuidesClassNames=e.GuidesTextModelPart=void 0;class u extends L.TextModelPart{constructor(i,t){super();this.textModel=i,this.languageConfigurationService=t}getLanguageConfiguration(i){return this.languageConfigurationService.getLanguageConfiguration(i)}_computeIndentLevel(i){return(0,b.computeIndentLevel)(this.textModel.getLineContent(i+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(i,t,r){this.assertNotDisposed();const l=this.textModel.getLineCount();if(i<1||i>l)throw new Error("Illegal value for lineNumber");const d=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,a=Boolean(d&&d.offSide);let s=-2,o=-1,c=-2,f=-1;const p=D=>{if(s!==-1&&(s===-2||s>D-1)){s=-1,o=-1;for(let M=D-2;M>=0;M--){const P=this._computeIndentLevel(M);if(P>=0){s=M,o=P;break}}}if(c===-2){c=-1,f=-1;for(let M=D;M<l;M++){const P=this._computeIndentLevel(M);if(P>=0){c=M,f=P;break}}}};let _=-2,m=-1,h=-2,S=-1;const y=D=>{if(_===-2){_=-1,m=-1;for(let M=D-2;M>=0;M--){const P=this._computeIndentLevel(M);if(P>=0){_=M,m=P;break}}}if(h!==-1&&(h===-2||h<D-1)){h=-1,S=-1;for(let M=D;M<l;M++){const P=this._computeIndentLevel(M);if(P>=0){h=M,S=P;break}}}};let E=0,N=!0,T=0,R=!0,F=0,O=0;for(let D=0;N||R;D++){const M=i-D,P=i+D;D>1&&(M<1||M<t)&&(N=!1),D>1&&(P>l||P>r)&&(R=!1),D>5e4&&(N=!1,R=!1);let B=-1;if(N&&M>=1){const V=this._computeIndentLevel(M-1);V>=0?(c=M-1,f=V,B=Math.ceil(V/this.textModel.getOptions().indentSize)):(p(M),B=this._getIndentLevelForWhitespaceLine(a,o,f))}let W=-1;if(R&&P<=l){const V=this._computeIndentLevel(P-1);V>=0?(_=P-1,m=V,W=Math.ceil(V/this.textModel.getOptions().indentSize)):(y(P),W=this._getIndentLevelForWhitespaceLine(a,m,S))}if(D===0){O=B;continue}if(D===1){if(P<=l&&W>=0&&O+1===W){N=!1,E=P,T=P,F=W;continue}if(M>=1&&B>=0&&B-1===O){R=!1,E=M,T=M,F=B;continue}if(E=i,T=i,F=O,F===0)return{startLineNumber:E,endLineNumber:T,indent:F}}N&&(B>=F?E=M:N=!1),R&&(W>=F?T=P:R=!1)}return{startLineNumber:E,endLineNumber:T,indent:F}}getLinesBracketGuides(i,t,r,l){var d;const a=[];for(let _=i;_<=t;_++)a.push([]);const s=!0,o=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new I.Range(i,1,t,this.textModel.getLineMaxColumn(t)));let c;if(r&&o.length>0){const _=(i<=r.lineNumber&&r.lineNumber<=t?o:this.textModel.bracketPairs.getBracketPairsInRange(I.Range.fromPositions(r))).filter(m=>I.Range.strictContainsPosition(m.range,r));c=(d=(0,w.findLast)(_,m=>s||m.range.startLineNumber!==m.range.endLineNumber))===null||d===void 0?void 0:d.range}const f=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,p=new g;for(const _ of o){if(!_.closingBracketRange)continue;const m=c&&_.range.equalsRange(c);if(!m&&!l.includeInactive)continue;const h=p.getInlineClassName(_.nestingLevel,_.nestingLevelOfEqualBracketType,f)+(l.highlightActive&&m?" "+p.activeClassName:""),S=_.openingBracketRange.getStartPosition(),y=_.closingBracketRange.getStartPosition(),E=l.horizontalGuides===v.HorizontalGuidesState.Enabled||l.horizontalGuides===v.HorizontalGuidesState.EnabledForActive&&m;if(_.range.startLineNumber===_.range.endLineNumber){s&&E&&a[_.range.startLineNumber-i].push(new v.IndentGuide(-1,_.openingBracketRange.getEndPosition().column,h,new v.IndentGuideHorizontalLine(!1,y.column),-1,-1));continue}const N=this.getVisibleColumnFromPosition(y),T=this.getVisibleColumnFromPosition(_.openingBracketRange.getStartPosition()),R=Math.min(T,N,_.minVisibleColumnIndentation+1);let F=!1;C.firstNonWhitespaceIndex(this.textModel.getLineContent(_.closingBracketRange.startLineNumber))<_.closingBracketRange.startColumn-1&&(F=!0);const M=Math.max(S.lineNumber,i),P=Math.min(y.lineNumber,t),B=F?1:0;for(let W=M;W<P+B;W++)a[W-i].push(new v.IndentGuide(R,-1,h,null,W===S.lineNumber?S.column:-1,W===y.lineNumber?y.column:-1));E&&(S.lineNumber>=i&&T>R&&a[S.lineNumber-i].push(new v.IndentGuide(R,-1,h,new v.IndentGuideHorizontalLine(!1,S.column),-1,-1)),y.lineNumber<=t&&N>R&&a[y.lineNumber-i].push(new v.IndentGuide(R,-1,h,new v.IndentGuideHorizontalLine(!F,y.column),-1,-1)))}for(const _ of a)_.sort((m,h)=>m.visibleColumn-h.visibleColumn);return a}getVisibleColumnFromPosition(i){return k.CursorColumns.visibleColumnFromColumn(this.textModel.getLineContent(i.lineNumber),i.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(i,t){this.assertNotDisposed();const r=this.textModel.getLineCount();if(i<1||i>r)throw new Error("Illegal value for startLineNumber");if(t<1||t>r)throw new Error("Illegal value for endLineNumber");const l=this.textModel.getOptions(),d=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,a=Boolean(d&&d.offSide),s=new Array(t-i+1);let o=-2,c=-1,f=-2,p=-1;for(let _=i;_<=t;_++){const m=_-i,h=this._computeIndentLevel(_-1);if(h>=0){o=_-1,c=h,s[m]=Math.ceil(h/l.indentSize);continue}if(o===-2){o=-1,c=-1;for(let S=_-2;S>=0;S--){const y=this._computeIndentLevel(S);if(y>=0){o=S,c=y;break}}}if(f!==-1&&(f===-2||f<_-1)){f=-1,p=-1;for(let S=_;S<r;S++){const y=this._computeIndentLevel(S);if(y>=0){f=S,p=y;break}}}s[m]=this._getIndentLevelForWhitespaceLine(a,c,p)}return s}_getIndentLevelForWhitespaceLine(i,t,r){const l=this.textModel.getOptions();return t===-1||r===-1?0:t<r?1+Math.floor(t/l.indentSize):t===r||i?Math.ceil(r/l.indentSize):1+Math.floor(r/l.indentSize)}}e.GuidesTextModelPart=u;class g{constructor(){this.activeClassName="indent-active"}getInlineClassName(i,t,r){return this.getInlineClassNameOfLevel(r?t:i)}getInlineClassNameOfLevel(i){return`bracket-indent-guide lvl-${i%30}`}}e.BracketPairGuidesClassNames=g}),define(re[429],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokens=void 0;class w{constructor(k,I){this._startLineNumber=k,this._tokens=I}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(k){return this._tokens[k-this._startLineNumber]}appendLineTokens(k){this._tokens.push(k)}}e.ContiguousMultilineTokens=w}),define(re[430],ae([1,0,429]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokensBuilder=void 0;class C{constructor(){this._tokens=[]}add(I,L){if(this._tokens.length>0){const b=this._tokens[this._tokens.length-1];if(b.endLineNumber+1===I){b.appendLineTokens(L);return}}this._tokens.push(new w.ContiguousMultilineTokens(I,[L]))}finalize(){return this._tokens}}e.ContiguousMultilineTokensBuilder=C}),define(re[82],ae([1,0,109]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineTokens=void 0;class C{constructor(L,b,v){this._lineTokensBrand=void 0,this._tokens=L,this._tokensCount=this._tokens.length>>>1,this._text=b,this._languageIdCodec=v}static createEmpty(L,b){const v=C.defaultTokenMetadata,u=new Uint32Array(2);return u[0]=L.length,u[1]=v,new C(u,L,b)}equals(L){return L instanceof C?this.slicedEquals(L,0,this._tokensCount):!1}slicedEquals(L,b,v){if(this._text!==L._text||this._tokensCount!==L._tokensCount)return!1;const u=b<<1,g=u+(v<<1);for(let n=u;n<g;n++)if(this._tokens[n]!==L._tokens[n])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(L){return L>0?this._tokens[L-1<<1]:0}getMetadata(L){return this._tokens[(L<<1)+1]}getLanguageId(L){const b=this._tokens[(L<<1)+1],v=w.TokenMetadata.getLanguageId(b);return this._languageIdCodec.decodeLanguageId(v)}getStandardTokenType(L){const b=this._tokens[(L<<1)+1];return w.TokenMetadata.getTokenType(b)}getForeground(L){const b=this._tokens[(L<<1)+1];return w.TokenMetadata.getForeground(b)}getClassName(L){const b=this._tokens[(L<<1)+1];return w.TokenMetadata.getClassNameFromMetadata(b)}getInlineStyle(L,b){const v=this._tokens[(L<<1)+1];return w.TokenMetadata.getInlineStyleFromMetadata(v,b)}getPresentation(L){const b=this._tokens[(L<<1)+1];return w.TokenMetadata.getPresentationFromMetadata(b)}getEndOffset(L){return this._tokens[L<<1]}findTokenIndexAtOffset(L){return C.findIndexInTokensArray(this._tokens,L)}inflate(){return this}sliceAndInflate(L,b,v){return new k(this,L,b,v)}static convertToEndOffset(L,b){const u=(L.length>>>1)-1;for(let g=0;g<u;g++)L[g<<1]=L[g+1<<1];L[u<<1]=b}static findIndexInTokensArray(L,b){if(L.length<=2)return 0;let v=0,u=(L.length>>>1)-1;for(;v<u;){const g=v+Math.floor((u-v)/2),n=L[g<<1];if(n===b)return g+1;n<b?v=g+1:n>b&&(u=g)}return v}withInserted(L){if(L.length===0)return this;let b=0,v=0,u="";const g=new Array;let n=0;for(;;){const i=b<this._tokensCount?this._tokens[b<<1]:-1,t=v<L.length?L[v]:null;if(i!==-1&&(t===null||i<=t.offset)){u+=this._text.substring(n,i);const r=this._tokens[(b<<1)+1];g.push(u.length,r),b++,n=i}else if(t){if(t.offset>n){u+=this._text.substring(n,t.offset);const r=this._tokens[(b<<1)+1];g.push(u.length,r),n=t.offset}u+=t.text,g.push(u.length,t.tokenMetadata),v++}else break}return new C(new Uint32Array(g),u,this._languageIdCodec)}}e.LineTokens=C,C.defaultTokenMetadata=(0<<11|1<<15|2<<24)>>>0;class k{constructor(L,b,v,u){this._source=L,this._startOffset=b,this._endOffset=v,this._deltaOffset=u,this._firstTokenIndex=L.findTokenIndexAtOffset(b),this._tokensCount=0;for(let g=this._firstTokenIndex,n=L.getCount();g<n&&!(L.getStartOffset(g)>=v);g++)this._tokensCount++}getMetadata(L){return this._source.getMetadata(this._firstTokenIndex+L)}getLanguageId(L){return this._source.getLanguageId(this._firstTokenIndex+L)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(L){return L instanceof k?this._startOffset===L._startOffset&&this._endOffset===L._endOffset&&this._deltaOffset===L._deltaOffset&&this._source.slicedEquals(L._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(L){return this._source.getForeground(this._firstTokenIndex+L)}getEndOffset(L){const b=this._source.getEndOffset(this._firstTokenIndex+L);return Math.min(this._endOffset,b)-this._startOffset+this._deltaOffset}getClassName(L){return this._source.getClassName(this._firstTokenIndex+L)}getInlineStyle(L,b){return this._source.getInlineStyle(this._firstTokenIndex+L,b)}getPresentation(L){return this._source.getPresentation(this._firstTokenIndex+L)}findTokenIndexAtOffset(L){return this._source.findTokenIndexAtOffset(L+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}}),define(re[431],ae([1,0,82]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32Array=e.ContiguousTokensEditing=e.EMPTY_LINE_TOKENS=void 0,e.EMPTY_LINE_TOKENS=new Uint32Array(0).buffer;class C{static deleteBeginning(L,b){return L===null||L===e.EMPTY_LINE_TOKENS?L:C.delete(L,0,b)}static deleteEnding(L,b){if(L===null||L===e.EMPTY_LINE_TOKENS)return L;const v=k(L),u=v[v.length-2];return C.delete(L,b,u)}static delete(L,b,v){if(L===null||L===e.EMPTY_LINE_TOKENS||b===v)return L;const u=k(L),g=u.length>>>1;if(b===0&&u[u.length-2]===v)return e.EMPTY_LINE_TOKENS;const n=w.LineTokens.findIndexInTokensArray(u,b),i=n>0?u[n-1<<1]:0,t=u[n<<1];if(v<t){const s=v-b;for(let o=n;o<g;o++)u[o<<1]-=s;return L}let r,l;i!==b?(u[n<<1]=b,r=n+1<<1,l=b):(r=n<<1,l=i);const d=v-b;for(let s=n+1;s<g;s++){const o=u[s<<1]-d;o>l&&(u[r++]=o,u[r++]=u[(s<<1)+1],l=o)}if(r===u.length)return L;const a=new Uint32Array(r);return a.set(u.subarray(0,r),0),a.buffer}static append(L,b){if(b===e.EMPTY_LINE_TOKENS)return L;if(L===e.EMPTY_LINE_TOKENS)return b;if(L===null)return L;if(b===null)return null;const v=k(L),u=k(b),g=u.length>>>1,n=new Uint32Array(v.length+u.length);n.set(v,0);let i=v.length;const t=v[v.length-2];for(let r=0;r<g;r++)n[i++]=u[r<<1]+t,n[i++]=u[(r<<1)+1];return n.buffer}static insert(L,b,v){if(L===null||L===e.EMPTY_LINE_TOKENS)return L;const u=k(L),g=u.length>>>1;let n=w.LineTokens.findIndexInTokensArray(u,b);n>0&&u[n-1<<1]===b&&n--;for(let i=n;i<g;i++)u[i<<1]+=v;return L}}e.ContiguousTokensEditing=C;function k(I){return I instanceof Uint32Array?I:new Uint32Array(I)}e.toUint32Array=k}),define(re[432],ae([1,0,18,11,431,82,109]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousTokensStore=void 0;class b{constructor(g){this._lineTokens=[],this._len=0,this._languageIdCodec=g}flush(){this._lineTokens=[],this._len=0}getTokens(g,n,i){let t=null;if(n<this._len&&(t=this._lineTokens[n]),t!==null&&t!==k.EMPTY_LINE_TOKENS)return new I.LineTokens((0,k.toUint32Array)(t),i,this._languageIdCodec);const r=new Uint32Array(2);return r[0]=i.length,r[1]=v(this._languageIdCodec.encodeLanguageId(g)),new I.LineTokens(r,i,this._languageIdCodec)}static _massageTokens(g,n,i){const t=i?(0,k.toUint32Array)(i):null;if(n===0){let r=!1;if(t&&t.length>1&&(r=L.TokenMetadata.getLanguageId(t[1])!==g),!r)return k.EMPTY_LINE_TOKENS}if(!t||t.length===0){const r=new Uint32Array(2);return r[0]=n,r[1]=v(g),r.buffer}return t[t.length-2]=n,t.byteOffset===0&&t.byteLength===t.buffer.byteLength?t.buffer:t}_ensureLine(g){for(;g>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(g,n){n!==0&&(g+n>this._len&&(n=this._len-g),this._lineTokens.splice(g,n),this._len-=n)}_insertLines(g,n){if(n===0)return;const i=[];for(let t=0;t<n;t++)i[t]=null;this._lineTokens=w.arrayInsert(this._lineTokens,g,i),this._len+=n}setTokens(g,n,i,t,r){const l=b._massageTokens(this._languageIdCodec.encodeLanguageId(g),i,t);this._ensureLine(n);const d=this._lineTokens[n];return this._lineTokens[n]=l,r?!b._equals(d,l):!1}static _equals(g,n){if(!g||!n)return!g&&!n;const i=(0,k.toUint32Array)(g),t=(0,k.toUint32Array)(n);if(i.length!==t.length)return!1;for(let r=0,l=i.length;r<l;r++)if(i[r]!==t[r])return!1;return!0}acceptEdit(g,n,i){this._acceptDeleteRange(g),this._acceptInsertText(new C.Position(g.startLineNumber,g.startColumn),n,i)}_acceptDeleteRange(g){const n=g.startLineNumber-1;if(n>=this._len)return;if(g.startLineNumber===g.endLineNumber){if(g.startColumn===g.endColumn)return;this._lineTokens[n]=k.ContiguousTokensEditing.delete(this._lineTokens[n],g.startColumn-1,g.endColumn-1);return}this._lineTokens[n]=k.ContiguousTokensEditing.deleteEnding(this._lineTokens[n],g.startColumn-1);const i=g.endLineNumber-1;let t=null;i<this._len&&(t=k.ContiguousTokensEditing.deleteBeginning(this._lineTokens[i],g.endColumn-1)),this._lineTokens[n]=k.ContiguousTokensEditing.append(this._lineTokens[n],t),this._deleteLines(g.startLineNumber,g.endLineNumber-g.startLineNumber)}_acceptInsertText(g,n,i){if(n===0&&i===0)return;const t=g.lineNumber-1;if(!(t>=this._len)){if(n===0){this._lineTokens[t]=k.ContiguousTokensEditing.insert(this._lineTokens[t],g.column-1,i);return}this._lineTokens[t]=k.ContiguousTokensEditing.deleteEnding(this._lineTokens[t],g.column-1),this._lineTokens[t]=k.ContiguousTokensEditing.insert(this._lineTokens[t],g.column-1,i),this._insertLines(g.lineNumber,n)}}}e.ContiguousTokensStore=b;function v(u){return(u<<0|0<<8|0<<11|1<<15|2<<24|1024)>>>0}}),define(re[433],ae([1,0,11,3,126]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseLineTokens=e.SparseMultilineTokens=void 0;class I{constructor(u,g){this._startLineNumber=u,this._tokens=g,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}static create(u,g){return new I(u,new L(g))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(u){return this._startLineNumber<=u&&u<=this._endLineNumber?this._tokens.getLineTokens(u-this._startLineNumber):null}getRange(){const u=this._tokens.getRange();return u&&new C.Range(this._startLineNumber+u.startLineNumber,u.startColumn,this._startLineNumber+u.endLineNumber,u.endColumn)}removeTokens(u){const g=u.startLineNumber-this._startLineNumber,n=u.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(g,u.startColumn-1,n,u.endColumn-1),this._updateEndLineNumber()}split(u){const g=u.startLineNumber-this._startLineNumber,n=u.endLineNumber-this._startLineNumber,[i,t,r]=this._tokens.split(g,u.startColumn-1,n,u.endColumn-1);return[new I(this._startLineNumber,i),new I(this._startLineNumber+r,t)]}applyEdit(u,g){const[n,i,t]=(0,k.countEOL)(g);this.acceptEdit(u,n,i,t,g.length>0?g.charCodeAt(0):0)}acceptEdit(u,g,n,i,t){this._acceptDeleteRange(u),this._acceptInsertText(new w.Position(u.startLineNumber,u.startColumn),g,n,i,t),this._updateEndLineNumber()}_acceptDeleteRange(u){if(u.startLineNumber===u.endLineNumber&&u.startColumn===u.endColumn)return;const g=u.startLineNumber-this._startLineNumber,n=u.endLineNumber-this._startLineNumber;if(n<0){const t=n-g;this._startLineNumber-=t;return}const i=this._tokens.getMaxDeltaLine();if(!(g>=i+1)){if(g<0&&n>=i+1){this._startLineNumber=0,this._tokens.clear();return}if(g<0){const t=-g;this._startLineNumber-=t,this._tokens.acceptDeleteRange(u.startColumn-1,0,0,n,u.endColumn-1)}else this._tokens.acceptDeleteRange(0,g,u.startColumn-1,n,u.endColumn-1)}}_acceptInsertText(u,g,n,i,t){if(g===0&&n===0)return;const r=u.lineNumber-this._startLineNumber;if(r<0){this._startLineNumber+=g;return}const l=this._tokens.getMaxDeltaLine();r>=l+1||this._tokens.acceptInsertText(r,u.column-1,g,n,i,t)}}e.SparseMultilineTokens=I;class L{constructor(u){this._tokens=u,this._tokenCount=u.length/4}toString(u){const g=[];for(let n=0;n<this._tokenCount;n++)g.push(`(${this._getDeltaLine(n)+u},${this._getStartCharacter(n)}-${this._getEndCharacter(n)})`);return`[${g.join(",")}]`}getMaxDeltaLine(){const u=this._getTokenCount();return u===0?-1:this._getDeltaLine(u-1)}getRange(){const u=this._getTokenCount();if(u===0)return null;const g=this._getStartCharacter(0),n=this._getDeltaLine(u-1),i=this._getEndCharacter(u-1);return new C.Range(0,g+1,n,i+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(u){return this._tokens[4*u]}_getStartCharacter(u){return this._tokens[4*u+1]}_getEndCharacter(u){return this._tokens[4*u+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(u){let g=0,n=this._getTokenCount()-1;for(;g<n;){const i=g+Math.floor((n-g)/2),t=this._getDeltaLine(i);if(t<u)g=i+1;else if(t>u)n=i-1;else{let r=i;for(;r>g&&this._getDeltaLine(r-1)===u;)r--;let l=i;for(;l<n&&this._getDeltaLine(l+1)===u;)l++;return new b(this._tokens.subarray(4*r,4*l+4))}}return this._getDeltaLine(g)===u?new b(this._tokens.subarray(4*g,4*g+4)):null}clear(){this._tokenCount=0}removeTokens(u,g,n,i){const t=this._tokens,r=this._tokenCount;let l=0,d=!1,a=0;for(let s=0;s<r;s++){const o=4*s,c=t[o],f=t[o+1],p=t[o+2],_=t[o+3];if((c>u||c===u&&p>=g)&&(c<n||c===n&&f<=i))d=!0;else{if(l===0&&(a=c),d){const m=4*l;t[m]=c-a,t[m+1]=f,t[m+2]=p,t[m+3]=_}l++}}return this._tokenCount=l,a}split(u,g,n,i){const t=this._tokens,r=this._tokenCount,l=[],d=[];let a=l,s=0,o=0;for(let c=0;c<r;c++){const f=4*c,p=t[f],_=t[f+1],m=t[f+2],h=t[f+3];if(p>u||p===u&&m>=g){if(p<n||p===n&&_<=i)continue;a!==d&&(a=d,s=0,o=p)}a[s++]=p-o,a[s++]=_,a[s++]=m,a[s++]=h}return[new L(new Uint32Array(l)),new L(new Uint32Array(d)),o]}acceptDeleteRange(u,g,n,i,t){const r=this._tokens,l=this._tokenCount,d=i-g;let a=0,s=!1;for(let o=0;o<l;o++){const c=4*o;let f=r[c],p=r[c+1],_=r[c+2];const m=r[c+3];if(f<g||f===g&&_<=n){a++;continue}else if(f===g&&p<n)f===i&&_>t?_-=t-n:_=n;else if(f===g&&p===n)if(f===i&&_>t)_-=t-n;else{s=!0;continue}else if(f<i||f===i&&p<t)if(f===i&&_>t)f===g?(p=n,_=p+(_-t)):(p=0,_=p+(_-t));else{s=!0;continue}else if(f>i){if(d===0&&!s){a=l;break}f-=d}else if(f===i&&p>=t)u&&f===0&&(p+=u,_+=u),f-=d,p-=t-n,_-=t-n;else throw new Error("Not possible!");const h=4*a;r[h]=f,r[h+1]=p,r[h+2]=_,r[h+3]=m,a++}this._tokenCount=a}acceptInsertText(u,g,n,i,t,r){const l=n===0&&i===1&&(r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122),d=this._tokens,a=this._tokenCount;for(let s=0;s<a;s++){const o=4*s;let c=d[o],f=d[o+1],p=d[o+2];if(!(c<u||c===u&&p<g)){if(c===u&&p===g)if(l)p+=1;else continue;else if(c===u&&f<g&&g<p)n===0?p+=i:p=g;else{if(c===u&&f===g&&l)continue;if(c===u)if(c+=n,n===0)f+=i,p+=i;else{const _=p-f;f=t+(f-g),p=f+_}else c+=n}d[o]=c,d[o+1]=f,d[o+2]=p}}}}class b{constructor(u){this._tokens=u}getCount(){return this._tokens.length/4}getStartCharacter(u){return this._tokens[4*u+1]}getEndCharacter(u){return this._tokens[4*u+2]}getMetadata(u){return this._tokens[4*u+3]}}e.SparseLineTokens=b}),define(re[434],ae([1,0,18,82]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseTokensStore=void 0;class k{constructor(L){this._pieces=[],this._isComplete=!1,this._languageIdCodec=L}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(L,b){this._pieces=L||[],this._isComplete=b}setPartial(L,b){let v=L;if(b.length>0){const g=b[0].getRange(),n=b[b.length-1].getRange();if(!g||!n)return L;v=L.plusRange(g).plusRange(n)}let u=null;for(let g=0,n=this._pieces.length;g<n;g++){const i=this._pieces[g];if(i.endLineNumber<v.startLineNumber)continue;if(i.startLineNumber>v.endLineNumber){u=u||{index:g};break}if(i.removeTokens(v),i.isEmpty()){this._pieces.splice(g,1),g--,n--;continue}if(i.endLineNumber<v.startLineNumber)continue;if(i.startLineNumber>v.endLineNumber){u=u||{index:g};continue}const[t,r]=i.split(v);if(t.isEmpty()){u=u||{index:g};continue}r.isEmpty()||(this._pieces.splice(g,1,t,r),g++,n++,u=u||{index:g})}return u=u||{index:this._pieces.length},b.length>0&&(this._pieces=w.arrayInsert(this._pieces,u.index,b)),v}isComplete(){return this._isComplete}addSparseTokens(L,b){if(b.getLineContent().length===0)return b;const v=this._pieces;if(v.length===0)return b;const u=k._findFirstPieceWithLine(v,L),g=v[u].getLineTokens(L);if(!g)return b;const n=b.getCount(),i=g.getCount();let t=0;const r=[];let l=0,d=0;const a=(s,o)=>{s!==d&&(d=s,r[l++]=s,r[l++]=o)};for(let s=0;s<i;s++){const o=g.getStartCharacter(s),c=g.getEndCharacter(s),f=g.getMetadata(s),p=((f&1?2048:0)|(f&2?4096:0)|(f&4?8192:0)|(f&8?16384:0)|(f&16?16744448:0)|(f&32?4278190080:0))>>>0,_=~p>>>0;for(;t<n&&b.getEndOffset(t)<=o;)a(b.getEndOffset(t),b.getMetadata(t)),t++;for(t<n&&b.getStartOffset(t)<o&&a(o,b.getMetadata(t));t<n&&b.getEndOffset(t)<c;)a(b.getEndOffset(t),b.getMetadata(t)&_|f&p),t++;if(t<n)a(c,b.getMetadata(t)&_|f&p),b.getEndOffset(t)===c&&t++;else{const m=Math.min(Math.max(0,t-1),n-1);a(c,b.getMetadata(m)&_|f&p)}}for(;t<n;)a(b.getEndOffset(t),b.getMetadata(t)),t++;return new C.LineTokens(new Uint32Array(r),b.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(L,b){let v=0,u=L.length-1;for(;v<u;){let g=v+Math.floor((u-v)/2);if(L[g].endLineNumber<b)v=g+1;else if(L[g].startLineNumber>b)u=g-1;else{for(;g>v&&L[g-1].startLineNumber<=b&&b<=L[g-1].endLineNumber;)g--;return g}}return v}acceptEdit(L,b,v,u,g){for(const n of this._pieces)n.acceptEdit(L,b,v,u,g)}}e.SparseTokensStore=k}),define(re[129],ae([1,0,2]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class C extends w.Disposable{constructor(){super();this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(I){return!1}onCompositionEnd(I){return!1}onConfigurationChanged(I){return!1}onCursorStateChanged(I){return!1}onDecorationsChanged(I){return!1}onFlushed(I){return!1}onFocusChanged(I){return!1}onLanguageConfigurationChanged(I){return!1}onLineMappingChanged(I){return!1}onLinesChanged(I){return!1}onLinesDeleted(I){return!1}onLinesInserted(I){return!1}onRevealRangeRequest(I){return!1}onScrollChanged(I){return!1}onThemeChanged(I){return!1}onTokensChanged(I){return!1}onTokensColorsChanged(I){return!1}onZonesChanged(I){return!1}handleEvents(I){let L=!1;for(let b=0,v=I.length;b<v;b++){const u=I[b];switch(u.type){case 0:this.onCompositionStart(u)&&(L=!0);break;case 1:this.onCompositionEnd(u)&&(L=!0);break;case 2:this.onConfigurationChanged(u)&&(L=!0);break;case 3:this.onCursorStateChanged(u)&&(L=!0);break;case 4:this.onDecorationsChanged(u)&&(L=!0);break;case 5:this.onFlushed(u)&&(L=!0);break;case 6:this.onFocusChanged(u)&&(L=!0);break;case 7:this.onLanguageConfigurationChanged(u)&&(L=!0);break;case 8:this.onLineMappingChanged(u)&&(L=!0);break;case 9:this.onLinesChanged(u)&&(L=!0);break;case 10:this.onLinesDeleted(u)&&(L=!0);break;case 11:this.onLinesInserted(u)&&(L=!0);break;case 12:this.onRevealRangeRequest(u)&&(L=!0);break;case 13:this.onScrollChanged(u)&&(L=!0);break;case 15:this.onTokensChanged(u)&&(L=!0);break;case 14:this.onThemeChanged(u)&&(L=!0);break;case 16:this.onTokensColorsChanged(u)&&(L=!0);break;case 17:this.onZonesChanged(u)&&(L=!0);break;default:console.info("View received unknown event: "),console.info(u)}}L&&(this._shouldRender=!0)}}e.ViewEventHandler=C}),define(re[112],ae([1,0,129]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class C extends w.ViewEventHandler{}e.DynamicViewOverlay=C}),define(re[47],ae([1,0,129]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class C extends w.ViewEventHandler{constructor(L){super();this._context=L,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=C;class k{static write(L,b){L.setAttribute("data-mprt",String(b))}static read(L){const b=L.getAttribute("data-mprt");return b===null?0:parseInt(b,10)}static collect(L,b){const v=[];let u=0;for(;L&&L!==document.body&&L!==b;)L.nodeType===L.ELEMENT_NODE&&(v[u++]=this.read(L)),L=L.parentElement;const g=new Uint8Array(u);for(let n=0;n<u;n++)g[n]=v[u-n-1];return g}}e.PartFingerprints=k}),define(re[435],ae([1,0,33,47,353]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockDecorations=void 0;class k extends C.ViewPart{constructor(L){super(L);this.blocks=[],this.contentWidth=-1,this.domNode=(0,w.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let L=!1;const v=this._context.configuration.options.get(133),u=v.contentWidth-v.verticalScrollbarWidth;return this.contentWidth!==u&&(this.contentWidth=u,L=!0),L}dispose(){super.dispose()}onConfigurationChanged(L){return this.update()}onScrollChanged(L){return L.scrollTopChanged||L.scrollLeftChanged}onDecorationsChanged(L){return!0}onZonesChanged(L){return!0}prepareRender(L){}render(L){let b=0;const v=L.getDecorationsInViewport();for(const u of v){if(!u.options.blockClassName)continue;let g=this.blocks[b];g||(g=this.blocks[b]=(0,w.createFastDomNode)(document.createElement("div")),this.domNode.appendChild(g));const n=L.getVerticalOffsetForLineNumber(u.range.startLineNumber),i=L.getVerticalOffsetForLineNumber(u.range.endLineNumber+1);g.setClassName("blockDecorations-block "+u.options.blockClassName),g.setLeft(L.scrollLeft),g.setWidth(this.contentWidth),g.setTop(n),g.setHeight(i-n),b++}for(let u=b;u<this.blocks.length;u++)this.blocks[u].domNode.remove();this.blocks.length=b}}e.BlockDecorations=k}),define(re[436],ae([1,0,112,3,125,355]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class I extends w.DynamicViewOverlay{constructor(b){super();this._context=b;const v=this._context.configuration.options;this._lineHeight=v.get(61),this._typicalHalfwidthCharacterWidth=v.get(46).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(b){const v=this._context.configuration.options;return this._lineHeight=v.get(61),this._typicalHalfwidthCharacterWidth=v.get(46).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(b){return!0}onFlushed(b){return!0}onLinesChanged(b){return!0}onLinesDeleted(b){return!0}onLinesInserted(b){return!0}onScrollChanged(b){return b.scrollTopChanged||b.scrollWidthChanged}onZonesChanged(b){return!0}prepareRender(b){const v=b.getDecorationsInViewport();let u=[],g=0;for(let r=0,l=v.length;r<l;r++){const d=v[r];d.options.className&&(u[g++]=d)}u=u.sort((r,l)=>{if(r.options.zIndex<l.options.zIndex)return-1;if(r.options.zIndex>l.options.zIndex)return 1;const d=r.options.className,a=l.options.className;return d<a?-1:d>a?1:C.Range.compareRangesUsingStarts(r.range,l.range)});const n=b.visibleRange.startLineNumber,i=b.visibleRange.endLineNumber,t=[];for(let r=n;r<=i;r++){const l=r-n;t[l]=""}this._renderWholeLineDecorations(b,u,t),this._renderNormalDecorations(b,u,t),this._renderResult=t}_renderWholeLineDecorations(b,v,u){const g=String(this._lineHeight),n=b.visibleRange.startLineNumber,i=b.visibleRange.endLineNumber;for(let t=0,r=v.length;t<r;t++){const l=v[t];if(!l.options.isWholeLine)continue;const d='<div class="cdr '+l.options.className+'" style="left:0;width:100%;height:'+g+'px;"></div>',a=Math.max(l.range.startLineNumber,n),s=Math.min(l.range.endLineNumber,i);for(let o=a;o<=s;o++){const c=o-n;u[c]+=d}}}_renderNormalDecorations(b,v,u){const g=String(this._lineHeight),n=b.visibleRange.startLineNumber;let i=null,t=!1,r=null;for(let l=0,d=v.length;l<d;l++){const a=v[l];if(a.options.isWholeLine)continue;const s=a.options.className,o=Boolean(a.options.showIfCollapsed);let c=a.range;if(o&&c.endColumn===1&&c.endLineNumber!==c.startLineNumber&&(c=new C.Range(c.startLineNumber,c.startColumn,c.endLineNumber-1,this._context.viewModel.getLineMaxColumn(c.endLineNumber-1))),i===s&&t===o&&C.Range.areIntersectingOrTouching(r,c)){r=C.Range.plusRange(r,c);continue}i!==null&&this._renderNormalDecoration(b,r,i,t,g,n,u),i=s,t=o,r=c}i!==null&&this._renderNormalDecoration(b,r,i,t,g,n,u)}_renderNormalDecoration(b,v,u,g,n,i,t){const r=b.linesVisibleRangesForRange(v,u==="findMatch");if(!!r)for(let l=0,d=r.length;l<d;l++){const a=r[l];if(a.outsideRenderedLine)continue;const s=a.lineNumber-i;if(g&&a.ranges.length===1){const o=a.ranges[0];if(o.width<this._typicalHalfwidthCharacterWidth){const c=Math.round(o.left+o.width/2),f=Math.max(0,Math.round(c-this._typicalHalfwidthCharacterWidth/2));a.ranges[0]=new k.HorizontalRange(f,this._typicalHalfwidthCharacterWidth)}}for(let o=0,c=a.ranges.length;o<c;o++){const f=a.ranges[o],p='<div class="cdr '+u+'" style="left:'+String(f.left)+"px;width:"+String(f.width)+"px;height:"+n+'px;"></div>';t[s]+=p}}}render(b,v){if(!this._renderResult)return"";const u=v-b;return u<0||u>=this._renderResult.length?"":this._renderResult[u]}}e.DecorationsOverlay=I}),define(re[186],ae([1,0,112,356]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginOverlay=e.DedupOverlay=e.DecorationToRender=void 0;class C{constructor(b,v,u){this._decorationToRenderBrand=void 0,this.startLineNumber=+b,this.endLineNumber=+v,this.className=String(u)}}e.DecorationToRender=C;class k extends w.DynamicViewOverlay{_render(b,v,u){const g=[];for(let t=b;t<=v;t++){const r=t-b;g[r]=[]}if(u.length===0)return g;u.sort((t,r)=>t.className===r.className?t.startLineNumber===r.startLineNumber?t.endLineNumber-r.endLineNumber:t.startLineNumber-r.startLineNumber:t.className<r.className?-1:1);let n=null,i=0;for(let t=0,r=u.length;t<r;t++){const l=u[t],d=l.className;let a=Math.max(l.startLineNumber,b)-b;const s=Math.min(l.endLineNumber,v)-b;n===d?(a=Math.max(i+1,a),i=Math.max(i,s)):(n=d,i=s);for(let o=a;o<=i;o++)g[o].push(n)}return g}}e.DedupOverlay=k;class I extends k{constructor(b){super();this._context=b;const v=this._context.configuration.options,u=v.get(133);this._lineHeight=v.get(61),this._glyphMargin=v.get(52),this._glyphMarginLeft=u.glyphMarginLeft,this._glyphMarginWidth=u.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(b){const v=this._context.configuration.options,u=v.get(133);return this._lineHeight=v.get(61),this._glyphMargin=v.get(52),this._glyphMarginLeft=u.glyphMarginLeft,this._glyphMarginWidth=u.glyphMarginWidth,!0}onDecorationsChanged(b){return!0}onFlushed(b){return!0}onLinesChanged(b){return!0}onLinesDeleted(b){return!0}onLinesInserted(b){return!0}onScrollChanged(b){return b.scrollTopChanged}onZonesChanged(b){return!0}_getDecorations(b){const v=b.getDecorationsInViewport(),u=[];let g=0;for(let n=0,i=v.length;n<i;n++){const t=v[n],r=t.options.glyphMarginClassName;r&&(u[g++]=new C(t.range.startLineNumber,t.range.endLineNumber,r))}return u}prepareRender(b){if(!this._glyphMargin){this._renderResult=null;return}const v=b.visibleRange.startLineNumber,u=b.visibleRange.endLineNumber,g=this._render(v,u,this._getDecorations(b)),n=this._lineHeight.toString(),i=this._glyphMarginLeft.toString(),t=this._glyphMarginWidth.toString(),r='" style="left:'+i+"px;width:"+t+"px;height:"+n+'px;"></div>',l=[];for(let d=v;d<=u;d++){const a=d-v,s=g[a];s.length===0?l[a]="":l[a]='<div class="cgmr codicon '+s.join(" ")+r}this._renderResult=l}render(b,v){if(!this._renderResult)return"";const u=v-b;return u<0||u>=this._renderResult.length?"":this._renderResult[u]}}e.GlyphMarginOverlay=I}),define(re[437],ae([1,0,186,360]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class C extends w.DedupOverlay{constructor(I){super();this._context=I;const b=this._context.configuration.options.get(133);this._decorationsLeft=b.decorationsLeft,this._decorationsWidth=b.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(I){const b=this._context.configuration.options.get(133);return this._decorationsLeft=b.decorationsLeft,this._decorationsWidth=b.decorationsWidth,!0}onDecorationsChanged(I){return!0}onFlushed(I){return!0}onLinesChanged(I){return!0}onLinesDeleted(I){return!0}onLinesInserted(I){return!0}onScrollChanged(I){return I.scrollTopChanged}onZonesChanged(I){return!0}_getDecorations(I){const L=I.getDecorationsInViewport(),b=[];let v=0;for(let u=0,g=L.length;u<g;u++){const n=L[u],i=n.options.linesDecorationsClassName;i&&(b[v++]=new w.DecorationToRender(n.range.startLineNumber,n.range.endLineNumber,i));const t=n.options.firstLineDecorationClassName;t&&(b[v++]=new w.DecorationToRender(n.range.startLineNumber,n.range.startLineNumber,t))}return b}prepareRender(I){const L=I.visibleRange.startLineNumber,b=I.visibleRange.endLineNumber,v=this._render(L,b,this._getDecorations(I)),u=this._decorationsLeft.toString(),g=this._decorationsWidth.toString(),n='" style="left:'+u+"px;width:"+g+'px;"></div>',i=[];for(let t=L;t<=b;t++){const r=t-L,l=v[r];let d="";for(let a=0,s=l.length;a<s;a++)d+='<div class="cldr '+l[a]+n;i[r]=d}this._renderResult=i}render(I,L){return this._renderResult?this._renderResult[L-I]:""}}e.LinesDecorationsOverlay=C}),define(re[244],ae([1,0,33,47]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class k extends C.ViewPart{constructor(L){super(L);const b=this._context.configuration.options,v=b.get(133);this._canUseLayerHinting=!b.get(28),this._contentLeft=v.contentLeft,this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,this._domNode=(0,w.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(k.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,w.createFastDomNode)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(k.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(L){const b=this._context.configuration.options,v=b.get(133);return this._canUseLayerHinting=!b.get(28),this._contentLeft=v.contentLeft,this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,!0}onScrollChanged(L){return super.onScrollChanged(L)||L.scrollTopChanged}prepareRender(L){}render(L){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const b=L.scrollTop-L.bigNumbersDelta;this._domNode.setTop(-b);const v=Math.min(L.scrollHeight,1e6);this._domNode.setHeight(v),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(v)}}e.Margin=k,k.CLASS_NAME="glyph-margin",k.OUTER_CLASS_NAME="margin"}),define(re[438],ae([1,0,186,361]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class C extends w.DedupOverlay{constructor(I){super();this._context=I,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(I){return!0}onDecorationsChanged(I){return!0}onFlushed(I){return!0}onLinesChanged(I){return!0}onLinesDeleted(I){return!0}onLinesInserted(I){return!0}onScrollChanged(I){return I.scrollTopChanged}onZonesChanged(I){return!0}_getDecorations(I){const L=I.getDecorationsInViewport(),b=[];let v=0;for(let u=0,g=L.length;u<g;u++){const n=L[u],i=n.options.marginClassName;i&&(b[v++]=new w.DecorationToRender(n.range.startLineNumber,n.range.endLineNumber,i))}return b}prepareRender(I){const L=I.visibleRange.startLineNumber,b=I.visibleRange.endLineNumber,v=this._render(L,b,this._getDecorations(I)),u=[];for(let g=L;g<=b;g++){const n=g-L,i=v[n];let t="";for(let r=0,l=i.length;r<l;r++)t+='<div class="cmdr '+i[r]+'" style=""></div>';u[n]=t}this._renderResult=u}render(I,L){return this._renderResult?this._renderResult[L-I]:""}}e.MarginViewLineDecorationsOverlay=C}),define(re[439],ae([1,0,33,47,363]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class k extends C.ViewPart{constructor(L){super(L);const v=this._context.configuration.options.get(133);this._widgets={},this._verticalScrollbarWidth=v.verticalScrollbarWidth,this._minimapWidth=v.minimap.minimapWidth,this._horizontalScrollbarHeight=v.horizontalScrollbarHeight,this._editorHeight=v.height,this._editorWidth=v.width,this._domNode=(0,w.createFastDomNode)(document.createElement("div")),C.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(L){const v=this._context.configuration.options.get(133);return this._verticalScrollbarWidth=v.verticalScrollbarWidth,this._minimapWidth=v.minimap.minimapWidth,this._horizontalScrollbarHeight=v.horizontalScrollbarHeight,this._editorHeight=v.height,this._editorWidth=v.width,!0}addWidget(L){const b=(0,w.createFastDomNode)(L.getDomNode());this._widgets[L.getId()]={widget:L,preference:null,domNode:b},b.setPosition("absolute"),b.setAttribute("widgetId",L.getId()),this._domNode.appendChild(b),this.setShouldRender()}setWidgetPosition(L,b){const v=this._widgets[L.getId()];return v.preference===b?!1:(v.preference=b,this.setShouldRender(),!0)}removeWidget(L){const b=L.getId();if(this._widgets.hasOwnProperty(b)){const u=this._widgets[b].domNode.domNode;delete this._widgets[b],u.parentNode.removeChild(u),this.setShouldRender()}}_renderWidget(L){const b=L.domNode;if(L.preference===null){b.setTop("");return}if(L.preference===0)b.setTop(0),b.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(L.preference===1){const v=b.domNode.clientHeight;b.setTop(this._editorHeight-v-2*this._horizontalScrollbarHeight),b.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else L.preference===2&&(b.setTop(0),b.domNode.style.right="50%")}prepareRender(L){}render(L){this._domNode.setWidth(this._editorWidth);const b=Object.keys(this._widgets);for(let v=0,u=b.length;v<u;v++){const g=b[v];this._renderWidget(this._widgets[g])}}}e.ViewOverlayWidgets=k}),define(re[440],ae([1,0,33,14,47,11]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const L=()=>{throw new Error("Invalid change accessor")};class b extends k.ViewPart{constructor(g){super(g);const n=this._context.configuration.options,i=n.get(133);this._lineHeight=n.get(61),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=(0,w.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,w.createFastDomNode)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const g=this._context.viewLayout.getWhitespaces(),n=new Map;for(const t of g)n.set(t.id,t);let i=!1;return this._context.viewModel.changeWhitespace(t=>{const r=Object.keys(this._zones);for(let l=0,d=r.length;l<d;l++){const a=r[l],s=this._zones[a],o=this._computeWhitespaceProps(s.delegate);s.isInHiddenArea=o.isInHiddenArea;const c=n.get(a);c&&(c.afterLineNumber!==o.afterViewLineNumber||c.height!==o.heightInPx)&&(t.changeOneWhitespace(a,o.afterViewLineNumber,o.heightInPx),this._safeCallOnComputedHeight(s.delegate,o.heightInPx),i=!0)}}),i}onConfigurationChanged(g){const n=this._context.configuration.options,i=n.get(133);return this._lineHeight=n.get(61),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,g.hasChanged(61)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(g){return this._recomputeWhitespacesProps()}onLinesDeleted(g){return!0}onScrollChanged(g){return g.scrollTopChanged||g.scrollWidthChanged}onZonesChanged(g){return!0}onLinesInserted(g){return!0}_getZoneOrdinal(g){return typeof g.afterColumn!="undefined"?g.afterColumn:1e4}_computeWhitespaceProps(g){if(g.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(g),minWidthInPx:this._minWidthInPixels(g)};let n;if(typeof g.afterColumn!="undefined")n=this._context.viewModel.model.validatePosition({lineNumber:g.afterLineNumber,column:g.afterColumn});else{const l=this._context.viewModel.model.validatePosition({lineNumber:g.afterLineNumber,column:1}).lineNumber;n=new I.Position(l,this._context.viewModel.model.getLineMaxColumn(l))}let i;n.column===this._context.viewModel.model.getLineMaxColumn(n.lineNumber)?i=this._context.viewModel.model.validatePosition({lineNumber:n.lineNumber+1,column:1}):i=this._context.viewModel.model.validatePosition({lineNumber:n.lineNumber,column:n.column+1});const t=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(n,g.afterColumnAffinity),r=this._context.viewModel.coordinatesConverter.modelPositionIsVisible(i);return{isInHiddenArea:!r,afterViewLineNumber:t.lineNumber,heightInPx:r?this._heightInPixels(g):0,minWidthInPx:this._minWidthInPixels(g)}}changeViewZones(g){let n=!1;return this._context.viewModel.changeWhitespace(i=>{const t={addZone:r=>(n=!0,this._addZone(i,r)),removeZone:r=>{!r||(n=this._removeZone(i,r)||n)},layoutZone:r=>{!r||(n=this._layoutZone(i,r)||n)}};v(g,t),t.addZone=L,t.removeZone=L,t.layoutZone=L}),n}_addZone(g,n){const i=this._computeWhitespaceProps(n),r={whitespaceId:g.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(n),i.heightInPx,i.minWidthInPx),delegate:n,isInHiddenArea:i.isInHiddenArea,isVisible:!1,domNode:(0,w.createFastDomNode)(n.domNode),marginDomNode:n.marginDomNode?(0,w.createFastDomNode)(n.marginDomNode):null};return this._safeCallOnComputedHeight(r.delegate,i.heightInPx),r.domNode.setPosition("absolute"),r.domNode.domNode.style.width="100%",r.domNode.setDisplay("none"),r.domNode.setAttribute("monaco-view-zone",r.whitespaceId),this.domNode.appendChild(r.domNode),r.marginDomNode&&(r.marginDomNode.setPosition("absolute"),r.marginDomNode.domNode.style.width="100%",r.marginDomNode.setDisplay("none"),r.marginDomNode.setAttribute("monaco-view-zone",r.whitespaceId),this.marginDomNode.appendChild(r.marginDomNode)),this._zones[r.whitespaceId]=r,this.setShouldRender(),r.whitespaceId}_removeZone(g,n){if(this._zones.hasOwnProperty(n)){const i=this._zones[n];return delete this._zones[n],g.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(g,n){if(this._zones.hasOwnProperty(n)){const i=this._zones[n],t=this._computeWhitespaceProps(i.delegate);return i.isInHiddenArea=t.isInHiddenArea,g.changeOneWhitespace(i.whitespaceId,t.afterViewLineNumber,t.heightInPx),this._safeCallOnComputedHeight(i.delegate,t.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(g){if(this._zones.hasOwnProperty(g)){const n=this._zones[g];return Boolean(n.delegate.suppressMouseDown)}return!1}_heightInPixels(g){return typeof g.heightInPx=="number"?g.heightInPx:typeof g.heightInLines=="number"?this._lineHeight*g.heightInLines:this._lineHeight}_minWidthInPixels(g){return typeof g.minWidthInPx=="number"?g.minWidthInPx:0}_safeCallOnComputedHeight(g,n){if(typeof g.onComputedHeight=="function")try{g.onComputedHeight(n)}catch(i){(0,C.onUnexpectedError)(i)}}_safeCallOnDomNodeTop(g,n){if(typeof g.onDomNodeTop=="function")try{g.onDomNodeTop(n)}catch(i){(0,C.onUnexpectedError)(i)}}prepareRender(g){}render(g){const n=g.viewportData.whitespaceViewportData,i={};let t=!1;for(const l of n)this._zones[l.id].isInHiddenArea||(i[l.id]=l,t=!0);const r=Object.keys(this._zones);for(let l=0,d=r.length;l<d;l++){const a=r[l],s=this._zones[a];let o=0,c=0,f="none";i.hasOwnProperty(a)?(o=i[a].verticalOffset-g.bigNumbersDelta,c=i[a].height,f="block",s.isVisible||(s.domNode.setAttribute("monaco-visible-view-zone","true"),s.isVisible=!0),this._safeCallOnDomNodeTop(s.delegate,g.getScrolledTopFromAbsoluteTop(i[a].verticalOffset))):(s.isVisible&&(s.domNode.removeAttribute("monaco-visible-view-zone"),s.isVisible=!1),this._safeCallOnDomNodeTop(s.delegate,g.getScrolledTopFromAbsoluteTop(-1e6))),s.domNode.setTop(o),s.domNode.setHeight(c),s.domNode.setDisplay(f),s.marginDomNode&&(s.marginDomNode.setTop(o),s.marginDomNode.setHeight(c),s.marginDomNode.setDisplay(f))}t&&(this.domNode.setWidth(Math.max(g.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=b;function v(u,g){try{return u(g)}catch(n){(0,C.onUnexpectedError)(n)}}}),define(re[187],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class w{constructor(){this.type=0}}e.ViewCompositionStartEvent=w;class C{constructor(){this.type=1}}e.ViewCompositionEndEvent=C;class k{constructor(f){this.type=2,this._source=f}hasChanged(f){return this._source.hasChanged(f)}}e.ViewConfigurationChangedEvent=k;class I{constructor(f,p){this.type=3,this.selections=f,this.modelSelections=p}}e.ViewCursorStateChangedEvent=I;class L{constructor(f){this.type=4,f?(this.affectsMinimap=f.affectsMinimap,this.affectsOverviewRuler=f.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}e.ViewDecorationsChangedEvent=L;class b{constructor(){this.type=5}}e.ViewFlushedEvent=b;class v{constructor(f){this.type=6,this.isFocused=f}}e.ViewFocusChangedEvent=v;class u{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=u;class g{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=g;class n{constructor(f,p){this.fromLineNumber=f,this.count=p,this.type=9}}e.ViewLinesChangedEvent=n;class i{constructor(f,p){this.type=10,this.fromLineNumber=f,this.toLineNumber=p}}e.ViewLinesDeletedEvent=i;class t{constructor(f,p){this.type=11,this.fromLineNumber=f,this.toLineNumber=p}}e.ViewLinesInsertedEvent=t;class r{constructor(f,p,_,m,h,S,y){this.source=f,this.minimalReveal=p,this.range=_,this.selections=m,this.verticalType=h,this.revealHorizontal=S,this.scrollType=y,this.type=12}}e.ViewRevealRangeRequestEvent=r;class l{constructor(f){this.type=13,this.scrollWidth=f.scrollWidth,this.scrollLeft=f.scrollLeft,this.scrollHeight=f.scrollHeight,this.scrollTop=f.scrollTop,this.scrollWidthChanged=f.scrollWidthChanged,this.scrollLeftChanged=f.scrollLeftChanged,this.scrollHeightChanged=f.scrollHeightChanged,this.scrollTopChanged=f.scrollTopChanged}}e.ViewScrollChangedEvent=l;class d{constructor(f){this.theme=f,this.type=14}}e.ViewThemeChangedEvent=d;class a{constructor(f){this.type=15,this.ranges=f}}e.ViewTokensChangedEvent=a;class s{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=s;class o{constructor(){this.type=17}}e.ViewZonesChangedEvent=o}),define(re[130],ae([1,0,8]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class C{constructor(v,u,g,n){this.startColumn=v,this.endColumn=u,this.className=g,this.type=n,this._lineDecorationBrand=void 0}static _equals(v,u){return v.startColumn===u.startColumn&&v.endColumn===u.endColumn&&v.className===u.className&&v.type===u.type}static equalsArr(v,u){const g=v.length,n=u.length;if(g!==n)return!1;for(let i=0;i<g;i++)if(!C._equals(v[i],u[i]))return!1;return!0}static extractWrapped(v,u,g){if(v.length===0)return v;const n=u+1,i=g+1,t=g-u,r=[];let l=0;for(const d of v)d.endColumn<=n||d.startColumn>=i||(r[l++]=new C(Math.max(1,d.startColumn-n+1),Math.min(t+1,d.endColumn-n+1),d.className,d.type));return r}static filter(v,u,g,n){if(v.length===0)return[];const i=[];let t=0;for(let r=0,l=v.length;r<l;r++){const d=v[r],a=d.range;if(a.endLineNumber<u||a.startLineNumber>u||a.isEmpty()&&(d.type===0||d.type===3))continue;const s=a.startLineNumber===u?a.startColumn:g,o=a.endLineNumber===u?a.endColumn:n;i[t++]=new C(s,o,d.inlineClassName,d.type)}return i}static _typeCompare(v,u){const g=[2,0,1,3];return g[v]-g[u]}static compare(v,u){if(v.startColumn!==u.startColumn)return v.startColumn-u.startColumn;if(v.endColumn!==u.endColumn)return v.endColumn-u.endColumn;const g=C._typeCompare(v.type,u.type);return g!==0?g:v.className!==u.className?v.className<u.className?-1:1:0}}e.LineDecoration=C;class k{constructor(v,u,g,n){this.startOffset=v,this.endOffset=u,this.className=g,this.metadata=n}}e.DecorationSegment=k;class I{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(v){let u=0;for(let g=0,n=v.length;g<n;g++)u|=v[g];return u}consumeLowerThan(v,u,g){for(;this.count>0&&this.stopOffsets[0]<v;){let n=0;for(;n+1<this.count&&this.stopOffsets[n]===this.stopOffsets[n+1];)n++;g.push(new k(u,this.stopOffsets[n],this.classNames.join(" "),I._metadata(this.metadata))),u=this.stopOffsets[n]+1,this.stopOffsets.splice(0,n+1),this.classNames.splice(0,n+1),this.metadata.splice(0,n+1),this.count-=n+1}return this.count>0&&u<v&&(g.push(new k(u,v-1,this.classNames.join(" "),I._metadata(this.metadata))),u=v),u}insert(v,u,g){if(this.count===0||this.stopOffsets[this.count-1]<=v)this.stopOffsets.push(v),this.classNames.push(u),this.metadata.push(g);else for(let n=0;n<this.count;n++)if(this.stopOffsets[n]>=v){this.stopOffsets.splice(n,0,v),this.classNames.splice(n,0,u),this.metadata.splice(n,0,g);break}this.count++}}class L{static normalize(v,u){if(u.length===0)return[];const g=[],n=new I;let i=0;for(let t=0,r=u.length;t<r;t++){const l=u[t];let d=l.startColumn,a=l.endColumn;const s=l.className,o=l.type===1?2:l.type===2?4:0;if(d>1){const p=v.charCodeAt(d-2);w.isHighSurrogate(p)&&d--}if(a>1){const p=v.charCodeAt(a-2);w.isHighSurrogate(p)&&a--}const c=d-1,f=a-2;i=n.consumeLowerThan(c,i,g),n.count===0&&(i=c),n.insert(f,s,o)}return n.consumeLowerThan(1073741824,i,g),g}}e.LineDecorationsNormalizer=L}),define(re[441],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinePart=void 0;class w{constructor(k,I,L,b){this.endIndex=k,this.type=I,this.metadata=L,this.containsRTL=b,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}e.LinePart=w}),define(re[442],ae([1,0,8]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class C{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(b){this._hasPending=!0,this._inserts.push(b)}change(b){this._hasPending=!0,this._changes.push(b)}remove(b){this._hasPending=!0,this._removes.push(b)}mustCommit(){return this._hasPending}commit(b){if(!this._hasPending)return;const v=this._inserts,u=this._changes,g=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],b._commitPendingChanges(v,u,g)}}class k{constructor(b,v,u,g,n){this.id=b,this.afterLineNumber=v,this.ordinal=u,this.height=g,this.minWidth=n,this.prefixSum=0}}e.EditorWhitespace=k;class I{constructor(b,v,u,g){this._instanceId=w.singleLetterHash(++I.INSTANCE_COUNT),this._pendingChanges=new C,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=b,this._lineHeight=v,this._paddingTop=u,this._paddingBottom=g}static findInsertionIndex(b,v,u){let g=0,n=b.length;for(;g<n;){const i=g+n>>>1;v===b[i].afterLineNumber?u<b[i].ordinal?n=i:g=i+1:v<b[i].afterLineNumber?n=i:g=i+1}return g}setLineHeight(b){this._checkPendingChanges(),this._lineHeight=b}setPadding(b,v){this._paddingTop=b,this._paddingBottom=v}onFlushed(b){this._checkPendingChanges(),this._lineCount=b}changeWhitespace(b){let v=!1;try{b({insertWhitespace:(g,n,i,t)=>{v=!0,g=g|0,n=n|0,i=i|0,t=t|0;const r=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new k(r,g,n,i,t)),r},changeOneWhitespace:(g,n,i)=>{v=!0,n=n|0,i=i|0,this._pendingChanges.change({id:g,newAfterLineNumber:n,newHeight:i})},removeWhitespace:g=>{v=!0,this._pendingChanges.remove({id:g})}})}finally{this._pendingChanges.commit(this)}return v}_commitPendingChanges(b,v,u){if((b.length>0||u.length>0)&&(this._minWidth=-1),b.length+v.length+u.length<=1){for(const r of b)this._insertWhitespace(r);for(const r of v)this._changeOneWhitespace(r.id,r.newAfterLineNumber,r.newHeight);for(const r of u){const l=this._findWhitespaceIndex(r.id);l!==-1&&this._removeWhitespace(l)}return}const g=new Set;for(const r of u)g.add(r.id);const n=new Map;for(const r of v)n.set(r.id,r);const i=r=>{const l=[];for(const d of r)if(!g.has(d.id)){if(n.has(d.id)){const a=n.get(d.id);d.afterLineNumber=a.newAfterLineNumber,d.height=a.newHeight}l.push(d)}return l},t=i(this._arr).concat(i(b));t.sort((r,l)=>r.afterLineNumber===l.afterLineNumber?r.ordinal-l.ordinal:r.afterLineNumber-l.afterLineNumber),this._arr=t,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(b){const v=I.findInsertionIndex(this._arr,b.afterLineNumber,b.ordinal);this._arr.splice(v,0,b),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,v-1)}_findWhitespaceIndex(b){const v=this._arr;for(let u=0,g=v.length;u<g;u++)if(v[u].id===b)return u;return-1}_changeOneWhitespace(b,v,u){const g=this._findWhitespaceIndex(b);if(g!==-1&&(this._arr[g].height!==u&&(this._arr[g].height=u,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,g-1)),this._arr[g].afterLineNumber!==v)){const n=this._arr[g];this._removeWhitespace(g),n.afterLineNumber=v,this._insertWhitespace(n)}}_removeWhitespace(b){this._arr.splice(b,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,b-1)}onLinesDeleted(b,v){this._checkPendingChanges(),b=b|0,v=v|0,this._lineCount-=v-b+1;for(let u=0,g=this._arr.length;u<g;u++){const n=this._arr[u].afterLineNumber;b<=n&&n<=v?this._arr[u].afterLineNumber=b-1:n>v&&(this._arr[u].afterLineNumber-=v-b+1)}}onLinesInserted(b,v){this._checkPendingChanges(),b=b|0,v=v|0,this._lineCount+=v-b+1;for(let u=0,g=this._arr.length;u<g;u++){const n=this._arr[u].afterLineNumber;b<=n&&(this._arr[u].afterLineNumber+=v-b+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(b){this._checkPendingChanges(),b=b|0;let v=Math.max(0,this._prefixSumValidIndex+1);v===0&&(this._arr[0].prefixSum=this._arr[0].height,v++);for(let u=v;u<=b;u++)this._arr[u].prefixSum=this._arr[u-1].prefixSum+this._arr[u].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,b),this._arr[b].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const b=this._lineHeight*this._lineCount,v=this.getWhitespacesTotalHeight();return b+v+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(b){this._checkPendingChanges(),b=b|0;const v=this._findLastWhitespaceBeforeLineNumber(b);return v===-1?0:this.getWhitespacesAccumulatedHeight(v)}_findLastWhitespaceBeforeLineNumber(b){b=b|0;const v=this._arr;let u=0,g=v.length-1;for(;u<=g;){const i=(g-u|0)/2|0,t=u+i|0;if(v[t].afterLineNumber<b){if(t+1>=v.length||v[t+1].afterLineNumber>=b)return t;u=t+1|0}else g=t-1|0}return-1}_findFirstWhitespaceAfterLineNumber(b){b=b|0;const u=this._findLastWhitespaceBeforeLineNumber(b)+1;return u<this._arr.length?u:-1}getFirstWhitespaceIndexAfterLineNumber(b){return this._checkPendingChanges(),b=b|0,this._findFirstWhitespaceAfterLineNumber(b)}getVerticalOffsetForLineNumber(b,v=!1){this._checkPendingChanges(),b=b|0;let u;b>1?u=this._lineHeight*(b-1):u=0;const g=this.getWhitespaceAccumulatedHeightBeforeLineNumber(b-(v?1:0));return u+g+this._paddingTop}getVerticalOffsetAfterLineNumber(b,v=!1){this._checkPendingChanges(),b=b|0;const u=this._lineHeight*b,g=this.getWhitespaceAccumulatedHeightBeforeLineNumber(b+(v?1:0));return u+g+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let b=0;for(let v=0,u=this._arr.length;v<u;v++)b=Math.max(b,this._arr[v].minWidth);this._minWidth=b}return this._minWidth}isAfterLines(b){this._checkPendingChanges();const v=this.getLinesTotalHeight();return b>v}isInTopPadding(b){return this._paddingTop===0?!1:(this._checkPendingChanges(),b<this._paddingTop)}isInBottomPadding(b){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const v=this.getLinesTotalHeight();return b>=v-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(b){if(this._checkPendingChanges(),b=b|0,b<0)return 1;const v=this._lineCount|0,u=this._lineHeight;let g=1,n=v;for(;g<n;){const i=(g+n)/2|0,t=this.getVerticalOffsetForLineNumber(i)|0;if(b>=t+u)g=i+1;else{if(b>=t)return i;n=i}}return g>v?v:g}getLinesViewportData(b,v){this._checkPendingChanges(),b=b|0,v=v|0;const u=this._lineHeight,g=this.getLineNumberAtOrAfterVerticalOffset(b)|0,n=this.getVerticalOffsetForLineNumber(g)|0;let i=this._lineCount|0,t=this.getFirstWhitespaceIndexAfterLineNumber(g)|0;const r=this.getWhitespacesCount()|0;let l,d;t===-1?(t=r,d=i+1,l=0):(d=this.getAfterLineNumberForWhitespaceIndex(t)|0,l=this.getHeightForWhitespaceIndex(t)|0);let a=n,s=a;const o=5e5;let c=0;n>=o&&(c=Math.floor(n/o)*o,c=Math.floor(c/u)*u,s-=c);const f=[],p=b+(v-b)/2;let _=-1;for(let y=g;y<=i;y++){if(_===-1){const E=a,N=a+u;(E<=p&&p<N||E>p)&&(_=y)}for(a+=u,f[y-g]=s,s+=u;d===y;)s+=l,a+=l,t++,t>=r?d=i+1:(d=this.getAfterLineNumberForWhitespaceIndex(t)|0,l=this.getHeightForWhitespaceIndex(t)|0);if(a>=v){i=y;break}}_===-1&&(_=i);const m=this.getVerticalOffsetForLineNumber(i)|0;let h=g,S=i;return h<S&&n<b&&h++,h<S&&m+u>v&&S--,{bigNumbersDelta:c,startLineNumber:g,endLineNumber:i,relativeVerticalOffset:f,centeredLineNumber:_,completelyVisibleStartLineNumber:h,completelyVisibleEndLineNumber:S}}getVerticalOffsetForWhitespaceIndex(b){this._checkPendingChanges(),b=b|0;const v=this.getAfterLineNumberForWhitespaceIndex(b);let u;v>=1?u=this._lineHeight*v:u=0;let g;return b>0?g=this.getWhitespacesAccumulatedHeight(b-1):g=0,u+g+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(b){this._checkPendingChanges(),b=b|0;let v=0,u=this.getWhitespacesCount()-1;if(u<0)return-1;const g=this.getVerticalOffsetForWhitespaceIndex(u),n=this.getHeightForWhitespaceIndex(u);if(b>=g+n)return-1;for(;v<u;){const i=Math.floor((v+u)/2),t=this.getVerticalOffsetForWhitespaceIndex(i),r=this.getHeightForWhitespaceIndex(i);if(b>=t+r)v=i+1;else{if(b>=t)return i;u=i}}return v}getWhitespaceAtVerticalOffset(b){this._checkPendingChanges(),b=b|0;const v=this.getWhitespaceIndexAtOrAfterVerticallOffset(b);if(v<0||v>=this.getWhitespacesCount())return null;const u=this.getVerticalOffsetForWhitespaceIndex(v);if(u>b)return null;const g=this.getHeightForWhitespaceIndex(v),n=this.getIdForWhitespaceIndex(v),i=this.getAfterLineNumberForWhitespaceIndex(v);return{id:n,afterLineNumber:i,verticalOffset:u,height:g}}getWhitespaceViewportData(b,v){this._checkPendingChanges(),b=b|0,v=v|0;const u=this.getWhitespaceIndexAtOrAfterVerticallOffset(b),g=this.getWhitespacesCount()-1;if(u<0)return[];const n=[];for(let i=u;i<=g;i++){const t=this.getVerticalOffsetForWhitespaceIndex(i),r=this.getHeightForWhitespaceIndex(i);if(t>=v)break;n.push({id:this.getIdForWhitespaceIndex(i),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(i),verticalOffset:t,height:r})}return n}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(b){return this._checkPendingChanges(),b=b|0,this._arr[b].id}getAfterLineNumberForWhitespaceIndex(b){return this._checkPendingChanges(),b=b|0,this._arr[b].afterLineNumber}getHeightForWhitespaceIndex(b){return this._checkPendingChanges(),b=b|0,this._arr[b].height}}e.LinesLayout=I,I.INSTANCE_COUNT=0}),define(re[443],ae([1,0,3]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class C{constructor(I,L,b,v){this.selections=I,this.startLineNumber=L.startLineNumber|0,this.endLineNumber=L.endLineNumber|0,this.relativeVerticalOffset=L.relativeVerticalOffset,this.bigNumbersDelta=L.bigNumbersDelta|0,this.whitespaceViewportData=b,this._model=v,this.visibleRange=new w.Range(L.startLineNumber,this._model.getLineMinColumn(L.startLineNumber),L.endLineNumber,this._model.getLineMaxColumn(L.endLineNumber))}getViewLineRenderingData(I){return this._model.getViewportViewLineRenderingData(this.visibleRange,I)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=C}),define(re[74],ae([1,0,8,3]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerDecorationsGroup=e.ViewModelDecoration=e.SingleLineInlineDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.Viewport=void 0;class k{constructor(t,r,l,d){this._viewportBrand=void 0,this.top=t|0,this.left=r|0,this.width=l|0,this.height=d|0}}e.Viewport=k;class I{constructor(t,r){this.tabSize=t,this.data=r}}e.MinimapLinesRenderingData=I;class L{constructor(t,r,l,d,a,s,o){this._viewLineDataBrand=void 0,this.content=t,this.continuesWithWrappedLine=r,this.minColumn=l,this.maxColumn=d,this.startVisibleColumn=a,this.tokens=s,this.inlineDecorations=o}}e.ViewLineData=L;class b{constructor(t,r,l,d,a,s,o,c,f,p){this.minColumn=t,this.maxColumn=r,this.content=l,this.continuesWithWrappedLine=d,this.isBasicASCII=b.isBasicASCII(l,s),this.containsRTL=b.containsRTL(l,this.isBasicASCII,a),this.tokens=o,this.inlineDecorations=c,this.tabSize=f,this.startVisibleColumn=p}static isBasicASCII(t,r){return r?w.isBasicASCII(t):!0}static containsRTL(t,r,l){return!r&&l?w.containsRTL(t):!1}}e.ViewLineRenderingData=b;class v{constructor(t,r,l){this.range=t,this.inlineClassName=r,this.type=l}}e.InlineDecoration=v;class u{constructor(t,r,l,d){this.startOffset=t,this.endOffset=r,this.inlineClassName=l,this.inlineClassNameAffectsLetterSpacing=d}toInlineDecoration(t){return new v(new C.Range(t,this.startOffset+1,t,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}e.SingleLineInlineDecoration=u;class g{constructor(t,r){this._viewModelDecorationBrand=void 0,this.range=t,this.options=r}}e.ViewModelDecoration=g;class n{constructor(t,r,l){this.color=t,this.zIndex=r,this.data=l}static cmp(t,r){return t.zIndex===r.zIndex?t.color<r.color?-1:t.color>r.color?1:0:t.zIndex-r.zIndex}}e.OverviewRulerDecorationsGroup=n}),define(re[444],ae([1,0,82,11,99,74]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createModelLineProjection=void 0;function L(t,r){return t===null?r?v.INSTANCE:u.INSTANCE:new b(t,r)}e.createModelLineProjection=L;class b{constructor(r,l){this._projectionData=r,this._isVisible=l}isVisible(){return this._isVisible}setVisible(r){return this._isVisible=r,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(r,l,d){this._assertVisible();const a=d>0?this._projectionData.breakOffsets[d-1]:0,s=this._projectionData.breakOffsets[d];let o;if(this._projectionData.injectionOffsets!==null){const c=this._projectionData.injectionOffsets.map((p,_)=>new k.LineInjectedText(0,0,p+1,this._projectionData.injectionOptions[_],0));o=k.LineInjectedText.applyInjectedText(r.getLineContent(l),c).substring(a,s)}else o=r.getValueInRange({startLineNumber:l,startColumn:a+1,endLineNumber:l,endColumn:s+1});return d>0&&(o=n(this._projectionData.wrappedTextIndentLength)+o),o}getViewLineLength(r,l,d){return this._assertVisible(),this._projectionData.getLineLength(d)}getViewLineMinColumn(r,l,d){return this._assertVisible(),this._projectionData.getMinOutputOffset(d)+1}getViewLineMaxColumn(r,l,d){return this._assertVisible(),this._projectionData.getMaxOutputOffset(d)+1}getViewLineData(r,l,d){const a=new Array;return this.getViewLinesData(r,l,d,1,0,[!0],a),a[0]}getViewLinesData(r,l,d,a,s,o,c){this._assertVisible();const f=this._projectionData,p=f.injectionOffsets,_=f.injectionOptions;let m=null;if(p){m=[];let S=0,y=0;for(let E=0;E<f.getOutputLineCount();E++){const N=new Array;m[E]=N;const T=E>0?f.breakOffsets[E-1]:0,R=f.breakOffsets[E];for(;y<p.length;){const F=_[y].content.length,O=p[y]+S,D=O+F;if(O>R)break;if(T<D){const M=_[y];if(M.inlineClassName){const P=E>0?f.wrappedTextIndentLength:0,B=P+Math.max(O-T,0),W=P+Math.min(D-T,R);B!==W&&N.push(new I.SingleLineInlineDecoration(B,W,M.inlineClassName,M.inlineClassNameAffectsLetterSpacing))}}if(D<=R)S+=F,y++;else break}}}let h;p?h=r.tokenization.getLineTokens(l).withInserted(p.map((S,y)=>({offset:S,text:_[y].content,tokenMetadata:w.LineTokens.defaultTokenMetadata}))):h=r.tokenization.getLineTokens(l);for(let S=d;S<d+a;S++){const y=s+S-d;if(!o[y]){c[y]=null;continue}c[y]=this._getViewLineData(h,m?m[S]:null,S)}}_getViewLineData(r,l,d){this._assertVisible();const a=this._projectionData,s=d>0?a.wrappedTextIndentLength:0,o=d>0?a.breakOffsets[d-1]:0,c=a.breakOffsets[d],f=r.sliceAndInflate(o,c,s);let p=f.getLineContent();d>0&&(p=n(a.wrappedTextIndentLength)+p);const _=this._projectionData.getMinOutputOffset(d)+1,m=p.length+1,h=d+1<this.getViewLineCount(),S=d===0?0:a.breakOffsetsVisibleColumn[d-1];return new I.ViewLineData(p,h,_,m,S,f,l)}getModelColumnOfViewPosition(r,l){return this._assertVisible(),this._projectionData.translateToInputOffset(r,l-1)+1}getViewPositionOfModelPosition(r,l,d=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(l-1,d).toPosition(r)}getViewLineNumberOfModelPosition(r,l){this._assertVisible();const d=this._projectionData.translateToOutputPosition(l-1);return r+d.outputLineIndex}normalizePosition(r,l,d){const a=l.lineNumber-r;return this._projectionData.normalizeOutputPosition(r,l.column-1,d).toPosition(a)}getInjectedTextAt(r,l){return this._projectionData.getInjectedText(r,l-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class v{constructor(){}isVisible(){return!0}setVisible(r){return r?this:u.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(r,l,d){return r.getLineContent(l)}getViewLineLength(r,l,d){return r.getLineLength(l)}getViewLineMinColumn(r,l,d){return r.getLineMinColumn(l)}getViewLineMaxColumn(r,l,d){return r.getLineMaxColumn(l)}getViewLineData(r,l,d){const a=r.tokenization.getLineTokens(l),s=a.getLineContent();return new I.ViewLineData(s,!1,1,s.length+1,0,a.inflate(),null)}getViewLinesData(r,l,d,a,s,o,c){if(!o[s]){c[s]=null;return}c[s]=this.getViewLineData(r,l,0)}getModelColumnOfViewPosition(r,l){return l}getViewPositionOfModelPosition(r,l){return new C.Position(r,l)}getViewLineNumberOfModelPosition(r,l){return r}normalizePosition(r,l,d){return l}getInjectedTextAt(r,l){return null}}v.INSTANCE=new v;class u{constructor(){}isVisible(){return!1}setVisible(r){return r?v.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(r,l,d){throw new Error("Not supported")}getViewLineLength(r,l,d){throw new Error("Not supported")}getViewLineMinColumn(r,l,d){throw new Error("Not supported")}getViewLineMaxColumn(r,l,d){throw new Error("Not supported")}getViewLineData(r,l,d){throw new Error("Not supported")}getViewLinesData(r,l,d,a,s,o,c){throw new Error("Not supported")}getModelColumnOfViewPosition(r,l){throw new Error("Not supported")}getViewPositionOfModelPosition(r,l){throw new Error("Not supported")}getViewLineNumberOfModelPosition(r,l){throw new Error("Not supported")}normalizePosition(r,l,d){throw new Error("Not supported")}getInjectedTextAt(r,l){throw new Error("Not supported")}}u.INSTANCE=new u;const g=[""];function n(t){if(t>=g.length)for(let r=1;r<=t;r++)g[r]=i(r);return g[t]}function i(t){return new Array(t+1).join(" ")}}),define(re[445],ae([1,0,8,107,99,241]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class L{constructor(a,s){this.classifier=new b(a,s)}static create(a){return new L(a.get(122),a.get(121))}createLineBreaksComputer(a,s,o,c){const f=[],p=[],_=[];return{addRequest:(m,h,S)=>{f.push(m),p.push(h),_.push(S)},finalize:()=>{const m=a.typicalFullwidthCharacterWidth/a.typicalHalfwidthCharacterWidth,h=[];for(let S=0,y=f.length;S<y;S++){const E=p[S],N=_[S];N&&!N.injectionOptions&&!E?h[S]=g(this.classifier,N,f[S],s,o,m,c):h[S]=n(this.classifier,f[S],E,s,o,m,c)}return v.length=0,u.length=0,h}}}}e.MonospaceLineBreaksComputerFactory=L;class b extends C.CharacterClassifier{constructor(a,s){super(0);for(let o=0;o<a.length;o++)this.set(a.charCodeAt(o),1);for(let o=0;o<s.length;o++)this.set(s.charCodeAt(o),2)}get(a){return a>=0&&a<256?this._asciiMap[a]:a>=12352&&a<=12543||a>=13312&&a<=19903||a>=19968&&a<=40959?3:this._map.get(a)||this._defaultValue}}let v=[],u=[];function g(d,a,s,o,c,f,p){if(c===-1)return null;const _=s.length;if(_<=1)return null;const m=a.breakOffsets,h=a.breakOffsetsVisibleColumn,S=l(s,o,c,f,p),y=c-S,E=v,N=u;let T=0,R=0,F=0,O=c;const D=m.length;let M=0;if(M>=0){let P=Math.abs(h[M]-O);for(;M+1<D;){const B=Math.abs(h[M+1]-O);if(B>=P)break;P=B,M++}}for(;M<D;){let P=M<0?0:m[M],B=M<0?0:h[M];R>P&&(P=R,B=F);let W=0,V=0,A=0,Q=0;if(B<=O){let H=B,q=P===0?0:s.charCodeAt(P-1),Z=P===0?0:d.get(q),ie=!0;for(let Y=P;Y<_;Y++){const te=Y,de=s.charCodeAt(Y);let x,oe;if(w.isHighSurrogate(de)?(Y++,x=0,oe=2):(x=d.get(de),oe=i(de,H,o,f)),te>R&&r(q,Z,de,x)&&(W=te,V=H),H+=oe,H>O){te>R?(A=te,Q=H-oe):(A=Y+1,Q=H),H-V>y&&(W=0),ie=!1;break}q=de,Z=x}if(ie){T>0&&(E[T]=m[m.length-1],N[T]=h[m.length-1],T++);break}}if(W===0){let H=B,q=s.charCodeAt(P),Z=d.get(q),ie=!1;for(let Y=P-1;Y>=R;Y--){const te=Y+1,de=s.charCodeAt(Y);if(de===9){ie=!0;break}let x,oe;if(w.isLowSurrogate(de)?(Y--,x=0,oe=2):(x=d.get(de),oe=w.isFullWidthCharacter(de)?f:1),H<=O){if(A===0&&(A=te,Q=H),H<=O-y)break;if(r(de,x,q,Z)){W=te,V=H;break}}H-=oe,q=de,Z=x}if(W!==0){const Y=y-(Q-V);if(Y<=o){const te=s.charCodeAt(A);let de;w.isHighSurrogate(te)?de=2:de=i(te,Q,o,f),Y-de<0&&(W=0)}}if(ie){M--;continue}}if(W===0&&(W=A,V=Q),W<=R){const H=s.charCodeAt(R);w.isHighSurrogate(H)?(W=R+2,V=F+2):(W=R+1,V=F+i(H,F,o,f))}for(R=W,E[T]=W,F=V,N[T]=V,T++,O=V+y;M<0||M<D&&h[M]<V;)M++;let J=Math.abs(h[M]-O);for(;M+1<D;){const H=Math.abs(h[M+1]-O);if(H>=J)break;J=H,M++}}return T===0?null:(E.length=T,N.length=T,v=a.breakOffsets,u=a.breakOffsetsVisibleColumn,a.breakOffsets=E,a.breakOffsetsVisibleColumn=N,a.wrappedTextIndentLength=S,a)}function n(d,a,s,o,c,f,p){const _=k.LineInjectedText.applyInjectedText(a,s);let m,h;if(s&&s.length>0?(m=s.map(V=>V.options),h=s.map(V=>V.column-1)):(m=null,h=null),c===-1)return m?new I.ModelLineProjectionData(h,m,[_.length],[],0):null;const S=_.length;if(S<=1)return m?new I.ModelLineProjectionData(h,m,[_.length],[],0):null;const y=l(_,o,c,f,p),E=c-y,N=[],T=[];let R=0,F=0,O=0,D=c,M=_.charCodeAt(0),P=d.get(M),B=i(M,0,o,f),W=1;w.isHighSurrogate(M)&&(B+=1,M=_.charCodeAt(1),P=d.get(M),W++);for(let V=W;V<S;V++){const A=V,Q=_.charCodeAt(V);let J,H;w.isHighSurrogate(Q)?(V++,J=0,H=2):(J=d.get(Q),H=i(Q,B,o,f)),r(M,P,Q,J)&&(F=A,O=B),B+=H,B>D&&((F===0||B-O>E)&&(F=A,O=B-H),N[R]=F,T[R]=O,R++,D=O+E,F=0),M=Q,P=J}return R===0&&(!s||s.length===0)?null:(N[R]=S,T[R]=B,new I.ModelLineProjectionData(h,m,N,T,y))}function i(d,a,s,o){return d===9?s-a%s:w.isFullWidthCharacter(d)||d<32?o:1}function t(d,a){return a-d%a}function r(d,a,s,o){return s!==32&&(a===2&&o!==2||a!==1&&o===1||a===3&&o!==2||o===3&&a!==1)}function l(d,a,s,o,c){let f=0;if(c!==0){const p=w.firstNonWhitespaceIndex(d);if(p!==-1){for(let m=0;m<p;m++)f+=d.charCodeAt(m)===9?t(f,a):1;const _=c===3?2:c===2?1:0;for(let m=0;m<_;m++)f+=t(f,a);f+o>s&&(f=0)}}return f}}),define(re[245],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class w{constructor(L,b,v){this._colorZoneBrand=void 0,this.from=L|0,this.to=b|0,this.colorId=v|0}static compare(L,b){return L.colorId===b.colorId?L.from===b.from?L.to-b.to:L.from-b.from:L.colorId-b.colorId}}e.ColorZone=w;class C{constructor(L,b,v,u){this._overviewRulerZoneBrand=void 0,this.startLineNumber=L,this.endLineNumber=b,this.heightInLines=v,this.color=u,this._colorZone=null}static compare(L,b){return L.color===b.color?L.startLineNumber===b.startLineNumber?L.heightInLines===b.heightInLines?L.endLineNumber-b.endLineNumber:L.heightInLines-b.heightInLines:L.startLineNumber-b.startLineNumber:L.color<b.color?-1:1}setColorZone(L){this._colorZone=L}getColorZones(){return this._colorZone}}e.OverviewRulerZone=C;class k{constructor(L){this._getVerticalOffsetForLine=L,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(L){this._zones=L,this._zones.sort(C.compare)}setLineHeight(L){return this._lineHeight===L?!1:(this._lineHeight=L,this._colorZonesInvalid=!0,!0)}setPixelRatio(L){this._pixelRatio=L,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(L){return this._domWidth===L?!1:(this._domWidth=L,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(L){return this._domHeight===L?!1:(this._domHeight=L,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(L){return this._outerHeight===L?!1:(this._outerHeight=L,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const L=this._colorZonesInvalid,b=Math.floor(this._lineHeight),v=Math.floor(this.getCanvasHeight()),u=Math.floor(this._outerHeight),g=v/u,n=Math.floor(4*this._pixelRatio/2),i=[];for(let t=0,r=this._zones.length;t<r;t++){const l=this._zones[t];if(!L){const h=l.getColorZones();if(h){i.push(h);continue}}const d=this._getVerticalOffsetForLine(l.startLineNumber),a=l.heightInLines===0?this._getVerticalOffsetForLine(l.endLineNumber)+b:d+l.heightInLines*b,s=Math.floor(g*d),o=Math.floor(g*a);let c=Math.floor((s+o)/2),f=o-c;f<n&&(f=n),c-f<0&&(c=f),c+f>v&&(c=v-f);const p=l.color;let _=this._color2Id[p];_||(_=++this._lastAssignedId,this._color2Id[p]=_,this._id2Color[_]=p);const m=new w(c-f,c+f,_);l.setColorZone(m),i.push(m)}return this._colorZonesInvalid=!1,i.sort(w.compare),i}}e.OverviewZoneManager=k}),define(re[446],ae([1,0,33,245,129]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class I extends k.ViewEventHandler{constructor(b,v){super();this._context=b;const u=this._context.configuration.options;this._domNode=(0,w.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName(v),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new C.OverviewZoneManager(g=>this._context.viewLayout.getVerticalOffsetForLineNumber(g)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(u.get(61)),this._zoneManager.setPixelRatio(u.get(131)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(b){const v=this._context.configuration.options;return b.hasChanged(61)&&(this._zoneManager.setLineHeight(v.get(61)),this._render()),b.hasChanged(131)&&(this._zoneManager.setPixelRatio(v.get(131)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(b){return this._render(),!0}onScrollChanged(b){return b.scrollHeightChanged&&(this._zoneManager.setOuterHeight(b.scrollHeight),this._render()),!0}onZonesChanged(b){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(b){this._domNode.setTop(b.top),this._domNode.setRight(b.right);let v=!1;v=this._zoneManager.setDOMWidth(b.width)||v,v=this._zoneManager.setDOMHeight(b.height)||v,v&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(b){this._zoneManager.setZones(b),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const b=this._zoneManager.getCanvasWidth(),v=this._zoneManager.getCanvasHeight(),u=this._zoneManager.resolveColorZones(),g=this._zoneManager.getId2Color(),n=this._domNode.domNode.getContext("2d");return n.clearRect(0,0,b,v),u.length>0&&this._renderOneLane(n,u,g,b),!0}_renderOneLane(b,v,u,g){let n=0,i=0,t=0;for(const r of v){const l=r.colorId,d=r.from,a=r.to;l!==n?(b.fillRect(0,i,g,t-i),n=l,b.fillStyle=u[n],i=d,t=a):t>=d?t=Math.max(t,a):(b.fillRect(0,i,g,t-i),i=d,t=a)}b.fillRect(0,i,g,t-i)}}e.OverviewRuler=I}),define(re[447],ae([1,0,410]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=void 0;class C{constructor(I,L,b){this.configuration=I,this.theme=new w.EditorTheme(L),this.viewModel=b,this.viewLayout=b.viewLayout}addEventHandler(I){this.viewModel.addViewEventHandler(I)}removeEventHandler(I){this.viewModel.removeViewEventHandler(I)}}e.ViewContext=C}),define(re[448],ae([1,0,3,23]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class k{constructor(L,b){this._selection=L,this._isMovingLeft=b}getEditOperations(L,b){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const v=this._selection.startLineNumber,u=this._selection.startColumn,g=this._selection.endColumn;if(!(this._isMovingLeft&&u===1)&&!(!this._isMovingLeft&&g===L.getLineMaxColumn(v)))if(this._isMovingLeft){const n=new w.Range(v,u-1,v,u),i=L.getValueInRange(n);b.addEditOperation(n,null),b.addEditOperation(new w.Range(v,g,v,g),i)}else{const n=new w.Range(v,g,v,g+1),i=L.getValueInRange(n);b.addEditOperation(n,null),b.addEditOperation(new w.Range(v,u,v,u),i)}}computeCursorState(L,b){return this._isMovingLeft?new C.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new C.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=k}),define(re[131],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionCommandArgs=e.filtersAction=e.mayIncludeActionsOfKind=e.CodeActionTriggerSource=e.CodeActionKind=void 0;class w{constructor(u){this.value=u}equals(u){return this.value===u.value}contains(u){return this.equals(u)||this.value===""||u.value.startsWith(this.value+w.sep)}intersects(u){return this.contains(u)||u.contains(this)}append(u){return new w(this.value+w.sep+u)}}e.CodeActionKind=w,w.sep=".",w.None=new w("@@none@@"),w.Empty=new w(""),w.QuickFix=new w("quickfix"),w.Refactor=new w("refactor"),w.Source=new w("source"),w.SourceOrganizeImports=w.Source.append("organizeImports"),w.SourceFixAll=w.Source.append("fixAll");var C;(function(v){v.Refactor="refactor",v.RefactorPreview="refactor preview",v.Lightbulb="lightbulb",v.Default="other (default)",v.SourceAction="source action",v.QuickFix="quick fix action",v.FixAll="fix all",v.OrganizeImports="organize imports",v.AutoFix="auto fix",v.QuickFixHover="quick fix hover window",v.OnSave="save participants",v.ProblemsView="problems view"})(C=e.CodeActionTriggerSource||(e.CodeActionTriggerSource={}));function k(v,u){return!(v.include&&!v.include.intersects(u)||v.excludes&&v.excludes.some(g=>L(u,g,v.include))||!v.includeSourceActions&&w.Source.contains(u))}e.mayIncludeActionsOfKind=k;function I(v,u){const g=u.kind?new w(u.kind):void 0;return!(v.include&&(!g||!v.include.contains(g))||v.excludes&&g&&v.excludes.some(n=>L(g,n,v.include))||!v.includeSourceActions&&g&&w.Source.contains(g)||v.onlyIncludePreferredActions&&!u.isPreferred)}e.filtersAction=I;function L(v,u,g){return!(!u.contains(v)||g&&u.contains(g))}class b{constructor(u,g,n){this.kind=u,this.apply=g,this.preferred=n}static fromUser(u,g){return!u||typeof u!="object"?new b(g.kind,g.apply,!1):new b(b.getKindFromUser(u,g.kind),b.getApplyFromUser(u,g.apply),b.getPreferredUser(u))}static getApplyFromUser(u,g){switch(typeof u.apply=="string"?u.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return g}}static getKindFromUser(u,g){return typeof u.kind=="string"?new w(u.kind):g}static getPreferredUser(u){return typeof u.preferred=="boolean"?u.preferred:!1}}e.CodeActionCommandArgs=b}),define(re[246],ae([1,0,60,11,3,23]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class L{constructor(v,u,g){this.languageConfigurationService=g,this._selection=v,this._insertSpace=u,this._usedEndToken=null}static _haystackHasNeedleAtOffset(v,u,g){if(g<0)return!1;const n=u.length,i=v.length;if(g+n>i)return!1;for(let t=0;t<n;t++){const r=v.charCodeAt(g+t),l=u.charCodeAt(t);if(r!==l&&!(r>=65&&r<=90&&r+32===l)&&!(l>=65&&l<=90&&l+32===r))return!1}return!0}_createOperationsForBlockComment(v,u,g,n,i,t){const r=v.startLineNumber,l=v.startColumn,d=v.endLineNumber,a=v.endColumn,s=i.getLineContent(r),o=i.getLineContent(d);let c=s.lastIndexOf(u,l-1+u.length),f=o.indexOf(g,a-1-g.length);if(c!==-1&&f!==-1)if(r===d)s.substring(c+u.length,f).indexOf(g)>=0&&(c=-1,f=-1);else{const _=s.substring(c+u.length),m=o.substring(0,f);(_.indexOf(g)>=0||m.indexOf(g)>=0)&&(c=-1,f=-1)}let p;c!==-1&&f!==-1?(n&&c+u.length<s.length&&s.charCodeAt(c+u.length)===32&&(u=u+" "),n&&f>0&&o.charCodeAt(f-1)===32&&(g=" "+g,f-=1),p=L._createRemoveBlockCommentOperations(new k.Range(r,c+u.length+1,d,f+1),u,g)):(p=L._createAddBlockCommentOperations(v,u,g,this._insertSpace),this._usedEndToken=p.length===1?g:null);for(const _ of p)t.addTrackedEditOperation(_.range,_.text)}static _createRemoveBlockCommentOperations(v,u,g){const n=[];return k.Range.isEmpty(v)?n.push(w.EditOperation.delete(new k.Range(v.startLineNumber,v.startColumn-u.length,v.endLineNumber,v.endColumn+g.length))):(n.push(w.EditOperation.delete(new k.Range(v.startLineNumber,v.startColumn-u.length,v.startLineNumber,v.startColumn))),n.push(w.EditOperation.delete(new k.Range(v.endLineNumber,v.endColumn,v.endLineNumber,v.endColumn+g.length)))),n}static _createAddBlockCommentOperations(v,u,g,n){const i=[];return k.Range.isEmpty(v)?i.push(w.EditOperation.replace(new k.Range(v.startLineNumber,v.startColumn,v.endLineNumber,v.endColumn),u+"  "+g)):(i.push(w.EditOperation.insert(new C.Position(v.startLineNumber,v.startColumn),u+(n?" ":""))),i.push(w.EditOperation.insert(new C.Position(v.endLineNumber,v.endColumn),(n?" ":"")+g))),i}getEditOperations(v,u){const g=this._selection.startLineNumber,n=this._selection.startColumn;v.tokenization.tokenizeIfCheap(g);const i=v.getLanguageIdAtPosition(g,n),t=this.languageConfigurationService.getLanguageConfiguration(i).comments;!t||!t.blockCommentStartToken||!t.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,t.blockCommentStartToken,t.blockCommentEndToken,this._insertSpace,v,u)}computeCursorState(v,u){const g=u.getInverseEditOperations();if(g.length===2){const n=g[0],i=g[1];return new I.Selection(n.range.endLineNumber,n.range.endColumn,i.range.startLineNumber,i.range.startColumn)}else{const n=g[0].range,i=this._usedEndToken?-this._usedEndToken.length-1:0;return new I.Selection(n.endLineNumber,n.endColumn+i,n.endLineNumber,n.endColumn+i)}}}e.BlockCommentCommand=L}),define(re[449],ae([1,0,8,60,11,3,23,246]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class v{constructor(g,n,i,t,r,l,d){this.languageConfigurationService=g,this._selection=n,this._tabSize=i,this._type=t,this._insertSpace=r,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=l,this._ignoreFirstLine=d||!1}static _gatherPreflightCommentStrings(g,n,i,t){g.tokenization.tokenizeIfCheap(n);const r=g.getLanguageIdAtPosition(n,1),l=t.getLanguageConfiguration(r).comments,d=l?l.lineCommentToken:null;if(!d)return null;const a=[];for(let s=0,o=i-n+1;s<o;s++)a[s]={ignore:!1,commentStr:d,commentStrOffset:0,commentStrLength:d.length};return a}static _analyzeLines(g,n,i,t,r,l,d,a){let s=!0,o;g===0?o=!0:g===1?o=!1:o=!0;for(let c=0,f=t.length;c<f;c++){const p=t[c],_=r+c;if(_===r&&d){p.ignore=!0;continue}const m=i.getLineContent(_),h=w.firstNonWhitespaceIndex(m);if(h===-1){p.ignore=l,p.commentStrOffset=m.length;continue}if(s=!1,p.ignore=!1,p.commentStrOffset=h,o&&!b.BlockCommentCommand._haystackHasNeedleAtOffset(m,p.commentStr,h)&&(g===0?o=!1:g===1||(p.ignore=!0)),o&&n){const S=h+p.commentStrLength;S<m.length&&m.charCodeAt(S)===32&&(p.commentStrLength+=1)}}if(g===0&&s){o=!1;for(let c=0,f=t.length;c<f;c++)t[c].ignore=!1}return{supported:!0,shouldRemoveComments:o,lines:t}}static _gatherPreflightData(g,n,i,t,r,l,d,a){const s=v._gatherPreflightCommentStrings(i,t,r,a);return s===null?{supported:!1}:v._analyzeLines(g,n,i,s,t,l,d,a)}_executeLineComments(g,n,i,t){let r;i.shouldRemoveComments?r=v._createRemoveLineCommentsOperations(i.lines,t.startLineNumber):(v._normalizeInsertionPoint(g,i.lines,t.startLineNumber,this._tabSize),r=this._createAddLineCommentsOperations(i.lines,t.startLineNumber));const l=new k.Position(t.positionLineNumber,t.positionColumn);for(let d=0,a=r.length;d<a;d++)n.addEditOperation(r[d].range,r[d].text),I.Range.isEmpty(r[d].range)&&I.Range.getStartPosition(r[d].range).equals(l)&&g.getLineContent(l.lineNumber).length+1===l.column&&(this._deltaColumn=(r[d].text||"").length);this._selectionId=n.trackSelection(t)}_attemptRemoveBlockComment(g,n,i,t){let r=n.startLineNumber,l=n.endLineNumber;const d=t.length+Math.max(g.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.startColumn);let a=g.getLineContent(r).lastIndexOf(i,d-1),s=g.getLineContent(l).indexOf(t,n.endColumn-1-i.length);return a!==-1&&s===-1&&(s=g.getLineContent(r).indexOf(t,a+i.length),l=r),a===-1&&s!==-1&&(a=g.getLineContent(l).lastIndexOf(i,s),r=l),n.isEmpty()&&(a===-1||s===-1)&&(a=g.getLineContent(r).indexOf(i),a!==-1&&(s=g.getLineContent(r).indexOf(t,a+i.length))),a!==-1&&g.getLineContent(r).charCodeAt(a+i.length)===32&&(i+=" "),s!==-1&&g.getLineContent(l).charCodeAt(s-1)===32&&(t=" "+t,s-=1),a!==-1&&s!==-1?b.BlockCommentCommand._createRemoveBlockCommentOperations(new I.Range(r,a+i.length+1,l,s+1),i,t):null}_executeBlockComment(g,n,i){g.tokenization.tokenizeIfCheap(i.startLineNumber);const t=g.getLanguageIdAtPosition(i.startLineNumber,1),r=this.languageConfigurationService.getLanguageConfiguration(t).comments;if(!r||!r.blockCommentStartToken||!r.blockCommentEndToken)return;const l=r.blockCommentStartToken,d=r.blockCommentEndToken;let a=this._attemptRemoveBlockComment(g,i,l,d);if(!a){if(i.isEmpty()){const s=g.getLineContent(i.startLineNumber);let o=w.firstNonWhitespaceIndex(s);o===-1&&(o=s.length),a=b.BlockCommentCommand._createAddBlockCommentOperations(new I.Range(i.startLineNumber,o+1,i.startLineNumber,s.length+1),l,d,this._insertSpace)}else a=b.BlockCommentCommand._createAddBlockCommentOperations(new I.Range(i.startLineNumber,g.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,g.getLineMaxColumn(i.endLineNumber)),l,d,this._insertSpace);a.length===1&&(this._deltaColumn=l.length+1)}this._selectionId=n.trackSelection(i);for(const s of a)n.addEditOperation(s.range,s.text)}getEditOperations(g,n){let i=this._selection;if(this._moveEndPositionDown=!1,i.startLineNumber===i.endLineNumber&&this._ignoreFirstLine){n.addEditOperation(new I.Range(i.startLineNumber,g.getLineMaxColumn(i.startLineNumber),i.startLineNumber+1,1),i.startLineNumber===g.getLineCount()?"":`
`),this._selectionId=n.trackSelection(i);return}i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,g.getLineMaxColumn(i.endLineNumber-1)));const t=v._gatherPreflightData(this._type,this._insertSpace,g,i.startLineNumber,i.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return t.supported?this._executeLineComments(g,n,t,i):this._executeBlockComment(g,n,i)}computeCursorState(g,n){let i=n.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new L.Selection(i.selectionStartLineNumber,i.selectionStartColumn+this._deltaColumn,i.positionLineNumber,i.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(g,n){const i=[];for(let t=0,r=g.length;t<r;t++){const l=g[t];l.ignore||i.push(C.EditOperation.delete(new I.Range(n+t,l.commentStrOffset+1,n+t,l.commentStrOffset+l.commentStrLength+1)))}return i}_createAddLineCommentsOperations(g,n){const i=[],t=this._insertSpace?" ":"";for(let r=0,l=g.length;r<l;r++){const d=g[r];d.ignore||i.push(C.EditOperation.insert(new k.Position(n+r,d.commentStrOffset+1),d.commentStr+t))}return i}static nextVisibleColumn(g,n,i,t){return i?g+(n-g%n):g+t}static _normalizeInsertionPoint(g,n,i,t){let r=1073741824,l,d;for(let a=0,s=n.length;a<s;a++){if(n[a].ignore)continue;const o=g.getLineContent(i+a);let c=0;for(let f=0,p=n[a].commentStrOffset;c<r&&f<p;f++)c=v.nextVisibleColumn(c,t,o.charCodeAt(f)===9,1);c<r&&(r=c)}r=Math.floor(r/t)*t;for(let a=0,s=n.length;a<s;a++){if(n[a].ignore)continue;const o=g.getLineContent(i+a);let c=0;for(l=0,d=n[a].commentStrOffset;c<r&&l<d;l++)c=v.nextVisibleColumn(c,t,o.charCodeAt(l)===9,1);c>r?n[a].commentStrOffset=l-1:n[a].commentStrOffset=l}}}e.LineCommentCommand=v}),define(re[450],ae([1,0,3,23]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class k{constructor(L,b,v){this.selection=L,this.targetPosition=b,this.copy=v,this.targetSelection=null}getEditOperations(L,b){const v=L.getValueInRange(this.selection);if(this.copy||b.addEditOperation(this.selection,null),b.addEditOperation(new w.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),v),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new C.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new C.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new C.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new C.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new C.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(L,b){return this.targetSelection}}e.DragAndDropCommand=k}),define(re[451],ae([1,0,3]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class C{constructor(I,L,b){this._editorSelection=I,this._ranges=L,this._replaceStrings=b,this._trackedEditorSelectionId=null}getEditOperations(I,L){if(this._ranges.length>0){const b=[];for(let g=0;g<this._ranges.length;g++)b.push({range:this._ranges[g],text:this._replaceStrings[g]});b.sort((g,n)=>w.Range.compareRangesUsingStarts(g.range,n.range));const v=[];let u=b[0];for(let g=1;g<b.length;g++)u.range.endLineNumber===b[g].range.startLineNumber&&u.range.endColumn===b[g].range.startColumn?(u.range=u.range.plusRange(b[g].range),u.text=u.text+b[g].text):(v.push(u),u=b[g]);v.push(u);for(const g of v)L.addEditOperation(g.range,g.text)}this._trackedEditorSelectionId=L.trackSelection(this._editorSelection)}computeCursorState(I,L){return L.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=C}),define(re[452],ae([1,0,333]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseReplaceString=e.ReplacePiece=e.ReplacePattern=void 0;class C{constructor(g){this.staticValue=g,this.kind=0}}class k{constructor(g){this.pieces=g,this.kind=1}}class I{constructor(g){!g||g.length===0?this._state=new C(""):g.length===1&&g[0].staticValue!==null?this._state=new C(g[0].staticValue):this._state=new k(g)}static fromStaticValue(g){return new I([L.staticValue(g)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(g,n){if(this._state.kind===0)return n?(0,w.buildReplaceStringWithCasePreserved)(g,this._state.staticValue):this._state.staticValue;let i="";for(let t=0,r=this._state.pieces.length;t<r;t++){const l=this._state.pieces[t];if(l.staticValue!==null){i+=l.staticValue;continue}let d=I._substitute(l.matchIndex,g);if(l.caseOps!==null&&l.caseOps.length>0){const a=[],s=l.caseOps.length;let o=0;for(let c=0,f=d.length;c<f;c++){if(o>=s){a.push(d.slice(c));break}switch(l.caseOps[o]){case"U":a.push(d[c].toUpperCase());break;case"u":a.push(d[c].toUpperCase()),o++;break;case"L":a.push(d[c].toLowerCase());break;case"l":a.push(d[c].toLowerCase()),o++;break;default:a.push(d[c])}}d=a.join("")}i+=d}return i}static _substitute(g,n){if(n===null)return"";if(g===0)return n[0];let i="";for(;g>0;){if(g<n.length)return(n[g]||"")+i;i=String(g%10)+i,g=Math.floor(g/10)}return"$"+i}}e.ReplacePattern=I;class L{constructor(g,n,i){this.staticValue=g,this.matchIndex=n,!i||i.length===0?this.caseOps=null:this.caseOps=i.slice(0)}static staticValue(g){return new L(g,-1,null)}static caseOps(g,n){return new L(null,g,n)}}e.ReplacePiece=L;class b{constructor(g){this._source=g,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(g){this._emitStatic(this._source.substring(this._lastCharIndex,g)),this._lastCharIndex=g}emitStatic(g,n){this._emitStatic(g),this._lastCharIndex=n}_emitStatic(g){g.length!==0&&(this._currentStaticPiece+=g)}emitMatchIndex(g,n,i){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=L.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=L.caseOps(g,i),this._lastCharIndex=n}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=L.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new I(this._result)}}function v(u){if(!u||u.length===0)return new I(null);const g=[],n=new b(u);for(let i=0,t=u.length;i<t;i++){const r=u.charCodeAt(i);if(r===92){if(i++,i>=t)break;const l=u.charCodeAt(i);switch(l){case 92:n.emitUnchanged(i-1),n.emitStatic("\\",i+1);break;case 110:n.emitUnchanged(i-1),n.emitStatic(`
`,i+1);break;case 116:n.emitUnchanged(i-1),n.emitStatic("	",i+1);break;case 117:case 85:case 108:case 76:n.emitUnchanged(i-1),n.emitStatic("",i+1),g.push(String.fromCharCode(l));break}continue}if(r===36){if(i++,i>=t)break;const l=u.charCodeAt(i);if(l===36){n.emitUnchanged(i-1),n.emitStatic("$",i+1);continue}if(l===48||l===38){n.emitUnchanged(i-1),n.emitMatchIndex(0,i+1,g),g.length=0;continue}if(49<=l&&l<=57){let d=l-48;if(i+1<t){const a=u.charCodeAt(i+1);if(48<=a&&a<=57){i++,d=d*10+(a-48),n.emitUnchanged(i-2),n.emitMatchIndex(d,i+1,g),g.length=0;continue}}n.emitUnchanged(i-1),n.emitMatchIndex(d,i+1,g),g.length=0;continue}}}return n.finalize()}e.parseReplaceString=v}),define(re[160],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=void 0,e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const w=4278190080;class C{constructor(b){const v=Math.ceil(b/32);this._states=new Uint32Array(v)}get(b){const v=b/32|0,u=b%32;return(this._states[v]&1<<u)!=0}set(b,v){const u=b/32|0,g=b%32,n=this._states[u];v?this._states[u]=n|1<<g:this._states[u]=n&~(1<<g)}}class k{constructor(b,v,u){if(this.sourceAbbr={[0]:" ",[1]:"u",[2]:"r"},b.length!==v.length||b.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=b,this._endIndexes=v,this._collapseStates=new C(b.length),this._userDefinedStates=new C(b.length),this._recoveredStates=new C(b.length),this._types=u,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const b=[],v=(u,g)=>{const n=b[b.length-1];return this.getStartLineNumber(n)<=u&&this.getEndLineNumber(n)>=g};for(let u=0,g=this._startIndexes.length;u<g;u++){const n=this._startIndexes[u],i=this._endIndexes[u];if(n>e.MAX_LINE_NUMBER||i>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;b.length>0&&!v(n,i);)b.pop();const t=b.length>0?b[b.length-1]:-1;b.push(u),this._startIndexes[u]=n+((t&255)<<24),this._endIndexes[u]=i+((t&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(b){return this._startIndexes[b]&e.MAX_LINE_NUMBER}getEndLineNumber(b){return this._endIndexes[b]&e.MAX_LINE_NUMBER}getType(b){return this._types?this._types[b]:void 0}hasTypes(){return!!this._types}isCollapsed(b){return this._collapseStates.get(b)}setCollapsed(b,v){this._collapseStates.set(b,v)}isUserDefined(b){return this._userDefinedStates.get(b)}setUserDefined(b,v){return this._userDefinedStates.set(b,v)}isRecovered(b){return this._recoveredStates.get(b)}setRecovered(b,v){return this._recoveredStates.set(b,v)}getSource(b){return this.isUserDefined(b)?1:this.isRecovered(b)?2:0}setSource(b,v){v===1?(this.setUserDefined(b,!0),this.setRecovered(b,!1)):v===2?(this.setUserDefined(b,!1),this.setRecovered(b,!0)):(this.setUserDefined(b,!1),this.setRecovered(b,!1))}setCollapsedAllOfType(b,v){let u=!1;if(this._types)for(let g=0;g<this._types.length;g++)this._types[g]===b&&(this.setCollapsed(g,v),u=!0);return u}toRegion(b){return new I(this,b)}getParentIndex(b){this.ensureParentIndices();const v=((this._startIndexes[b]&w)>>>24)+((this._endIndexes[b]&w)>>>16);return v===e.MAX_FOLDING_REGIONS?-1:v}contains(b,v){return this.getStartLineNumber(b)<=v&&this.getEndLineNumber(b)>=v}findIndex(b){let v=0,u=this._startIndexes.length;if(u===0)return-1;for(;v<u;){const g=Math.floor((v+u)/2);b<this.getStartLineNumber(g)?u=g:v=g+1}return v-1}findRange(b){let v=this.findIndex(b);if(v>=0){if(this.getEndLineNumber(v)>=b)return v;for(v=this.getParentIndex(v);v!==-1;){if(this.contains(v,b))return v;v=this.getParentIndex(v)}}return-1}toString(){const b=[];for(let v=0;v<this.length;v++)b[v]=`[${this.sourceAbbr[this.getSource(v)]}${this.isCollapsed(v)?"+":"-"}] ${this.getStartLineNumber(v)}/${this.getEndLineNumber(v)}`;return b.join(", ")}toFoldRange(b){return{startLineNumber:this._startIndexes[b]&e.MAX_LINE_NUMBER,endLineNumber:this._endIndexes[b]&e.MAX_LINE_NUMBER,type:this._types?this._types[b]:void 0,isCollapsed:this.isCollapsed(b),source:this.getSource(b)}}static fromFoldRanges(b){const v=b.length,u=new Uint32Array(v),g=new Uint32Array(v);let n=[],i=!1;for(let r=0;r<v;r++){const l=b[r];u[r]=l.startLineNumber,g[r]=l.endLineNumber,n.push(l.type),l.type&&(i=!0)}i||(n=void 0);const t=new k(u,g,n);for(let r=0;r<v;r++)b[r].isCollapsed&&t.setCollapsed(r,!0),t.setSource(r,b[r].source);return t}static sanitizeAndMerge(b,v,u){u=u??Number.MAX_VALUE;const g=(f,p)=>Array.isArray(f)?_=>_<p?f[_]:void 0:_=>_<p?f.toFoldRange(_):void 0,n=g(b,b.length),i=g(v,v.length);let t=0,r=0,l=n(0),d=i(0);const a=[];let s,o=0;const c=[];for(;l||d;){let f;if(d&&(!l||l.startLineNumber>=d.startLineNumber))l&&l.startLineNumber===d.startLineNumber?(d.source===1?f=d:(f=l,f.isCollapsed=d.isCollapsed&&l.endLineNumber===d.endLineNumber,f.source=0),l=n(++t)):(f=d,d.isCollapsed&&d.source===0&&(f.source=2)),d=i(++r);else{let p=r,_=d;for(;;){if(!_||_.startLineNumber>l.endLineNumber){f=l;break}if(_.source===1&&_.endLineNumber>l.endLineNumber)break;_=i(++p)}l=n(++t)}if(f){for(;s&&s.endLineNumber<f.startLineNumber;)s=a.pop();f.endLineNumber>f.startLineNumber&&f.startLineNumber>o&&f.endLineNumber<=u&&(!s||s.endLineNumber>=f.endLineNumber)&&(c.push(f),o=f.startLineNumber,s&&a.push(s),s=f)}}return c}}e.FoldingRegions=k;class I{constructor(b,v){this.ranges=b,this.index=v}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(b){return b.startLineNumber<=this.startLineNumber&&b.endLineNumber>=this.endLineNumber}containsLine(b){return this.startLineNumber<=b&&b<=this.endLineNumber}}e.FoldingRegion=I}),define(re[453],ae([1,0,184,160]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeRanges=e.RangesCollector=e.IndentRangeProvider=e.ID_INDENT_PROVIDER=void 0;const k=5e3;e.ID_INDENT_PROVIDER="indent";class I{constructor(u,g,n){this.editorModel=u,this.languageConfigurationService=g,this.maxFoldingRegions=n,this.id=e.ID_INDENT_PROVIDER}dispose(){}compute(u,g){const n=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,i=n&&!!n.offSide,t=n&&n.markers;return Promise.resolve(b(this.editorModel,i,t,this.maxFoldingRegions,g))}}e.IndentRangeProvider=I;class L{constructor(u,g){this._notifyTooManyRegions=g,this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=u}insertFirst(u,g,n){if(u>C.MAX_LINE_NUMBER||g>C.MAX_LINE_NUMBER)return;const i=this._length;this._startIndexes[i]=u,this._endIndexes[i]=g,this._length++,n<1e3&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)}toIndentRanges(u){var g;if(this._length<=this._foldingRangesLimit){const n=new Uint32Array(this._length),i=new Uint32Array(this._length);for(let t=this._length-1,r=0;t>=0;t--,r++)n[r]=this._startIndexes[t],i[r]=this._endIndexes[t];return new C.FoldingRegions(n,i)}else{(g=this._notifyTooManyRegions)===null||g===void 0||g.call(this,this._foldingRangesLimit);let n=0,i=this._indentOccurrences.length;for(let d=0;d<this._indentOccurrences.length;d++){const a=this._indentOccurrences[d];if(a){if(a+n>this._foldingRangesLimit){i=d;break}n+=a}}const t=u.getOptions().tabSize,r=new Uint32Array(this._foldingRangesLimit),l=new Uint32Array(this._foldingRangesLimit);for(let d=this._length-1,a=0;d>=0;d--){const s=this._startIndexes[d],o=u.getLineContent(s),c=(0,w.computeIndentLevel)(o,t);(c<i||c===i&&n++<this._foldingRangesLimit)&&(r[a]=s,l[a]=this._endIndexes[d],a++)}return new C.FoldingRegions(r,l)}}}e.RangesCollector=L;function b(v,u,g,n,i){const t=v.getOptions().tabSize;n=n??k;const r=new L(n,i);let l;g&&(l=new RegExp(`(${g.start.source})|(?:${g.end.source})`));const d=[],a=v.getLineCount()+1;d.push({indent:-1,endAbove:a,line:a});for(let s=v.getLineCount();s>0;s--){const o=v.getLineContent(s),c=(0,w.computeIndentLevel)(o,t);let f=d[d.length-1];if(c===-1){u&&(f.endAbove=s);continue}let p;if(l&&(p=o.match(l)))if(p[1]){let _=d.length-1;for(;_>0&&d[_].indent!==-2;)_--;if(_>0){d.length=_+1,f=d[_],r.insertFirst(s,f.line,c),f.line=s,f.indent=c,f.endAbove=s;continue}}else{d.push({indent:-2,endAbove:s,line:s});continue}if(f.indent>c){do d.pop(),f=d[d.length-1];while(f.indent>c);const _=f.endAbove-1;_-s>=1&&r.insertFirst(s,_,c)}f.indent===c?f.endAbove=s:d.push({indent:c,endAbove:s,line:s})}return r.toIndentRanges(v)}e.computeRanges=b}),define(re[454],ae([1,0,14,2,160]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeRanges=e.RangesCollector=e.SyntaxRangeProvider=e.ID_SYNTAX_PROVIDER=void 0;const I={};e.ID_SYNTAX_PROVIDER="syntax";class L{constructor(n,i,t,r){this.editorModel=n,this.providers=i,this.limit=r,this.id=e.ID_SYNTAX_PROVIDER;for(const l of i)typeof l.onDidChange=="function"&&(this.disposables||(this.disposables=new C.DisposableStore),this.disposables.add(l.onDidChange(t)))}compute(n,i){return b(this.providers,this.editorModel,n).then(t=>t?u(t,this.limit,i):null)}dispose(){var n;(n=this.disposables)===null||n===void 0||n.dispose()}}e.SyntaxRangeProvider=L;function b(g,n,i){let t=null;const r=g.map((l,d)=>Promise.resolve(l.provideFoldingRanges(n,I,i)).then(a=>{if(!i.isCancellationRequested&&Array.isArray(a)){Array.isArray(t)||(t=[]);const s=n.getLineCount();for(const o of a)o.start>0&&o.end>o.start&&o.end<=s&&t.push({start:o.start,end:o.end,rank:d,kind:o.kind})}},w.onUnexpectedExternalError));return Promise.all(r).then(l=>t)}class v{constructor(n,i){this._notifyTooManyRegions=i,this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=n}add(n,i,t,r){if(n>k.MAX_LINE_NUMBER||i>k.MAX_LINE_NUMBER)return;const l=this._length;this._startIndexes[l]=n,this._endIndexes[l]=i,this._nestingLevels[l]=r,this._types[l]=t,this._length++,r<30&&(this._nestingLevelCounts[r]=(this._nestingLevelCounts[r]||0)+1)}toIndentRanges(){var n;if(this._length<=this._foldingRangesLimit){const i=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let r=0;r<this._length;r++)i[r]=this._startIndexes[r],t[r]=this._endIndexes[r];return new k.FoldingRegions(i,t,this._types)}else{(n=this._notifyTooManyRegions)===null||n===void 0||n.call(this,this._foldingRangesLimit);let i=0,t=this._nestingLevelCounts.length;for(let a=0;a<this._nestingLevelCounts.length;a++){const s=this._nestingLevelCounts[a];if(s){if(s+i>this._foldingRangesLimit){t=a;break}i+=s}}const r=new Uint32Array(this._foldingRangesLimit),l=new Uint32Array(this._foldingRangesLimit),d=[];for(let a=0,s=0;a<this._length;a++){const o=this._nestingLevels[a];(o<t||o===t&&i++<this._foldingRangesLimit)&&(r[s]=this._startIndexes[a],l[s]=this._endIndexes[a],d[s]=this._types[a],s++)}return new k.FoldingRegions(r,l,d)}}}e.RangesCollector=v;function u(g,n,i){const t=g.sort((a,s)=>{let o=a.start-s.start;return o===0&&(o=a.rank-s.rank),o}),r=new v(n,i);let l;const d=[];for(const a of t)if(!l)l=a,r.add(a.start,a.end,a.kind&&a.kind.value,d.length);else if(a.start>l.start)if(a.end<=l.end)d.push(l),l=a,r.add(a.start,a.end,a.kind&&a.kind.value,d.length);else{if(a.start>l.end){do l=d.pop();while(l&&a.start>l.end);l&&d.push(l),l=a}r.add(a.start,a.end,a.kind&&a.kind.value,d.length)}return r.toIndentRanges()}e.sanitizeRanges=u}),define(re[247],ae([1,0,60,3]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class k{static _handleEolEdits(L,b){let v;const u=[];for(const g of b)typeof g.eol=="number"&&(v=g.eol),g.range&&typeof g.text=="string"&&u.push(g);return typeof v=="number"&&L.hasModel()&&L.getModel().pushEOL(v),u}static _isFullModelReplaceEdit(L,b){if(!L.hasModel())return!1;const v=L.getModel(),u=v.validateRange(b.range);return v.getFullModelRange().equalsRange(u)}static execute(L,b,v){v&&L.pushUndoStop();const u=k._handleEolEdits(L,b);u.length===1&&k._isFullModelReplaceEdit(L,u[0])?L.executeEdits("formatEditsCommand",u.map(g=>w.EditOperation.replace(C.Range.lift(g.range),g.text))):L.executeEdits("formatEditsCommand",u.map(g=>w.EditOperation.replaceMove(C.Range.lift(g.range),g.text))),v&&L.pushUndoStop()}}e.FormattingEdit=k}),define(re[88],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverParticipantRegistry=e.HoverForeignElementAnchor=e.HoverRangeAnchor=void 0;class w{constructor(I,L){this.priority=I,this.range=L,this.type=1}equals(I){return I.type===1&&this.range.equalsRange(I.range)}canAdoptVisibleHover(I,L){return I.type===1&&L.lineNumber===this.range.startLineNumber}}e.HoverRangeAnchor=w;class C{constructor(I,L,b){this.priority=I,this.owner=L,this.range=b,this.type=2}equals(I){return I.type===2&&this.owner===I.owner}canAdoptVisibleHover(I,L){return I.type===2&&this.owner===I.owner}}e.HoverForeignElementAnchor=C,e.HoverParticipantRegistry=new class{constructor(){this._participants=[]}register(I){this._participants.push(I)}getAll(){return this._participants}}}),define(re[455],ae([1,0,23]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class C{constructor(I,L,b){this._editRange=I,this._originalSelection=L,this._text=b}getEditOperations(I,L){L.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(I,L){const v=L.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new w.Selection(v.endLineNumber,Math.min(this._originalSelection.positionColumn,v.endColumn),v.endLineNumber,Math.min(this._originalSelection.positionColumn,v.endColumn)):new w.Selection(v.endLineNumber,v.endColumn-this._text.length,v.endLineNumber,v.endColumn)}}e.InPlaceReplaceCommand=C}),define(re[248],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateIndent=e.getSpaceCnt=void 0;function w(k,I){let L=0;for(let b=0;b<k.length;b++)k.charAt(b)==="	"?L+=I:L++;return L}e.getSpaceCnt=w;function C(k,I,L){k=k<0?0:k;let b="";if(!L){const v=Math.floor(k/I);k=k%I;for(let u=0;u<v;u++)b+="	"}for(let v=0;v<k;v++)b+=" ";return b}e.generateIndent=C}),define(re[188],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineSuggestCommitId=void 0,e.inlineSuggestCommitId="editor.action.inlineSuggest.commit"}),define(re[189],ae([1,0,3]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReadonlyEmptyArray=e.applyEdits=e.createDisposableRef=void 0;function C(v,u){return{object:v,dispose:()=>u==null?void 0:u.dispose()}}e.createDisposableRef=C;function k(v,u){const g=new I(v),n=u.map(i=>{const t=w.Range.lift(i.range);return{startOffset:g.getOffset(t.getStartPosition()),endOffset:g.getOffset(t.getEndPosition()),text:i.text}});n.sort((i,t)=>t.startOffset-i.startOffset);for(const i of n)v=v.substring(0,i.startOffset)+i.text+v.substring(i.endOffset);return v}e.applyEdits=k;class I{constructor(u){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let g=0;g<u.length;g++)u.charAt(g)===`
`&&this.lineStartOffsetByLineIdx.push(g+1)}getOffset(u){return this.lineStartOffsetByLineIdx[u.lineNumber-1]+u.column-1}}const L=[];function b(){return L}e.getReadonlyEmptyArray=b}),define(re[456],ae([1,0,3,23]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class k{constructor(L,b,v){this._selection=L,this._isCopyingDown=b,this._noop=v||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(L,b){let v=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,v.startLineNumber<v.endLineNumber&&v.endColumn===1&&(this._endLineNumberDelta=1,v=v.setEndPosition(v.endLineNumber-1,L.getLineMaxColumn(v.endLineNumber-1)));const u=[];for(let n=v.startLineNumber;n<=v.endLineNumber;n++)u.push(L.getLineContent(n));const g=u.join(`
`);g===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?b.addEditOperation(new w.Range(v.endLineNumber,L.getLineMaxColumn(v.endLineNumber),v.endLineNumber+1,1),v.endLineNumber===L.getLineCount()?"":`
`):this._isCopyingDown?b.addEditOperation(new w.Range(v.startLineNumber,1,v.startLineNumber,1),g+`
`):b.addEditOperation(new w.Range(v.endLineNumber,L.getLineMaxColumn(v.endLineNumber),v.endLineNumber,L.getLineMaxColumn(v.endLineNumber)),`
`+g),this._selectionId=b.trackSelection(v),this._selectionDirection=this._selection.getDirection()}computeCursorState(L,b){let v=b.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let u=v.startLineNumber,g=v.startColumn,n=v.endLineNumber,i=v.endColumn;this._startLineNumberDelta!==0&&(u=u+this._startLineNumberDelta,g=1),this._endLineNumberDelta!==0&&(n=n+this._endLineNumberDelta,i=1),v=C.Selection.createWithDirection(u,g,n,i,this._selectionDirection)}return v}}e.CopyLinesCommand=k}),define(re[457],ae([1,0,60,3]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class k{constructor(v,u){this.selection=v,this.descending=u,this.selectionId=null}static getCollator(){return k._COLLATOR||(k._COLLATOR=new Intl.Collator),k._COLLATOR}getEditOperations(v,u){const g=L(v,this.selection,this.descending);g&&u.addEditOperation(g.range,g.text),this.selectionId=u.trackSelection(this.selection)}computeCursorState(v,u){return u.getTrackedSelection(this.selectionId)}static canRun(v,u,g){if(v===null)return!1;const n=I(v,u,g);if(!n)return!1;for(let i=0,t=n.before.length;i<t;i++)if(n.before[i]!==n.after[i])return!0;return!1}}e.SortLinesCommand=k,k._COLLATOR=null;function I(b,v,u){const g=v.startLineNumber;let n=v.endLineNumber;if(v.endColumn===1&&n--,g>=n)return null;const i=[];for(let r=g;r<=n;r++)i.push(b.getLineContent(r));let t=i.slice(0);return t.sort(k.getCollator().compare),u===!0&&(t=t.reverse()),{startLineNumber:g,endLineNumber:n,before:i,after:t}}function L(b,v,u){const g=I(b,v,u);return g?w.EditOperation.replace(new C.Range(g.startLineNumber,1,g.endLineNumber,b.getLineMaxColumn(g.endLineNumber)),g.after.join(`
`)):null}}),define(re[249],ae([1,0,73,11,3]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class I{provideSelectionRanges(b,v){return Se(this,void 0,void 0,function*(){const u=[];for(const g of v){const n=[];u.push(n);const i=new Map;yield new Promise(t=>I._bracketsRightYield(t,0,b,g,i)),yield new Promise(t=>I._bracketsLeftYield(t,0,b,g,i,n))}return u})}static _bracketsRightYield(b,v,u,g,n){const i=new Map,t=Date.now();for(;;){if(v>=I._maxRounds){b();break}if(!g){b();break}const r=u.bracketPairs.findNextBracket(g);if(!r){b();break}if(Date.now()-t>I._maxDuration){setTimeout(()=>I._bracketsRightYield(b,v+1,u,g,n));break}if(r.bracketInfo.isOpeningBracket){const d=r.bracketInfo.bracketText,a=i.has(d)?i.get(d):0;i.set(d,a+1)}else{const d=r.bracketInfo.getClosedBrackets()[0].bracketText;let a=i.has(d)?i.get(d):0;if(a-=1,i.set(d,Math.max(0,a)),a<0){let s=n.get(d);s||(s=new w.LinkedList,n.set(d,s)),s.push(r.range)}}g=r.range.getEndPosition()}}static _bracketsLeftYield(b,v,u,g,n,i){const t=new Map,r=Date.now();for(;;){if(v>=I._maxRounds&&n.size===0){b();break}if(!g){b();break}const l=u.bracketPairs.findPrevBracket(g);if(!l){b();break}if(Date.now()-r>I._maxDuration){setTimeout(()=>I._bracketsLeftYield(b,v+1,u,g,n,i));break}if(l.bracketInfo.isOpeningBracket){const a=l.bracketInfo.bracketText;let s=t.has(a)?t.get(a):0;if(s-=1,t.set(a,Math.max(0,s)),s<0){const o=n.get(a);if(o){const c=o.shift();o.size===0&&n.delete(a);const f=k.Range.fromPositions(l.range.getEndPosition(),c.getStartPosition()),p=k.Range.fromPositions(l.range.getStartPosition(),c.getEndPosition());i.push({range:f}),i.push({range:p}),I._addBracketLeading(u,p,i)}}}else{const a=l.bracketInfo.getClosedBrackets()[0].bracketText,s=t.has(a)?t.get(a):0;t.set(a,s+1)}g=l.range.getStartPosition()}}static _addBracketLeading(b,v,u){if(v.startLineNumber===v.endLineNumber)return;const g=v.startLineNumber,n=b.getLineFirstNonWhitespaceColumn(g);n!==0&&n!==v.startColumn&&(u.push({range:k.Range.fromPositions(new C.Position(g,n),v.getEndPosition())}),u.push({range:k.Range.fromPositions(new C.Position(g,1),v.getEndPosition())}));const i=g-1;if(i>0){const t=b.getLineFirstNonWhitespaceColumn(i);t===v.startColumn&&t!==b.getLineLastNonWhitespaceColumn(i)&&(u.push({range:k.Range.fromPositions(new C.Position(i,t),v.getEndPosition())}),u.push({range:k.Range.fromPositions(new C.Position(i,1),v.getEndPosition())}))}}}e.BracketSelectionRangeProvider=I,I._maxDuration=30,I._maxRounds=2}),define(re[458],ae([1,0,8,3]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class k{provideSelectionRanges(L,b){const v=[];for(const u of b){const g=[];v.push(g),this._addInWordRanges(g,L,u),this._addWordRanges(g,L,u),this._addWhitespaceLine(g,L,u),g.push({range:L.getFullModelRange()})}return v}_addInWordRanges(L,b,v){const u=b.getWordAtPosition(v);if(!u)return;const{word:g,startColumn:n}=u,i=v.column-n;let t=i,r=i,l=0;for(;t>=0;t--){const d=g.charCodeAt(t);if(t!==i&&(d===95||d===45))break;if((0,w.isLowerAsciiLetter)(d)&&(0,w.isUpperAsciiLetter)(l))break;l=d}for(t+=1;r<g.length;r++){const d=g.charCodeAt(r);if((0,w.isUpperAsciiLetter)(d)&&(0,w.isLowerAsciiLetter)(l))break;if(d===95||d===45)break;l=d}t<r&&L.push({range:new C.Range(v.lineNumber,n+t,v.lineNumber,n+r)})}_addWordRanges(L,b,v){const u=b.getWordAtPosition(v);u&&L.push({range:new C.Range(v.lineNumber,u.startColumn,v.lineNumber,u.endColumn)})}_addWhitespaceLine(L,b,v){b.getLineLength(v.lineNumber)>0&&b.getLineFirstNonWhitespaceColumn(v.lineNumber)===0&&b.getLineLastNonWhitespaceColumn(v.lineNumber)===0&&L.push({range:new C.Range(v.lineNumber,1,v.lineNumber,b.getLineMaxColumn(v.lineNumber))})}}e.WordSelectionRangeProvider=k}),define(re[89],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class w{constructor(){this.value="",this.pos=0}static isDigitCharacter(l){return l>=48&&l<=57}static isVariableCharacter(l){return l===95||l>=97&&l<=122||l>=65&&l<=90}text(l){this.value=l,this.pos=0}tokenText(l){return this.value.substr(l.pos,l.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const l=this.pos;let d=0,a=this.value.charCodeAt(l),s;if(s=w._table[a],typeof s=="number")return this.pos+=1,{type:s,pos:l,len:1};if(w.isDigitCharacter(a)){s=8;do d+=1,a=this.value.charCodeAt(l+d);while(w.isDigitCharacter(a));return this.pos+=d,{type:s,pos:l,len:d}}if(w.isVariableCharacter(a)){s=9;do a=this.value.charCodeAt(l+ ++d);while(w.isVariableCharacter(a)||w.isDigitCharacter(a));return this.pos+=d,{type:s,pos:l,len:d}}s=10;do d+=1,a=this.value.charCodeAt(l+d);while(!isNaN(a)&&typeof w._table[a]=="undefined"&&!w.isDigitCharacter(a)&&!w.isVariableCharacter(a));return this.pos+=d,{type:s,pos:l,len:d}}}e.Scanner=w,w._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class C{constructor(){this._children=[]}appendChild(l){return l instanceof k&&this._children[this._children.length-1]instanceof k?this._children[this._children.length-1].value+=l.value:(l.parent=this,this._children.push(l)),this}replace(l,d){const{parent:a}=l,s=a.children.indexOf(l),o=a.children.slice(0);o.splice(s,1,...d),a._children=o,function c(f,p){for(const _ of f)_.parent=p,c(_.children,_)}(d,a)}get children(){return this._children}get snippet(){let l=this;for(;;){if(!l)return;if(l instanceof i)return l;l=l.parent}}toString(){return this.children.reduce((l,d)=>l+d.toString(),"")}len(){return 0}}e.Marker=C;class k extends C{constructor(l){super();this.value=l}toString(){return this.value}len(){return this.value.length}clone(){return new k(this.value)}}e.Text=k;class I extends C{}e.TransformableMarker=I;class L extends I{constructor(l){super();this.index=l}static compareByIndex(l,d){return l.index===d.index?0:l.isFinalTabstop?1:d.isFinalTabstop||l.index<d.index?-1:l.index>d.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof b?this._children[0]:void 0}clone(){const l=new L(this.index);return this.transform&&(l.transform=this.transform.clone()),l._children=this.children.map(d=>d.clone()),l}}e.Placeholder=L;class b extends C{constructor(){super(...arguments);this.options=[]}appendChild(l){return l instanceof k&&(l.parent=this,this.options.push(l)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const l=new b;return this.options.forEach(l.appendChild,l),l}}e.Choice=b;class v extends C{constructor(){super(...arguments);this.regexp=new RegExp("")}resolve(l){const d=this;let a=!1,s=l.replace(this.regexp,function(){return a=!0,d._replace(Array.prototype.slice.call(arguments,0,-2))});return!a&&this._children.some(o=>o instanceof u&&Boolean(o.elseValue))&&(s=this._replace([])),s}_replace(l){let d="";for(const a of this._children)if(a instanceof u){let s=l[a.index]||"";s=a.resolve(s),d+=s}else d+=a.toString();return d}toString(){return""}clone(){const l=new v;return l.regexp=new RegExp(this.regexp.source,""+(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),l._children=this.children.map(d=>d.clone()),l}}e.Transform=v;class u extends C{constructor(l,d,a,s){super();this.index=l,this.shorthandName=d,this.ifValue=a,this.elseValue=s}resolve(l){return this.shorthandName==="upcase"?l?l.toLocaleUpperCase():"":this.shorthandName==="downcase"?l?l.toLocaleLowerCase():"":this.shorthandName==="capitalize"?l?l[0].toLocaleUpperCase()+l.substr(1):"":this.shorthandName==="pascalcase"?l?this._toPascalCase(l):"":this.shorthandName==="camelcase"?l?this._toCamelCase(l):"":Boolean(l)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(l)&&typeof this.elseValue=="string"?this.elseValue:l||""}_toPascalCase(l){const d=l.match(/[a-z0-9]+/gi);return d?d.map(a=>a.charAt(0).toUpperCase()+a.substr(1)).join(""):l}_toCamelCase(l){const d=l.match(/[a-z0-9]+/gi);return d?d.map((a,s)=>s===0?a.charAt(0).toLowerCase()+a.substr(1):a.charAt(0).toUpperCase()+a.substr(1)).join(""):l}clone(){return new u(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=u;class g extends I{constructor(l){super();this.name=l}resolve(l){let d=l.resolve(this);return this.transform&&(d=this.transform.resolve(d||"")),d!==void 0?(this._children=[new k(d)],!0):!1}clone(){const l=new g(this.name);return this.transform&&(l.transform=this.transform.clone()),l._children=this.children.map(d=>d.clone()),l}}e.Variable=g;function n(r,l){const d=[...r];for(;d.length>0;){const a=d.shift();if(!l(a))break;d.unshift(...a.children)}}class i extends C{get placeholderInfo(){if(!this._placeholders){const l=[];let d;this.walk(function(a){return a instanceof L&&(l.push(a),d=!d||d.index<a.index?a:d),!0}),this._placeholders={all:l,last:d}}return this._placeholders}get placeholders(){const{all:l}=this.placeholderInfo;return l}offset(l){let d=0,a=!1;return this.walk(s=>s===l?(a=!0,!1):(d+=s.len(),!0)),a?d:-1}fullLen(l){let d=0;return n([l],a=>(d+=a.len(),!0)),d}enclosingPlaceholders(l){const d=[];let{parent:a}=l;for(;a;)a instanceof L&&d.push(a),a=a.parent;return d}resolveVariables(l){return this.walk(d=>(d instanceof g&&d.resolve(l)&&(this._placeholders=void 0),!0)),this}appendChild(l){return this._placeholders=void 0,super.appendChild(l)}replace(l,d){return this._placeholders=void 0,super.replace(l,d)}clone(){const l=new i;return this._children=this.children.map(d=>d.clone()),l}walk(l){n(this.children,l)}}e.TextmateSnippet=i;class t{constructor(){this._scanner=new w,this._token={type:14,pos:0,len:0}}static escape(l){return l.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(l){return/\${?CLIPBOARD/.test(l)}parse(l,d,a){const s=new i;return this.parseFragment(l,s),this.ensureFinalTabstop(s,a??!1,d??!1),s}parseFragment(l,d){const a=d.children.length;for(this._scanner.text(l),this._token=this._scanner.next();this._parse(d););const s=new Map,o=[];d.walk(c=>(c instanceof L&&(c.isFinalTabstop?s.set(0,void 0):!s.has(c.index)&&c.children.length>0?s.set(c.index,c.children):o.push(c)),!0));for(const c of o){const f=s.get(c.index);if(f){const p=new L(c.index);p.transform=c.transform;for(const _ of f)p.appendChild(_.clone());d.replace(c,[p])}}return d.children.slice(a)}ensureFinalTabstop(l,d,a){(d||a&&l.placeholders.length>0)&&(l.placeholders.find(o=>o.index===0)||l.appendChild(new L(0)))}_accept(l,d){if(l===void 0||this._token.type===l){const a=d?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),a}return!1}_backTo(l){return this._scanner.pos=l.pos+l.len,this._token=l,!1}_until(l){const d=this._token;for(;this._token.type!==l;){if(this._token.type===14)return!1;if(this._token.type===5){const s=this._scanner.next();if(s.type!==0&&s.type!==4&&s.type!==5)return!1}this._token=this._scanner.next()}const a=this._scanner.value.substring(d.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),a}_parse(l){return this._parseEscaped(l)||this._parseTabstopOrVariableName(l)||this._parseComplexPlaceholder(l)||this._parseComplexVariable(l)||this._parseAnything(l)}_parseEscaped(l){let d;return(d=this._accept(5,!0))?(d=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||d,l.appendChild(new k(d)),!0):!1}_parseTabstopOrVariableName(l){let d;const a=this._token;return this._accept(0)&&(d=this._accept(9,!0)||this._accept(8,!0))?(l.appendChild(/^\d+$/.test(d)?new L(Number(d)):new g(d)),!0):this._backTo(a)}_parseComplexPlaceholder(l){let d;const a=this._token;if(!(this._accept(0)&&this._accept(3)&&(d=this._accept(8,!0))))return this._backTo(a);const o=new L(Number(d));if(this._accept(1))for(;;){if(this._accept(4))return l.appendChild(o),!0;if(!this._parse(o))return l.appendChild(new k("${"+d+":")),o.children.forEach(l.appendChild,l),!0}else if(o.index>0&&this._accept(7)){const c=new b;for(;;){if(this._parseChoiceElement(c)){if(this._accept(2))continue;if(this._accept(7)&&(o.appendChild(c),this._accept(4)))return l.appendChild(o),!0}return this._backTo(a),!1}}else return this._accept(6)?this._parseTransform(o)?(l.appendChild(o),!0):(this._backTo(a),!1):this._accept(4)?(l.appendChild(o),!0):this._backTo(a)}_parseChoiceElement(l){const d=this._token,a=[];for(;!(this._token.type===2||this._token.type===7);){let s;if((s=this._accept(5,!0))?s=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||s:s=this._accept(void 0,!0),!s)return this._backTo(d),!1;a.push(s)}return a.length===0?(this._backTo(d),!1):(l.appendChild(new k(a.join(""))),!0)}_parseComplexVariable(l){let d;const a=this._token;if(!(this._accept(0)&&this._accept(3)&&(d=this._accept(9,!0))))return this._backTo(a);const o=new g(d);if(this._accept(1))for(;;){if(this._accept(4))return l.appendChild(o),!0;if(!this._parse(o))return l.appendChild(new k("${"+d+":")),o.children.forEach(l.appendChild,l),!0}else return this._accept(6)?this._parseTransform(o)?(l.appendChild(o),!0):(this._backTo(a),!1):this._accept(4)?(l.appendChild(o),!0):this._backTo(a)}_parseTransform(l){const d=new v;let a="",s="";for(;!this._accept(6);){let o;if(o=this._accept(5,!0)){o=this._accept(6,!0)||o,a+=o;continue}if(this._token.type!==14){a+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let o;if(o=this._accept(5,!0)){o=this._accept(5,!0)||this._accept(6,!0)||o,d.appendChild(new k(o));continue}if(!(this._parseFormatString(d)||this._parseAnything(d)))return!1}for(;!this._accept(4);){if(this._token.type!==14){s+=this._accept(void 0,!0);continue}return!1}try{d.regexp=new RegExp(a,s)}catch{return!1}return l.transform=d,!0}_parseFormatString(l){const d=this._token;if(!this._accept(0))return!1;let a=!1;this._accept(3)&&(a=!0);const s=this._accept(8,!0);if(s)if(a){if(this._accept(4))return l.appendChild(new u(Number(s))),!0;if(!this._accept(1))return this._backTo(d),!1}else return l.appendChild(new u(Number(s))),!0;else return this._backTo(d),!1;if(this._accept(6)){const o=this._accept(9,!0);return!o||!this._accept(4)?(this._backTo(d),!1):(l.appendChild(new u(Number(s),o)),!0)}else if(this._accept(11)){const o=this._until(4);if(o)return l.appendChild(new u(Number(s),void 0,o,void 0)),!0}else if(this._accept(12)){const o=this._until(4);if(o)return l.appendChild(new u(Number(s),void 0,void 0,o)),!0}else if(this._accept(13)){const o=this._until(1);if(o){const c=this._until(4);if(c)return l.appendChild(new u(Number(s),void 0,o,c)),!0}}else{const o=this._until(4);if(o)return l.appendChild(new u(Number(s),void 0,void 0,o)),!0}return this._backTo(d),!1}_parseAnything(l){return this._token.type!==14?(l.appendChild(new k(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=t}),define(re[250],ae([1,0,18,63,8]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class I{constructor(v,u){this.leadingLineContent=v,this.characterCountDelta=u}}e.LineContext=I;class L{constructor(v,u,g,n,i,t,r=C.FuzzyScoreOptions.default,l=void 0){this.clipboardText=l,this._snippetCompareFn=L._compareCompletionItems,this._items=v,this._column=u,this._wordDistance=n,this._options=i,this._refilterKind=1,this._lineContext=g,this._fuzzyScoreOptions=r,t==="top"?this._snippetCompareFn=L._compareCompletionItemsSnippetsUp:t==="bottom"&&(this._snippetCompareFn=L._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(v){(this._lineContext.leadingLineContent!==v.leadingLineContent||this._lineContext.characterCountDelta!==v.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<v.characterCountDelta&&this._filteredItems?2:1,this._lineContext=v)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const v=new Set;for(const[u,g]of this._providerInfo)g&&v.add(u);return v}adopt(v){const u=[];for(let g=0;g<this._items.length;)v.has(this._items[g].provider)?g++:(u.push(this._items[g]),this._items[g]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,u}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const v=[],{leadingLineContent:u,characterCountDelta:g}=this._lineContext;let n="",i="";const t=this._refilterKind===1?this._items:this._filteredItems,r=[],l=!this._options.filterGraceful||t.length>2e3?C.fuzzyScore:C.fuzzyScoreGracefulAggressive;for(let d=0;d<t.length;d++){const a=t[d];if(a.isInvalid)continue;this._providerInfo.set(a.provider,Boolean(a.container.incomplete));const s=a.position.column-a.editStart.column,o=s+g-(a.position.column-this._column);if(n.length!==o&&(n=o===0?"":u.slice(-o),i=n.toLowerCase()),a.word=n,o===0)a.score=C.FuzzyScore.Default;else{let c=0;for(;c<s;){const f=n.charCodeAt(c);if(f===32||f===9)c+=1;else break}if(c>=o)a.score=C.FuzzyScore.Default;else if(typeof a.completion.filterText=="string"){const f=l(n,i,c,a.completion.filterText,a.filterTextLow,0,this._fuzzyScoreOptions);if(!f)continue;(0,k.compareIgnoreCase)(a.completion.filterText,a.textLabel)===0?a.score=f:(a.score=(0,C.anyScore)(n,i,c,a.textLabel,a.labelLow,0),a.score[0]=f[0])}else{const f=l(n,i,c,a.textLabel,a.labelLow,0,this._fuzzyScoreOptions);if(!f)continue;a.score=f}}a.idx=d,a.distance=this._wordDistance.distance(a.position,a.completion),r.push(a),v.push(a.textLabel.length)}this._filteredItems=r.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:v.length?(0,w.quickSelect)(v.length-.85,v,(d,a)=>d-a):0}}static _compareCompletionItems(v,u){return v.score[0]>u.score[0]?-1:v.score[0]<u.score[0]?1:v.distance<u.distance?-1:v.distance>u.distance?1:v.idx<u.idx?-1:v.idx>u.idx?1:0}static _compareCompletionItemsSnippetsDown(v,u){if(v.completion.kind!==u.completion.kind){if(v.completion.kind===27)return 1;if(u.completion.kind===27)return-1}return L._compareCompletionItems(v,u)}static _compareCompletionItemsSnippetsUp(v,u){if(v.completion.kind!==u.completion.kind){if(v.completion.kind===27)return-1;if(u.completion.kind===27)return 1}return L._compareCompletionItems(v,u)}}e.CompletionModel=L}),define(re[459],ae([1,0,18,2,107]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class I{constructor(b,v,u){this._disposables=new C.DisposableStore,this._disposables.add(v.onDidShow(()=>this._onItem(v.getFocusedItem()))),this._disposables.add(v.onDidFocus(this._onItem,this)),this._disposables.add(v.onDidHide(this.reset,this)),this._disposables.add(b.onWillType(g=>{if(this._active&&!v.isFrozen()){const n=g.charCodeAt(g.length-1);this._active.acceptCharacters.has(n)&&b.getOption(0)&&u(this._active.item)}}))}_onItem(b){if(!b||!(0,w.isNonEmptyArray)(b.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===b.item)return;const v=new k.CharacterSet;for(const u of b.item.completion.commitCharacters)u.length>0&&v.add(u.charCodeAt(0));this._active={acceptCharacters:v,item:b}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=I}),define(re[460],ae([1,0,2]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class C{constructor(I,L){this._disposables=new w.DisposableStore,this._lastOvertyped=[],this._empty=!0,this._disposables.add(I.onWillType(()=>{if(!this._empty||!I.hasModel())return;const b=I.getSelections(),v=b.length;let u=!1;for(let n=0;n<v;n++)if(!b[n].isEmpty()){u=!0;break}if(!u)return;this._lastOvertyped=[];const g=I.getModel();for(let n=0;n<v;n++){const i=b[n];if(g.getValueLengthInRange(i)>C._maxSelectionLength)return;this._lastOvertyped[n]={value:g.getValueInRange(i),multiline:i.startLineNumber!==i.endLineNumber}}this._empty=!1})),this._disposables.add(L.onDidCancel(b=>{!this._empty&&!b.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(I){if(!this._empty&&I>=0&&I<this._lastOvertyped.length)return this._lastOvertyped[I]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=C,C._maxSelectionLength=51200}),define(re[251],ae([1,0,18,3,249]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class I{static create(b,v){return Se(this,void 0,void 0,function*(){if(!v.getOption(108).localityBonus||!v.hasModel())return I.None;const u=v.getModel(),g=v.getPosition();if(!b.canComputeWordRanges(u.uri))return I.None;const[n]=yield new k.BracketSelectionRangeProvider().provideSelectionRanges(u,[g]);if(n.length===0)return I.None;const i=yield b.computeWordRanges(u.uri,n[0].range);if(!i)return I.None;const t=u.getWordUntilPosition(g);return delete i[t.word],new class extends I{distance(r,l){if(!g.equals(v.getPosition()))return 0;if(l.kind===17)return 2<<20;const d=typeof l.label=="string"?l.label:l.label.label,a=i[d];if((0,w.isFalsyOrEmpty)(a))return 2<<20;const s=(0,w.binarySearch)(a,C.Range.fromPositions(r),C.Range.compareRangesUsingStarts),o=s>=0?a[s]:a[Math.max(0,~s-1)];let c=n.length;for(const f of n){if(!C.Range.containsRange(f.range,o))break;c-=1}return c}}})}}e.WordDistance=I,I.None=new class extends I{distance(){return 0}}}),define(re[252],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stateExists=e.findRules=e.substituteMatches=e.createError=e.log=e.sanitize=e.fixCase=e.empty=e.isIAction=e.isString=e.isFuzzyAction=e.isFuzzyActionArr=void 0;function w(r){return Array.isArray(r)}e.isFuzzyActionArr=w;function C(r){return!w(r)}e.isFuzzyAction=C;function k(r){return typeof r=="string"}e.isString=k;function I(r){return!k(r)}e.isIAction=I;function L(r){return!r}e.empty=L;function b(r,l){return r.ignoreCase&&l?l.toLowerCase():l}e.fixCase=b;function v(r){return r.replace(/[&<>'"_]/g,"-")}e.sanitize=v;function u(r,l){console.log(`${r.languageId}: ${l}`)}e.log=u;function g(r,l){return new Error(`${r.languageId}: ${l}`)}e.createError=g;function n(r,l,d,a,s){const o=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let c=null;return l.replace(o,function(f,p,_,m,h,S,y,E,N){return L(_)?L(m)?!L(h)&&h<a.length?b(r,a[h]):!L(y)&&r&&typeof r[y]=="string"?r[y]:(c===null&&(c=s.split("."),c.unshift(s)),!L(S)&&S<c.length?b(r,c[S]):""):b(r,d):"$"})}e.substituteMatches=n;function i(r,l){let d=l;for(;d&&d.length>0;){const a=r.tokenizer[d];if(a)return a;const s=d.lastIndexOf(".");s<0?d=null:d=d.substr(0,s)}return null}e.findRules=i;function t(r,l){let d=l;for(;d&&d.length>0;){if(r.stateNames[d])return!0;const s=d.lastIndexOf(".");s<0?d=null:d=d.substr(0,s)}return!1}e.stateExists=t}),define(re[461],ae([1,0,252]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=void 0;function C(r,l){if(!l||!Array.isArray(l))return!1;for(const d of l)if(!r(d))return!1;return!0}function k(r,l){return typeof r=="boolean"?r:l}function I(r,l){return typeof r=="string"?r:l}function L(r){const l={};for(const d of r)l[d]=!0;return l}function b(r,l=!1){l&&(r=r.map(function(a){return a.toLowerCase()}));const d=L(r);return l?function(a){return d[a.toLowerCase()]!==void 0&&d.hasOwnProperty(a.toLowerCase())}:function(a){return d[a]!==void 0&&d.hasOwnProperty(a)}}function v(r,l){l=l.replace(/@@/g,"");let d=0,a;do a=!1,l=l.replace(/@(\w+)/g,function(o,c){a=!0;let f="";if(typeof r[c]=="string")f=r[c];else if(r[c]&&r[c]instanceof RegExp)f=r[c].source;else throw r[c]===void 0?w.createError(r,"language definition does not contain attribute '"+c+"', used at: "+l):w.createError(r,"attribute reference '"+c+"' must be a string, used at: "+l);return w.empty(f)?"":"(?:"+f+")"}),d++;while(a&&d<5);l=l.replace(/\x01/g,"@");const s=(r.ignoreCase?"i":"")+(r.unicode?"u":"");return new RegExp(l,s)}function u(r,l,d,a){if(a<0)return r;if(a<l.length)return l[a];if(a>=100){a=a-100;const s=d.split(".");if(s.unshift(d),a<s.length)return s[a]}return null}function g(r,l,d,a){let s=-1,o=d,c=d.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);c&&(c[3]&&(s=parseInt(c[3]),c[2]&&(s=s+100)),o=c[4]);let f="~",p=o;!o||o.length===0?(f="!=",p=""):/^\w*$/.test(p)?f="==":(c=o.match(/^(@|!@|~|!~|==|!=)(.*)$/),c&&(f=c[1],p=c[2]));let _;if((f==="~"||f==="!~")&&/^(\w|\|)*$/.test(p)){const m=b(p.split("|"),r.ignoreCase);_=function(h){return f==="~"?m(h):!m(h)}}else if(f==="@"||f==="!@"){const m=r[p];if(!m)throw w.createError(r,"the @ match target '"+p+"' is not defined, in rule: "+l);if(!C(function(S){return typeof S=="string"},m))throw w.createError(r,"the @ match target '"+p+"' must be an array of strings, in rule: "+l);const h=b(m,r.ignoreCase);_=function(S){return f==="@"?h(S):!h(S)}}else if(f==="~"||f==="!~")if(p.indexOf("$")<0){const m=v(r,"^"+p+"$");_=function(h){return f==="~"?m.test(h):!m.test(h)}}else _=function(m,h,S,y){return v(r,"^"+w.substituteMatches(r,p,h,S,y)+"$").test(m)};else if(p.indexOf("$")<0){const m=w.fixCase(r,p);_=function(h){return f==="=="?h===m:h!==m}}else{const m=w.fixCase(r,p);_=function(h,S,y,E,N){const T=w.substituteMatches(r,m,S,y,E);return f==="=="?h===T:h!==T}}return s===-1?{name:d,value:a,test:function(m,h,S,y){return _(m,m,h,S,y)}}:{name:d,value:a,test:function(m,h,S,y){const E=u(m,h,S,s);return _(E||"",m,h,S,y)}}}function n(r,l,d){if(d){if(typeof d=="string")return d;if(d.token||d.token===""){if(typeof d.token!="string")throw w.createError(r,"a 'token' attribute must be of type string, in rule: "+l);{const a={token:d.token};if(d.token.indexOf("$")>=0&&(a.tokenSubst=!0),typeof d.bracket=="string")if(d.bracket==="@open")a.bracket=1;else if(d.bracket==="@close")a.bracket=-1;else throw w.createError(r,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+l);if(d.next){if(typeof d.next!="string")throw w.createError(r,"the next state must be a string value in rule: "+l);{let s=d.next;if(!/^(@pop|@push|@popall)$/.test(s)&&(s[0]==="@"&&(s=s.substr(1)),s.indexOf("$")<0&&!w.stateExists(r,w.substituteMatches(r,s,"",[],""))))throw w.createError(r,"the next state '"+d.next+"' is not defined in rule: "+l);a.next=s}}return typeof d.goBack=="number"&&(a.goBack=d.goBack),typeof d.switchTo=="string"&&(a.switchTo=d.switchTo),typeof d.log=="string"&&(a.log=d.log),typeof d.nextEmbedded=="string"&&(a.nextEmbedded=d.nextEmbedded,r.usesEmbedded=!0),a}}else if(Array.isArray(d)){const a=[];for(let s=0,o=d.length;s<o;s++)a[s]=n(r,l,d[s]);return{group:a}}else if(d.cases){const a=[];for(const o in d.cases)if(d.cases.hasOwnProperty(o)){const c=n(r,l,d.cases[o]);o==="@default"||o==="@"||o===""?a.push({test:void 0,value:c,name:o}):o==="@eos"?a.push({test:function(f,p,_,m){return m},value:c,name:o}):a.push(g(r,l,o,c))}const s=r.defaultToken;return{test:function(o,c,f,p){for(const _ of a)if(!_.test||_.test(o,c,f,p))return _.value;return s}}}else throw w.createError(r,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+l)}else return{token:""}}class i{constructor(l){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=l}setRegex(l,d){let a;if(typeof d=="string")a=d;else if(d instanceof RegExp)a=d.source;else throw w.createError(l,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=a.length>0&&a[0]==="^",this.name=this.name+": "+a,this.regex=v(l,"^(?:"+(this.matchOnlyAtLineStart?a.substr(1):a)+")")}setAction(l,d){this.action=n(l,this.name,d)}}function t(r,l){if(!l||typeof l!="object")throw new Error("Monarch: expecting a language definition object");const d={};d.languageId=r,d.includeLF=k(l.includeLF,!1),d.noThrow=!1,d.maxStack=100,d.start=typeof l.start=="string"?l.start:null,d.ignoreCase=k(l.ignoreCase,!1),d.unicode=k(l.unicode,!1),d.tokenPostfix=I(l.tokenPostfix,"."+d.languageId),d.defaultToken=I(l.defaultToken,"source"),d.usesEmbedded=!1;const a=l;a.languageId=r,a.includeLF=d.includeLF,a.ignoreCase=d.ignoreCase,a.unicode=d.unicode,a.noThrow=d.noThrow,a.usesEmbedded=d.usesEmbedded,a.stateNames=l.tokenizer,a.defaultToken=d.defaultToken;function s(c,f,p){for(const _ of p){let m=_.include;if(m){if(typeof m!="string")throw w.createError(d,"an 'include' attribute must be a string at: "+c);if(m[0]==="@"&&(m=m.substr(1)),!l.tokenizer[m])throw w.createError(d,"include target '"+m+"' is not defined at: "+c);s(c+"."+m,f,l.tokenizer[m])}else{const h=new i(c);if(Array.isArray(_)&&_.length>=1&&_.length<=3)if(h.setRegex(a,_[0]),_.length>=3)if(typeof _[1]=="string")h.setAction(a,{token:_[1],next:_[2]});else if(typeof _[1]=="object"){const S=_[1];S.next=_[2],h.setAction(a,S)}else throw w.createError(d,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+c);else h.setAction(a,_[1]);else{if(!_.regex)throw w.createError(d,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+c);_.name&&typeof _.name=="string"&&(h.name=_.name),_.matchOnlyAtStart&&(h.matchOnlyAtLineStart=k(_.matchOnlyAtLineStart,!1)),h.setRegex(a,_.regex),h.setAction(a,_.action)}f.push(h)}}}if(!l.tokenizer||typeof l.tokenizer!="object")throw w.createError(d,"a language definition must define the 'tokenizer' attribute as an object");d.tokenizer=[];for(const c in l.tokenizer)if(l.tokenizer.hasOwnProperty(c)){d.start||(d.start=c);const f=l.tokenizer[c];d.tokenizer[c]=new Array,s("tokenizer."+c,d.tokenizer[c],f)}if(d.usesEmbedded=a.usesEmbedded,l.brackets){if(!Array.isArray(l.brackets))throw w.createError(d,"the 'brackets' attribute must be defined as an array")}else l.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const o=[];for(const c of l.brackets){let f=c;if(f&&Array.isArray(f)&&f.length===3&&(f={token:f[2],open:f[0],close:f[1]}),f.open===f.close)throw w.createError(d,"open and close brackets in a 'brackets' attribute must be different: "+f.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof f.open=="string"&&typeof f.token=="string"&&typeof f.close=="string")o.push({token:f.token+d.tokenPostfix,open:w.fixCase(d,f.open),close:w.fixCase(d,f.close)});else throw w.createError(d,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return d.brackets=o,d.noThrow=!0,d}e.compile=t}),define(re[462],ae([4,5]),function($,e){return $.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(re[463],ae([4,5]),function($,e){return $.create("vs/base/browser/ui/findinput/findInput",e)}),define(re[464],ae([4,5]),function($,e){return $.create("vs/base/browser/ui/findinput/findInputToggles",e)}),define(re[465],ae([4,5]),function($,e){return $.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(re[466],ae([4,5]),function($,e){return $.create("vs/base/browser/ui/iconLabel/iconLabelHover",e)}),define(re[467],ae([4,5]),function($,e){return $.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(re[468],ae([4,5]),function($,e){return $.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(re[469],ae([4,5]),function($,e){return $.create("vs/base/browser/ui/tree/abstractTree",e)}),define(re[470],ae([4,5]),function($,e){return $.create("vs/base/common/actions",e)}),define(re[471],ae([4,5]),function($,e){return $.create("vs/base/common/errorMessage",e)}),define(re[472],ae([1,0,18,19,471]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function I(u,g){return g&&(u.stack||u.stacktrace)?k.localize(0,null,b(u),L(u.stack)||L(u.stacktrace)):b(u)}function L(u){return Array.isArray(u)?u.join(`
`):u}function b(u){return typeof u.code=="string"&&typeof u.errno=="number"&&typeof u.syscall=="string"?k.localize(1,null,u.message):u.message||k.localize(2,null)}function v(u=null,g=!1){if(!u)return k.localize(3,null);if(Array.isArray(u)){const n=w.coalesce(u),i=v(n[0],g);return n.length>1?k.localize(4,null,i,n.length):i}if(C.isString(u))return u;if(u.detail){const n=u.detail;if(n.error)return I(n.error,g);if(n.exception)return I(n.exception,g)}return u.stack?I(u,g):u.message?u.message:k.localize(5,null)}e.toErrorMessage=v}),define(re[473],ae([4,5]),function($,e){return $.create("vs/base/common/keybindingLabels",e)}),define(re[190],ae([1,0,473]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserSettingsLabelProvider=e.ElectronAcceleratorLabelProvider=e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class C{constructor(L,b,v=b){this.modifierLabels=[null],this.modifierLabels[2]=L,this.modifierLabels[1]=b,this.modifierLabels[3]=v}toLabel(L,b,v){if(b.length===0)return null;const u=[];for(let g=0,n=b.length;g<n;g++){const i=b[g],t=v(i);if(t===null)return null;u[g]=k(i,t,this.modifierLabels[L])}return u.join(" ")}}e.ModifierLabelProvider=C,e.UILabelProvider=new C({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:w.localize(0,null),shiftKey:w.localize(1,null),altKey:w.localize(2,null),metaKey:w.localize(3,null),separator:"+"},{ctrlKey:w.localize(4,null),shiftKey:w.localize(5,null),altKey:w.localize(6,null),metaKey:w.localize(7,null),separator:"+"}),e.AriaLabelProvider=new C({ctrlKey:w.localize(8,null),shiftKey:w.localize(9,null),altKey:w.localize(10,null),metaKey:w.localize(11,null),separator:"+"},{ctrlKey:w.localize(12,null),shiftKey:w.localize(13,null),altKey:w.localize(14,null),metaKey:w.localize(15,null),separator:"+"},{ctrlKey:w.localize(16,null),shiftKey:w.localize(17,null),altKey:w.localize(18,null),metaKey:w.localize(19,null),separator:"+"}),e.ElectronAcceleratorLabelProvider=new C({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),e.UserSettingsLabelProvider=new C({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function k(I,L,b){if(L===null)return"";const v=[];return I.ctrlKey&&v.push(b.ctrlKey),I.shiftKey&&v.push(b.shiftKey),I.altKey&&v.push(b.altKey),I.metaKey&&v.push(b.metaKey),L!==""&&v.push(L),v.join(b.separator)}}),define(re[474],ae([4,5]),function($,e){return $.create("vs/base/common/platform",e)}),define(re[17],ae([1,0,474]),function($,e,w){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.isAndroid=e.isEdge=e.isSafari=e.isFirefox=e.isChrome=e.isLittleEndian=e.OS=e.setTimeout0=e.setTimeout0IsFaster=e.language=e.userAgent=e.isIOS=e.isWebWorker=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.globals=void 0;const k="en";let I=!1,L=!1,b=!1,v=!1,u=!1,g=!1,n=!1,i=!1,t=!1,r,l=k,d,a;e.globals=typeof self=="object"?self:typeof global=="object"?global:{};let s;typeof e.globals.vscode!="undefined"&&typeof e.globals.vscode.process!="undefined"?s=e.globals.vscode.process:typeof process!="undefined"&&(s=process);const o=typeof((C=s==null?void 0:s.versions)===null||C===void 0?void 0:C.electron)=="string",c=o&&(s==null?void 0:s.type)==="renderer";if(typeof navigator=="object"&&!c)a=navigator.userAgent,I=a.indexOf("Windows")>=0,L=a.indexOf("Macintosh")>=0,i=(a.indexOf("Macintosh")>=0||a.indexOf("iPad")>=0||a.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,b=a.indexOf("Linux")>=0,g=!0,r=w.getConfiguredDefaultLocale(w.localize(0,null))||k,l=r;else if(typeof s=="object"){I=s.platform==="win32",L=s.platform==="darwin",b=s.platform==="linux",v=b&&!!s.env.SNAP&&!!s.env.SNAP_REVISION,n=o,t=!!s.env.CI||!!s.env.BUILD_ARTIFACTSTAGINGDIRECTORY,r=k,l=k;const h=s.env.VSCODE_NLS_CONFIG;if(h)try{const S=JSON.parse(h),y=S.availableLanguages["*"];r=S.locale,l=y||k,d=S._translationsConfigFile}catch{}u=!0}else console.error("Unable to resolve platform.");let f=0;L?f=1:I?f=3:b&&(f=2),e.isWindows=I,e.isMacintosh=L,e.isLinux=b,e.isNative=u,e.isWeb=g,e.isWebWorker=g&&typeof e.globals.importScripts=="function",e.isIOS=i,e.userAgent=a,e.language=l,e.setTimeout0IsFaster=typeof e.globals.postMessage=="function"&&!e.globals.importScripts,e.setTimeout0=(()=>{if(e.setTimeout0IsFaster){const h=[];e.globals.addEventListener("message",y=>{if(y.data&&y.data.vscodeScheduleAsyncWork)for(let E=0,N=h.length;E<N;E++){const T=h[E];if(T.id===y.data.vscodeScheduleAsyncWork){h.splice(E,1),T.callback();return}}});let S=0;return y=>{const E=++S;h.push({id:E,callback:y}),e.globals.postMessage({vscodeScheduleAsyncWork:E},"*")}}return h=>setTimeout(h)})(),e.OS=L||i?2:I?1:3;let p=!0,_=!1;function m(){if(!_){_=!0;const h=new Uint8Array(2);h[0]=1,h[1]=2,p=new Uint16Array(h.buffer)[0]===(2<<8)+1}return p}e.isLittleEndian=m,e.isChrome=!!(e.userAgent&&e.userAgent.indexOf("Chrome")>=0),e.isFirefox=!!(e.userAgent&&e.userAgent.indexOf("Firefox")>=0),e.isSafari=!!(!e.isChrome&&e.userAgent&&e.userAgent.indexOf("Safari")>=0),e.isEdge=!!(e.userAgent&&e.userAgent.indexOf("Edg/")>=0),e.isAndroid=!!(e.userAgent&&e.userAgent.indexOf("Android")>=0)}),define(re[475],ae([1,0,17]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let C;if(typeof w.globals.vscode!="undefined"&&typeof w.globals.vscode.process!="undefined"){const k=w.globals.vscode.process;C={get platform(){return k.platform},get arch(){return k.arch},get env(){return k.env},cwd(){return k.cwd()}}}else typeof process!="undefined"?C={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:C={get platform(){return w.isWindows?"win32":w.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};e.cwd=C.cwd,e.env=C.env,e.platform=C.platform}),define(re[90],ae([1,0,475]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const C=65,k=97,I=90,L=122,b=46,v=47,u=92,g=58,n=63;class i extends Error{constructor(c,f,p){let _;typeof f=="string"&&f.indexOf("not ")===0?(_="must not be",f=f.replace(/^not /,"")):_="must be";const m=c.indexOf(".")!==-1?"property":"argument";let h=`The "${c}" ${m} ${_} of type ${f}`;h+=`. Received type ${typeof p}`;super(h);this.code="ERR_INVALID_ARG_TYPE"}}function t(o,c){if(typeof o!="string")throw new i(c,"string",o)}function r(o){return o===v||o===u}function l(o){return o===v}function d(o){return o>=C&&o<=I||o>=k&&o<=L}function a(o,c,f,p){let _="",m=0,h=-1,S=0,y=0;for(let E=0;E<=o.length;++E){if(E<o.length)y=o.charCodeAt(E);else{if(p(y))break;y=v}if(p(y)){if(!(h===E-1||S===1))if(S===2){if(_.length<2||m!==2||_.charCodeAt(_.length-1)!==b||_.charCodeAt(_.length-2)!==b){if(_.length>2){const N=_.lastIndexOf(f);N===-1?(_="",m=0):(_=_.slice(0,N),m=_.length-1-_.lastIndexOf(f)),h=E,S=0;continue}else if(_.length!==0){_="",m=0,h=E,S=0;continue}}c&&(_+=_.length>0?`${f}..`:"..",m=2)}else _.length>0?_+=`${f}${o.slice(h+1,E)}`:_=o.slice(h+1,E),m=E-h-1;h=E,S=0}else y===b&&S!==-1?++S:S=-1}return _}function s(o,c){if(c===null||typeof c!="object")throw new i("pathObject","Object",c);const f=c.dir||c.root,p=c.base||`${c.name||""}${c.ext||""}`;return f?f===c.root?`${f}${p}`:`${f}${o}${p}`:p}e.win32={resolve(...o){let c="",f="",p=!1;for(let _=o.length-1;_>=-1;_--){let m;if(_>=0){if(m=o[_],t(m,"path"),m.length===0)continue}else c.length===0?m=w.cwd():(m=w.env[`=${c}`]||w.cwd(),(m===void 0||m.slice(0,2).toLowerCase()!==c.toLowerCase()&&m.charCodeAt(2)===u)&&(m=`${c}\\`));const h=m.length;let S=0,y="",E=!1;const N=m.charCodeAt(0);if(h===1)r(N)&&(S=1,E=!0);else if(r(N))if(E=!0,r(m.charCodeAt(1))){let T=2,R=T;for(;T<h&&!r(m.charCodeAt(T));)T++;if(T<h&&T!==R){const F=m.slice(R,T);for(R=T;T<h&&r(m.charCodeAt(T));)T++;if(T<h&&T!==R){for(R=T;T<h&&!r(m.charCodeAt(T));)T++;(T===h||T!==R)&&(y=`\\\\${F}\\${m.slice(R,T)}`,S=T)}}}else S=1;else d(N)&&m.charCodeAt(1)===g&&(y=m.slice(0,2),S=2,h>2&&r(m.charCodeAt(2))&&(E=!0,S=3));if(y.length>0)if(c.length>0){if(y.toLowerCase()!==c.toLowerCase())continue}else c=y;if(p){if(c.length>0)break}else if(f=`${m.slice(S)}\\${f}`,p=E,E&&c.length>0)break}return f=a(f,!p,"\\",r),p?`${c}\\${f}`:`${c}${f}`||"."},normalize(o){t(o,"path");const c=o.length;if(c===0)return".";let f=0,p,_=!1;const m=o.charCodeAt(0);if(c===1)return l(m)?"\\":o;if(r(m))if(_=!0,r(o.charCodeAt(1))){let S=2,y=S;for(;S<c&&!r(o.charCodeAt(S));)S++;if(S<c&&S!==y){const E=o.slice(y,S);for(y=S;S<c&&r(o.charCodeAt(S));)S++;if(S<c&&S!==y){for(y=S;S<c&&!r(o.charCodeAt(S));)S++;if(S===c)return`\\\\${E}\\${o.slice(y)}\\`;S!==y&&(p=`\\\\${E}\\${o.slice(y,S)}`,f=S)}}}else f=1;else d(m)&&o.charCodeAt(1)===g&&(p=o.slice(0,2),f=2,c>2&&r(o.charCodeAt(2))&&(_=!0,f=3));let h=f<c?a(o.slice(f),!_,"\\",r):"";return h.length===0&&!_&&(h="."),h.length>0&&r(o.charCodeAt(c-1))&&(h+="\\"),p===void 0?_?`\\${h}`:h:_?`${p}\\${h}`:`${p}${h}`},isAbsolute(o){t(o,"path");const c=o.length;if(c===0)return!1;const f=o.charCodeAt(0);return r(f)||c>2&&d(f)&&o.charCodeAt(1)===g&&r(o.charCodeAt(2))},join(...o){if(o.length===0)return".";let c,f;for(let m=0;m<o.length;++m){const h=o[m];t(h,"path"),h.length>0&&(c===void 0?c=f=h:c+=`\\${h}`)}if(c===void 0)return".";let p=!0,_=0;if(typeof f=="string"&&r(f.charCodeAt(0))){++_;const m=f.length;m>1&&r(f.charCodeAt(1))&&(++_,m>2&&(r(f.charCodeAt(2))?++_:p=!1))}if(p){for(;_<c.length&&r(c.charCodeAt(_));)_++;_>=2&&(c=`\\${c.slice(_)}`)}return e.win32.normalize(c)},relative(o,c){if(t(o,"from"),t(c,"to"),o===c)return"";const f=e.win32.resolve(o),p=e.win32.resolve(c);if(f===p||(o=f.toLowerCase(),c=p.toLowerCase(),o===c))return"";let _=0;for(;_<o.length&&o.charCodeAt(_)===u;)_++;let m=o.length;for(;m-1>_&&o.charCodeAt(m-1)===u;)m--;const h=m-_;let S=0;for(;S<c.length&&c.charCodeAt(S)===u;)S++;let y=c.length;for(;y-1>S&&c.charCodeAt(y-1)===u;)y--;const E=y-S,N=h<E?h:E;let T=-1,R=0;for(;R<N;R++){const O=o.charCodeAt(_+R);if(O!==c.charCodeAt(S+R))break;O===u&&(T=R)}if(R!==N){if(T===-1)return p}else{if(E>N){if(c.charCodeAt(S+R)===u)return p.slice(S+R+1);if(R===2)return p.slice(S+R)}h>N&&(o.charCodeAt(_+R)===u?T=R:R===2&&(T=3)),T===-1&&(T=0)}let F="";for(R=_+T+1;R<=m;++R)(R===m||o.charCodeAt(R)===u)&&(F+=F.length===0?"..":"\\..");return S+=T,F.length>0?`${F}${p.slice(S,y)}`:(p.charCodeAt(S)===u&&++S,p.slice(S,y))},toNamespacedPath(o){if(typeof o!="string")return o;if(o.length===0)return"";const c=e.win32.resolve(o);if(c.length<=2)return o;if(c.charCodeAt(0)===u){if(c.charCodeAt(1)===u){const f=c.charCodeAt(2);if(f!==n&&f!==b)return`\\\\?\\UNC\\${c.slice(2)}`}}else if(d(c.charCodeAt(0))&&c.charCodeAt(1)===g&&c.charCodeAt(2)===u)return`\\\\?\\${c}`;return o},dirname(o){t(o,"path");const c=o.length;if(c===0)return".";let f=-1,p=0;const _=o.charCodeAt(0);if(c===1)return r(_)?o:".";if(r(_)){if(f=p=1,r(o.charCodeAt(1))){let S=2,y=S;for(;S<c&&!r(o.charCodeAt(S));)S++;if(S<c&&S!==y){for(y=S;S<c&&r(o.charCodeAt(S));)S++;if(S<c&&S!==y){for(y=S;S<c&&!r(o.charCodeAt(S));)S++;if(S===c)return o;S!==y&&(f=p=S+1)}}}}else d(_)&&o.charCodeAt(1)===g&&(f=c>2&&r(o.charCodeAt(2))?3:2,p=f);let m=-1,h=!0;for(let S=c-1;S>=p;--S)if(r(o.charCodeAt(S))){if(!h){m=S;break}}else h=!1;if(m===-1){if(f===-1)return".";m=f}return o.slice(0,m)},basename(o,c){c!==void 0&&t(c,"ext"),t(o,"path");let f=0,p=-1,_=!0,m;if(o.length>=2&&d(o.charCodeAt(0))&&o.charCodeAt(1)===g&&(f=2),c!==void 0&&c.length>0&&c.length<=o.length){if(c===o)return"";let h=c.length-1,S=-1;for(m=o.length-1;m>=f;--m){const y=o.charCodeAt(m);if(r(y)){if(!_){f=m+1;break}}else S===-1&&(_=!1,S=m+1),h>=0&&(y===c.charCodeAt(h)?--h==-1&&(p=m):(h=-1,p=S))}return f===p?p=S:p===-1&&(p=o.length),o.slice(f,p)}for(m=o.length-1;m>=f;--m)if(r(o.charCodeAt(m))){if(!_){f=m+1;break}}else p===-1&&(_=!1,p=m+1);return p===-1?"":o.slice(f,p)},extname(o){t(o,"path");let c=0,f=-1,p=0,_=-1,m=!0,h=0;o.length>=2&&o.charCodeAt(1)===g&&d(o.charCodeAt(0))&&(c=p=2);for(let S=o.length-1;S>=c;--S){const y=o.charCodeAt(S);if(r(y)){if(!m){p=S+1;break}continue}_===-1&&(m=!1,_=S+1),y===b?f===-1?f=S:h!==1&&(h=1):f!==-1&&(h=-1)}return f===-1||_===-1||h===0||h===1&&f===_-1&&f===p+1?"":o.slice(f,_)},format:s.bind(null,"\\"),parse(o){t(o,"path");const c={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return c;const f=o.length;let p=0,_=o.charCodeAt(0);if(f===1)return r(_)?(c.root=c.dir=o,c):(c.base=c.name=o,c);if(r(_)){if(p=1,r(o.charCodeAt(1))){let T=2,R=T;for(;T<f&&!r(o.charCodeAt(T));)T++;if(T<f&&T!==R){for(R=T;T<f&&r(o.charCodeAt(T));)T++;if(T<f&&T!==R){for(R=T;T<f&&!r(o.charCodeAt(T));)T++;T===f?p=T:T!==R&&(p=T+1)}}}}else if(d(_)&&o.charCodeAt(1)===g){if(f<=2)return c.root=c.dir=o,c;if(p=2,r(o.charCodeAt(2))){if(f===3)return c.root=c.dir=o,c;p=3}}p>0&&(c.root=o.slice(0,p));let m=-1,h=p,S=-1,y=!0,E=o.length-1,N=0;for(;E>=p;--E){if(_=o.charCodeAt(E),r(_)){if(!y){h=E+1;break}continue}S===-1&&(y=!1,S=E+1),_===b?m===-1?m=E:N!==1&&(N=1):m!==-1&&(N=-1)}return S!==-1&&(m===-1||N===0||N===1&&m===S-1&&m===h+1?c.base=c.name=o.slice(h,S):(c.name=o.slice(h,m),c.base=o.slice(h,S),c.ext=o.slice(m,S))),h>0&&h!==p?c.dir=o.slice(0,h-1):c.dir=c.root,c},sep:"\\",delimiter:";",win32:null,posix:null},e.posix={resolve(...o){let c="",f=!1;for(let p=o.length-1;p>=-1&&!f;p--){const _=p>=0?o[p]:w.cwd();t(_,"path"),_.length!==0&&(c=`${_}/${c}`,f=_.charCodeAt(0)===v)}return c=a(c,!f,"/",l),f?`/${c}`:c.length>0?c:"."},normalize(o){if(t(o,"path"),o.length===0)return".";const c=o.charCodeAt(0)===v,f=o.charCodeAt(o.length-1)===v;return o=a(o,!c,"/",l),o.length===0?c?"/":f?"./":".":(f&&(o+="/"),c?`/${o}`:o)},isAbsolute(o){return t(o,"path"),o.length>0&&o.charCodeAt(0)===v},join(...o){if(o.length===0)return".";let c;for(let f=0;f<o.length;++f){const p=o[f];t(p,"path"),p.length>0&&(c===void 0?c=p:c+=`/${p}`)}return c===void 0?".":e.posix.normalize(c)},relative(o,c){if(t(o,"from"),t(c,"to"),o===c||(o=e.posix.resolve(o),c=e.posix.resolve(c),o===c))return"";const f=1,p=o.length,_=p-f,m=1,h=c.length-m,S=_<h?_:h;let y=-1,E=0;for(;E<S;E++){const T=o.charCodeAt(f+E);if(T!==c.charCodeAt(m+E))break;T===v&&(y=E)}if(E===S)if(h>S){if(c.charCodeAt(m+E)===v)return c.slice(m+E+1);if(E===0)return c.slice(m+E)}else _>S&&(o.charCodeAt(f+E)===v?y=E:E===0&&(y=0));let N="";for(E=f+y+1;E<=p;++E)(E===p||o.charCodeAt(E)===v)&&(N+=N.length===0?"..":"/..");return`${N}${c.slice(m+y)}`},toNamespacedPath(o){return o},dirname(o){if(t(o,"path"),o.length===0)return".";const c=o.charCodeAt(0)===v;let f=-1,p=!0;for(let _=o.length-1;_>=1;--_)if(o.charCodeAt(_)===v){if(!p){f=_;break}}else p=!1;return f===-1?c?"/":".":c&&f===1?"//":o.slice(0,f)},basename(o,c){c!==void 0&&t(c,"ext"),t(o,"path");let f=0,p=-1,_=!0,m;if(c!==void 0&&c.length>0&&c.length<=o.length){if(c===o)return"";let h=c.length-1,S=-1;for(m=o.length-1;m>=0;--m){const y=o.charCodeAt(m);if(y===v){if(!_){f=m+1;break}}else S===-1&&(_=!1,S=m+1),h>=0&&(y===c.charCodeAt(h)?--h==-1&&(p=m):(h=-1,p=S))}return f===p?p=S:p===-1&&(p=o.length),o.slice(f,p)}for(m=o.length-1;m>=0;--m)if(o.charCodeAt(m)===v){if(!_){f=m+1;break}}else p===-1&&(_=!1,p=m+1);return p===-1?"":o.slice(f,p)},extname(o){t(o,"path");let c=-1,f=0,p=-1,_=!0,m=0;for(let h=o.length-1;h>=0;--h){const S=o.charCodeAt(h);if(S===v){if(!_){f=h+1;break}continue}p===-1&&(_=!1,p=h+1),S===b?c===-1?c=h:m!==1&&(m=1):c!==-1&&(m=-1)}return c===-1||p===-1||m===0||m===1&&c===p-1&&c===f+1?"":o.slice(c,p)},format:s.bind(null,"/"),parse(o){t(o,"path");const c={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return c;const f=o.charCodeAt(0)===v;let p;f?(c.root="/",p=1):p=0;let _=-1,m=0,h=-1,S=!0,y=o.length-1,E=0;for(;y>=p;--y){const N=o.charCodeAt(y);if(N===v){if(!S){m=y+1;break}continue}h===-1&&(S=!1,h=y+1),N===b?_===-1?_=y:E!==1&&(E=1):_!==-1&&(E=-1)}if(h!==-1){const N=m===0&&f?1:m;_===-1||E===0||E===1&&_===h-1&&_===m+1?c.base=c.name=o.slice(N,h):(c.name=o.slice(N,_),c.base=o.slice(N,h),c.ext=o.slice(_,h))}return m>0?c.dir=o.slice(0,m-1):f&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=w.platform==="win32"?e.win32.normalize:e.posix.normalize,e.resolve=w.platform==="win32"?e.win32.resolve:e.posix.resolve,e.relative=w.platform==="win32"?e.win32.relative:e.posix.relative,e.dirname=w.platform==="win32"?e.win32.dirname:e.posix.dirname,e.basename=w.platform==="win32"?e.win32.basename:e.posix.basename,e.extname=w.platform==="win32"?e.win32.extname:e.posix.extname,e.sep=w.platform==="win32"?e.win32.sep:e.posix.sep}),define(re[191],ae([1,0,90,17,8]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasDriveLetter=e.isWindowsDriveLetter=e.isEqualOrParent=e.getRoot=e.toPosixPath=e.toSlashes=e.isPathSeparator=void 0;function I(i){return i===47||i===92}e.isPathSeparator=I;function L(i){return i.replace(/[\\/]/g,w.posix.sep)}e.toSlashes=L;function b(i){return i.indexOf("/")===-1&&(i=L(i)),/^[a-zA-Z]:(\/|$)/.test(i)&&(i="/"+i),i}e.toPosixPath=b;function v(i,t=w.posix.sep){if(!i)return"";const r=i.length,l=i.charCodeAt(0);if(I(l)){if(I(i.charCodeAt(1))&&!I(i.charCodeAt(2))){let a=3;const s=a;for(;a<r&&!I(i.charCodeAt(a));a++);if(s!==a&&!I(i.charCodeAt(a+1))){for(a+=1;a<r;a++)if(I(i.charCodeAt(a)))return i.slice(0,a+1).replace(/[\\/]/g,t)}}return t}else if(g(l)&&i.charCodeAt(1)===58)return I(i.charCodeAt(2))?i.slice(0,2)+t:i.slice(0,2);let d=i.indexOf("://");if(d!==-1){for(d+=3;d<r;d++)if(I(i.charCodeAt(d)))return i.slice(0,d+1)}return""}e.getRoot=v;function u(i,t,r,l=w.sep){if(i===t)return!0;if(!i||!t||t.length>i.length)return!1;if(r){if(!(0,k.startsWithIgnoreCase)(i,t))return!1;if(t.length===i.length)return!0;let a=t.length;return t.charAt(t.length-1)===l&&a--,i.charAt(a)===l}return t.charAt(t.length-1)!==l&&(t+=l),i.indexOf(t)===0}e.isEqualOrParent=u;function g(i){return i>=65&&i<=90||i>=97&&i<=122}e.isWindowsDriveLetter=g;function n(i,t=C.isWindows){return t?g(i.charCodeAt(0))&&i.charCodeAt(1)===58:!1}e.hasDriveLetter=n}),define(re[476],ae([1,0,63,90,17,8]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieceToQuery=e.prepareQuery=e.scoreFuzzy2=void 0;const L=[void 0,[]];function b(s,o,c=0,f=0){const p=o;return p.values&&p.values.length>1?v(s,p.values,c,f):u(s,o,c,f)}e.scoreFuzzy2=b;function v(s,o,c,f){let p=0;const _=[];for(const m of o){const[h,S]=u(s,m,c,f);if(typeof h!="number")return L;p+=h,_.push(...S)}return[p,n(_)]}function u(s,o,c,f){const p=(0,w.fuzzyScore)(o.original,o.originalLowercase,c,s,s.toLowerCase(),f,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return p?[p[0],(0,w.createMatches)(p)]:L}const g=Object.freeze({score:0});function n(s){const o=s.sort((p,_)=>p.start-_.start),c=[];let f;for(const p of o)!f||!i(f,p)?(f=p,c.push(p)):(f.start=Math.min(f.start,p.start),f.end=Math.max(f.end,p.end));return c}function i(s,o){return!(s.end<o.start||o.end<s.start)}function t(s){return s.startsWith('"')&&s.endsWith('"')}const r=" ";function l(s){typeof s!="string"&&(s="");const o=s.toLowerCase(),{pathNormalized:c,normalized:f,normalizedLowercase:p}=d(s),_=c.indexOf(C.sep)>=0,m=t(s);let h;const S=s.split(r);if(S.length>1)for(const y of S){const E=t(y),{pathNormalized:N,normalized:T,normalizedLowercase:R}=d(y);T&&(h||(h=[]),h.push({original:y,originalLowercase:y.toLowerCase(),pathNormalized:N,normalized:T,normalizedLowercase:R,expectContiguousMatch:E}))}return{original:s,originalLowercase:o,pathNormalized:c,normalized:f,normalizedLowercase:p,values:h,containsPathSeparator:_,expectContiguousMatch:m}}e.prepareQuery=l;function d(s){let o;k.isWindows?o=s.replace(/\//g,C.sep):o=s.replace(/\\/g,C.sep);const c=(0,I.stripWildcards)(o).replace(/\s|"/g,"");return{pathNormalized:o,normalized:c,normalizedLowercase:c.toLowerCase()}}function a(s){return Array.isArray(s)?l(s.map(o=>o.original).join(r)):l(s.original)}e.pieceToQuery=a}),define(re[477],ae([1,0,191,17]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=void 0;function k(L,b=C.isWindows){return(0,w.hasDriveLetter)(L,b)?L.charAt(0).toUpperCase()+L.slice(1):L}e.normalizeDriveLetter=k;let I=Object.create(null)}),define(re[57],ae([1,0,17]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const C=w.globals.performance&&typeof w.globals.performance.now=="function";class k{constructor(L){this._highResolution=C&&L,this._startTime=this._now(),this._stopTime=-1}static create(L=!0){return new k(L)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?w.globals.performance.now():Date.now()}}e.StopWatch=k}),define(re[6],ae([1,0,14,2,73,57]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.DebounceEmitter=e.PauseableEmitter=e.EventDeliveryQueue=e.Emitter=e.Event=void 0;const L=!1,b=!1;var v;(function(p){p.None=()=>C.Disposable.None;function _(Z){if(b){const{onListenerDidAdd:ie}=Z,Y=i.create();let te=0;Z.onListenerDidAdd=()=>{++te==2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),Y.print()),ie==null||ie()}}}function m(Z){return(ie,Y=null,te)=>{let de=!1,x;return x=Z(oe=>{if(!de)return x?x.dispose():de=!0,ie.call(Y,oe)},null,te),de&&x.dispose(),x}}p.once=m;function h(Z,ie,Y){return R((te,de=null,x)=>Z(oe=>te.call(de,ie(oe)),null,x),Y)}p.map=h;function S(Z,ie,Y){return R((te,de=null,x)=>Z(oe=>{ie(oe),te.call(de,oe)},null,x),Y)}p.forEach=S;function y(Z,ie,Y){return R((te,de=null,x)=>Z(oe=>ie(oe)&&te.call(de,oe),null,x),Y)}p.filter=y;function E(Z){return Z}p.signal=E;function N(...Z){return(ie,Y=null,te)=>(0,C.combinedDisposable)(...Z.map(de=>de(x=>ie.call(Y,x),null,te)))}p.any=N;function T(Z,ie,Y,te){let de=Y;return h(Z,x=>(de=ie(de,x),de),te)}p.reduce=T;function R(Z,ie){let Y;const te={onFirstListenerAdd(){Y=Z(de.fire,de)},onLastListenerRemove(){Y==null||Y.dispose()}};ie||_(te);const de=new r(te);return ie==null||ie.add(de),de.event}function F(Z,ie,Y=100,te=!1,de,x){let oe,ne,j,se=0;const z={leakWarningThreshold:de,onFirstListenerAdd(){oe=Z(G=>{se++,ne=ie(ne,G),te&&!j&&(X.fire(ne),ne=void 0),clearTimeout(j),j=setTimeout(()=>{const U=ne;ne=void 0,j=void 0,(!te||se>1)&&X.fire(U),se=0},Y)})},onLastListenerRemove(){oe.dispose()}};x||_(z);const X=new r(z);return x==null||x.add(X),X.event}p.debounce=F;function O(Z,ie=(te,de)=>te===de,Y){let te=!0,de;return y(Z,x=>{const oe=te||!ie(x,de);return te=!1,de=x,oe},Y)}p.latch=O;function D(Z,ie,Y){return[p.filter(Z,ie,Y),p.filter(Z,te=>!ie(te),Y)]}p.split=D;function M(Z,ie=!1,Y=[]){let te=Y.slice(),de=Z(ne=>{te?te.push(ne):oe.fire(ne)});const x=()=>{te==null||te.forEach(ne=>oe.fire(ne)),te=null},oe=new r({onFirstListenerAdd(){de||(de=Z(ne=>oe.fire(ne)))},onFirstListenerDidAdd(){te&&(ie?setTimeout(x):x())},onLastListenerRemove(){de&&de.dispose(),de=null}});return oe.event}p.buffer=M;class P{constructor(ie){this.event=ie,this.disposables=new C.DisposableStore}map(ie){return new P(h(this.event,ie,this.disposables))}forEach(ie){return new P(S(this.event,ie,this.disposables))}filter(ie){return new P(y(this.event,ie,this.disposables))}reduce(ie,Y){return new P(T(this.event,ie,Y,this.disposables))}latch(){return new P(O(this.event,void 0,this.disposables))}debounce(ie,Y=100,te=!1,de){return new P(F(this.event,ie,Y,te,de,this.disposables))}on(ie,Y,te){return this.event(ie,Y,te)}once(ie,Y,te){return m(this.event)(ie,Y,te)}dispose(){this.disposables.dispose()}}function B(Z){return new P(Z)}p.chain=B;function W(Z,ie,Y=te=>te){const te=(...ne)=>oe.fire(Y(...ne)),de=()=>Z.on(ie,te),x=()=>Z.removeListener(ie,te),oe=new r({onFirstListenerAdd:de,onLastListenerRemove:x});return oe.event}p.fromNodeEventEmitter=W;function V(Z,ie,Y=te=>te){const te=(...ne)=>oe.fire(Y(...ne)),de=()=>Z.addEventListener(ie,te),x=()=>Z.removeEventListener(ie,te),oe=new r({onFirstListenerAdd:de,onLastListenerRemove:x});return oe.event}p.fromDOMEventEmitter=V;function A(Z){return new Promise(ie=>m(Z)(ie))}p.toPromise=A;function Q(Z,ie){return ie(void 0),Z(Y=>ie(Y))}p.runAndSubscribe=Q;function J(Z,ie){let Y=null;function te(x){Y==null||Y.dispose(),Y=new C.DisposableStore,ie(x,Y)}te(void 0);const de=Z(x=>te(x));return(0,C.toDisposable)(()=>{de.dispose(),Y==null||Y.dispose()})}p.runAndSubscribeWithStore=J;class H{constructor(ie,Y){this.obs=ie,this._counter=0,this._hasChanged=!1;const te={onFirstListenerAdd:()=>{ie.addObserver(this)},onLastListenerRemove:()=>{ie.removeObserver(this)}};Y||_(te),this.emitter=new r(te),Y&&Y.add(this.emitter)}beginUpdate(ie){this._counter++}handleChange(ie,Y){this._hasChanged=!0}endUpdate(ie){--this._counter==0&&this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this.obs.get()))}}function q(Z,ie){return new H(Z,ie).emitter.event}p.fromObservable=q})(v=e.Event||(e.Event={}));class u{constructor(_){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${_}_${u._idPool++}`}start(_){this._stopWatch=new I.StopWatch(!0),this._listenerCount=_}stop(){if(this._stopWatch){const _=this._stopWatch.elapsed();this._elapsedOverall+=_,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${_.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}u._idPool=0;let g=-1;class n{constructor(_,m=Math.random().toString(18).slice(2,5)){this.customThreshold=_,this.name=m,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(_,m){let h=g;if(typeof this.customThreshold=="number"&&(h=this.customThreshold),h<=0||m<h)return;this._stacks||(this._stacks=new Map);const S=this._stacks.get(_.value)||0;if(this._stacks.set(_.value,S+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=h*.5;let y,E=0;for(const[N,T]of this._stacks)(!y||E<T)&&(y=N,E=T);console.warn(`[${this.name}] potential listener LEAK detected, having ${m} listeners already. MOST frequent listener (${E}):`),console.warn(y)}return()=>{const y=this._stacks.get(_.value)||0;this._stacks.set(_.value,y-1)}}}class i{constructor(_){this.value=_}static create(){var _;return new i((_=new Error().stack)!==null&&_!==void 0?_:"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class t{constructor(_,m,h){this.callback=_,this.callbackThis=m,this.stack=h,this.subscription=new C.SafeDisposable}invoke(_){this.callback.call(this.callbackThis,_)}}class r{constructor(_){var m,h;this._disposed=!1,this._options=_,this._leakageMon=g>0?new n(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=((m=this._options)===null||m===void 0?void 0:m._profName)?new u(this._options._profName):void 0,this._deliveryQueue=(h=this._options)===null||h===void 0?void 0:h.deliveryQueue}dispose(){var _,m,h,S;if(!this._disposed){if(this._disposed=!0,this._listeners){if(L){const y=Array.from(this._listeners);queueMicrotask(()=>{var E;for(const N of y)N.subscription.isset()&&(N.subscription.unset(),(E=N.stack)===null||E===void 0||E.print())})}this._listeners.clear()}(_=this._deliveryQueue)===null||_===void 0||_.clear(this),(h=(m=this._options)===null||m===void 0?void 0:m.onLastListenerRemove)===null||h===void 0||h.call(m),(S=this._leakageMon)===null||S===void 0||S.dispose()}}get event(){return this._event||(this._event=(_,m,h)=>{var S,y,E;this._listeners||(this._listeners=new k.LinkedList);const N=this._listeners.isEmpty();N&&((S=this._options)===null||S===void 0?void 0:S.onFirstListenerAdd)&&this._options.onFirstListenerAdd(this);let T,R;this._leakageMon&&this._listeners.size>=30&&(R=i.create(),T=this._leakageMon.check(R,this._listeners.size+1)),L&&(R=R??i.create());const F=new t(_,m,R),O=this._listeners.push(F);N&&((y=this._options)===null||y===void 0?void 0:y.onFirstListenerDidAdd)&&this._options.onFirstListenerDidAdd(this),((E=this._options)===null||E===void 0?void 0:E.onListenerDidAdd)&&this._options.onListenerDidAdd(this,_,m);const D=F.subscription.set(()=>{T==null||T(),this._disposed||(O(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return h instanceof C.DisposableStore?h.add(D):Array.isArray(h)&&h.push(D),D}),this._event}fire(_){var m,h;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new d);for(const S of this._listeners)this._deliveryQueue.push(this,S,_);(m=this._perfMon)===null||m===void 0||m.start(this._deliveryQueue.size),this._deliveryQueue.deliver(),(h=this._perfMon)===null||h===void 0||h.stop()}}}e.Emitter=r;class l{constructor(){this._queue=new k.LinkedList}get size(){return this._queue.size}push(_,m,h){this._queue.push(new a(_,m,h))}clear(_){const m=new k.LinkedList;for(const h of this._queue)h.emitter!==_&&m.push(h);this._queue=m}deliver(){for(;this._queue.size>0;){const _=this._queue.shift();try{_.listener.invoke(_.event)}catch(m){(0,w.onUnexpectedError)(m)}}}}e.EventDeliveryQueue=l;class d extends l{clear(_){this._queue.clear()}}class a{constructor(_,m,h){this.emitter=_,this.listener=m,this.event=h}}class s extends r{constructor(_){super(_);this._isPaused=0,this._eventQueue=new k.LinkedList,this._mergeFn=_==null?void 0:_.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused==0)if(this._mergeFn){const _=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(_))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(_){this._listeners&&(this._isPaused!==0?this._eventQueue.push(_):super.fire(_))}}e.PauseableEmitter=s;class o extends s{constructor(_){var m;super(_);this._delay=(m=_.delay)!==null&&m!==void 0?m:100}fire(_){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(_)}}e.DebounceEmitter=o;class c{constructor(){this.buffers=[]}wrapEvent(_){return(m,h,S)=>_(y=>{const E=this.buffers[this.buffers.length-1];E?E.push(()=>m.call(h,y)):m.call(h,y)},void 0,S)}bufferEvents(_){const m=[];this.buffers.push(m);const h=_();return this.buffers.pop(),m.forEach(S=>S()),h}}e.EventBufferer=c;class f{constructor(){this.listening=!1,this.inputEvent=v.None,this.inputEventListener=C.Disposable.None,this.emitter=new r({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(_){this.inputEvent=_,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=_(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=f}),define(re[41],ae([1,0,6,2]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandalone=e.isAndroid=e.isElectron=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=e.getZoomFactor=e.PixelRatio=e.addMatchMediaChangeListener=void 0;class k{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}k.INSTANCE=new k;class I extends C.Disposable{constructor(){super();this._onDidChange=this._register(new w.Emitter),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(r){var l;(l=this._mediaQueryList)===null||l===void 0||l.removeEventListener("change",this._listener),this._mediaQueryList=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),r&&this._onDidChange.fire()}}class L extends C.Disposable{constructor(){super();this._onDidChange=this._register(new w.Emitter),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const r=this._register(new I);this._register(r.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}get value(){return this._value}_getPixelRatio(){const r=document.createElement("canvas").getContext("2d"),l=window.devicePixelRatio||1,d=r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1;return l/d}}class b{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=(0,C.markAsSingleton)(new L)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}function v(t,r){typeof t=="string"&&(t=window.matchMedia(t)),t.addEventListener("change",r)}e.addMatchMediaChangeListener=v,e.PixelRatio=new b;function u(){return k.INSTANCE.getZoomFactor()}e.getZoomFactor=u;const g=navigator.userAgent;e.isFirefox=g.indexOf("Firefox")>=0,e.isWebKit=g.indexOf("AppleWebKit")>=0,e.isChrome=g.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&g.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isElectron=g.indexOf("Electron/")>=0,e.isAndroid=g.indexOf("Android")>=0;let n=!1;if(window.matchMedia){const t=window.matchMedia("(display-mode: standalone)");n=t.matches,v(t,({matches:r})=>{n=r})}function i(){return n}e.isStandalone=i}),define(re[192],ae([1,0,41,17]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:C.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:C.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>C.isNative||w.isStandalone()?0:navigator.keyboard||w.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}}),define(re[100],ae([1,0,6]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stopEvent=e.DomEmitter=void 0;class C{constructor(L,b,v){const u=g=>this.emitter.fire(g);this.emitter=new w.Emitter({onFirstListenerAdd:()=>L.addEventListener(b,u,v),onLastListenerRemove:()=>L.removeEventListener(b,u,v)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}e.DomEmitter=C;function k(I){return I.preventDefault(),I.stopPropagation(),I}e.stopEvent=k}),define(re[48],ae([1,0,41,59,104,17]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;function L(i){if(i.charCode){const r=String.fromCharCode(i.charCode).toUpperCase();return C.KeyCodeUtils.fromString(r)}const t=i.keyCode;if(t===3)return 7;if(w.isFirefox){if(t===59)return 80;if(t===107)return 81;if(t===109)return 83;if(I.isMacintosh&&t===224)return 57}else if(w.isWebKit){if(t===91)return 57;if(I.isMacintosh&&t===93)return 57;if(!I.isMacintosh&&t===92)return 57}return C.EVENT_KEY_CODE_MAP[t]||0}const b=I.isMacintosh?256:2048,v=512,u=1024,g=I.isMacintosh?2048:256;class n{constructor(t){this._standardKeyboardEventBrand=!0;const r=t;this.browserEvent=r,this.target=r.target,this.ctrlKey=r.ctrlKey,this.shiftKey=r.shiftKey,this.altKey=r.altKey,this.metaKey=r.metaKey,this.keyCode=L(r),this.code=r.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(t){return this._asKeybinding===t}_computeKeybinding(){let t=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(t=this.keyCode);let r=0;return this.ctrlKey&&(r|=b),this.altKey&&(r|=v),this.shiftKey&&(r|=u),this.metaKey&&(r|=g),r|=t,r}_computeRuntimeKeybinding(){let t=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(t=this.keyCode),new k.SimpleKeybinding(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,t)}}e.StandardKeyboardEvent=n}),define(re[67],ae([1,0,41,324,17]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class I{constructor(v){this.timestamp=Date.now(),this.browserEvent=v,this.leftButton=v.button===0,this.middleButton=v.button===1,this.rightButton=v.button===2,this.buttons=v.buttons,this.target=v.target,this.detail=v.detail||1,v.type==="dblclick"&&(this.detail=2),this.ctrlKey=v.ctrlKey,this.shiftKey=v.shiftKey,this.altKey=v.altKey,this.metaKey=v.metaKey,typeof v.pageX=="number"?(this.posx=v.pageX,this.posy=v.pageY):(this.posx=v.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=v.clientY+document.body.scrollTop+document.documentElement.scrollTop);const u=C.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self,v.view);this.posx-=u.left,this.posy-=u.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=I;class L{constructor(v,u=0,g=0){if(this.browserEvent=v||null,this.target=v?v.target||v.targetNode||v.srcElement:null,this.deltaY=g,this.deltaX=u,v){const n=v,i=v;if(typeof n.wheelDeltaY!="undefined")this.deltaY=n.wheelDeltaY/120;else if(typeof i.VERTICAL_AXIS!="undefined"&&i.axis===i.VERTICAL_AXIS)this.deltaY=-i.detail/3;else if(v.type==="wheel"){const t=v;t.deltaMode===t.DOM_DELTA_LINE?w.isFirefox&&!k.isMacintosh?this.deltaY=-v.deltaY/3:this.deltaY=-v.deltaY:this.deltaY=-v.deltaY/40}if(typeof n.wheelDeltaX!="undefined")w.isSafari&&k.isWindows?this.deltaX=-(n.wheelDeltaX/120):this.deltaX=n.wheelDeltaX/120;else if(typeof i.HORIZONTAL_AXIS!="undefined"&&i.axis===i.HORIZONTAL_AXIS)this.deltaX=-v.detail/3;else if(v.type==="wheel"){const t=v;t.deltaMode===t.DOM_DELTA_LINE?w.isFirefox&&!k.isMacintosh?this.deltaX=-v.deltaX/3:this.deltaX=-v.deltaX:this.deltaX=-v.deltaX/40}this.deltaY===0&&this.deltaX===0&&v.wheelDelta&&(this.deltaY=v.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}e.StandardWheelEvent=L}),define(re[43],ae([1,0,6,2,470]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toAction=e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0;class I extends C.Disposable{constructor(i,t="",r="",l=!0,d){super();this._onDidChange=this._register(new w.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=i,this._label=t,this._cssClass=r,this._enabled=l,this._actionCallback=d}get id(){return this._id}get label(){return this._label}set label(i){this._setLabel(i)}_setLabel(i){this._label!==i&&(this._label=i,this._onDidChange.fire({label:i}))}get tooltip(){return this._tooltip||""}set tooltip(i){this._setTooltip(i)}_setTooltip(i){this._tooltip!==i&&(this._tooltip=i,this._onDidChange.fire({tooltip:i}))}get class(){return this._cssClass}set class(i){this._setClass(i)}_setClass(i){this._cssClass!==i&&(this._cssClass=i,this._onDidChange.fire({class:i}))}get enabled(){return this._enabled}set enabled(i){this._setEnabled(i)}_setEnabled(i){this._enabled!==i&&(this._enabled=i,this._onDidChange.fire({enabled:i}))}get checked(){return this._checked}set checked(i){this._setChecked(i)}_setChecked(i){this._checked!==i&&(this._checked=i,this._onDidChange.fire({checked:i}))}run(i,t){return Se(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(i))})}}e.Action=I;class L extends C.Disposable{constructor(){super(...arguments);this._onBeforeRun=this._register(new w.Emitter),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new w.Emitter),this.onDidRun=this._onDidRun.event}run(i,t){return Se(this,void 0,void 0,function*(){if(!i.enabled)return;this._onBeforeRun.fire({action:i});let r;try{yield this.runAction(i,t)}catch(l){r=l}this._onDidRun.fire({action:i,error:r})})}runAction(i,t){return Se(this,void 0,void 0,function*(){yield i.run(t)})}}e.ActionRunner=L;class b extends I{constructor(i){super(b.ID,i,i?"separator text":"separator");this.checked=!1,this.enabled=!1}}e.Separator=b,b.ID="vs.actions.separator";class v{constructor(i,t,r,l){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=i,this.label=t,this.class=l,this._actions=r}get actions(){return this._actions}dispose(){}run(){return Se(this,void 0,void 0,function*(){})}}e.SubmenuAction=v;class u extends I{constructor(){super(u.ID,k.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=u,u.ID="vs.actions.empty";function g(n){var i,t;return{id:n.id,label:n.label,class:void 0,enabled:(i=n.enabled)!==null&&i!==void 0?i:!0,checked:(t=n.checked)!==null&&t!==void 0?t:!1,run:()=>Se(this,void 0,void 0,function*(){return n.run()}),tooltip:n.label,dispose:()=>{}}}e.toAction=g}),define(re[21],ae([1,0,6]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const C=Object.freeze(function(b,v){const u=setTimeout(b.bind(v),0);return{dispose(){clearTimeout(u)}}});var k;(function(b){function v(u){return u===b.None||u===b.Cancelled||u instanceof I?!0:!u||typeof u!="object"?!1:typeof u.isCancellationRequested=="boolean"&&typeof u.onCancellationRequested=="function"}b.isCancellationToken=v,b.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:w.Event.None}),b.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:C})})(k=e.CancellationToken||(e.CancellationToken={}));class I{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?C:(this._emitter||(this._emitter=new w.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class L{constructor(v){this._token=void 0,this._parentListener=void 0,this._parentListener=v&&v.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new I),this._token}cancel(){this._token?this._token instanceof I&&this._token.cancel():this._token=k.Cancelled}dispose(v=!1){v&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof I&&this._token.dispose():this._token=k.None}}e.CancellationTokenSource=L});var _t=this&&this.__asyncValues||function($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=$[Symbol.asyncIterator],w;return e?e.call($):($=typeof __values=="function"?__values($):$[Symbol.iterator](),w={},C("next"),C("throw"),C("return"),w[Symbol.asyncIterator]=function(){return this},w);function C(I){w[I]=$[I]&&function(L){return new Promise(function(b,v){L=$[I](L),k(b,v,L.done,L.value)})}}function k(I,L,b,v){Promise.resolve(v).then(function(u){I({value:u,done:b})},L)}};define(re[10],ae([1,0,21,14,6,2,17]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCancelableAsyncIterable=e.CancelableAsyncIterableObject=e.AsyncIterableObject=e.Promises=e.DeferredPromise=e.IdleValue=e.runWhenIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.first=e.disposableTimeout=e.timeout=e.ThrottledDelayer=e.Delayer=e.MicrotaskDelay=e.Throttler=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function b(y){return!!y&&typeof y.then=="function"}e.isThenable=b;function v(y){const E=new w.CancellationTokenSource,N=y(E.token),T=new Promise((R,F)=>{const O=E.token.onCancellationRequested(()=>{O.dispose(),E.dispose(),F(new C.CancellationError)});Promise.resolve(N).then(D=>{O.dispose(),E.dispose(),R(D)},D=>{O.dispose(),E.dispose(),F(D)})});return new class{cancel(){E.cancel()}then(R,F){return T.then(R,F)}catch(R){return this.then(void 0,R)}finally(R){return T.finally(R)}}}e.createCancelablePromise=v;function u(y,E,N){return new Promise((T,R)=>{const F=E.onCancellationRequested(()=>{F.dispose(),T(N)});y.then(T,R).finally(()=>F.dispose())})}e.raceCancellation=u;class g{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(E){if(this.activePromise){if(this.queuedPromiseFactory=E,!this.queuedPromise){const N=()=>{this.queuedPromise=null;const T=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,T};this.queuedPromise=new Promise(T=>{this.activePromise.then(N,N).then(T)})}return new Promise((N,T)=>{this.queuedPromise.then(N,T)})}return this.activePromise=E(),new Promise((N,T)=>{this.activePromise.then(R=>{this.activePromise=null,N(R)},R=>{this.activePromise=null,T(R)})})}}e.Throttler=g;const n=(y,E)=>{let N=!0;const T=setTimeout(()=>{N=!1,E()},y);return{isTriggered:()=>N,dispose:()=>{clearTimeout(T),N=!1}}},i=y=>{let E=!0;return queueMicrotask(()=>{E&&(E=!1,y())}),{isTriggered:()=>E,dispose:()=>{E=!1}}};e.MicrotaskDelay=Symbol("MicrotaskDelay");class t{constructor(E){this.defaultDelay=E,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(E,N=this.defaultDelay){this.task=E,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((R,F)=>{this.doResolve=R,this.doReject=F}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const R=this.task;return this.task=null,R()}}));const T=()=>{var R;this.deferred=null,(R=this.doResolve)===null||R===void 0||R.call(this,null)};return this.deferred=N===e.MicrotaskDelay?i(T):n(N,T),this.completionPromise}isTriggered(){var E;return!!((E=this.deferred)===null||E===void 0?void 0:E.isTriggered())}cancel(){var E;this.cancelTimeout(),this.completionPromise&&((E=this.doReject)===null||E===void 0||E.call(this,new C.CancellationError),this.completionPromise=null)}cancelTimeout(){var E;(E=this.deferred)===null||E===void 0||E.dispose(),this.deferred=null}dispose(){this.cancel()}}e.Delayer=t;class r{constructor(E){this.delayer=new t(E),this.throttler=new g}trigger(E,N){return this.delayer.trigger(()=>this.throttler.queue(E),N)}dispose(){this.delayer.dispose()}}e.ThrottledDelayer=r;function l(y,E){return E?new Promise((N,T)=>{const R=setTimeout(()=>{F.dispose(),N()},y),F=E.onCancellationRequested(()=>{clearTimeout(R),F.dispose(),T(new C.CancellationError)})}):v(N=>l(y,N))}e.timeout=l;function d(y,E=0){const N=setTimeout(y,E);return(0,I.toDisposable)(()=>clearTimeout(N))}e.disposableTimeout=d;function a(y,E=T=>!!T,N=null){let T=0;const R=y.length,F=()=>{if(T>=R)return Promise.resolve(N);const O=y[T++];return Promise.resolve(O()).then(M=>E(M)?Promise.resolve(M):F())};return F()}e.first=a;class s{constructor(E,N){this._token=-1,typeof E=="function"&&typeof N=="number"&&this.setIfNotSet(E,N)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(E,N){this.cancel(),this._token=setTimeout(()=>{this._token=-1,E()},N)}setIfNotSet(E,N){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,E()},N))}}e.TimeoutTimer=s;class o{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(E,N){this.cancel(),this._token=setInterval(()=>{E()},N)}}e.IntervalTimer=o;class c{constructor(E,N){this.timeoutToken=-1,this.runner=E,this.timeout=N,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(E=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,E)}get delay(){return this.timeout}set delay(E){this.timeout=E}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var E;(E=this.runner)===null||E===void 0||E.call(this)}}e.RunOnceScheduler=c,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?e.runWhenIdle=y=>{(0,L.setTimeout0)(()=>{if(E)return;const N=Date.now()+15;y(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,N-Date.now())}}))});let E=!1;return{dispose(){E||(E=!0)}}}:e.runWhenIdle=(y,E)=>{const N=requestIdleCallback(y,typeof E=="number"?{timeout:E}:void 0);let T=!1;return{dispose(){T||(T=!0,cancelIdleCallback(N))}}}}();class f{constructor(E){this._didRun=!1,this._executor=()=>{try{this._value=E()}catch(N){this._error=N}finally{this._didRun=!0}},this._handle=(0,e.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.IdleValue=f;class p{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((E,N)=>{this.completeCallback=E,this.errorCallback=N})}get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}complete(E){return new Promise(N=>{this.completeCallback(E),this.resolved=!0,N()})}cancel(){new Promise(E=>{this.errorCallback(new C.CancellationError),this.rejected=!0,E()})}}e.DeferredPromise=p;var _;(function(y){function E(T){return Se(this,void 0,void 0,function*(){let R;const F=yield Promise.all(T.map(O=>O.then(D=>D,D=>{R||(R=D)})));if(typeof R!="undefined")throw R;return F})}y.settled=E;function N(T){return new Promise((R,F)=>Se(this,void 0,void 0,function*(){try{yield T(R,F)}catch(O){F(O)}}))}y.withAsyncBody=N})(_=e.Promises||(e.Promises={}));class m{constructor(E){this._state=0,this._results=[],this._error=null,this._onStateChanged=new k.Emitter,queueMicrotask(()=>Se(this,void 0,void 0,function*(){const N={emitOne:T=>this.emitOne(T),emitMany:T=>this.emitMany(T),reject:T=>this.reject(T)};try{yield Promise.resolve(E(N)),this.resolve()}catch(T){this.reject(T)}finally{N.emitOne=void 0,N.emitMany=void 0,N.reject=void 0}}))}static fromArray(E){return new m(N=>{N.emitMany(E)})}static fromPromise(E){return new m(N=>Se(this,void 0,void 0,function*(){N.emitMany(yield E)}))}static fromPromises(E){return new m(N=>Se(this,void 0,void 0,function*(){yield Promise.all(E.map(T=>Se(this,void 0,void 0,function*(){return N.emitOne(yield T)})))}))}static merge(E){return new m(N=>Se(this,void 0,void 0,function*(){yield Promise.all(E.map(T=>{var R,F;return Se(this,void 0,void 0,function*(){var O,D;try{for(R=_t(T);F=yield R.next(),!F.done;){const M=F.value;N.emitOne(M)}}catch(M){O={error:M}}finally{try{F&&!F.done&&(D=R.return)&&(yield D.call(R))}finally{if(O)throw O.error}}})}))}))}[Symbol.asyncIterator](){let E=0;return{next:()=>Se(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(E<this._results.length)return{done:!1,value:this._results[E++]};if(this._state===1)return{done:!0,value:void 0};yield k.Event.toPromise(this._onStateChanged.event)}while(!0)})}}static map(E,N){return new m(T=>Se(this,void 0,void 0,function*(){var R,F;try{for(var O=_t(E),D;D=yield O.next(),!D.done;){const M=D.value;T.emitOne(N(M))}}catch(M){R={error:M}}finally{try{D&&!D.done&&(F=O.return)&&(yield F.call(O))}finally{if(R)throw R.error}}}))}map(E){return m.map(this,E)}static filter(E,N){return new m(T=>Se(this,void 0,void 0,function*(){var R,F;try{for(var O=_t(E),D;D=yield O.next(),!D.done;){const M=D.value;N(M)&&T.emitOne(M)}}catch(M){R={error:M}}finally{try{D&&!D.done&&(F=O.return)&&(yield F.call(O))}finally{if(R)throw R.error}}}))}filter(E){return m.filter(this,E)}static coalesce(E){return m.filter(E,N=>!!N)}coalesce(){return m.coalesce(this)}static toPromise(E){var N,T,R,F;return Se(this,void 0,void 0,function*(){const O=[];try{for(N=_t(E);T=yield N.next(),!T.done;){const D=T.value;O.push(D)}}catch(D){R={error:D}}finally{try{T&&!T.done&&(F=N.return)&&(yield F.call(N))}finally{if(R)throw R.error}}return O})}toPromise(){return m.toPromise(this)}emitOne(E){this._state===0&&(this._results.push(E),this._onStateChanged.fire())}emitMany(E){this._state===0&&(this._results=this._results.concat(E),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(E){this._state===0&&(this._state=2,this._error=E,this._onStateChanged.fire())}}e.AsyncIterableObject=m,m.EMPTY=m.fromArray([]);class h extends m{constructor(E,N){super(N);this._source=E}cancel(){this._source.cancel()}}e.CancelableAsyncIterableObject=h;function S(y){const E=new w.CancellationTokenSource,N=y(E.token);return new h(E,T=>Se(this,void 0,void 0,function*(){var R,F;const O=E.token.onCancellationRequested(()=>{O.dispose(),E.dispose(),T.reject(new C.CancellationError)});try{try{for(var D=_t(N),M;M=yield D.next(),!M.done;){const P=M.value;if(E.token.isCancellationRequested)return;T.emitOne(P)}}catch(P){R={error:P}}finally{try{M&&!M.done&&(F=D.return)&&(yield F.call(D))}finally{if(R)throw R.error}}O.dispose(),E.dispose()}catch(P){O.dispose(),E.dispose(),T.reject(P)}}))}e.createCancelableAsyncIterable=S}),define(re[478],ae([1,0,10,2]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class k extends C.Disposable{constructor(L,b,v){super();this._visibility=L,this._visibleClassName=b,this._invisibleClassName=v,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new w.TimeoutTimer)}setVisibility(L){this._visibility!==L&&(this._visibility=L,this._updateShouldBeVisible())}setShouldBeVisible(L){this._rawShouldBeVisible=L,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const L=this._applyVisibilitySetting();this._shouldBeVisible!==L&&(this._shouldBeVisible=L,this.ensureVisibility())}setIsNeeded(L){this._isNeeded!==L&&(this._isNeeded=L,this.ensureVisibility())}setDomNode(L){this._domNode=L,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var L;(L=this._domNode)===null||L===void 0||L.setClassName(this._visibleClassName)},0))}_hide(L){var b;this._revealTimer.cancel(),!!this._isVisible&&(this._isVisible=!1,(b=this._domNode)===null||b===void 0||b.setClassName(this._invisibleClassName+(L?" fade":"")))}}e.ScrollbarVisibilityController=k}),define(re[193],ae([1,0,121,18,10,147,6,55]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=e.getVisibleState=e.isFilterResult=void 0;function v(i){return typeof i=="object"&&"visibility"in i&&"data"in i}e.isFilterResult=v;function u(i){switch(i){case!0:return 1;case!1:return 0;default:return i}}e.getVisibleState=u;function g(i){return typeof i.collapsible=="boolean"}class n{constructor(t,r,l,d={}){this.user=t,this.list=r,this.rootRef=[],this.eventBufferer=new L.EventBufferer,this._onDidChangeCollapseState=new L.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new L.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new L.Emitter,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new k.Delayer(k.MicrotaskDelay),this.collapseByDefault=typeof d.collapseByDefault=="undefined"?!1:d.collapseByDefault,this.filter=d.filter,this.autoExpandSingleChildren=typeof d.autoExpandSingleChildren=="undefined"?!1:d.autoExpandSingleChildren,this.root={parent:void 0,element:l,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(t,r,l=b.Iterable.empty(),d={}){if(t.length===0)throw new w.TreeError(this.user,"Invalid tree location");d.diffIdentityProvider?this.spliceSmart(d.diffIdentityProvider,t,r,l,d):this.spliceSimple(t,r,l,d)}spliceSmart(t,r,l,d,a,s){var o;d===void 0&&(d=b.Iterable.empty()),s===void 0&&(s=(o=a.diffDepth)!==null&&o!==void 0?o:0);const{parentNode:c}=this.getParentNodeWithListIndex(r);if(!c.lastDiffIds)return this.spliceSimple(r,l,d,a);const f=[...d],p=r[r.length-1],_=new I.LcsDiff({getElements:()=>c.lastDiffIds},{getElements:()=>[...c.children.slice(0,p),...f,...c.children.slice(p+l)].map(E=>t.getId(E.element).toString())}).ComputeDiff(!1);if(_.quitEarly)return c.lastDiffIds=void 0,this.spliceSimple(r,l,f,a);const m=r.slice(0,-1),h=(E,N,T)=>{if(s>0)for(let R=0;R<T;R++)E--,N--,this.spliceSmart(t,[...m,E,0],Number.MAX_SAFE_INTEGER,f[N].children,a,s-1)};let S=Math.min(c.children.length,p+l),y=f.length;for(const E of _.changes.sort((N,T)=>T.originalStart-N.originalStart))h(S,y,S-(E.originalStart+E.originalLength)),S=E.originalStart,y=E.modifiedStart-p,this.spliceSimple([...m,S],E.originalLength,b.Iterable.slice(f,y,y+E.modifiedLength),a);h(S,y,S)}spliceSimple(t,r,l=b.Iterable.empty(),{onDidCreateNode:d,onDidDeleteNode:a,diffIdentityProvider:s}){const{parentNode:o,listIndex:c,revealed:f,visible:p}=this.getParentNodeWithListIndex(t),_=[],m=b.Iterable.map(l,M=>this.createTreeNode(M,o,o.visible?1:0,f,_,d)),h=t[t.length-1],S=o.children.length>0;let y=0;for(let M=h;M>=0&&M<o.children.length;M--){const P=o.children[M];if(P.visible){y=P.visibleChildIndex;break}}const E=[];let N=0,T=0;for(const M of m)E.push(M),T+=M.renderNodeCount,M.visible&&(M.visibleChildIndex=y+N++);const R=(0,C.splice)(o.children,h,r,E);s?o.lastDiffIds?(0,C.splice)(o.lastDiffIds,h,r,E.map(M=>s.getId(M.element).toString())):o.lastDiffIds=o.children.map(M=>s.getId(M.element).toString()):o.lastDiffIds=void 0;let F=0;for(const M of R)M.visible&&F++;if(F!==0)for(let M=h+E.length;M<o.children.length;M++){const P=o.children[M];P.visible&&(P.visibleChildIndex-=F)}if(o.visibleChildrenCount+=N-F,f&&p){const M=R.reduce((P,B)=>P+(B.visible?B.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(o,T-M),this.list.splice(c,M,_)}if(R.length>0&&a){const M=P=>{a(P),P.children.forEach(M)};R.forEach(M)}this._onDidSplice.fire({insertedNodes:E,deletedNodes:R});const O=o.children.length>0;S!==O&&this.setCollapsible(t.slice(0,-1),O);let D=o;for(;D;){if(D.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}D=D.parent}}rerender(t){if(t.length===0)throw new w.TreeError(this.user,"Invalid tree location");const{node:r,listIndex:l,revealed:d}=this.getTreeNodeWithListIndex(t);r.visible&&d&&this.list.splice(l,1,[r])}has(t){return this.hasTreeNode(t)}getListIndex(t){const{listIndex:r,visible:l,revealed:d}=this.getTreeNodeWithListIndex(t);return l&&d?r:-1}getListRenderCount(t){return this.getTreeNode(t).renderNodeCount}isCollapsible(t){return this.getTreeNode(t).collapsible}setCollapsible(t,r){const l=this.getTreeNode(t);typeof r=="undefined"&&(r=!l.collapsible);const d={collapsible:r};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,d))}isCollapsed(t){return this.getTreeNode(t).collapsed}setCollapsed(t,r,l){const d=this.getTreeNode(t);typeof r=="undefined"&&(r=!d.collapsed);const a={collapsed:r,recursive:l||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,a))}_setCollapseState(t,r){const{node:l,listIndex:d,revealed:a}=this.getTreeNodeWithListIndex(t),s=this._setListNodeCollapseState(l,d,a,r);if(l!==this.root&&this.autoExpandSingleChildren&&s&&!g(r)&&l.collapsible&&!l.collapsed&&!r.recursive){let o=-1;for(let c=0;c<l.children.length;c++)if(l.children[c].visible)if(o>-1){o=-1;break}else o=c;o>-1&&this._setCollapseState([...t,o],r)}return s}_setListNodeCollapseState(t,r,l,d){const a=this._setNodeCollapseState(t,d,!1);if(!l||!t.visible||!a)return a;const s=t.renderNodeCount,o=this.updateNodeAfterCollapseChange(t),c=s-(r===-1?0:1);return this.list.splice(r+1,c,o.slice(1)),a}_setNodeCollapseState(t,r,l){let d;if(t===this.root?d=!1:(g(r)?(d=t.collapsible!==r.collapsible,t.collapsible=r.collapsible):t.collapsible?(d=t.collapsed!==r.collapsed,t.collapsed=r.collapsed):d=!1,d&&this._onDidChangeCollapseState.fire({node:t,deep:l})),!g(r)&&r.recursive)for(const a of t.children)d=this._setNodeCollapseState(a,r,!0)||d;return d}expandTo(t){this.eventBufferer.bufferEvents(()=>{let r=this.getTreeNode(t);for(;r.parent;)r=r.parent,t=t.slice(0,t.length-1),r.collapsed&&this._setCollapseState(t,{collapsed:!1,recursive:!1})})}refilter(){const t=this.root.renderNodeCount,r=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,t,r),this.refilterDelayer.cancel()}createTreeNode(t,r,l,d,a,s){const o={parent:r,element:t.element,children:[],depth:r.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof t.collapsible=="boolean"?t.collapsible:typeof t.collapsed!="undefined",collapsed:typeof t.collapsed=="undefined"?this.collapseByDefault:t.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},c=this._filterNode(o,l);o.visibility=c,d&&a.push(o);const f=t.children||b.Iterable.empty(),p=d&&c!==0&&!o.collapsed,_=b.Iterable.map(f,S=>this.createTreeNode(S,o,c,p,a,s));let m=0,h=1;for(const S of _)o.children.push(S),h+=S.renderNodeCount,S.visible&&(S.visibleChildIndex=m++);return o.collapsible=o.collapsible||o.children.length>0,o.visibleChildrenCount=m,o.visible=c===2?m>0:c===1,o.visible?o.collapsed||(o.renderNodeCount=h):(o.renderNodeCount=0,d&&a.pop()),s==null||s(o),o}updateNodeAfterCollapseChange(t){const r=t.renderNodeCount,l=[];return this._updateNodeAfterCollapseChange(t,l),this._updateAncestorsRenderNodeCount(t.parent,l.length-r),l}_updateNodeAfterCollapseChange(t,r){if(t.visible===!1)return 0;if(r.push(t),t.renderNodeCount=1,!t.collapsed)for(const l of t.children)t.renderNodeCount+=this._updateNodeAfterCollapseChange(l,r);return this._onDidChangeRenderNodeCount.fire(t),t.renderNodeCount}updateNodeAfterFilterChange(t){const r=t.renderNodeCount,l=[];return this._updateNodeAfterFilterChange(t,t.visible?1:0,l),this._updateAncestorsRenderNodeCount(t.parent,l.length-r),l}_updateNodeAfterFilterChange(t,r,l,d=!0){let a;if(t!==this.root){if(a=this._filterNode(t,r),a===0)return t.visible=!1,t.renderNodeCount=0,!1;d&&l.push(t)}const s=l.length;t.renderNodeCount=t===this.root?0:1;let o=!1;if(!t.collapsed||a!==0){let c=0;for(const f of t.children)o=this._updateNodeAfterFilterChange(f,a,l,d&&!t.collapsed)||o,f.visible&&(f.visibleChildIndex=c++);t.visibleChildrenCount=c}else t.visibleChildrenCount=0;return t!==this.root&&(t.visible=a===2?o:a===1,t.visibility=a),t.visible?t.collapsed||(t.renderNodeCount+=l.length-s):(t.renderNodeCount=0,d&&l.pop()),this._onDidChangeRenderNodeCount.fire(t),t.visible}_updateAncestorsRenderNodeCount(t,r){if(r!==0)for(;t;)t.renderNodeCount+=r,this._onDidChangeRenderNodeCount.fire(t),t=t.parent}_filterNode(t,r){const l=this.filter?this.filter.filter(t.element,r):1;return typeof l=="boolean"?(t.filterData=void 0,l?1:0):v(l)?(t.filterData=l.data,u(l.visibility)):(t.filterData=void 0,u(l))}hasTreeNode(t,r=this.root){if(!t||t.length===0)return!0;const[l,...d]=t;return l<0||l>r.children.length?!1:this.hasTreeNode(d,r.children[l])}getTreeNode(t,r=this.root){if(!t||t.length===0)return r;const[l,...d]=t;if(l<0||l>r.children.length)throw new w.TreeError(this.user,"Invalid tree location");return this.getTreeNode(d,r.children[l])}getTreeNodeWithListIndex(t){if(t.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:r,listIndex:l,revealed:d,visible:a}=this.getParentNodeWithListIndex(t),s=t[t.length-1];if(s<0||s>r.children.length)throw new w.TreeError(this.user,"Invalid tree location");const o=r.children[s];return{node:o,listIndex:l,revealed:d,visible:a&&o.visible}}getParentNodeWithListIndex(t,r=this.root,l=0,d=!0,a=!0){const[s,...o]=t;if(s<0||s>r.children.length)throw new w.TreeError(this.user,"Invalid tree location");for(let c=0;c<s;c++)l+=r.children[c].renderNodeCount;return d=d&&!r.collapsed,a=a&&r.visible,o.length===0?{parentNode:r,listIndex:l,revealed:d,visible:a}:this.getParentNodeWithListIndex(o,r.children[s],l+1,d,a)}getNode(t=[]){return this.getTreeNode(t)}getNodeLocation(t){const r=[];let l=t;for(;l.parent;)r.push(l.parent.children.indexOf(l)),l=l.parent;return r.reverse()}getParentNodeLocation(t){if(t.length!==0)return t.length===1?[]:(0,C.tail2)(t)[0]}getFirstElementChild(t){const r=this.getTreeNode(t);if(r.children.length!==0)return r.children[0].element}}e.IndexTreeModel=n}),define(re[194],ae([1,0,193,121,55]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class I{constructor(b,v,u={}){this.user=b,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new w.IndexTreeModel(b,v,null,u),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,u.sorter&&(this.sorter={compare(g,n){return u.sorter.compare(g.element,n.element)}}),this.identityProvider=u.identityProvider}setChildren(b,v=k.Iterable.empty(),u={}){const g=this.getElementLocation(b);this._setChildren(g,this.preserveCollapseState(v),u)}_setChildren(b,v=k.Iterable.empty(),u){const g=new Set,n=new Set,i=r=>{var l;if(r.element===null)return;const d=r;if(g.add(d.element),this.nodes.set(d.element,d),this.identityProvider){const a=this.identityProvider.getId(d.element).toString();n.add(a),this.nodesByIdentity.set(a,d)}(l=u.onDidCreateNode)===null||l===void 0||l.call(u,d)},t=r=>{var l;if(r.element===null)return;const d=r;if(g.has(d.element)||this.nodes.delete(d.element),this.identityProvider){const a=this.identityProvider.getId(d.element).toString();n.has(a)||this.nodesByIdentity.delete(a)}(l=u.onDidDeleteNode)===null||l===void 0||l.call(u,d)};this.model.splice([...b,0],Number.MAX_VALUE,v,Object.assign(Object.assign({},u),{onDidCreateNode:i,onDidDeleteNode:t}))}preserveCollapseState(b=k.Iterable.empty()){return this.sorter&&(b=[...b].sort(this.sorter.compare.bind(this.sorter))),k.Iterable.map(b,v=>{let u=this.nodes.get(v.element);if(!u&&this.identityProvider){const i=this.identityProvider.getId(v.element).toString();u=this.nodesByIdentity.get(i)}if(!u)return Object.assign(Object.assign({},v),{children:this.preserveCollapseState(v.children)});const g=typeof v.collapsible=="boolean"?v.collapsible:u.collapsible,n=typeof v.collapsed!="undefined"?v.collapsed:u.collapsed;return Object.assign(Object.assign({},v),{collapsible:g,collapsed:n,children:this.preserveCollapseState(v.children)})})}rerender(b){const v=this.getElementLocation(b);this.model.rerender(v)}getFirstElementChild(b=null){const v=this.getElementLocation(b);return this.model.getFirstElementChild(v)}has(b){return this.nodes.has(b)}getListIndex(b){const v=this.getElementLocation(b);return this.model.getListIndex(v)}getListRenderCount(b){const v=this.getElementLocation(b);return this.model.getListRenderCount(v)}isCollapsible(b){const v=this.getElementLocation(b);return this.model.isCollapsible(v)}setCollapsible(b,v){const u=this.getElementLocation(b);return this.model.setCollapsible(u,v)}isCollapsed(b){const v=this.getElementLocation(b);return this.model.isCollapsed(v)}setCollapsed(b,v,u){const g=this.getElementLocation(b);return this.model.setCollapsed(g,v,u)}expandTo(b){const v=this.getElementLocation(b);this.model.expandTo(v)}refilter(){this.model.refilter()}getNode(b=null){if(b===null)return this.model.getNode(this.model.rootRef);const v=this.nodes.get(b);if(!v)throw new C.TreeError(this.user,`Tree element not found: ${b}`);return v}getNodeLocation(b){return b.element}getParentNodeLocation(b){if(b===null)throw new C.TreeError(this.user,"Invalid getParentNodeLocation call");const v=this.nodes.get(b);if(!v)throw new C.TreeError(this.user,`Tree element not found: ${b}`);const u=this.model.getNodeLocation(v),g=this.model.getParentNodeLocation(u);return this.model.getNode(g).element}getElementLocation(b){if(b===null)return[];const v=this.nodes.get(b);if(!v)throw new C.TreeError(this.user,`Tree element not found: ${b}`);return this.model.getNodeLocation(v)}}e.ObjectTreeModel=I}),define(re[479],ae([1,0,194,121,6,55]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=e.decompress=e.compress=void 0;function L(s){const o=[s.element],c=s.incompressible||!1;return{element:{elements:o,incompressible:c},children:I.Iterable.map(I.Iterable.from(s.children),L),collapsible:s.collapsible,collapsed:s.collapsed}}function b(s){const o=[s.element],c=s.incompressible||!1;let f,p;for(;[p,f]=I.Iterable.consume(I.Iterable.from(s.children),2),!(p.length!==1||p[0].incompressible);)s=p[0],o.push(s.element);return{element:{elements:o,incompressible:c},children:I.Iterable.map(I.Iterable.concat(p,f),b),collapsible:s.collapsible,collapsed:s.collapsed}}e.compress=b;function v(s,o=0){let c;return o<s.element.elements.length-1?c=[v(s,o+1)]:c=I.Iterable.map(I.Iterable.from(s.children),f=>v(f,0)),o===0&&s.element.incompressible?{element:s.element.elements[o],children:c,incompressible:!0,collapsible:s.collapsible,collapsed:s.collapsed}:{element:s.element.elements[o],children:c,collapsible:s.collapsible,collapsed:s.collapsed}}function u(s){return v(s,0)}e.decompress=u;function g(s,o,c){return s.element===o?Object.assign(Object.assign({},s),{children:c}):Object.assign(Object.assign({},s),{children:I.Iterable.map(I.Iterable.from(s.children),f=>g(f,o,c))})}const n=s=>({getId(o){return o.elements.map(c=>s.getId(c).toString()).join("\0")}});class i{constructor(o,c,f={}){this.user=o,this.rootRef=null,this.nodes=new Map,this.model=new w.ObjectTreeModel(o,c,f),this.enabled=typeof f.compressionEnabled=="undefined"?!0:f.compressionEnabled,this.identityProvider=f.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(o,c=I.Iterable.empty(),f){const p=f.diffIdentityProvider&&n(f.diffIdentityProvider);if(o===null){const R=I.Iterable.map(c,this.enabled?b:L);this._setChildren(null,R,{diffIdentityProvider:p,diffDepth:1/0});return}const _=this.nodes.get(o);if(!_)throw new Error("Unknown compressed tree node");const m=this.model.getNode(_),h=this.model.getParentNodeLocation(_),S=this.model.getNode(h),y=u(m),E=g(y,o,c),N=(this.enabled?b:L)(E),T=S.children.map(R=>R===m?N:R);this._setChildren(S.element,T,{diffIdentityProvider:p,diffDepth:m.depth-S.depth})}setCompressionEnabled(o){if(o===this.enabled)return;this.enabled=o;const f=this.model.getNode().children,p=I.Iterable.map(f,u),_=I.Iterable.map(p,o?b:L);this._setChildren(null,_,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(o,c,f){const p=new Set,_=h=>{for(const S of h.element.elements)p.add(S),this.nodes.set(S,h.element)},m=h=>{for(const S of h.element.elements)p.has(S)||this.nodes.delete(S)};this.model.setChildren(o,c,Object.assign(Object.assign({},f),{onDidCreateNode:_,onDidDeleteNode:m}))}has(o){return this.nodes.has(o)}getListIndex(o){const c=this.getCompressedNode(o);return this.model.getListIndex(c)}getListRenderCount(o){const c=this.getCompressedNode(o);return this.model.getListRenderCount(c)}getNode(o){if(typeof o=="undefined")return this.model.getNode();const c=this.getCompressedNode(o);return this.model.getNode(c)}getNodeLocation(o){const c=this.model.getNodeLocation(o);return c===null?null:c.elements[c.elements.length-1]}getParentNodeLocation(o){const c=this.getCompressedNode(o),f=this.model.getParentNodeLocation(c);return f===null?null:f.elements[f.elements.length-1]}getFirstElementChild(o){const c=this.getCompressedNode(o);return this.model.getFirstElementChild(c)}isCollapsible(o){const c=this.getCompressedNode(o);return this.model.isCollapsible(c)}setCollapsible(o,c){const f=this.getCompressedNode(o);return this.model.setCollapsible(f,c)}isCollapsed(o){const c=this.getCompressedNode(o);return this.model.isCollapsed(c)}setCollapsed(o,c,f){const p=this.getCompressedNode(o);return this.model.setCollapsed(p,c,f)}expandTo(o){const c=this.getCompressedNode(o);this.model.expandTo(c)}rerender(o){const c=this.getCompressedNode(o);this.model.rerender(c)}refilter(){this.model.refilter()}getCompressedNode(o){if(o===null)return null;const c=this.nodes.get(o);if(!c)throw new C.TreeError(this.user,`Tree element not found: ${o}`);return c}}e.CompressedObjectTreeModel=i;const t=s=>s[s.length-1];e.DefaultElementMapper=t;class r{constructor(o,c){this.unwrapper=o,this.node=c}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(o=>new r(this.unwrapper,o))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function l(s,o){return{splice(c,f,p){o.splice(c,f,p.map(_=>s.map(_)))},updateElementHeight(c,f){o.updateElementHeight(c,f)}}}function d(s,o){return Object.assign(Object.assign({},o),{identityProvider:o.identityProvider&&{getId(c){return o.identityProvider.getId(s(c))}},sorter:o.sorter&&{compare(c,f){return o.sorter.compare(c.elements[0],f.elements[0])}},filter:o.filter&&{filter(c,f){return o.filter.filter(s(c),f)}}})}class a{constructor(o,c,f={}){this.rootRef=null,this.elementMapper=f.elementMapper||e.DefaultElementMapper;const p=_=>this.elementMapper(_.elements);this.nodeMapper=new C.WeakMapper(_=>new r(p,_)),this.model=new i(o,l(this.nodeMapper,c),d(p,f))}get onDidSplice(){return k.Event.map(this.model.onDidSplice,({insertedNodes:o,deletedNodes:c})=>({insertedNodes:o.map(f=>this.nodeMapper.map(f)),deletedNodes:c.map(f=>this.nodeMapper.map(f))}))}get onDidChangeCollapseState(){return k.Event.map(this.model.onDidChangeCollapseState,({node:o,deep:c})=>({node:this.nodeMapper.map(o),deep:c}))}get onDidChangeRenderNodeCount(){return k.Event.map(this.model.onDidChangeRenderNodeCount,o=>this.nodeMapper.map(o))}setChildren(o,c=I.Iterable.empty(),f={}){this.model.setChildren(o,c,f)}setCompressionEnabled(o){this.model.setCompressionEnabled(o)}has(o){return this.model.has(o)}getListIndex(o){return this.model.getListIndex(o)}getListRenderCount(o){return this.model.getListRenderCount(o)}getNode(o){return this.nodeMapper.map(this.model.getNode(o))}getNodeLocation(o){return o.element}getParentNodeLocation(o){return this.model.getParentNodeLocation(o)}getFirstElementChild(o){const c=this.model.getFirstElementChild(o);return c===null||typeof c=="undefined"?c:this.elementMapper(c.elements)}isCollapsible(o){return this.model.isCollapsible(o)}setCollapsible(o,c){return this.model.setCollapsible(o,c)}isCollapsed(o){return this.model.isCollapsed(o)}setCollapsed(o,c,f){return this.model.setCollapsed(o,c,f)}expandTo(o){return this.model.expandTo(o)}rerender(o){return this.model.rerender(o)}refilter(){return this.model.refilter()}getCompressedTreeNode(o=null){return this.model.getNode(o)}}e.CompressibleObjectTreeModel=a}),define(re[480],ae([1,0,10]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.compareFileNames=void 0;const C=new w.IdleValue(()=>{const u=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:u,collatorIsNumeric:u.resolvedOptions().numeric}}),k=new w.IdleValue(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),I=new w.IdleValue(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function L(u,g,n=!1){const i=u||"",t=g||"",r=C.value.collator.compare(i,t);return C.value.collatorIsNumeric&&r===0&&i!==t?i<t?-1:1:r}e.compareFileNames=L;function b(u,g,n){const i=u.toLowerCase(),t=g.toLowerCase(),r=v(u,g,n);if(r)return r;const l=i.endsWith(n),d=t.endsWith(n);if(l!==d)return l?-1:1;const a=L(i,t);return a!==0?a:i.localeCompare(t)}e.compareAnything=b;function v(u,g,n){const i=u.toLowerCase(),t=g.toLowerCase(),r=i.startsWith(n),l=t.startsWith(n);if(r!==l)return r?-1:1;if(r&&l){if(i.length<t.length)return-1;if(i.length>t.length)return 1}return 0}e.compareByPrefix=v}),define(re[253],ae([1,0,10,191,51,90,17,8]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRelativePattern=e.parse=e.match=e.splitGlobAware=e.GLOB_SPLIT=e.GLOBSTAR=void 0,e.GLOBSTAR="**",e.GLOB_SPLIT="/";const v="[/\\\\]",u="[^/\\\\]",g=/\//g;function n(B,W){switch(B){case 0:return"";case 1:return`${u}*?`;default:return`(?:${v}|${u}+${v}${W?`|${v}${u}+`:""})*?`}}function i(B,W){if(!B)return[];const V=[];let A=!1,Q=!1,J="";for(const H of B){switch(H){case W:if(!A&&!Q){V.push(J),J="";continue}break;case"{":A=!0;break;case"}":A=!1;break;case"[":Q=!0;break;case"]":Q=!1;break}J+=H}return J&&V.push(J),V}e.splitGlobAware=i;function t(B){if(!B)return"";let W="";const V=i(B,e.GLOB_SPLIT);if(V.every(A=>A===e.GLOBSTAR))W=".*";else{let A=!1;V.forEach((Q,J)=>{if(Q===e.GLOBSTAR){if(A)return;W+=n(2,J===V.length-1)}else{let H=!1,q="",Z=!1,ie="";for(const Y of Q){if(Y!=="}"&&H){q+=Y;continue}if(Z&&(Y!=="]"||!ie)){let te;Y==="-"?te=Y:(Y==="^"||Y==="!")&&!ie?te="^":Y===e.GLOB_SPLIT?te="":te=(0,b.escapeRegExpCharacters)(Y),ie+=te;continue}switch(Y){case"{":H=!0;continue;case"[":Z=!0;continue;case"}":{W+=`(?:${i(q,",").map(x=>t(x)).join("|")})`,H=!1,q="";break}case"]":{W+="["+ie+"]",Z=!1,ie="";break}case"?":W+=u;continue;case"*":W+=n(1);continue;default:W+=(0,b.escapeRegExpCharacters)(Y)}}J<V.length-1&&(V[J+1]!==e.GLOBSTAR||J+2<V.length)&&(W+=v)}A=Q===e.GLOBSTAR})}return W}const r=/^\*\*\/\*\.[\w\.-]+$/,l=/^\*\*\/([\w\.-]+)\/?$/,d=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,a=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,s=/^\*\*((\/[\w\.-]+)+)\/?$/,o=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,c=new k.LRUCache(1e4),f=function(){return!1},p=function(){return null};function _(B,W){if(!B)return p;let V;typeof B!="string"?V=B.pattern:V=B,V=V.trim();const A=`${V}_${!!W.trimForExclusions}`;let Q=c.get(A);if(Q)return m(Q,B);let J;return r.test(V)?Q=S(V.substr(4),V):(J=l.exec(h(V,W)))?Q=y(J[1],V):(W.trimForExclusions?a:d).test(V)?Q=E(V,W):(J=s.exec(h(V,W)))?Q=N(J[1].substr(1),V,!0):(J=o.exec(h(V,W)))?Q=N(J[1],V,!1):Q=T(V),c.set(A,Q),m(Q,B)}function m(B,W){if(typeof W=="string")return B;const V=function(A,Q){return(0,C.isEqualOrParent)(A,W.base,!L.isLinux)?B(A.substr(W.base.length+1),Q):null};return V.allBasenames=B.allBasenames,V.allPaths=B.allPaths,V.basenames=B.basenames,V.patterns=B.patterns,V}function h(B,W){return W.trimForExclusions&&B.endsWith("/**")?B.substr(0,B.length-2):B}function S(B,W){return function(V,A){return typeof V=="string"&&V.endsWith(B)?W:null}}function y(B,W){const V=`/${B}`,A=`\\${B}`,Q=function(H,q){return typeof H!="string"?null:q?q===B?W:null:H===B||H.endsWith(V)||H.endsWith(A)?W:null},J=[B];return Q.basenames=J,Q.patterns=[W],Q.allBasenames=J,Q}function E(B,W){const V=P(B.slice(1,-1).split(",").map(q=>_(q,W)).filter(q=>q!==p),B),A=V.length;if(!A)return p;if(A===1)return V[0];const Q=function(q,Z){for(let ie=0,Y=V.length;ie<Y;ie++)if(V[ie](q,Z))return B;return null},J=V.find(q=>!!q.allBasenames);J&&(Q.allBasenames=J.allBasenames);const H=V.reduce((q,Z)=>Z.allPaths?q.concat(Z.allPaths):q,[]);return H.length&&(Q.allPaths=H),Q}function N(B,W,V){const A=I.sep===I.posix.sep,Q=A?B:B.replace(g,I.sep),J=I.sep+Q,H=I.posix.sep+B;let q;return V?q=function(Z,ie){return typeof Z=="string"&&(Z===Q||Z.endsWith(J)||!A&&(Z===B||Z.endsWith(H)))?W:null}:q=function(Z,ie){return typeof Z=="string"&&(Z===Q||!A&&Z===B)?W:null},q.allPaths=[(V?"*/":"./")+B],q}function T(B){try{const W=new RegExp(`^${t(B)}$`);return function(V){return W.lastIndex=0,typeof V=="string"&&W.test(V)?B:null}}catch{return p}}function R(B,W,V){return!B||typeof W!="string"?!1:F(B)(W,void 0,V)}e.match=R;function F(B,W={}){if(!B)return f;if(typeof B=="string"||O(B)){const V=_(B,W);if(V===p)return f;const A=function(Q,J){return!!V(Q,J)};return V.allBasenames&&(A.allBasenames=V.allBasenames),V.allPaths&&(A.allPaths=V.allPaths),A}return D(B,W)}e.parse=F;function O(B){const W=B;return W?typeof W.base=="string"&&typeof W.pattern=="string":!1}e.isRelativePattern=O;function D(B,W){const V=P(Object.getOwnPropertyNames(B).map(q=>M(q,B[q],W)).filter(q=>q!==p)),A=V.length;if(!A)return p;if(!V.some(q=>!!q.requiresSiblings)){if(A===1)return V[0];const q=function(Y,te){let de;for(let x=0,oe=V.length;x<oe;x++){const ne=V[x](Y,te);if(typeof ne=="string")return ne;(0,w.isThenable)(ne)&&(de||(de=[]),de.push(ne))}return de?(()=>Se(this,void 0,void 0,function*(){for(const x of de){const oe=yield x;if(typeof oe=="string")return oe}return null}))():null},Z=V.find(Y=>!!Y.allBasenames);Z&&(q.allBasenames=Z.allBasenames);const ie=V.reduce((Y,te)=>te.allPaths?Y.concat(te.allPaths):Y,[]);return ie.length&&(q.allPaths=ie),q}const Q=function(q,Z,ie){let Y,te;for(let de=0,x=V.length;de<x;de++){const oe=V[de];oe.requiresSiblings&&ie&&(Z||(Z=(0,I.basename)(q)),Y||(Y=Z.substr(0,Z.length-(0,I.extname)(q).length)));const ne=oe(q,Z,Y,ie);if(typeof ne=="string")return ne;(0,w.isThenable)(ne)&&(te||(te=[]),te.push(ne))}return te?(()=>Se(this,void 0,void 0,function*(){for(const de of te){const x=yield de;if(typeof x=="string")return x}return null}))():null},J=V.find(q=>!!q.allBasenames);J&&(Q.allBasenames=J.allBasenames);const H=V.reduce((q,Z)=>Z.allPaths?q.concat(Z.allPaths):q,[]);return H.length&&(Q.allPaths=H),Q}function M(B,W,V){if(W===!1)return p;const A=_(B,V);if(A===p)return p;if(typeof W=="boolean")return A;if(W){const Q=W.when;if(typeof Q=="string"){const J=(H,q,Z,ie)=>{if(!ie||!A(H,q))return null;const Y=Q.replace("$(basename)",Z),te=ie(Y);return(0,w.isThenable)(te)?te.then(de=>de?B:null):te?B:null};return J.requiresSiblings=!0,J}}return A}function P(B,W){const V=B.filter(q=>!!q.basenames);if(V.length<2)return B;const A=V.reduce((q,Z)=>{const ie=Z.basenames;return ie?q.concat(ie):q},[]);let Q;if(W){Q=[];for(let q=0,Z=A.length;q<Z;q++)Q.push(W)}else Q=V.reduce((q,Z)=>{const ie=Z.patterns;return ie?q.concat(ie):q},[]);const J=function(q,Z){if(typeof q!="string")return null;if(!Z){let Y;for(Y=q.length;Y>0;Y--){const te=q.charCodeAt(Y-1);if(te===47||te===92)break}Z=q.substr(Y)}const ie=A.indexOf(Z);return ie!==-1?Q[ie]:null};J.basenames=A,J.patterns=Q,J.allBasenames=A;const H=B.filter(q=>!q.basenames);return H.push(J),H}}),define(re[161],ae([1,0,6,2]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class k{constructor(t,r,l,d,a,s,o){this._forceIntegerValues=t,this._scrollStateBrand=void 0,this._forceIntegerValues&&(r=r|0,l=l|0,d=d|0,a=a|0,s=s|0,o=o|0),this.rawScrollLeft=d,this.rawScrollTop=o,r<0&&(r=0),d+r>l&&(d=l-r),d<0&&(d=0),a<0&&(a=0),o+a>s&&(o=s-a),o<0&&(o=0),this.width=r,this.scrollWidth=l,this.scrollLeft=d,this.height=a,this.scrollHeight=s,this.scrollTop=o}equals(t){return this.rawScrollLeft===t.rawScrollLeft&&this.rawScrollTop===t.rawScrollTop&&this.width===t.width&&this.scrollWidth===t.scrollWidth&&this.scrollLeft===t.scrollLeft&&this.height===t.height&&this.scrollHeight===t.scrollHeight&&this.scrollTop===t.scrollTop}withScrollDimensions(t,r){return new k(this._forceIntegerValues,typeof t.width!="undefined"?t.width:this.width,typeof t.scrollWidth!="undefined"?t.scrollWidth:this.scrollWidth,r?this.rawScrollLeft:this.scrollLeft,typeof t.height!="undefined"?t.height:this.height,typeof t.scrollHeight!="undefined"?t.scrollHeight:this.scrollHeight,r?this.rawScrollTop:this.scrollTop)}withScrollPosition(t){return new k(this._forceIntegerValues,this.width,this.scrollWidth,typeof t.scrollLeft!="undefined"?t.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof t.scrollTop!="undefined"?t.scrollTop:this.rawScrollTop)}createScrollEvent(t,r){const l=this.width!==t.width,d=this.scrollWidth!==t.scrollWidth,a=this.scrollLeft!==t.scrollLeft,s=this.height!==t.height,o=this.scrollHeight!==t.scrollHeight,c=this.scrollTop!==t.scrollTop;return{inSmoothScrolling:r,oldWidth:t.width,oldScrollWidth:t.scrollWidth,oldScrollLeft:t.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:t.height,oldScrollHeight:t.scrollHeight,oldScrollTop:t.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:l,scrollWidthChanged:d,scrollLeftChanged:a,heightChanged:s,scrollHeightChanged:o,scrollTopChanged:c}}}e.ScrollState=k;class I extends C.Disposable{constructor(t){super();this._scrollableBrand=void 0,this._onScroll=this._register(new w.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=t.smoothScrollDuration,this._scheduleAtNextAnimationFrame=t.scheduleAtNextAnimationFrame,this._state=new k(t.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(t){this._smoothScrollDuration=t}validateScrollPosition(t){return this._state.withScrollPosition(t)}getScrollDimensions(){return this._state}setScrollDimensions(t,r){var l;const d=this._state.withScrollDimensions(t,r);this._setState(d,Boolean(this._smoothScrolling)),(l=this._smoothScrolling)===null||l===void 0||l.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(t){const r=this._state.withScrollPosition(t);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(r,!1)}setScrollPositionSmooth(t,r){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(t);if(this._smoothScrolling){t={scrollLeft:typeof t.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:t.scrollLeft,scrollTop:typeof t.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:t.scrollTop};const l=this._state.withScrollPosition(t);if(this._smoothScrolling.to.scrollLeft===l.scrollLeft&&this._smoothScrolling.to.scrollTop===l.scrollTop)return;let d;r?d=new u(this._smoothScrolling.from,l,this._smoothScrolling.startTime,this._smoothScrolling.duration):d=this._smoothScrolling.combine(this._state,l,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=d}else{const l=this._state.withScrollPosition(t);this._smoothScrolling=u.start(this._state,l,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const t=this._smoothScrolling.tick(),r=this._state.withScrollPosition(t);if(this._setState(r,!0),!!this._smoothScrolling){if(t.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(t,r){const l=this._state;l.equals(t)||(this._state=t,this._onScroll.fire(this._state.createScrollEvent(l,r)))}}e.Scrollable=I;class L{constructor(t,r,l){this.scrollLeft=t,this.scrollTop=r,this.isDone=l}}e.SmoothScrollingUpdate=L;function b(i,t){const r=t-i;return function(l){return i+r*n(l)}}function v(i,t,r){return function(l){return l<r?i(l/r):t((l-r)/(1-r))}}class u{constructor(t,r,l,d){this.from=t,this.to=r,this.duration=d,this.startTime=l,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(t,r,l){if(Math.abs(t-r)>2.5*l){let a,s;return t<r?(a=t+.75*l,s=r-.75*l):(a=t-.75*l,s=r+.75*l),v(b(t,a),b(s,r),.33)}return b(t,r)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(t){this.to=t.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(t){const r=(t-this.startTime)/this.duration;if(r<1){const l=this.scrollLeft(r),d=this.scrollTop(r);return new L(l,d,!1)}return new L(this.to.scrollLeft,this.to.scrollTop,!0)}combine(t,r,l){return u.start(t,r,l)}static start(t,r,l){l=l+10;const d=Date.now()-10;return new u(t,r,d,l)}}e.SmoothScrollingOperation=u;function g(i){return Math.pow(i,3)}function n(i){return 1-g(1-i)}}),define(re[22],ae([1,0,90,17]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const k=/^\w[\w\d+.-]*$/,I=/^\//,L=/^\/\//;function b(m,h){if(!m.scheme&&h)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${m.authority}", path: "${m.path}", query: "${m.query}", fragment: "${m.fragment}"}`);if(m.scheme&&!k.test(m.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(m.path){if(m.authority){if(!I.test(m.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(L.test(m.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function v(m,h){return!m&&!h?"file":m}function u(m,h){switch(m){case"https":case"http":case"file":h?h[0]!==n&&(h=n+h):h=n;break}return h}const g="",n="/",i=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class t{constructor(h,S,y,E,N,T=!1){typeof h=="object"?(this.scheme=h.scheme||g,this.authority=h.authority||g,this.path=h.path||g,this.query=h.query||g,this.fragment=h.fragment||g):(this.scheme=v(h,T),this.authority=S||g,this.path=u(this.scheme,y||g),this.query=E||g,this.fragment=N||g,b(this,T))}static isUri(h){return h instanceof t?!0:h?typeof h.authority=="string"&&typeof h.fragment=="string"&&typeof h.path=="string"&&typeof h.query=="string"&&typeof h.scheme=="string"&&typeof h.fsPath=="string"&&typeof h.with=="function"&&typeof h.toString=="function":!1}get fsPath(){return o(this,!1)}with(h){if(!h)return this;let{scheme:S,authority:y,path:E,query:N,fragment:T}=h;return S===void 0?S=this.scheme:S===null&&(S=g),y===void 0?y=this.authority:y===null&&(y=g),E===void 0?E=this.path:E===null&&(E=g),N===void 0?N=this.query:N===null&&(N=g),T===void 0?T=this.fragment:T===null&&(T=g),S===this.scheme&&y===this.authority&&E===this.path&&N===this.query&&T===this.fragment?this:new l(S,y,E,N,T)}static parse(h,S=!1){const y=i.exec(h);return y?new l(y[2]||g,_(y[4]||g),_(y[5]||g),_(y[7]||g),_(y[9]||g),S):new l(g,g,g,g,g)}static file(h){let S=g;if(C.isWindows&&(h=h.replace(/\\/g,n)),h[0]===n&&h[1]===n){const y=h.indexOf(n,2);y===-1?(S=h.substring(2),h=n):(S=h.substring(2,y),h=h.substring(y)||n)}return new l("file",S,h,g,g)}static from(h){const S=new l(h.scheme,h.authority,h.path,h.query,h.fragment);return b(S,!0),S}static joinPath(h,...S){if(!h.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let y;return C.isWindows&&h.scheme==="file"?y=t.file(w.win32.join(o(h,!0),...S)).path:y=w.posix.join(h.path,...S),h.with({path:y})}toString(h=!1){return c(this,h)}toJSON(){return this}static revive(h){if(h){if(h instanceof t)return h;{const S=new l(h);return S._formatted=h.external,S._fsPath=h._sep===r?h.fsPath:null,S}}else return h}}e.URI=t;const r=C.isWindows?1:void 0;class l extends t{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=o(this,!1)),this._fsPath}toString(h=!1){return h?c(this,!0):(this._formatted||(this._formatted=c(this,!1)),this._formatted)}toJSON(){const h={$mid:1};return this._fsPath&&(h.fsPath=this._fsPath,h._sep=r),this._formatted&&(h.external=this._formatted),this.path&&(h.path=this.path),this.scheme&&(h.scheme=this.scheme),this.authority&&(h.authority=this.authority),this.query&&(h.query=this.query),this.fragment&&(h.fragment=this.fragment),h}}const d={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function a(m,h){let S,y=-1;for(let E=0;E<m.length;E++){const N=m.charCodeAt(E);if(N>=97&&N<=122||N>=65&&N<=90||N>=48&&N<=57||N===45||N===46||N===95||N===126||h&&N===47)y!==-1&&(S+=encodeURIComponent(m.substring(y,E)),y=-1),S!==void 0&&(S+=m.charAt(E));else{S===void 0&&(S=m.substr(0,E));const T=d[N];T!==void 0?(y!==-1&&(S+=encodeURIComponent(m.substring(y,E)),y=-1),S+=T):y===-1&&(y=E)}}return y!==-1&&(S+=encodeURIComponent(m.substring(y))),S!==void 0?S:m}function s(m){let h;for(let S=0;S<m.length;S++){const y=m.charCodeAt(S);y===35||y===63?(h===void 0&&(h=m.substr(0,S)),h+=d[y]):h!==void 0&&(h+=m[S])}return h!==void 0?h:m}function o(m,h){let S;return m.authority&&m.path.length>1&&m.scheme==="file"?S=`//${m.authority}${m.path}`:m.path.charCodeAt(0)===47&&(m.path.charCodeAt(1)>=65&&m.path.charCodeAt(1)<=90||m.path.charCodeAt(1)>=97&&m.path.charCodeAt(1)<=122)&&m.path.charCodeAt(2)===58?h?S=m.path.substr(1):S=m.path[1].toLowerCase()+m.path.substr(2):S=m.path,C.isWindows&&(S=S.replace(/\//g,"\\")),S}e.uriToFsPath=o;function c(m,h){const S=h?s:a;let y="",{scheme:E,authority:N,path:T,query:R,fragment:F}=m;if(E&&(y+=E,y+=":"),(N||E==="file")&&(y+=n,y+=n),N){let O=N.indexOf("@");if(O!==-1){const D=N.substr(0,O);N=N.substr(O+1),O=D.indexOf(":"),O===-1?y+=S(D,!1):(y+=S(D.substr(0,O),!1),y+=":",y+=S(D.substr(O+1),!1)),y+="@"}N=N.toLowerCase(),O=N.indexOf(":"),O===-1?y+=S(N,!1):(y+=S(N.substr(0,O),!1),y+=N.substr(O))}if(T){if(T.length>=3&&T.charCodeAt(0)===47&&T.charCodeAt(2)===58){const O=T.charCodeAt(1);O>=65&&O<=90&&(T=`/${String.fromCharCode(O+32)}:${T.substr(3)}`)}else if(T.length>=2&&T.charCodeAt(1)===58){const O=T.charCodeAt(0);O>=65&&O<=90&&(T=`${String.fromCharCode(O+32)}:${T.substr(2)}`)}y+=S(T,!0)}return R&&(y+="?",y+=S(R,!1)),F&&(y+="#",y+=h?F:a(F,!1)),y}function f(m){try{return decodeURIComponent(m)}catch{return m.length>3?m.substr(0,3)+f(m.substr(3)):m}}const p=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function _(m){return m.match(p)?m.replace(p,h=>f(h)):m}}),define(re[195],ae([1,0,122,22]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=void 0;function k(L){let b=JSON.parse(L);return b=I(b),b}e.parse=k;function I(L,b=0){if(!L||b>200)return L;if(typeof L=="object"){switch(L.$mid){case 1:return C.URI.revive(L);case 2:return new RegExp(L.source,L.flags);case 14:return new Date(L.source)}if(L instanceof w.VSBuffer||L instanceof Uint8Array)return L;if(Array.isArray(L))for(let v=0;v<L.length;++v)L[v]=I(L[v],b+1);else for(const v in L)Object.hasOwnProperty.call(L,v)&&(L[v]=I(L[v],b+1))}return L}e.revive=I}),define(re[52],ae([1,0,17,22]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileAccess=e.RemoteAuthorities=e.connectionTokenQueryName=e.Schemas=void 0;var k;(function(b){b.inMemory="inmemory",b.vscode="vscode",b.internal="private",b.walkThrough="walkThrough",b.walkThroughSnippet="walkThroughSnippet",b.http="http",b.https="https",b.file="file",b.mailto="mailto",b.untitled="untitled",b.data="data",b.command="command",b.vscodeRemote="vscode-remote",b.vscodeRemoteResource="vscode-remote-resource",b.vscodeUserData="vscode-userdata",b.vscodeCustomEditor="vscode-custom-editor",b.vscodeNotebook="vscode-notebook",b.vscodeNotebookCell="vscode-notebook-cell",b.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",b.vscodeNotebookCellOutput="vscode-notebook-cell-output",b.vscodeInteractive="vscode-interactive",b.vscodeInteractiveInput="vscode-interactive-input",b.vscodeSettings="vscode-settings",b.vscodeWorkspaceTrust="vscode-workspace-trust",b.vscodeTerminal="vscode-terminal",b.webviewPanel="webview-panel",b.vscodeWebview="vscode-webview",b.extension="extension",b.vscodeFileResource="vscode-file",b.tmp="tmp",b.vsls="vsls",b.vscodeSourceControl="vscode-scm"})(k=e.Schemas||(e.Schemas={})),e.connectionTokenQueryName="tkn";class I{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${k.vscodeRemoteResource}`}setPreferredWebSchema(v){this._preferredWebSchema=v}rewrite(v){if(this._delegate)return this._delegate(v);const u=v.authority;let g=this._hosts[u];g&&g.indexOf(":")!==-1&&(g=`[${g}]`);const n=this._ports[u],i=this._connectionTokens[u];let t=`path=${encodeURIComponent(v.path)}`;return typeof i=="string"&&(t+=`&${e.connectionTokenQueryName}=${encodeURIComponent(i)}`),C.URI.from({scheme:w.isWeb?this._preferredWebSchema:k.vscodeRemoteResource,authority:`${g}:${n}`,path:this._remoteResourcesPath,query:t})}}e.RemoteAuthorities=new I;class L{asBrowserUri(v,u){const g=this.toUri(v,u);return g.scheme===k.vscodeRemote?e.RemoteAuthorities.rewrite(g):g.scheme===k.file&&(w.isNative||w.isWebWorker&&w.globals.origin===`${k.vscodeFileResource}://${L.FALLBACK_AUTHORITY}`)?g.with({scheme:k.vscodeFileResource,authority:g.authority||L.FALLBACK_AUTHORITY,query:null,fragment:null}):g}toUri(v,u){return C.URI.isUri(v)?v:C.URI.parse(u.toUrl(v))}}L.FALLBACK_AUTHORITY="vscode-app",e.FileAccess=new L}),define(re[7],ae([1,0,41,192,48,67,14,6,481,2,52,17]),function($,e,w,C,k,I,L,b,v,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.h=e.DragAndDropObserver=e.ModifierKeyEmitter=e.hookDomPurifyHrefAndSrcSanitizer=e.asCSSPropertyValue=e.asCSSUrl=e.animate=e.windowOpenNoOpener=e.computeScreenAwareSize=e.getElementsByTagName=e.hide=e.show=e.$=e.Namespace=e.reset=e.prepend=e.append=e.trackFocus=e.restoreParentsScrollTop=e.saveParentsScrollTop=e.EventHelper=e.EventType=e.isHTMLElement=e.removeCSSRulesContainingSelector=e.createCSSRule=e.createStyleSheet=e.getActiveElement=e.getShadowRoot=e.isInShadowDOM=e.isShadowRoot=e.hasParentWithClass=e.findParentWithClass=e.isAncestor=e.getTotalHeight=e.getContentHeight=e.getContentWidth=e.getTotalWidth=e.StandardWindow=e.getDomNodeZoomLevel=e.getDomNodePagePosition=e.size=e.getTopLeftOffset=e.Dimension=e.getClientArea=e.getComputedStyle=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.createEventEmitter=e.addDisposableGenericMouseUpListener=e.addDisposableGenericMouseDownListener=e.addStandardDisposableGenericMouseUpListener=e.addStandardDisposableGenericMouseDownListener=e.addStandardDisposableListener=e.addDisposableListener=e.isInDOM=e.clearNode=void 0;function i(be){for(;be.firstChild;)be.firstChild.remove()}e.clearNode=i;function t(be){var ve;return(ve=be==null?void 0:be.isConnected)!==null&&ve!==void 0?ve:!1}e.isInDOM=t;class r{constructor(ve,Ee,Re,Te){this._node=ve,this._type=Ee,this._handler=Re,this._options=Te||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function l(be,ve,Ee,Re){return new r(be,ve,Ee,Re)}e.addDisposableListener=l;function d(be){return function(ve){return be(new I.StandardMouseEvent(ve))}}function a(be){return function(ve){return be(new k.StandardKeyboardEvent(ve))}}const s=function(ve,Ee,Re,Te){let Be=Re;return Ee==="click"||Ee==="mousedown"?Be=d(Re):(Ee==="keydown"||Ee==="keypress"||Ee==="keyup")&&(Be=a(Re)),l(ve,Ee,Be,Te)};e.addStandardDisposableListener=s;const o=function(ve,Ee,Re){const Te=d(Ee);return f(ve,Te,Re)};e.addStandardDisposableGenericMouseDownListener=o;const c=function(ve,Ee,Re){const Te=d(Ee);return p(ve,Te,Re)};e.addStandardDisposableGenericMouseUpListener=c;function f(be,ve,Ee){return l(be,n.isIOS&&C.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,ve,Ee)}e.addDisposableGenericMouseDownListener=f;function p(be,ve,Ee){return l(be,n.isIOS&&C.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,ve,Ee)}e.addDisposableGenericMouseUpListener=p;function _(be,ve,Ee){let Re=null;const Te=Ze=>qe.fire(Ze),Be=()=>{Re||(Re=new r(be,ve,Te,Ee))},xe=()=>{Re&&(Re.dispose(),Re=null)},qe=new b.Emitter({onFirstListenerAdd:Be,onLastListenerRemove:xe});return qe}e.createEventEmitter=_;let m=null;function h(be){if(!m){const ve=Ee=>setTimeout(()=>Ee(new Date().getTime()),0);m=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||ve}return m.call(self,be)}class S{constructor(ve,Ee=0){this._runner=ve,this.priority=Ee,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(ve){(0,L.onUnexpectedError)(ve)}}static sort(ve,Ee){return Ee.priority-ve.priority}}(function(){let be=[],ve=null,Ee=!1,Re=!1;const Te=()=>{for(Ee=!1,ve=be,be=[],Re=!0;ve.length>0;)ve.sort(S.sort),ve.shift().execute();Re=!1};e.scheduleAtNextAnimationFrame=(Be,xe=0)=>{const qe=new S(Be,xe);return be.push(qe),Ee||(Ee=!0,h(Te)),qe},e.runAtThisOrScheduleAtNextAnimationFrame=(Be,xe)=>{if(Re){const qe=new S(Be,xe);return ve.push(qe),qe}else return(0,e.scheduleAtNextAnimationFrame)(Be,xe)}})();function y(be){return document.defaultView.getComputedStyle(be,null)}e.getComputedStyle=y;function E(be){if(be!==document.body)return new T(be.clientWidth,be.clientHeight);if(n.isIOS&&window.visualViewport)return new T(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new T(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new T(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new T(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}e.getClientArea=E;class N{static convertToPixels(ve,Ee){return parseFloat(Ee)||0}static getDimension(ve,Ee,Re){const Te=y(ve);let Be="0";return Te&&(Te.getPropertyValue?Be=Te.getPropertyValue(Ee):Be=Te.getAttribute(Re)),N.convertToPixels(ve,Be)}static getBorderLeftWidth(ve){return N.getDimension(ve,"border-left-width","borderLeftWidth")}static getBorderRightWidth(ve){return N.getDimension(ve,"border-right-width","borderRightWidth")}static getBorderTopWidth(ve){return N.getDimension(ve,"border-top-width","borderTopWidth")}static getBorderBottomWidth(ve){return N.getDimension(ve,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(ve){return N.getDimension(ve,"padding-left","paddingLeft")}static getPaddingRight(ve){return N.getDimension(ve,"padding-right","paddingRight")}static getPaddingTop(ve){return N.getDimension(ve,"padding-top","paddingTop")}static getPaddingBottom(ve){return N.getDimension(ve,"padding-bottom","paddingBottom")}static getMarginLeft(ve){return N.getDimension(ve,"margin-left","marginLeft")}static getMarginTop(ve){return N.getDimension(ve,"margin-top","marginTop")}static getMarginRight(ve){return N.getDimension(ve,"margin-right","marginRight")}static getMarginBottom(ve){return N.getDimension(ve,"margin-bottom","marginBottom")}}class T{constructor(ve,Ee){this.width=ve,this.height=Ee}with(ve=this.width,Ee=this.height){return ve!==this.width||Ee!==this.height?new T(ve,Ee):this}static is(ve){return typeof ve=="object"&&typeof ve.height=="number"&&typeof ve.width=="number"}static lift(ve){return ve instanceof T?ve:new T(ve.width,ve.height)}static equals(ve,Ee){return ve===Ee?!0:!ve||!Ee?!1:ve.width===Ee.width&&ve.height===Ee.height}}e.Dimension=T,T.None=new T(0,0);function R(be){let ve=be.offsetParent,Ee=be.offsetTop,Re=be.offsetLeft;for(;(be=be.parentNode)!==null&&be!==document.body&&be!==document.documentElement;){Ee-=be.scrollTop;const Te=J(be)?null:y(be);Te&&(Re-=Te.direction!=="rtl"?be.scrollLeft:-be.scrollLeft),be===ve&&(Re+=N.getBorderLeftWidth(be),Ee+=N.getBorderTopWidth(be),Ee+=be.offsetTop,Re+=be.offsetLeft,ve=be.offsetParent)}return{left:Re,top:Ee}}e.getTopLeftOffset=R;function F(be,ve,Ee){typeof ve=="number"&&(be.style.width=`${ve}px`),typeof Ee=="number"&&(be.style.height=`${Ee}px`)}e.size=F;function O(be){const ve=be.getBoundingClientRect();return{left:ve.left+e.StandardWindow.scrollX,top:ve.top+e.StandardWindow.scrollY,width:ve.width,height:ve.height}}e.getDomNodePagePosition=O;function D(be){let ve=be,Ee=1;do{const Re=y(ve).zoom;Re!=null&&Re!=="1"&&(Ee*=Re),ve=ve.parentElement}while(ve!==null&&ve!==document.documentElement);return Ee}e.getDomNodeZoomLevel=D,e.StandardWindow=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function M(be){const ve=N.getMarginLeft(be)+N.getMarginRight(be);return be.offsetWidth+ve}e.getTotalWidth=M;function P(be){const ve=N.getBorderLeftWidth(be)+N.getBorderRightWidth(be),Ee=N.getPaddingLeft(be)+N.getPaddingRight(be);return be.offsetWidth-ve-Ee}e.getContentWidth=P;function B(be){const ve=N.getBorderTopWidth(be)+N.getBorderBottomWidth(be),Ee=N.getPaddingTop(be)+N.getPaddingBottom(be);return be.offsetHeight-ve-Ee}e.getContentHeight=B;function W(be){const ve=N.getMarginTop(be)+N.getMarginBottom(be);return be.offsetHeight+ve}e.getTotalHeight=W;function V(be,ve){for(;be;){if(be===ve)return!0;be=be.parentNode}return!1}e.isAncestor=V;function A(be,ve,Ee){for(;be&&be.nodeType===be.ELEMENT_NODE;){if(be.classList.contains(ve))return be;if(Ee){if(typeof Ee=="string"){if(be.classList.contains(Ee))return null}else if(be===Ee)return null}be=be.parentNode}return null}e.findParentWithClass=A;function Q(be,ve,Ee){return!!A(be,ve,Ee)}e.hasParentWithClass=Q;function J(be){return be&&!!be.host&&!!be.mode}e.isShadowRoot=J;function H(be){return!!q(be)}e.isInShadowDOM=H;function q(be){for(;be.parentNode;){if(be===document.body)return null;be=be.parentNode}return J(be)?be:null}e.getShadowRoot=q;function Z(){let be=document.activeElement;for(;be==null?void 0:be.shadowRoot;)be=be.shadowRoot.activeElement;return be}e.getActiveElement=Z;function ie(be=document.getElementsByTagName("head")[0]){const ve=document.createElement("style");return ve.type="text/css",ve.media="screen",be.appendChild(ve),ve}e.createStyleSheet=ie;let Y=null;function te(){return Y||(Y=ie()),Y}function de(be){var ve,Ee;return((ve=be==null?void 0:be.sheet)===null||ve===void 0?void 0:ve.rules)?be.sheet.rules:((Ee=be==null?void 0:be.sheet)===null||Ee===void 0?void 0:Ee.cssRules)?be.sheet.cssRules:[]}function x(be,ve,Ee=te()){!Ee||!ve||Ee.sheet.insertRule(be+"{"+ve+"}",0)}e.createCSSRule=x;function oe(be,ve=te()){if(!ve)return;const Ee=de(ve),Re=[];for(let Te=0;Te<Ee.length;Te++)Ee[Te].selectorText.indexOf(be)!==-1&&Re.push(Te);for(let Te=Re.length-1;Te>=0;Te--)ve.sheet.deleteRule(Re[Te])}e.removeCSSRulesContainingSelector=oe;function ne(be){return typeof HTMLElement=="object"?be instanceof HTMLElement:be&&typeof be=="object"&&be.nodeType===1&&typeof be.nodeName=="string"}e.isHTMLElement=ne,e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:w.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:w.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:w.isWebKit?"webkitAnimationIteration":"animationiteration"},e.EventHelper={stop:function(be,ve){be.preventDefault?be.preventDefault():be.returnValue=!1,ve&&(be.stopPropagation?be.stopPropagation():be.cancelBubble=!0)}};function j(be){const ve=[];for(let Ee=0;be&&be.nodeType===be.ELEMENT_NODE;Ee++)ve[Ee]=be.scrollTop,be=be.parentNode;return ve}e.saveParentsScrollTop=j;function se(be,ve){for(let Ee=0;be&&be.nodeType===be.ELEMENT_NODE;Ee++)be.scrollTop!==ve[Ee]&&(be.scrollTop=ve[Ee]),be=be.parentNode}e.restoreParentsScrollTop=se;class z extends u.Disposable{constructor(ve){super();this._onDidFocus=this._register(new b.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new b.Emitter),this.onDidBlur=this._onDidBlur.event;let Ee=z.hasFocusWithin(ve),Re=!1;const Te=()=>{Re=!1,Ee||(Ee=!0,this._onDidFocus.fire())},Be=()=>{Ee&&(Re=!0,window.setTimeout(()=>{Re&&(Re=!1,Ee=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{z.hasFocusWithin(ve)!==Ee&&(Ee?Be():Te())},this._register(l(ve,e.EventType.FOCUS,Te,!0)),this._register(l(ve,e.EventType.BLUR,Be,!0)),this._register(l(ve,e.EventType.FOCUS_IN,()=>this._refreshStateHandler())),this._register(l(ve,e.EventType.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(ve){const Ee=q(ve),Re=Ee?Ee.activeElement:document.activeElement;return V(Re,ve)}}function X(be){return new z(be)}e.trackFocus=X;function G(be,...ve){if(be.append(...ve),ve.length===1&&typeof ve[0]!="string")return ve[0]}e.append=G;function U(be,ve){return be.insertBefore(ve,be.firstChild),ve}e.prepend=U;function K(be,...ve){be.innerText="",G(be,...ve)}e.reset=K;const ce=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var ee;(function(be){be.HTML="http://www.w3.org/1999/xhtml",be.SVG="http://www.w3.org/2000/svg"})(ee=e.Namespace||(e.Namespace={}));function ue(be,ve,Ee,...Re){const Te=ce.exec(ve);if(!Te)throw new Error("Bad use of emmet");Ee=Object.assign({},Ee||{});const Be=Te[1]||"div";let xe;return be!==ee.HTML?xe=document.createElementNS(be,Be):xe=document.createElement(Be),Te[3]&&(xe.id=Te[3]),Te[4]&&(xe.className=Te[4].replace(/\./g," ").trim()),Object.keys(Ee).forEach(qe=>{const Ze=Ee[qe];typeof Ze!="undefined"&&(/^on\w+$/.test(qe)?xe[qe]=Ze:qe==="selected"?Ze&&xe.setAttribute(qe,"true"):xe.setAttribute(qe,Ze))}),xe.append(...Re),xe}function fe(be,ve,...Ee){return ue(ee.HTML,be,ve,...Ee)}e.$=fe,fe.SVG=function(be,ve,...Ee){return ue(ee.SVG,be,ve,...Ee)};function Ce(...be){for(const ve of be)ve.style.display="",ve.removeAttribute("aria-hidden")}e.show=Ce;function we(...be){for(const ve of be)ve.style.display="none",ve.setAttribute("aria-hidden","true")}e.hide=we;function ye(be){return Array.prototype.slice.call(document.getElementsByTagName(be),0)}e.getElementsByTagName=ye;function De(be){const ve=window.devicePixelRatio*be;return Math.max(1,Math.floor(ve))/window.devicePixelRatio}e.computeScreenAwareSize=De;function Me(be){window.open(be,"_blank","noopener")}e.windowOpenNoOpener=Me;function pe(be){const ve=()=>{be(),Ee=(0,e.scheduleAtNextAnimationFrame)(ve)};let Ee=(0,e.scheduleAtNextAnimationFrame)(ve);return(0,u.toDisposable)(()=>Ee.dispose())}e.animate=pe,g.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function he(be){return be?`url('${g.FileAccess.asBrowserUri(be).toString(!0).replace(/'/g,"%27")}')`:"url('')"}e.asCSSUrl=he;function le(be){return`'${be.replace(/'/g,"%27")}'`}e.asCSSPropertyValue=le;function ge(be,ve=!1){const Ee=document.createElement("a");return v.addHook("afterSanitizeAttributes",Re=>{for(const Te of["href","src"])if(Re.hasAttribute(Te)){const Be=Re.getAttribute(Te);if(Te==="href"&&Be.startsWith("#"))continue;if(Ee.href=Be,!be.includes(Ee.protocol.replace(/:$/,""))){if(ve&&Te==="src"&&Ee.href.startsWith("data:"))continue;Re.removeAttribute(Te)}}}),(0,u.toDisposable)(()=>{v.removeHook("afterSanitizeAttributes")})}e.hookDomPurifyHrefAndSrcSanitizer=ge;class _e extends b.Emitter{constructor(){super();this._subscriptions=new u.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(l(window,"keydown",ve=>{if(ve.defaultPrevented)return;const Ee=new k.StandardKeyboardEvent(ve);if(!(Ee.keyCode===6&&ve.repeat)){if(ve.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(ve.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(ve.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(ve.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(Ee.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=ve.altKey,this._keyStatus.ctrlKey=ve.ctrlKey,this._keyStatus.metaKey=ve.metaKey,this._keyStatus.shiftKey=ve.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=ve,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(l(window,"keyup",ve=>{ve.defaultPrevented||(!ve.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!ve.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!ve.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!ve.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=ve.altKey,this._keyStatus.ctrlKey=ve.ctrlKey,this._keyStatus.metaKey=ve.metaKey,this._keyStatus.shiftKey=ve.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=ve,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(l(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(l(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(l(document.body,"mousemove",ve=>{ve.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(l(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return _e.instance||(_e.instance=new _e),_e.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=_e;class Le extends u.Disposable{constructor(ve,Ee){super();this.element=ve,this.callbacks=Ee,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this._register(l(this.element,e.EventType.DRAG_ENTER,ve=>{this.counter++,this.dragStartTime=ve.timeStamp,this.callbacks.onDragEnter(ve)})),this._register(l(this.element,e.EventType.DRAG_OVER,ve=>{var Ee,Re;ve.preventDefault(),(Re=(Ee=this.callbacks).onDragOver)===null||Re===void 0||Re.call(Ee,ve,ve.timeStamp-this.dragStartTime)})),this._register(l(this.element,e.EventType.DRAG_LEAVE,ve=>{this.counter--,this.counter===0&&(this.dragStartTime=0,this.callbacks.onDragLeave(ve))})),this._register(l(this.element,e.EventType.DRAG_END,ve=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd(ve)})),this._register(l(this.element,e.EventType.DROP,ve=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop(ve)}))}}e.DragAndDropObserver=Le;const Ie=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function Ae(be,...ve){let Ee,Re;Array.isArray(ve[0])?(Ee={},Re=ve[0]):(Ee=ve[0]||{},Re=ve[1]);const Te=Ie.exec(be);if(!Te||!Te.groups)throw new Error("Bad use of h");const Be=Te.groups.tag||"div",xe=document.createElement(Be);Te.groups.id&&(xe.id=Te.groups.id),Te.groups.class&&(xe.className=Te.groups.class.replace(/\./g," ").trim());const qe={};if(Te.groups.name&&(qe[Te.groups.name]=xe),Re)for(const Ze of Re)Ze instanceof HTMLElement?xe.appendChild(Ze):typeof Ze=="string"?xe.append(Ze):(Object.assign(qe,Ze),xe.appendChild(Ze.root));for(const[Ze,nt]of Object.entries(Ee))if(Ze==="style")for(const[ot,ze]of Object.entries(nt))xe.style.setProperty(Oe(ot),typeof ze=="number"?ze+"px":""+ze);else Ze==="tabIndex"?xe.tabIndex=nt:xe.setAttribute(Oe(Ze),nt.toString());return qe.root=xe,qe}e.h=Ae;function Oe(be){return be.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}),define(re[196],ae([1,0,7]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=e.renderFormattedText=e.renderText=void 0;function C(n,i={}){const t=I(i);return t.textContent=n,t}e.renderText=C;function k(n,i={}){const t=I(i);return b(t,v(n,!!i.renderCodeSegments),i.actionHandler,i.renderCodeSegments),t}e.renderFormattedText=k;function I(n){const i=n.inline?"span":"div",t=document.createElement(i);return n.className&&(t.className=n.className),t}e.createElement=I;class L{constructor(i){this.source=i,this.index=0}eos(){return this.index>=this.source.length}next(){const i=this.peek();return this.advance(),i}peek(){return this.source[this.index]}advance(){this.index++}}function b(n,i,t,r){let l;if(i.type===2)l=document.createTextNode(i.content||"");else if(i.type===3)l=document.createElement("b");else if(i.type===4)l=document.createElement("i");else if(i.type===7&&r)l=document.createElement("code");else if(i.type===5&&t){const d=document.createElement("a");t.disposables.add(w.addStandardDisposableListener(d,"click",a=>{t.callback(String(i.index),a)})),l=d}else i.type===8?l=document.createElement("br"):i.type===1&&(l=n);l&&n!==l&&n.appendChild(l),l&&Array.isArray(i.children)&&i.children.forEach(d=>{b(l,d,t,r)})}function v(n,i){const t={type:1,children:[]};let r=0,l=t;const d=[],a=new L(n);for(;!a.eos();){let s=a.next();const o=s==="\\"&&g(a.peek(),i)!==0;if(o&&(s=a.next()),!o&&u(s,i)&&s===a.peek()){a.advance(),l.type===2&&(l=d.pop());const c=g(s,i);if(l.type===c||l.type===5&&c===6)l=d.pop();else{const f={type:c,children:[]};c===5&&(f.index=r,r++),l.children.push(f),d.push(l),l=f}}else if(s===`
`)l.type===2&&(l=d.pop()),l.children.push({type:8});else if(l.type!==2){const c={type:2,content:s};l.children.push(c),d.push(l),l=c}else l.content+=s}return l.type===2&&(l=d.pop()),d.length,t}function u(n,i){return g(n,i)!==0}function g(n,i){switch(n){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return i?7:0;default:return 0}}}),define(re[132],ae([1,0,7,2]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalPointerMoveMonitor=void 0;class k{constructor(){this._hooks=new C.DisposableStore,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(L,b){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const v=this._onStopCallback;this._onStopCallback=null,L&&v&&v(b)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(L,b,v,u,g){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=u,this._onStopCallback=g;let n=L;try{L.setPointerCapture(b),this._hooks.add((0,C.toDisposable)(()=>{L.releasePointerCapture(b)}))}catch{n=window}this._hooks.add(w.addDisposableListener(n,w.EventType.POINTER_MOVE,i=>{if(i.buttons!==v){this.stopMonitoring(!0);return}i.preventDefault(),this._pointerMoveCallback(i)})),this._hooks.add(w.addDisposableListener(n,w.EventType.POINTER_UP,i=>this.stopMonitoring(!0)))}}e.GlobalPointerMoveMonitor=k});var ke=this&&this.__decorate||function($,e,w,C){var k=arguments.length,I=k<3?e:C===null?C=Object.getOwnPropertyDescriptor(e,w):C,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate($,e,w,C);else for(var b=$.length-1;b>=0;b--)(L=$[b])&&(I=(k<3?L(I):k>3?L(e,w,I):L(e,w))||I);return k>3&&I&&Object.defineProperty(e,w,I),I};define(re[62],ae([1,0,7,18,103,2]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var L;(function(v){v.Tap="-monaco-gesturetap",v.Change="-monaco-gesturechange",v.Start="-monaco-gesturestart",v.End="-monaco-gesturesend",v.Contextmenu="-monaco-gesturecontextmenu"})(L=e.EventType||(e.EventType={}));class b extends I.Disposable{constructor(){super();this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(w.addDisposableListener(document,"touchstart",u=>this.onTouchStart(u),{passive:!1})),this._register(w.addDisposableListener(document,"touchend",u=>this.onTouchEnd(u))),this._register(w.addDisposableListener(document,"touchmove",u=>this.onTouchMove(u),{passive:!1}))}static addTarget(u){return b.isTouchDevice()?(b.INSTANCE||(b.INSTANCE=new b),b.INSTANCE.targets.push(u),{dispose:()=>{b.INSTANCE.targets=b.INSTANCE.targets.filter(g=>g!==u)}}):I.Disposable.None}static ignoreTarget(u){return b.isTouchDevice()?(b.INSTANCE||(b.INSTANCE=new b),b.INSTANCE.ignoreTargets.push(u),{dispose:()=>{b.INSTANCE.ignoreTargets=b.INSTANCE.ignoreTargets.filter(g=>g!==u)}}):I.Disposable.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(u){const g=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let n=0,i=u.targetTouches.length;n<i;n++){const t=u.targetTouches.item(n);this.activeTouches[t.identifier]={id:t.identifier,initialTarget:t.target,initialTimeStamp:g,initialPageX:t.pageX,initialPageY:t.pageY,rollingTimestamps:[g],rollingPageX:[t.pageX],rollingPageY:[t.pageY]};const r=this.newGestureEvent(L.Start,t.target);r.pageX=t.pageX,r.pageY=t.pageY,this.dispatchEvent(r)}this.dispatched&&(u.preventDefault(),u.stopPropagation(),this.dispatched=!1)}onTouchEnd(u){const g=Date.now(),n=Object.keys(this.activeTouches).length;for(let i=0,t=u.changedTouches.length;i<t;i++){const r=u.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(r.identifier))){console.warn("move of an UNKNOWN touch",r);continue}const l=this.activeTouches[r.identifier],d=Date.now()-l.initialTimeStamp;if(d<b.HOLD_DELAY&&Math.abs(l.initialPageX-C.tail(l.rollingPageX))<30&&Math.abs(l.initialPageY-C.tail(l.rollingPageY))<30){const a=this.newGestureEvent(L.Tap,l.initialTarget);a.pageX=C.tail(l.rollingPageX),a.pageY=C.tail(l.rollingPageY),this.dispatchEvent(a)}else if(d>=b.HOLD_DELAY&&Math.abs(l.initialPageX-C.tail(l.rollingPageX))<30&&Math.abs(l.initialPageY-C.tail(l.rollingPageY))<30){const a=this.newGestureEvent(L.Contextmenu,l.initialTarget);a.pageX=C.tail(l.rollingPageX),a.pageY=C.tail(l.rollingPageY),this.dispatchEvent(a)}else if(n===1){const a=C.tail(l.rollingPageX),s=C.tail(l.rollingPageY),o=C.tail(l.rollingTimestamps)-l.rollingTimestamps[0],c=a-l.rollingPageX[0],f=s-l.rollingPageY[0],p=this.targets.filter(_=>l.initialTarget instanceof Node&&_.contains(l.initialTarget));this.inertia(p,g,Math.abs(c)/o,c>0?1:-1,a,Math.abs(f)/o,f>0?1:-1,s)}this.dispatchEvent(this.newGestureEvent(L.End,l.initialTarget)),delete this.activeTouches[r.identifier]}this.dispatched&&(u.preventDefault(),u.stopPropagation(),this.dispatched=!1)}newGestureEvent(u,g){const n=document.createEvent("CustomEvent");return n.initEvent(u,!1,!0),n.initialTarget=g,n.tapCount=0,n}dispatchEvent(u){if(u.type===L.Tap){const g=new Date().getTime();let n=0;g-this._lastSetTapCountTime>b.CLEAR_TAP_COUNT_TIME?n=1:n=2,this._lastSetTapCountTime=g,u.tapCount=n}else(u.type===L.Change||u.type===L.Contextmenu)&&(this._lastSetTapCountTime=0);for(let g=0;g<this.ignoreTargets.length;g++)if(u.initialTarget instanceof Node&&this.ignoreTargets[g].contains(u.initialTarget))return;this.targets.forEach(g=>{u.initialTarget instanceof Node&&g.contains(u.initialTarget)&&(g.dispatchEvent(u),this.dispatched=!0)})}inertia(u,g,n,i,t,r,l,d){this.handle=w.scheduleAtNextAnimationFrame(()=>{const a=Date.now(),s=a-g;let o=0,c=0,f=!0;n+=b.SCROLL_FRICTION*s,r+=b.SCROLL_FRICTION*s,n>0&&(f=!1,o=i*n*s),r>0&&(f=!1,c=l*r*s);const p=this.newGestureEvent(L.Change);p.translationX=o,p.translationY=c,u.forEach(_=>_.dispatchEvent(p)),f||this.inertia(u,a,n,i,t+o,r,l,d+c)})}onTouchMove(u){const g=Date.now();for(let n=0,i=u.changedTouches.length;n<i;n++){const t=u.changedTouches.item(n);if(!this.activeTouches.hasOwnProperty(String(t.identifier))){console.warn("end of an UNKNOWN touch",t);continue}const r=this.activeTouches[t.identifier],l=this.newGestureEvent(L.Change,r.initialTarget);l.translationX=t.pageX-C.tail(r.rollingPageX),l.translationY=t.pageY-C.tail(r.rollingPageY),l.pageX=t.pageX,l.pageY=t.pageY,this.dispatchEvent(l),r.rollingPageX.length>3&&(r.rollingPageX.shift(),r.rollingPageY.shift(),r.rollingTimestamps.shift()),r.rollingPageX.push(t.pageX),r.rollingPageY.push(t.pageY),r.rollingTimestamps.push(g)}this.dispatched&&(u.preventDefault(),u.stopPropagation(),this.dispatched=!1)}}b.SCROLL_FRICTION=-.005,b.HOLD_DELAY=700,b.CLEAR_TAP_COUNT_TIME=400,ke([k.memoize],b,"isTouchDevice",null),e.Gesture=b}),define(re[49],ae([1,0,7,17,334]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.status=e.alert=e.setARIAContainer=void 0;const k=2e4;let I,L,b,v,u;function g(r){I=document.createElement("div"),I.className="monaco-aria-container";const l=()=>{const a=document.createElement("div");return a.className="monaco-alert",a.setAttribute("role","alert"),a.setAttribute("aria-atomic","true"),I.appendChild(a),a};L=l(),b=l();const d=()=>{const a=document.createElement("div");return a.className="monaco-status",a.setAttribute("role","complementary"),a.setAttribute("aria-live","polite"),a.setAttribute("aria-atomic","true"),I.appendChild(a),a};v=d(),u=d(),r.appendChild(I)}e.setARIAContainer=g;function n(r){!I||(L.textContent!==r?(w.clearNode(b),t(L,r)):(w.clearNode(L),t(b,r)))}e.alert=n;function i(r){!I||(C.isMacintosh?n(r):v.textContent!==r?(w.clearNode(u),t(v,r)):(w.clearNode(v),t(u,r)))}e.status=i;function t(r,l){w.clearNode(r),l.length>k&&(l=l.substr(0,k)),r.textContent=l,r.style.visibility="hidden",r.style.visibility="visible"}}),define(re[254],ae([1,0,192,7,2,17,146,338]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.layout=e.LayoutAnchorMode=void 0;var b;(function(n){n[n.AVOID=0]="AVOID",n[n.ALIGN=1]="ALIGN"})(b=e.LayoutAnchorMode||(e.LayoutAnchorMode={}));function v(n,i,t){const r=t.mode===b.ALIGN?t.offset:t.offset+t.size,l=t.mode===b.ALIGN?t.offset+t.size:t.offset;return t.position===0?i<=n-r?r:i<=l?l-i:Math.max(n-i,0):i<=l?l-i:i<=n-r?r:0}e.layout=v;class u extends k.Disposable{constructor(i,t){super();this.container=null,this.delegate=null,this.toDisposeOnClean=k.Disposable.None,this.toDisposeOnSetContainer=k.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=C.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,C.hide(this.view),this.setContainer(i,t),this._register((0,k.toDisposable)(()=>this.setContainer(null,1)))}setContainer(i,t){var r;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(r=this.shadowRootHostElement)===null||r===void 0||r.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),i){if(this.container=i,this.useFixedPosition=t!==1,this.useShadowDOM=t===3,this.useShadowDOM){this.shadowRootHostElement=C.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const d=document.createElement("style");d.textContent=g,this.shadowRoot.appendChild(d),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(C.$("slot"))}else this.container.appendChild(this.view);const l=new k.DisposableStore;u.BUBBLE_UP_EVENTS.forEach(d=>{l.add(C.addStandardDisposableListener(this.container,d,a=>{this.onDOMEvent(a,!1)}))}),u.BUBBLE_DOWN_EVENTS.forEach(d=>{l.add(C.addStandardDisposableListener(this.container,d,a=>{this.onDOMEvent(a,!0)},!0))}),this.toDisposeOnSetContainer=l}}show(i){var t,r;this.isVisible()&&this.hide(),C.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",C.show(this.view),this.toDisposeOnClean=i.render(this.view)||k.Disposable.None,this.delegate=i,this.doLayout(),(r=(t=this.delegate).focus)===null||r===void 0||r.call(t)}getViewElement(){return this.view}layout(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(I.isIOS&&w.BrowserFeatures.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;const i=this.delegate.getAnchor();let t;if(C.isHTMLElement(i)){const p=C.getDomNodePagePosition(i),_=C.getDomNodeZoomLevel(i);t={top:p.top*_,left:p.left*_,width:p.width*_,height:p.height*_}}else t={top:i.y,left:i.x,width:i.width||1,height:i.height||2};const r=C.getTotalWidth(this.view),l=C.getTotalHeight(this.view),d=this.delegate.anchorPosition||0,a=this.delegate.anchorAlignment||0,s=this.delegate.anchorAxisAlignment||0;let o,c;if(s===0){const p={offset:t.top-window.pageYOffset,size:t.height,position:d===0?0:1},_={offset:t.left,size:t.width,position:a===0?0:1,mode:b.ALIGN};o=v(window.innerHeight,l,p)+window.pageYOffset,L.Range.intersects({start:o,end:o+l},{start:p.offset,end:p.offset+p.size})&&(_.mode=b.AVOID),c=v(window.innerWidth,r,_)}else{const p={offset:t.left,size:t.width,position:a===0?0:1},_={offset:t.top,size:t.height,position:d===0?0:1,mode:b.ALIGN};c=v(window.innerWidth,r,p),L.Range.intersects({start:c,end:c+r},{start:p.offset,end:p.offset+p.size})&&(_.mode=b.AVOID),o=v(window.innerHeight,l,_)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(d===0?"bottom":"top"),this.view.classList.add(a===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const f=C.getDomNodePagePosition(this.container);this.view.style.top=`${o-(this.useFixedPosition?C.getDomNodePagePosition(this.view).top:f.top)}px`,this.view.style.left=`${c-(this.useFixedPosition?C.getDomNodePagePosition(this.view).left:f.left)}px`,this.view.style.width="initial"}hide(i){const t=this.delegate;this.delegate=null,(t==null?void 0:t.onHide)&&t.onHide(i),this.toDisposeOnClean.dispose(),C.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(i,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(i,document.activeElement):t&&!C.isAncestor(i.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=u,u.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],u.BUBBLE_DOWN_EVENTS=["click"];const g=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		font-display: block;
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(re[255],ae([1,0,7,31,40,8,339]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;const L={badgeBackground:C.Color.fromHex("#4D4D4D"),badgeForeground:C.Color.fromHex("#FFFFFF")};class b{constructor(u,g){this.count=0,this.options=g||Object.create(null),(0,k.mixin)(this.options,L,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,w.append)(u,(0,w.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(u){this.count=u,this.render()}setTitleFormat(u){this.titleFormat=u,this.render()}render(){this.element.textContent=(0,I.format)(this.countFormat,this.count),this.element.title=(0,I.format)(this.titleFormat,this.count),this.applyStyles()}style(u){this.badgeBackground=u.badgeBackground,this.badgeForeground=u.badgeForeground,this.badgeBorder=u.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const u=this.badgeBackground?this.badgeBackground.toString():"",g=this.badgeForeground?this.badgeForeground.toString():"",n=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=u,this.element.style.color=g,this.element.style.borderWidth=n?"1px":"",this.element.style.borderStyle=n?"solid":"",this.element.style.borderColor=n}}}e.CountBadge=b}),define(re[482],ae([1,0,7,48,62,43,6,226]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=e.BaseDropdown=void 0;class b extends I.ActionRunner{constructor(g,n){super();this._onDidChangeVisibility=this._register(new L.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,w.append)(g,(0,w.$)(".monaco-dropdown")),this._label=(0,w.append)(this._element,(0,w.$)(".dropdown-label"));let i=n.labelRenderer;i||(i=r=>(r.textContent=n.label||"",null));for(const r of[w.EventType.CLICK,w.EventType.MOUSE_DOWN,k.EventType.Tap])this._register((0,w.addDisposableListener)(this.element,r,l=>w.EventHelper.stop(l,!0)));for(const r of[w.EventType.MOUSE_DOWN,k.EventType.Tap])this._register((0,w.addDisposableListener)(this._label,r,l=>{l instanceof MouseEvent&&(l.detail>1||l.button!==0)||(this.visible?this.hide():this.show())}));this._register((0,w.addDisposableListener)(this._label,w.EventType.KEY_UP,r=>{const l=new C.StandardKeyboardEvent(r);(l.equals(3)||l.equals(10))&&(w.EventHelper.stop(r,!0),this.visible?this.hide():this.show())}));const t=i(this._label);t&&this._register(t),this._register(k.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}e.BaseDropdown=b;class v extends b{constructor(g,n){super(g,n);this._actions=[],this._contextMenuProvider=n.contextMenuProvider,this.actions=n.actions||[],this.actionProvider=n.actionProvider,this.menuClassName=n.menuClassName||"",this.menuAsChild=!!n.menuAsChild}set menuOptions(g){this._menuOptions=g}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(g){this._actions=g}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:g=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(g):void 0,getKeyBinding:g=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(g):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=v}),define(re[256],ae([1,0,7,10,21,64,106,2,19,466]),function($,e,w,C,k,I,L,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setupCustomHover=e.setupNativeHover=void 0;function g(t,r){(0,v.isString)(r)?t.title=(0,L.stripIcons)(r):(r==null?void 0:r.markdownNotSupportedFallback)?t.title=r.markdownNotSupportedFallback:t.removeAttribute("title")}e.setupNativeHover=g;class n{constructor(r,l,d){this.hoverDelegate=r,this.target=l,this.fadeInAnimation=d}update(r,l,d){var a;return Se(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let s;if(r===void 0||(0,v.isString)(r)||r instanceof HTMLElement)s=r;else if(!(0,v.isFunction)(r.markdown))s=(a=r.markdown)!==null&&a!==void 0?a:r.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,u.localize)(0,null),l),this._cancellationTokenSource=new k.CancellationTokenSource;const o=this._cancellationTokenSource.token;if(s=yield r.markdown(o),s===void 0&&(s=r.markdownNotSupportedFallback),this.isDisposed||o.isCancellationRequested)return}this.show(s,l,d)})}show(r,l,d){const a=this._hoverWidget;if(this.hasContent(r)){const s=Object.assign({content:r,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!a},d);this._hoverWidget=this.hoverDelegate.showHover(s,l)}a==null||a.dispose()}hasContent(r){return r?(0,I.isMarkdownString)(r)?!!r.value:!0:!1}get isDisposed(){var r;return(r=this._hoverWidget)===null||r===void 0?void 0:r.isDisposed}dispose(){var r,l;(r=this._hoverWidget)===null||r===void 0||r.dispose(),(l=this._cancellationTokenSource)===null||l===void 0||l.dispose(!0),this._cancellationTokenSource=void 0}}function i(t,r,l,d){let a,s;const o=(m,h)=>{var S;m&&(s==null||s.dispose(),s=void 0),h&&(a==null||a.dispose(),a=void 0),(S=t.onDidHideHover)===null||S===void 0||S.call(t)},c=(m,h,S)=>new C.TimeoutTimer(()=>Se(this,void 0,void 0,function*(){(!s||s.isDisposed)&&(s=new n(t,S||r,m>0),yield s.update(l,h,d))}),m),f=()=>{if(a)return;const m=new b.DisposableStore,h=E=>o(!1,E.fromElement===r);m.add(w.addDisposableListener(r,w.EventType.MOUSE_LEAVE,h,!0));const S=()=>o(!0,!0);m.add(w.addDisposableListener(r,w.EventType.MOUSE_DOWN,S,!0));const y={targetElements:[r],dispose:()=>{}};if(t.placement===void 0||t.placement==="mouse"){const E=N=>{y.x=N.x+10,N.target instanceof HTMLElement&&N.target.classList.contains("action-label")&&o(!0,!0)};m.add(w.addDisposableListener(r,w.EventType.MOUSE_MOVE,E,!0))}m.add(c(t.delay,!1,y)),a=m},p=w.addDisposableListener(r,w.EventType.MOUSE_OVER,f,!0);return{show:m=>{o(!1,!0),c(0,m)},hide:()=>{o(!0,!0)},update:(m,h)=>Se(this,void 0,void 0,function*(){l=m,yield s==null?void 0:s.update(l,void 0,h)}),dispose:()=>{p.dispose(),o(!0,!0)}}}e.setupCustomHover=i}),define(re[133],ae([1,0,41,123,7,62,256,43,2,17,19,462,225]),function($,e,w,C,k,I,L,b,v,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionViewItem=e.BaseActionViewItem=void 0;class i extends v.Disposable{constructor(l,d,a={}){super();this.options=a,this._context=l||this,this._action=d,d instanceof b.Action&&this._register(d.onDidChange(s=>{!this.element||this.handleActionChangeEvent(s)}))}get action(){return this._action}handleActionChangeEvent(l){l.enabled!==void 0&&this.updateEnabled(),l.checked!==void 0&&this.updateChecked(),l.class!==void 0&&this.updateClass(),l.label!==void 0&&(this.updateLabel(),this.updateTooltip()),l.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new b.ActionRunner)),this._actionRunner}set actionRunner(l){this._actionRunner=l}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(l){this._context=l}render(l){const d=this.element=l;this._register(I.Gesture.addTarget(l));const a=this.options&&this.options.draggable;a&&(l.draggable=!0,w.isFirefox&&this._register((0,k.addDisposableListener)(l,k.EventType.DRAG_START,s=>{var o;return(o=s.dataTransfer)===null||o===void 0?void 0:o.setData(C.DataTransfers.TEXT,this._action.label)}))),this._register((0,k.addDisposableListener)(d,I.EventType.Tap,s=>this.onClick(s,!0))),this._register((0,k.addDisposableListener)(d,k.EventType.MOUSE_DOWN,s=>{a||k.EventHelper.stop(s,!0),this._action.enabled&&s.button===0&&d.classList.add("active")})),u.isMacintosh&&this._register((0,k.addDisposableListener)(d,k.EventType.CONTEXT_MENU,s=>{s.button===0&&s.ctrlKey===!0&&this.onClick(s)})),this._register((0,k.addDisposableListener)(d,k.EventType.CLICK,s=>{k.EventHelper.stop(s,!0),this.options&&this.options.isMenu||this.onClick(s)})),this._register((0,k.addDisposableListener)(d,k.EventType.DBLCLICK,s=>{k.EventHelper.stop(s,!0)})),[k.EventType.MOUSE_UP,k.EventType.MOUSE_OUT].forEach(s=>{this._register((0,k.addDisposableListener)(d,s,o=>{k.EventHelper.stop(o),d.classList.remove("active")}))})}onClick(l,d=!1){var a;k.EventHelper.stop(l,!0);const s=g.isUndefinedOrNull(this._context)?((a=this.options)===null||a===void 0?void 0:a.useEventAsContext)?l:{preserveFocus:d}:this._context;this.actionRunner.run(this._action,s)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(l){this.element&&(this.element.tabIndex=l?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getTooltip(){return this.getAction().tooltip}updateTooltip(){var l;if(!this.element)return;const d=(l=this.getTooltip())!==null&&l!==void 0?l:"";this.element.setAttribute("aria-label",d),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(d):(this.customHover=(0,L.setupCustomHover)(this.options.hoverDelegate,this.element,d),this._store.add(this.customHover))):this.element.title=d}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}e.BaseActionViewItem=i;class t extends i{constructor(l,d,a={}){super(l,d,a);this.options=a,this.options.icon=a.icon!==void 0?a.icon:!1,this.options.label=a.label!==void 0?a.label:!0,this.cssClass=""}render(l){super.render(l),this.element&&(this.label=(0,k.append)(this.element,(0,k.$)("a.action-label"))),this.label&&(this._action.id===b.Separator.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&((0,k.append)(this.element,(0,k.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(l){this.label&&(this.label.tabIndex=l?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}getTooltip(){let l=null;return this.getAction().tooltip?l=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(l=this.getAction().label,this.options.keybinding&&(l=n.localize(0,null,l,this.options.keybinding))),l??void 0}updateClass(){var l;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(l=this.label)===null||l===void 0||l.classList.remove("codicon")}updateEnabled(){var l,d;this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(l=this.element)===null||l===void 0||l.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(d=this.element)===null||d===void 0||d.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}e.ActionViewItem=t}),define(re[83],ae([1,0,7,48,133,43,6,2,19,225]),function($,e,w,C,k,I,L,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class u extends b.Disposable{constructor(n,i={}){var t,r,l,d,a,s;super();this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new L.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new L.Emitter({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new L.Emitter),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new L.Emitter),this.onBeforeRun=this._onBeforeRun.event,this.options=i,this._context=(t=i.context)!==null&&t!==void 0?t:null,this._orientation=(r=this.options.orientation)!==null&&r!==void 0?r:0,this._triggerKeys={keyDown:(d=(l=this.options.triggerKeys)===null||l===void 0?void 0:l.keyDown)!==null&&d!==void 0?d:!1,keys:(s=(a=this.options.triggerKeys)===null||a===void 0?void 0:a.keys)!==null&&s!==void 0?s:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new I.ActionRunner,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(f=>this._onDidRun.fire(f))),this._register(this._actionRunner.onBeforeRun(f=>this._onBeforeRun.fire(f))),this._actionIds=[],this.viewItems=[],this.viewItemDisposables=new Map,this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",i.animated!==!1&&this.domNode.classList.add("animated");let o,c;switch(this._orientation){case 0:o=[15],c=[17];break;case 1:o=[16],c=[18],this.domNode.className+=" vertical";break}this._register(w.addDisposableListener(this.domNode,w.EventType.KEY_DOWN,f=>{const p=new C.StandardKeyboardEvent(f);let _=!0;const m=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;o&&(p.equals(o[0])||p.equals(o[1]))?_=this.focusPrevious():c&&(p.equals(c[0])||p.equals(c[1]))?_=this.focusNext():p.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():p.equals(14)?_=this.focusFirst():p.equals(13)?_=this.focusLast():p.equals(2)&&m instanceof k.BaseActionViewItem&&m.trapsArrowNavigation?_=this.focusNext():this.isTriggerKeyEvent(p)?this._triggerKeys.keyDown?this.doTrigger(p):this.triggerKeyDown=!0:_=!1,_&&(p.preventDefault(),p.stopPropagation())})),this._register(w.addDisposableListener(this.domNode,w.EventType.KEY_UP,f=>{const p=new C.StandardKeyboardEvent(f);this.isTriggerKeyEvent(p)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(p)),p.preventDefault(),p.stopPropagation()):(p.equals(2)||p.equals(1024|2))&&this.updateFocusedItem()})),this.focusTracker=this._register(w.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(w.getActiveElement()===this.domNode||!w.isAncestor(w.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),n.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(n){if(this.focusable=n,this.focusable){const i=this.viewItems.find(t=>t instanceof k.BaseActionViewItem&&t.isEnabled());i instanceof k.BaseActionViewItem&&i.setFocusable(!0)}else this.viewItems.forEach(i=>{i instanceof k.BaseActionViewItem&&i.setFocusable(!1)})}isTriggerKeyEvent(n){let i=!1;return this._triggerKeys.keys.forEach(t=>{i=i||n.equals(t)}),i}updateFocusedItem(){for(let n=0;n<this.actionsList.children.length;n++){const i=this.actionsList.children[n];if(w.isAncestor(w.getActiveElement(),i)){this.focusedItem=n;break}}}get context(){return this._context}set context(n){this._context=n,this.viewItems.forEach(i=>i.setActionContext(n))}get actionRunner(){return this._actionRunner}set actionRunner(n){n&&(this._actionRunner=n,this.viewItems.forEach(i=>i.actionRunner=n))}getContainer(){return this.domNode}push(n,i={}){const t=Array.isArray(n)?n:[n];let r=v.isNumber(i.index)?i.index:null;t.forEach(l=>{const d=document.createElement("li");d.className="action-item",d.setAttribute("role","presentation");let a;this.options.actionViewItemProvider&&(a=this.options.actionViewItemProvider(l)),a||(a=new k.ActionViewItem(this.context,l,Object.assign({hoverDelegate:this.options.hoverDelegate},i))),this.options.allowContextMenu||this.viewItemDisposables.set(a,w.addDisposableListener(d,w.EventType.CONTEXT_MENU,s=>{w.EventHelper.stop(s,!0)})),a.actionRunner=this._actionRunner,a.setActionContext(this.context),a.render(d),this.focusable&&a instanceof k.BaseActionViewItem&&this.viewItems.length===0&&a.setFocusable(!0),r===null||r<0||r>=this.actionsList.children.length?(this.actionsList.appendChild(d),this.viewItems.push(a),this._actionIds.push(l.id)):(this.actionsList.insertBefore(d,this.actionsList.children[r]),this.viewItems.splice(r,0,a),this._actionIds.splice(r,0,l.id),r++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){(0,b.dispose)(this.viewItems),this.viewItemDisposables.forEach(n=>n.dispose()),this.viewItemDisposables.clear(),this.viewItems=[],this._actionIds=[],w.clearNode(this.actionsList),this.refreshRole()}length(){return this.viewItems.length}focus(n){let i=!1,t;if(n===void 0?i=!0:typeof n=="number"?t=n:typeof n=="boolean"&&(i=n),i&&typeof this.focusedItem=="undefined"){const r=this.viewItems.findIndex(l=>l.isEnabled());this.focusedItem=r===-1?void 0:r,this.updateFocus(void 0,void 0,!0)}else t!==void 0&&(this.focusedItem=t),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(n){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let t;do{if(!n&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=i,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,t=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!t.isEnabled()||t.action.id===I.Separator.ID));return this.updateFocus(),!0}focusPrevious(n){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let t;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!n&&this.options.preventLoopNavigation)return this.focusedItem=i,!1;this.focusedItem=this.viewItems.length-1}t=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!t.isEnabled()||t.action.id===I.Separator.ID));return this.updateFocus(!0),!0}updateFocus(n,i,t=!1){var r;typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((r=this.viewItems[this.previouslyFocusedItem])===null||r===void 0||r.blur());const l=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(l){let d=!0;v.isFunction(l.focus)||(d=!1),this.options.focusOnlyEnabledItems&&v.isFunction(l.isEnabled)&&!l.isEnabled()&&(d=!1),l.action.id===I.Separator.ID&&(d=!1),d?(t||this.previouslyFocusedItem!==this.focusedItem)&&(l.focus(n),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem=void 0)}}doTrigger(n){if(typeof this.focusedItem=="undefined")return;const i=this.viewItems[this.focusedItem];if(i instanceof k.BaseActionViewItem){const t=i._context===null||i._context===void 0?n:i._context;this.run(i._action,t)}}run(n,i){return Se(this,void 0,void 0,function*(){yield this._actionRunner.run(n,i)})}dispose(){(0,b.dispose)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}e.ActionBar=u}),define(re[483],ae([1,0,7,133,482,6,226]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class L extends C.BaseActionViewItem{constructor(v,u,g,n=Object.create(null)){super(null,v,n);this.actionItem=null,this._onDidChangeVisibility=this._register(new I.Emitter),this.menuActionsOrProvider=u,this.contextMenuProvider=g,this.options=n,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(v){this.actionItem=v;const u=i=>{this.element=(0,w.append)(i,(0,w.$)("a.action-label"));let t=[];return typeof this.options.classNames=="string"?t=this.options.classNames.split(/\s+/g).filter(r=>!!r):this.options.classNames&&(t=this.options.classNames),t.find(r=>r==="icon")||t.push("codicon"),this.element.classList.add(...t),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},g=Array.isArray(this.menuActionsOrProvider),n={contextMenuProvider:this.contextMenuProvider,labelRenderer:u,menuAsChild:this.options.menuAsChild,actions:g?this.menuActionsOrProvider:void 0,actionProvider:g?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new k.DropdownMenu(v,n)),this._register(this.dropdownMenu.onDidChangeVisibility(i=>{var t;(t=this.element)===null||t===void 0||t.setAttribute("aria-expanded",`${i}`),this._onDidChangeVisibility.fire(i)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const i=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return i.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let v=null;return this.getAction().tooltip?v=this.getAction().tooltip:this.getAction().label&&(v=this.getAction().label),v??void 0}setActionContext(v){super.setActionContext(v),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=v:this.dropdownMenu.menuOptions={context:v})}updateEnabled(){var v,u;const g=!this.getAction().enabled;(v=this.actionItem)===null||v===void 0||v.classList.toggle("disabled",g),(u=this.element)===null||u===void 0||u.classList.toggle("disabled",g)}}e.DropdownMenuActionViewItem=L}),define(re[134],ae([1,0,7,27]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderIcon=e.renderLabelWithIcons=void 0;const k=new RegExp(`(\\\\)?\\$\\((${C.CSSIcon.iconNameExpression}(?:${C.CSSIcon.iconModifierExpression})?)\\)`,"g");function I(b){const v=new Array;let u,g=0,n=0;for(;(u=k.exec(b))!==null;){n=u.index||0,v.push(b.substring(g,n)),g=(u.index||0)+u[0].length;const[,i,t]=u;v.push(i?`$(${t})`:L({id:t}))}return g<b.length&&v.push(b.substring(g)),v}e.renderLabelWithIcons=I;function L(b){const v=w.$("span");return v.classList.add(...C.CSSIcon.asClassNameArray(b)),v}e.renderIcon=L}),define(re[484],ae([1,0,7,48,62,134,31,6,2,40,335]),function($,e,w,C,k,I,L,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0;const g={buttonBackground:L.Color.fromHex("#0E639C"),buttonHoverBackground:L.Color.fromHex("#006BB3"),buttonSeparator:L.Color.white,buttonForeground:L.Color.white};class n extends v.Disposable{constructor(t,r){super();this._onDidClick=this._register(new b.Emitter),this.options=r||Object.create(null),(0,u.mixin)(this.options,g,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),t.appendChild(this._element),this._register(k.Gesture.addTarget(this._element)),[w.EventType.CLICK,k.EventType.Tap].forEach(l=>{this._register((0,w.addDisposableListener)(this._element,l,d=>{if(!this.enabled){w.EventHelper.stop(d);return}this._onDidClick.fire(d)}))}),this._register((0,w.addDisposableListener)(this._element,w.EventType.KEY_DOWN,l=>{const d=new C.StandardKeyboardEvent(l);let a=!1;this.enabled&&(d.equals(3)||d.equals(10))?(this._onDidClick.fire(l),a=!0):d.equals(9)&&(this._element.blur(),a=!0),a&&w.EventHelper.stop(d,!0)})),this._register((0,w.addDisposableListener)(this._element,w.EventType.MOUSE_OVER,l=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,w.addDisposableListener)(this._element,w.EventType.MOUSE_OUT,l=>{this.applyStyles()})),this.focusTracker=this._register((0,w.trackFocus)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.setHoverBackground()})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.applyStyles()})),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let t;this.options.secondary?t=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:t=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,t&&(this._element.style.backgroundColor=t)}style(t){this.buttonForeground=t.buttonForeground,this.buttonBackground=t.buttonBackground,this.buttonHoverBackground=t.buttonHoverBackground,this.buttonSecondaryForeground=t.buttonSecondaryForeground,this.buttonSecondaryBackground=t.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=t.buttonSecondaryHoverBackground,this.buttonBorder=t.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let t,r;this.options.secondary?(r=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",t=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(r=this.buttonForeground?this.buttonForeground.toString():"",t=this.buttonBackground?this.buttonBackground.toString():"");const l=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=r,this._element.style.backgroundColor=t,this._element.style.borderWidth=l?"1px":"",this._element.style.borderStyle=l?"solid":"",this._element.style.borderColor=l}}get element(){return this._element}set label(t){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,w.reset)(this._element,...(0,I.renderLabelWithIcons)(t)):this._element.textContent=t,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=t)}set enabled(t){t?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}e.Button=n}),define(re[257],ae([1,0,7,134,40]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class I{constructor(b,v){var u;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(u=v==null?void 0:v.supportIcons)!==null&&u!==void 0?u:!1,this.domNode=w.append(b,w.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(b,v=[],u="",g){b||(b=""),g&&(b=I.escapeNewLines(b,v)),!(this.didEverRender&&this.text===b&&this.title===u&&k.equals(this.highlights,v))&&(this.text=b,this.title=u,this.highlights=v,this.render())}render(){const b=[];let v=0;for(const u of this.highlights){if(u.end===u.start)continue;if(v<u.start){const i=this.text.substring(v,u.start);b.push(w.$("span",void 0,...this.supportIcons?(0,C.renderLabelWithIcons)(i):[i])),v=u.end}const g=this.text.substring(u.start,u.end),n=w.$("span.highlight",void 0,...this.supportIcons?(0,C.renderLabelWithIcons)(g):[g]);u.extraClasses&&n.classList.add(...u.extraClasses),b.push(n),v=u.end}if(v<this.text.length){const u=this.text.substring(v);b.push(w.$("span",void 0,...this.supportIcons?(0,C.renderLabelWithIcons)(u):[u]))}w.reset(this.domNode,...b),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(b,v){let u=0,g=0;return b.replace(/\r\n|\r|\n/g,(n,i)=>{g=n===`\r
`?-1:0,i+=u;for(const t of v)t.end<=i||(t.start>=i&&(t.start+=g),t.end>=i&&(t.end+=g));return u+=g,"\u23CE"})}}e.HighlightedLabel=I}),define(re[197],ae([1,0,7,257,256,2,40,146,341]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class v{constructor(r){this._element=r}get element(){return this._element}set textContent(r){this.disposed||r===this._textContent||(this._textContent=r,this._element.textContent=r)}set className(r){this.disposed||r===this._className||(this._className=r,this._element.className=r)}set empty(r){this.disposed||r===this._empty||(this._empty=r,this._element.style.marginLeft=r?"0":"")}dispose(){this.disposed=!0}}class u extends I.Disposable{constructor(r,l){super();this.customHovers=new Map,this.domNode=this._register(new v(w.append(r,w.$(".monaco-icon-label")))),this.labelContainer=w.append(this.domNode.element,w.$(".monaco-icon-label-container"));const d=w.append(this.labelContainer,w.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new v(w.append(this.labelContainer,w.$("span.monaco-icon-description-container")))),(l==null?void 0:l.supportHighlights)||(l==null?void 0:l.supportIcons)?this.nameNode=new i(d,!!l.supportIcons):this.nameNode=new g(d),(l==null?void 0:l.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new C.HighlightedLabel(w.append(this.descriptionContainer.element,w.$("span.label-description")),{supportIcons:!!l.supportIcons}):this.descriptionNodeFactory=()=>this._register(new v(w.append(this.descriptionContainer.element,w.$("span.label-description")))),this.hoverDelegate=l==null?void 0:l.hoverDelegate}get element(){return this.domNode.element}setLabel(r,l,d){const a=["monaco-icon-label"];d&&(d.extraClasses&&a.push(...d.extraClasses),d.italic&&a.push("italic"),d.strikethrough&&a.push("strikethrough")),this.domNode.className=a.join(" "),this.setupHover((d==null?void 0:d.descriptionTitle)?this.labelContainer:this.element,d==null?void 0:d.title),this.nameNode.setLabel(r,d),(l||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof C.HighlightedLabel?(this.descriptionNode.set(l||"",d?d.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,d==null?void 0:d.descriptionTitle)):(this.descriptionNode.textContent=l||"",this.setupHover(this.descriptionNode.element,(d==null?void 0:d.descriptionTitle)||""),this.descriptionNode.empty=!l))}setupHover(r,l){const d=this.customHovers.get(r);if(d&&(d.dispose(),this.customHovers.delete(r)),!l){r.removeAttribute("title");return}if(!this.hoverDelegate)(0,k.setupNativeHover)(r,l);else{const a=(0,k.setupCustomHover)(this.hoverDelegate,r,l);a&&this.customHovers.set(r,a)}}dispose(){super.dispose();for(const r of this.customHovers.values())r.dispose();this.customHovers.clear()}}e.IconLabel=u;class g{constructor(r){this.container=r,this.label=void 0,this.singleLabel=void 0}setLabel(r,l){if(!(this.label===r&&(0,L.equals)(this.options,l)))if(this.label=r,this.options=l,typeof r=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=w.append(this.container,w.$("a.label-name",{id:l==null?void 0:l.domId}))),this.singleLabel.textContent=r;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let d=0;d<r.length;d++){const a=r[d],s=(l==null?void 0:l.domId)&&`${l==null?void 0:l.domId}_${d}`;w.append(this.container,w.$("a.label-name",{id:s,"data-icon-label-count":r.length,"data-icon-label-index":d,role:"treeitem"},a)),d<r.length-1&&w.append(this.container,w.$("span.label-separator",void 0,(l==null?void 0:l.separator)||"/"))}}}}function n(t,r,l){if(!l)return;let d=0;return t.map(a=>{const s={start:d,end:d+a.length},o=l.map(c=>b.Range.intersect(s,c)).filter(c=>!b.Range.isEmpty(c)).map(({start:c,end:f})=>({start:c-d,end:f-d}));return d=s.end+r.length,o})}class i{constructor(r,l){this.container=r,this.supportIcons=l,this.label=void 0,this.singleLabel=void 0}setLabel(r,l){if(!(this.label===r&&(0,L.equals)(this.options,l)))if(this.label=r,this.options=l,typeof r=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new C.HighlightedLabel(w.append(this.container,w.$("a.label-name",{id:l==null?void 0:l.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(r,l==null?void 0:l.matches,void 0,l==null?void 0:l.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const d=(l==null?void 0:l.separator)||"/",a=n(r,d,l==null?void 0:l.matches);for(let s=0;s<r.length;s++){const o=r[s],c=a?a[s]:void 0,f=(l==null?void 0:l.domId)&&`${l==null?void 0:l.domId}_${s}`,p=w.$("a.label-name",{id:f,"data-icon-label-count":r.length,"data-icon-label-index":s,role:"treeitem"});new C.HighlightedLabel(w.append(this.container,p),{supportIcons:this.supportIcons}).set(o,c,void 0,l==null?void 0:l.labelEscapeNewLines),s<r.length-1&&w.append(p,w.$("span.label-separator",void 0,d))}}}}}),define(re[485],ae([1,0,7,190,40,468,343]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=void 0;const L=w.$;class b{constructor(u,g,n){this.os=g,this.keyElements=new Set,this.options=n||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=w.append(u,L(".monaco-keybinding")),this.didEverRender=!1,u.appendChild(this.domNode)}get element(){return this.domNode}set(u,g){this.didEverRender&&this.keybinding===u&&b.areSame(this.matches,g)||(this.keybinding=u,this.matches=g,this.render())}render(){if(this.clear(),this.keybinding){const[u,g]=this.keybinding.getParts();u&&this.renderPart(this.domNode,u,this.matches?this.matches.firstPart:null),g&&(w.append(this.domNode,L("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,g,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){w.clearNode(this.domNode),this.keyElements.clear()}renderPart(u,g,n){const i=C.UILabelProvider.modifierLabels[this.os];g.ctrlKey&&this.renderKey(u,i.ctrlKey,Boolean(n==null?void 0:n.ctrlKey),i.separator),g.shiftKey&&this.renderKey(u,i.shiftKey,Boolean(n==null?void 0:n.shiftKey),i.separator),g.altKey&&this.renderKey(u,i.altKey,Boolean(n==null?void 0:n.altKey),i.separator),g.metaKey&&this.renderKey(u,i.metaKey,Boolean(n==null?void 0:n.metaKey),i.separator);const t=g.keyLabel;t&&this.renderKey(u,t,Boolean(n==null?void 0:n.keyCode),"")}renderKey(u,g,n,i){w.append(u,this.createKeyElement(g,n?".highlight":"")),i&&w.append(u,L("span.monaco-keybinding-key-separator",void 0,i))}renderUnbound(u){w.append(u,this.createKeyElement((0,I.localize)(0,null)))}createKeyElement(u,g=""){const n=L("span.monaco-keybinding-key"+g,void 0,u);return this.keyElements.add(n),n}style(u){this.labelBackground=u.keybindingLabelBackground,this.labelForeground=u.keybindingLabelForeground,this.labelBorder=u.keybindingLabelBorder,this.labelBottomBorder=u.keybindingLabelBottomBorder,this.labelShadow=u.keybindingLabelShadow,this.applyStyles()}applyStyles(){var u;if(this.element){for(const g of this.keyElements)this.labelBackground&&(g.style.backgroundColor=(u=this.labelBackground)===null||u===void 0?void 0:u.toString()),this.labelBorder&&(g.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(g.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(g.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(u,g){return u===g||!u&&!g?!0:!!u&&!!g&&(0,k.equals)(u.firstPart,g.firstPart)&&(0,k.equals)(u.chordPart,g.chordPart)}}e.KeybindingLabel=b}),define(re[486],ae([1,0,7]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function C(I){var L;try{(L=I.parentElement)===null||L===void 0||L.removeChild(I)}catch{}}class k{constructor(L){this.renderers=L,this.cache=new Map}alloc(L){let b=this.getTemplateCache(L).pop();if(!b){const v=(0,w.$)(".monaco-list-row"),g=this.getRenderer(L).renderTemplate(v);b={domNode:v,templateId:L,templateData:g}}return b}release(L){!L||this.releaseRow(L)}releaseRow(L){const{domNode:b,templateId:v}=L;b&&(b.classList.remove("scrolling"),C(b)),this.getTemplateCache(v).push(L)}getTemplateCache(L){let b=this.cache.get(L);return b||(b=[],this.cache.set(L,b)),b}dispose(){this.cache.forEach((L,b)=>{for(const v of L)this.getRenderer(b).disposeTemplate(v.templateData),v.templateData=null}),this.cache.clear()}getRenderer(L){const b=this.renderers.get(L);if(!b)throw new Error(`No renderer found for ${L}`);return b}}e.RowCache=k}),define(re[487],ae([1,0,7,10,31,2,40,345]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const b="done",v="active",u="infinite",g="infinite-long-running",n="discrete",i={progressBarBackground:k.Color.fromHex("#0E70C0")};class t extends I.Disposable{constructor(l,d){super();this.options=d||Object.create(null),(0,L.mixin)(this.options,i,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new C.RunOnceScheduler(()=>(0,w.show)(this.element),0)),this.longRunningScheduler=this._register(new C.RunOnceScheduler(()=>this.infiniteLongRunning(),t.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(l)}create(l){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),l.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(v,u,g,n),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(l){return this.element.classList.add(b),this.element.classList.contains(u)?(this.bit.style.opacity="0",l?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",l?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(n,b,g),this.element.classList.add(v,u),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(g)}getContainer(){return this.element}style(l){this.progressBarBackground=l.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const l=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=l}}}e.ProgressBar=t,t.LONG_RUNNING_INFINITE_THRESHOLD=1e4}),define(re[135],ae([1,0,7,100,62,10,103,6,2,17,346]),function($,e,w,C,k,I,L,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;const g=!1;var n;(function(f){f.North="north",f.South="south",f.East="east",f.West="west"})(n=e.OrthogonalEdge||(e.OrthogonalEdge={}));let i=4;const t=new b.Emitter;let r=300;const l=new b.Emitter;class d{constructor(){this.disposables=new v.DisposableStore}get onPointerMove(){return this.disposables.add(new C.DomEmitter(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new C.DomEmitter(window,"mouseup")).event}dispose(){this.disposables.dispose()}}ke([L.memoize],d.prototype,"onPointerMove",null),ke([L.memoize],d.prototype,"onPointerUp",null);class a{constructor(p){this.el=p,this.disposables=new v.DisposableStore}get onPointerMove(){return this.disposables.add(new C.DomEmitter(this.el,k.EventType.Change)).event}get onPointerUp(){return this.disposables.add(new C.DomEmitter(this.el,k.EventType.End)).event}dispose(){this.disposables.dispose()}}ke([L.memoize],a.prototype,"onPointerMove",null),ke([L.memoize],a.prototype,"onPointerUp",null);class s{constructor(p){this.factory=p}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}ke([L.memoize],s.prototype,"onPointerMove",null),ke([L.memoize],s.prototype,"onPointerUp",null);const o="pointer-events-disabled";class c extends v.Disposable{constructor(p,_,m){super();this.hoverDelay=r,this.hoverDelayer=this._register(new I.Delayer(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new b.Emitter),this._onDidStart=this._register(new b.Emitter),this._onDidChange=this._register(new b.Emitter),this._onDidReset=this._register(new b.Emitter),this._onDidEnd=this._register(new b.Emitter),this.orthogonalStartSashDisposables=this._register(new v.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new v.DisposableStore),this.orthogonalEndSashDisposables=this._register(new v.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new v.DisposableStore),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,w.append)(p,(0,w.$)(".monaco-sash")),m.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${m.orthogonalEdge}`),u.isMacintosh&&this.el.classList.add("mac");const h=this._register(new C.DomEmitter(this.el,"mousedown")).event;this._register(h(F=>this.onPointerStart(F,new d),this));const S=this._register(new C.DomEmitter(this.el,"dblclick")).event;this._register(S(this.onPointerDoublePress,this));const y=this._register(new C.DomEmitter(this.el,"mouseenter")).event;this._register(y(()=>c.onMouseEnter(this)));const E=this._register(new C.DomEmitter(this.el,"mouseleave")).event;this._register(E(()=>c.onMouseLeave(this))),this._register(k.Gesture.addTarget(this.el));const N=b.Event.map(this._register(new C.DomEmitter(this.el,k.EventType.Start)).event,F=>{var O;return Object.assign(Object.assign({},F),{target:(O=F.initialTarget)!==null&&O!==void 0?O:null})});this._register(N(F=>this.onPointerStart(F,new a(this.el)),this));const T=this._register(new C.DomEmitter(this.el,k.EventType.Tap)).event,R=b.Event.map(b.Event.filter(b.Event.debounce(T,(F,O)=>{var D;return{event:O,count:((D=F==null?void 0:F.count)!==null&&D!==void 0?D:0)+1}},250),({count:F})=>F===2),({event:F})=>{var O;return Object.assign(Object.assign({},F),{target:(O=F.initialTarget)!==null&&O!==void 0?O:null})});this._register(R(this.onPointerDoublePress,this)),typeof m.size=="number"?(this.size=m.size,m.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=i,this._register(t.event(F=>{this.size=F,this.layout()}))),this._register(l.event(F=>this.hoverDelay=F)),this.layoutProvider=_,this.orthogonalStartSash=m.orthogonalStartSash,this.orthogonalEndSash=m.orthogonalEndSash,this.orientation=m.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",g),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(p){this._state!==p&&(this.el.classList.toggle("disabled",p===0),this.el.classList.toggle("minimum",p===1),this.el.classList.toggle("maximum",p===2),this._state=p,this.onDidEnablementChange.fire(p))}set orthogonalStartSash(p){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),p){const _=m=>{this.orthogonalStartDragHandleDisposables.clear(),m!==0&&(this._orthogonalStartDragHandle=(0,w.append)(this.el,(0,w.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,v.toDisposable)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new C.DomEmitter(this._orthogonalStartDragHandle,"mouseenter")).event(()=>c.onMouseEnter(p),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new C.DomEmitter(this._orthogonalStartDragHandle,"mouseleave")).event(()=>c.onMouseLeave(p),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(p.onDidEnablementChange.event(_,this)),_(p.state)}this._orthogonalStartSash=p}set orthogonalEndSash(p){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),p){const _=m=>{this.orthogonalEndDragHandleDisposables.clear(),m!==0&&(this._orthogonalEndDragHandle=(0,w.append)(this.el,(0,w.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,v.toDisposable)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new C.DomEmitter(this._orthogonalEndDragHandle,"mouseenter")).event(()=>c.onMouseEnter(p),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new C.DomEmitter(this._orthogonalEndDragHandle,"mouseleave")).event(()=>c.onMouseLeave(p),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(p.onDidEnablementChange.event(_,this)),_(p.state)}this._orthogonalEndSash=p}onPointerStart(p,_){w.EventHelper.stop(p);let m=!1;if(!p.__orthogonalSashEvent){const M=this.getOrthogonalSash(p);M&&(m=!0,p.__orthogonalSashEvent=!0,M.onPointerStart(p,new s(_)))}if(this.linkedSash&&!p.__linkedSashEvent&&(p.__linkedSashEvent=!0,this.linkedSash.onPointerStart(p,new s(_))),!this.state)return;const h=(0,w.getElementsByTagName)("iframe");for(const M of h)M.classList.add(o);const S=p.pageX,y=p.pageY,E=p.altKey,N={startX:S,currentX:S,startY:y,currentY:y,altKey:E};this.el.classList.add("active"),this._onDidStart.fire(N);const T=(0,w.createStyleSheet)(this.el),R=()=>{let M="";m?M="all-scroll":this.orientation===1?this.state===1?M="s-resize":this.state===2?M="n-resize":M=u.isMacintosh?"row-resize":"ns-resize":this.state===1?M="e-resize":this.state===2?M="w-resize":M=u.isMacintosh?"col-resize":"ew-resize",T.textContent=`* { cursor: ${M} !important; }`},F=new v.DisposableStore;R(),m||this.onDidEnablementChange.event(R,null,F);const O=M=>{w.EventHelper.stop(M,!1);const P={startX:S,currentX:M.pageX,startY:y,currentY:M.pageY,altKey:E};this._onDidChange.fire(P)},D=M=>{w.EventHelper.stop(M,!1),this.el.removeChild(T),this.el.classList.remove("active"),this._onDidEnd.fire(),F.dispose();for(const P of h)P.classList.remove(o)};_.onPointerMove(O,null,F),_.onPointerUp(D,null,F),F.add(_)}onPointerDoublePress(p){const _=this.getOrthogonalSash(p);_&&_._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(p,_=!1){p.el.classList.contains("active")?(p.hoverDelayer.cancel(),p.el.classList.add("hover")):p.hoverDelayer.trigger(()=>p.el.classList.add("hover"),p.hoverDelay).then(void 0,()=>{}),!_&&p.linkedSash&&c.onMouseEnter(p.linkedSash,!0)}static onMouseLeave(p,_=!1){p.hoverDelayer.cancel(),p.el.classList.remove("hover"),!_&&p.linkedSash&&c.onMouseLeave(p.linkedSash,!0)}clearSashHoverState(){c.onMouseLeave(this)}layout(){if(this.orientation===0){const p=this.layoutProvider;this.el.style.left=p.getVerticalSashLeft(this)-this.size/2+"px",p.getVerticalSashTop&&(this.el.style.top=p.getVerticalSashTop(this)+"px"),p.getVerticalSashHeight&&(this.el.style.height=p.getVerticalSashHeight(this)+"px")}else{const p=this.layoutProvider;this.el.style.top=p.getHorizontalSashTop(this)-this.size/2+"px",p.getHorizontalSashLeft&&(this.el.style.left=p.getHorizontalSashLeft(this)+"px"),p.getHorizontalSashWidth&&(this.el.style.width=p.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(p){if(!(!p.target||!(p.target instanceof HTMLElement))&&p.target.classList.contains("orthogonal-drag-handle"))return p.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}e.Sash=c}),define(re[258],ae([1,0,7,135,6,2]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class L{constructor(){this._onDidWillResize=new k.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new k.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new I.DisposableStore,this._size=new w.Dimension(0,0),this._minSize=new w.Dimension(0,0),this._maxSize=new w.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new C.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new C.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new C.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:C.OrthogonalEdge.North}),this._southSash=new C.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:C.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let v,u=0,g=0;this._sashListener.add(k.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{v===void 0&&(this._onDidWillResize.fire(),v=this._size,u=0,g=0)})),this._sashListener.add(k.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{v!==void 0&&(v=void 0,u=0,g=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(n=>{v&&(g=n.currentX-n.startX,this.layout(v.height+u,v.width+g),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(n=>{v&&(g=-(n.currentX-n.startX),this.layout(v.height+u,v.width+g),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(n=>{v&&(u=-(n.currentY-n.startY),this.layout(v.height+u,v.width+g),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(n=>{v&&(u=n.currentY-n.startY,this.layout(v.height+u,v.width+g),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(k.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(n=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(k.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(n=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(v,u,g,n){this._northSash.state=v?3:0,this._eastSash.state=u?3:0,this._southSash.state=g?3:0,this._westSash.state=n?3:0}layout(v=this.size.height,u=this.size.width){const{height:g,width:n}=this._minSize,{height:i,width:t}=this._maxSize;v=Math.max(g,Math.min(i,v)),u=Math.max(n,Math.min(t,u));const r=new w.Dimension(u,v);w.Dimension.equals(r,this._size)||(this.domNode.style.height=v+"px",this.domNode.style.width=u+"px",this._size=r,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(v){this._maxSize=v}get maxSize(){return this._maxSize}set minSize(v){this._minSize=v}get minSize(){return this._minSize}set preferredSize(v){this._preferredSize=v}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=L}),define(re[68],ae([1,0,7,48,67,62,2]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class b extends L.Disposable{onclick(u,g){this._register(w.addDisposableListener(u,w.EventType.CLICK,n=>g(new k.StandardMouseEvent(n))))}onmousedown(u,g){this._register(w.addDisposableListener(u,w.EventType.MOUSE_DOWN,n=>g(new k.StandardMouseEvent(n))))}onmouseover(u,g){this._register(w.addDisposableListener(u,w.EventType.MOUSE_OVER,n=>g(new k.StandardMouseEvent(n))))}onmouseleave(u,g){this._register(w.addDisposableListener(u,w.EventType.MOUSE_LEAVE,n=>g(new k.StandardMouseEvent(n))))}onkeydown(u,g){this._register(w.addDisposableListener(u,w.EventType.KEY_DOWN,n=>g(new C.StandardKeyboardEvent(n))))}onkeyup(u,g){this._register(w.addDisposableListener(u,w.EventType.KEY_UP,n=>g(new C.StandardKeyboardEvent(n))))}oninput(u,g){this._register(w.addDisposableListener(u,w.EventType.INPUT,g))}onblur(u,g){this._register(w.addDisposableListener(u,w.EventType.BLUR,g))}onfocus(u,g){this._register(w.addDisposableListener(u,w.EventType.FOCUS,g))}ignoreGesture(u){I.Gesture.ignoreTarget(u)}}e.Widget=b}),define(re[198],ae([1,0,132,68,10,7]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class L extends C.Widget{constructor(v){super();this._onActivate=v.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=v.bgWidth+"px",this.bgDomNode.style.height=v.bgHeight+"px",typeof v.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof v.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof v.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof v.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=v.className,this.domNode.classList.add(...v.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof v.top!="undefined"&&(this.domNode.style.top=v.top+"px"),typeof v.left!="undefined"&&(this.domNode.style.left=v.left+"px"),typeof v.bottom!="undefined"&&(this.domNode.style.bottom=v.bottom+"px"),typeof v.right!="undefined"&&(this.domNode.style.right=v.right+"px"),this._pointerMoveMonitor=this._register(new w.GlobalPointerMoveMonitor),this._register(I.addStandardDisposableListener(this.bgDomNode,I.EventType.POINTER_DOWN,u=>this._arrowPointerDown(u))),this._register(I.addStandardDisposableListener(this.domNode,I.EventType.POINTER_DOWN,u=>this._arrowPointerDown(u))),this._pointerdownRepeatTimer=this._register(new k.IntervalTimer),this._pointerdownScheduleRepeatTimer=this._register(new k.TimeoutTimer)}_arrowPointerDown(v){if(!v.target||!(v.target instanceof Element))return;const u=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(u,200),this._pointerMoveMonitor.startMonitoring(v.target,v.pointerId,v.buttons,g=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),v.preventDefault()}}e.ScrollbarArrow=L}),define(re[259],ae([1,0,7,33,132,198,478,68,17]),function($,e,w,C,k,I,L,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const u=140;class g extends b.Widget{constructor(i){super();this._lazyRender=i.lazyRender,this._host=i.host,this._scrollable=i.scrollable,this._scrollByPage=i.scrollByPage,this._scrollbarState=i.scrollbarState,this._visibilityController=this._register(new L.ScrollbarVisibilityController(i.visibility,"visible scrollbar "+i.extraScrollbarClassName,"invisible scrollbar "+i.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new k.GlobalPointerMoveMonitor),this._shouldRender=!0,this.domNode=(0,C.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(w.addDisposableListener(this.domNode.domNode,w.EventType.POINTER_DOWN,t=>this._domNodePointerDown(t)))}_createArrow(i){const t=this._register(new I.ScrollbarArrow(i));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(i,t,r,l){this.slider=(0,C.createFastDomNode)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(i),this.slider.setLeft(t),typeof r=="number"&&this.slider.setWidth(r),typeof l=="number"&&this.slider.setHeight(l),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(w.addDisposableListener(this.slider.domNode,w.EventType.POINTER_DOWN,d=>{d.button===0&&(d.preventDefault(),this._sliderPointerDown(d))})),this.onclick(this.slider.domNode,d=>{d.leftButton&&d.stopPropagation()})}_onElementSize(i){return this._scrollbarState.setVisibleSize(i)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(i){return this._scrollbarState.setScrollSize(i)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(i){return this._scrollbarState.setScrollPosition(i)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(i){i.target===this.domNode.domNode&&this._onPointerDown(i)}delegatePointerDown(i){const t=this.domNode.domNode.getClientRects()[0].top,r=t+this._scrollbarState.getSliderPosition(),l=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),d=this._sliderPointerPosition(i);r<=d&&d<=l?i.button===0&&(i.preventDefault(),this._sliderPointerDown(i)):this._onPointerDown(i)}_onPointerDown(i){let t,r;if(i.target===this.domNode.domNode&&typeof i.offsetX=="number"&&typeof i.offsetY=="number")t=i.offsetX,r=i.offsetY;else{const d=w.getDomNodePagePosition(this.domNode.domNode);t=i.pageX-d.left,r=i.pageY-d.top}const l=this._pointerDownRelativePosition(t,r);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(l):this._scrollbarState.getDesiredScrollPositionFromOffset(l)),i.button===0&&(i.preventDefault(),this._sliderPointerDown(i))}_sliderPointerDown(i){if(!i.target||!(i.target instanceof Element))return;const t=this._sliderPointerPosition(i),r=this._sliderOrthogonalPointerPosition(i),l=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(i.target,i.pointerId,i.buttons,d=>{const a=this._sliderOrthogonalPointerPosition(d),s=Math.abs(a-r);if(v.isWindows&&s>u){this._setDesiredScrollPositionNow(l.getScrollPosition());return}const c=this._sliderPointerPosition(d)-t;this._setDesiredScrollPositionNow(l.getDesiredScrollPositionFromDelta(c))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(i){const t={};this.writeScrollPosition(t,i),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(i){this._updateScrollbarSize(i),this._scrollbarState.setScrollbarSize(i),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=g}),define(re[488],ae([1,0,67,259,198,221,27]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;class b extends C.AbstractScrollbar{constructor(u,g,n){const i=u.getScrollDimensions(),t=u.getCurrentScrollPosition();super({lazyRender:g.lazyRender,host:n,scrollbarState:new I.ScrollbarState(g.horizontalHasArrows?g.arrowSize:0,g.horizontal===2?0:g.horizontalScrollbarSize,g.vertical===2?0:g.verticalScrollbarSize,i.width,i.scrollWidth,t.scrollLeft),visibility:g.horizontal,extraScrollbarClassName:"horizontal",scrollable:u,scrollByPage:g.scrollByPage});if(g.horizontalHasArrows){const r=(g.arrowSize-k.ARROW_IMG_SIZE)/2,l=(g.horizontalScrollbarSize-k.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:L.Codicon.scrollbarButtonLeft,top:l,left:r,bottom:void 0,right:void 0,bgWidth:g.arrowSize,bgHeight:g.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new w.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:L.Codicon.scrollbarButtonRight,top:l,left:void 0,bottom:void 0,right:r,bgWidth:g.arrowSize,bgHeight:g.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new w.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((g.horizontalScrollbarSize-g.horizontalSliderSize)/2),0,void 0,g.horizontalSliderSize)}_updateSlider(u,g){this.slider.setWidth(u),this.slider.setLeft(g)}_renderDomNode(u,g){this.domNode.setWidth(u),this.domNode.setHeight(g),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(u){return this._shouldRender=this._onElementScrollSize(u.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(u.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(u.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(u,g){return u}_sliderPointerPosition(u){return u.pageX}_sliderOrthogonalPointerPosition(u){return u.pageY}_updateScrollbarSize(u){this.slider.setHeight(u)}writeScrollPosition(u,g){u.scrollLeft=g}updateOptions(u){this.updateScrollbarSize(u.horizontal===2?0:u.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(u.vertical===2?0:u.verticalScrollbarSize),this._visibilityController.setVisibility(u.horizontal),this._scrollByPage=u.scrollByPage}}e.HorizontalScrollbar=b}),define(re[489],ae([1,0,67,259,198,221,27]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;class b extends C.AbstractScrollbar{constructor(u,g,n){const i=u.getScrollDimensions(),t=u.getCurrentScrollPosition();super({lazyRender:g.lazyRender,host:n,scrollbarState:new I.ScrollbarState(g.verticalHasArrows?g.arrowSize:0,g.vertical===2?0:g.verticalScrollbarSize,0,i.height,i.scrollHeight,t.scrollTop),visibility:g.vertical,extraScrollbarClassName:"vertical",scrollable:u,scrollByPage:g.scrollByPage});if(g.verticalHasArrows){const r=(g.arrowSize-k.ARROW_IMG_SIZE)/2,l=(g.verticalScrollbarSize-k.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:L.Codicon.scrollbarButtonUp,top:r,left:l,bottom:void 0,right:void 0,bgWidth:g.verticalScrollbarSize,bgHeight:g.arrowSize,onActivate:()=>this._host.onMouseWheel(new w.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:L.Codicon.scrollbarButtonDown,top:void 0,left:l,bottom:r,right:void 0,bgWidth:g.verticalScrollbarSize,bgHeight:g.arrowSize,onActivate:()=>this._host.onMouseWheel(new w.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((g.verticalScrollbarSize-g.verticalSliderSize)/2),g.verticalSliderSize,void 0)}_updateSlider(u,g){this.slider.setHeight(u),this.slider.setTop(g)}_renderDomNode(u,g){this.domNode.setWidth(g),this.domNode.setHeight(u),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(u){return this._shouldRender=this._onElementScrollSize(u.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(u.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(u.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(u,g){return g}_sliderPointerPosition(u){return u.pageY}_sliderOrthogonalPointerPosition(u){return u.pageX}_updateScrollbarSize(u){this.slider.setWidth(u)}writeScrollPosition(u,g){u.scrollTop=g}updateOptions(u){this.updateScrollbarSize(u.vertical===2?0:u.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(u.vertical),this._scrollByPage=u.scrollByPage}}e.VerticalScrollbar=b}),define(re[75],ae([1,0,41,7,33,67,488,489,68,10,6,2,17,161,347]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const r=500,l=50,d=!0;class a{constructor(h,S,y){this.timestamp=h,this.deltaX=S,this.deltaY=y,this.score=0}}class s{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let h=1,S=0,y=1,E=this._rear;do{const N=E===this._front?h:Math.pow(2,-y);if(h-=N,S+=this._memory[E].score*N,E===this._front)break;E=(this._capacity+E-1)%this._capacity,y++}while(!0);return S<=.5}accept(h,S,y){const E=new a(h,S,y);E.score=this._computeScore(E),this._front===-1&&this._rear===-1?(this._memory[0]=E,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=E)}_computeScore(h){if(Math.abs(h.deltaX)>0&&Math.abs(h.deltaY)>0)return 1;let S=.5;const y=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(h.deltaX)||!this._isAlmostInt(h.deltaY))&&(S+=.25),Math.min(Math.max(S,0),1)}_isAlmostInt(h){return Math.abs(Math.round(h)-h)<.01}}e.MouseWheelClassifier=s,s.INSTANCE=new s;class o extends v.Widget{constructor(h,S,y){super();this._onScroll=this._register(new g.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new g.Emitter),h.style.overflow="hidden",this._options=_(S),this._scrollable=y,this._register(this._scrollable.onScroll(N=>{this._onWillScroll.fire(N),this._onDidScroll(N),this._onScroll.fire(N)}));const E={onMouseWheel:N=>this._onMouseWheel(N),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new b.VerticalScrollbar(this._scrollable,this._options,E)),this._horizontalScrollbar=this._register(new L.HorizontalScrollbar(this._scrollable,this._options,E)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(h),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,k.createFastDomNode)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,k.createFastDomNode)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,k.createFastDomNode)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,N=>this._onMouseOver(N)),this.onmouseleave(this._listenOnDomNode,N=>this._onMouseLeave(N)),this._hideTimeout=this._register(new u.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=(0,n.dispose)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(h){this._verticalScrollbar.delegatePointerDown(h)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(h){this._scrollable.setScrollDimensions(h,!1)}updateClassName(h){this._options.className=h,i.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(h){typeof h.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=h.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof h.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=h.mouseWheelScrollSensitivity),typeof h.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=h.fastScrollSensitivity),typeof h.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=h.scrollPredominantAxis),typeof h.horizontal!="undefined"&&(this._options.horizontal=h.horizontal),typeof h.vertical!="undefined"&&(this._options.vertical=h.vertical),typeof h.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=h.horizontalScrollbarSize),typeof h.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=h.verticalScrollbarSize),typeof h.scrollByPage!="undefined"&&(this._options.scrollByPage=h.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(h){if(this._mouseWheelToDispose.length>0!==h&&(this._mouseWheelToDispose=(0,n.dispose)(this._mouseWheelToDispose),h)){const y=E=>{this._onMouseWheel(new I.StandardWheelEvent(E))};this._mouseWheelToDispose.push(C.addDisposableListener(this._listenOnDomNode,C.EventType.MOUSE_WHEEL,y,{passive:!1}))}}_onMouseWheel(h){const S=s.INSTANCE;if(d){const N=window.devicePixelRatio/(0,w.getZoomFactor)();i.isWindows||i.isLinux?S.accept(Date.now(),h.deltaX/N,h.deltaY/N):S.accept(Date.now(),h.deltaX,h.deltaY)}let y=!1;if(h.deltaY||h.deltaX){let N=h.deltaY*this._options.mouseWheelScrollSensitivity,T=h.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(N)>=Math.abs(T)?T=0:N=0),this._options.flipAxes&&([N,T]=[T,N]);const R=!i.isMacintosh&&h.browserEvent&&h.browserEvent.shiftKey;(this._options.scrollYToX||R)&&!T&&(T=N,N=0),h.browserEvent&&h.browserEvent.altKey&&(T=T*this._options.fastScrollSensitivity,N=N*this._options.fastScrollSensitivity);const F=this._scrollable.getFutureScrollPosition();let O={};if(N){const D=l*N,M=F.scrollTop-(D<0?Math.floor(D):Math.ceil(D));this._verticalScrollbar.writeScrollPosition(O,M)}if(T){const D=l*T,M=F.scrollLeft-(D<0?Math.floor(D):Math.ceil(D));this._horizontalScrollbar.writeScrollPosition(O,M)}O=this._scrollable.validateScrollPosition(O),(F.scrollLeft!==O.scrollLeft||F.scrollTop!==O.scrollTop)&&(d&&this._options.mouseWheelSmoothScroll&&S.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(O):this._scrollable.setScrollPositionNow(O),y=!0)}let E=y;!E&&this._options.alwaysConsumeMouseWheel&&(E=!0),!E&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(E=!0),E&&(h.preventDefault(),h.stopPropagation())}_onDidScroll(h){this._shouldRender=this._horizontalScrollbar.onDidScroll(h)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(h)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const h=this._scrollable.getCurrentScrollPosition(),S=h.scrollTop>0,y=h.scrollLeft>0,E=y?" left":"",N=S?" top":"",T=y||S?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${E}`),this._topShadowDomNode.setClassName(`shadow${N}`),this._topLeftShadowDomNode.setClassName(`shadow${T}${N}${E}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(h){this._mouseIsOver=!1,this._hide()}_onMouseOver(h){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),r)}}e.AbstractScrollableElement=o;class c extends o{constructor(h,S){S=S||{},S.mouseWheelSmoothScroll=!1;const y=new t.Scrollable({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:E=>C.scheduleAtNextAnimationFrame(E)});super(h,S,y);this._register(y)}setScrollPosition(h){this._scrollable.setScrollPositionNow(h)}}e.ScrollableElement=c;class f extends o{constructor(h,S,y){super(h,S,y)}setScrollPosition(h){h.reuseAnimation?this._scrollable.setScrollPositionSmooth(h,h.reuseAnimation):this._scrollable.setScrollPositionNow(h)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=f;class p extends o{constructor(h,S){S=S||{},S.mouseWheelSmoothScroll=!1;const y=new t.Scrollable({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:E=>C.scheduleAtNextAnimationFrame(E)});super(h,S,y);this._register(y),this._element=h,this.onScroll(E=>{E.scrollTopChanged&&(this._element.scrollTop=E.scrollTop),E.scrollLeftChanged&&(this._element.scrollLeft=E.scrollLeft)}),this.scanDomNode()}setScrollPosition(h){this._scrollable.setScrollPositionNow(h)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=p;function _(m){const h={lazyRender:typeof m.lazyRender!="undefined"?m.lazyRender:!1,className:typeof m.className!="undefined"?m.className:"",useShadows:typeof m.useShadows!="undefined"?m.useShadows:!0,handleMouseWheel:typeof m.handleMouseWheel!="undefined"?m.handleMouseWheel:!0,flipAxes:typeof m.flipAxes!="undefined"?m.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof m.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?m.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof m.alwaysConsumeMouseWheel!="undefined"?m.alwaysConsumeMouseWheel:!1,scrollYToX:typeof m.scrollYToX!="undefined"?m.scrollYToX:!1,mouseWheelScrollSensitivity:typeof m.mouseWheelScrollSensitivity!="undefined"?m.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof m.fastScrollSensitivity!="undefined"?m.fastScrollSensitivity:5,scrollPredominantAxis:typeof m.scrollPredominantAxis!="undefined"?m.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof m.mouseWheelSmoothScroll!="undefined"?m.mouseWheelSmoothScroll:!0,arrowSize:typeof m.arrowSize!="undefined"?m.arrowSize:11,listenOnDomNode:typeof m.listenOnDomNode!="undefined"?m.listenOnDomNode:null,horizontal:typeof m.horizontal!="undefined"?m.horizontal:1,horizontalScrollbarSize:typeof m.horizontalScrollbarSize!="undefined"?m.horizontalScrollbarSize:10,horizontalSliderSize:typeof m.horizontalSliderSize!="undefined"?m.horizontalSliderSize:0,horizontalHasArrows:typeof m.horizontalHasArrows!="undefined"?m.horizontalHasArrows:!1,vertical:typeof m.vertical!="undefined"?m.vertical:1,verticalScrollbarSize:typeof m.verticalScrollbarSize!="undefined"?m.verticalScrollbarSize:10,verticalHasArrows:typeof m.verticalHasArrows!="undefined"?m.verticalHasArrows:!1,verticalSliderSize:typeof m.verticalSliderSize!="undefined"?m.verticalSliderSize:0,scrollByPage:typeof m.scrollByPage!="undefined"?m.scrollByPage:!1};return h.horizontalSliderSize=typeof m.horizontalSliderSize!="undefined"?m.horizontalSliderSize:h.horizontalScrollbarSize,h.verticalSliderSize=typeof m.verticalSliderSize!="undefined"?m.verticalSliderSize:h.verticalScrollbarSize,i.isMacintosh&&(h.className+=" mac"),h}}),define(re[260],ae([1,0,7,48,75,2,340]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverAction=e.HoverWidget=void 0;const L=w.$;class b extends I.Disposable{constructor(){super();this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new k.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}e.HoverWidget=b;class v extends I.Disposable{constructor(g,n,i){super();this.actionContainer=w.append(g,L("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=w.append(this.actionContainer,L("a.action")),this.action.setAttribute("role","button"),n.iconClass&&w.append(this.action,L(`span.icon.${n.iconClass}`));const t=w.append(this.action,L("span"));t.textContent=i?`${n.label} (${i})`:n.label,this._register(w.addDisposableListener(this.actionContainer,w.EventType.CLICK,r=>{r.stopPropagation(),r.preventDefault(),n.run(this.actionContainer)})),this._register(w.addDisposableListener(this.actionContainer,w.EventType.KEY_UP,r=>{new C.StandardKeyboardEvent(r).equals(3)&&(r.stopPropagation(),r.preventDefault(),n.run(this.actionContainer))})),this.setEnabled(!0)}static render(g,n,i){return new v(g,n,i)}setEnabled(g){g?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}e.HoverAction=v}),define(re[199],ae([1,0,7,100,196,83,49,75,68,31,6,331,40,467,342]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=void 0;const r=w.$,l={inputBackground:u.Color.fromHex("#3C3C3C"),inputForeground:u.Color.fromHex("#CCCCCC"),inputValidationInfoBorder:u.Color.fromHex("#55AAFF"),inputValidationInfoBackground:u.Color.fromHex("#063B49"),inputValidationWarningBorder:u.Color.fromHex("#B89500"),inputValidationWarningBackground:u.Color.fromHex("#352A05"),inputValidationErrorBorder:u.Color.fromHex("#BE1100"),inputValidationErrorBackground:u.Color.fromHex("#5A1D1D")};class d extends v.Widget{constructor(o,c,f){var p;super();this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new g.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new g.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=c,this.options=f||Object.create(null),(0,i.mixin)(this.options,l,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(p=this.options.tooltip)!==null&&p!==void 0?p:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=w.append(o,r(".monaco-inputbox.idle"));const _=this.options.flexibleHeight?"textarea":"input",m=w.append(this.element,r(".ibwrapper"));if(this.input=w.append(m,r(_+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=w.append(m,r("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new b.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),w.append(o,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(y=>this.input.scrollTop=y.scrollTop));const h=this._register(new C.DomEmitter(document,"selectionchange")),S=g.Event.filter(h.event,()=>{const y=document.getSelection();return(y==null?void 0:y.anchorNode)===m});this._register(S(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new I.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(o){this.placeholder=o,this.input.setAttribute("placeholder",o)}setTooltip(o){this.tooltip=o,this.input.title=o}setAriaLabel(o){this.ariaLabel=o,o?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(o){this.input.value!==o&&(this.input.value=o,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:w.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(o=null){this.input.select(),o&&(this.input.setSelectionRange(o.start,o.end),o.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return w.getTotalWidth(this.input)}set width(o){if(this.options.flexibleHeight&&this.options.flexibleWidth){let c=0;if(this.mirror){const f=parseFloat(this.mirror.style.paddingLeft||"")||0,p=parseFloat(this.mirror.style.paddingRight||"")||0;c=f+p}this.input.style.width=o-c+"px"}else this.input.style.width=o+"px";this.mirror&&(this.mirror.style.width=o+"px")}set paddingRight(o){this.input.style.width=`calc(100% - ${o}px)`,this.mirror&&(this.mirror.style.paddingRight=o+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const o=this.cachedContentHeight,c=this.cachedHeight,f=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:o,height:c}),this.scrollableElement.setScrollPosition({scrollTop:f})}showMessage(o,c){this.message=o,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(o.type));const f=this.stylesForType(this.message.type);this.element.style.border=f.border?`1px solid ${f.border}`:"",(this.hasFocus()||c)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let o=null;return this.validation&&(o=this.validation(this.value),o?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(o)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),o==null?void 0:o.type}stylesForType(o){switch(o){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(o){switch(o){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let o;const c=()=>o.style.width=w.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:p=>{if(!this.message)return null;o=w.append(p,r(".monaco-inputbox-container")),c();const _={inline:!0,className:"monaco-inputbox-message"},m=this.message.formatContent?(0,k.renderFormattedText)(this.message.content,_):(0,k.renderText)(this.message.content,_);m.classList.add(this.classForType(this.message.type));const h=this.stylesForType(this.message.type);return m.style.backgroundColor=h.background?h.background.toString():"",m.style.color=h.foreground?h.foreground.toString():"",m.style.border=h.border?`1px solid ${h.border}`:"",w.append(o,m),null},onHide:()=>{this.state="closed"},layout:c});let f;this.message.type===3?f=t.localize(0,null,this.message.content):this.message.type===2?f=t.localize(1,null,this.message.content):f=t.localize(2,null,this.message.content),L.alert(f),this.state="open"}_hideMessage(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const o=this.value,f=o.charCodeAt(o.length-1)===10?" ":"";(o+f).replace(/\u000c/g,"")?this.mirror.textContent=o+f:this.mirror.innerText="\xA0",this.layout()}style(o){this.inputBackground=o.inputBackground,this.inputForeground=o.inputForeground,this.inputBorder=o.inputBorder,this.inputValidationInfoBackground=o.inputValidationInfoBackground,this.inputValidationInfoForeground=o.inputValidationInfoForeground,this.inputValidationInfoBorder=o.inputValidationInfoBorder,this.inputValidationWarningBackground=o.inputValidationWarningBackground,this.inputValidationWarningForeground=o.inputValidationWarningForeground,this.inputValidationWarningBorder=o.inputValidationWarningBorder,this.inputValidationErrorBackground=o.inputValidationErrorBackground,this.inputValidationErrorForeground=o.inputValidationErrorForeground,this.inputValidationErrorBorder=o.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const o=this.inputBackground?this.inputBackground.toString():"",c=this.inputForeground?this.inputForeground.toString():"",f=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=o,this.element.style.color=c,this.input.style.backgroundColor="inherit",this.input.style.color=c,this.element.style.borderWidth=f?"1px":"",this.element.style.borderStyle=f?"solid":"",this.element.style.borderColor=f}layout(){if(!this.mirror)return;const o=this.cachedContentHeight;this.cachedContentHeight=w.getTotalHeight(this.mirror),o!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(o){const c=this.inputElement,f=c.selectionStart,p=c.selectionEnd,_=c.value;f!==null&&p!==null&&(this.value=_.substr(0,f)+o+_.substr(p),c.setSelectionRange(f+1,f+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}e.InputBox=d;class a extends d{constructor(o,c,f){const p=t.localize(3,null),_=` or \u21C5 ${p}`,m=` (\u21C5 ${p})`;super(o,c,f);this._onDidFocus=this._register(new g.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new g.Emitter),this.onDidBlur=this._onDidBlur.event,this.history=new n.HistoryNavigator(f.history,100);const h=()=>{if(f.showHistoryHint&&f.showHistoryHint()&&!this.placeholder.endsWith(_)&&!this.placeholder.endsWith(m)&&this.history.getHistory().length){const S=this.placeholder.endsWith(")")?_:m,y=this.placeholder+S;f.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=y:this.setPlaceHolder(y)}};this.observer=new MutationObserver((S,y)=>{S.forEach(E=>{E.target.textContent||h()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>h()),this.onblur(this.input,()=>{const S=y=>{if(this.placeholder.endsWith(y)){const E=this.placeholder.slice(0,this.placeholder.length-y.length);return f.showPlaceholderOnFocus?this.placeholder=E:this.setPlaceHolder(E),!0}else return!1};S(m)||S(_)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let o=this.getNextValue();o&&(o=o===this.value?this.getNextValue():o),o&&(this.value=o,L.status(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let o=this.getPreviousValue();o&&(o=o===this.value?this.getPreviousValue():o),o&&(this.value=o,L.status(this.value))}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let o=this.history.current();return o||(o=this.history.last(),this.history.next()),o}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}e.HistoryInputBox=a}),define(re[200],ae([1,0,41,123,7,100,62,75,18,10,103,6,2,146,161,332,486]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const a={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(m){return[m]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class s{constructor(h){this.elements=h}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=s;class o{constructor(h){this.elements=h}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=o;class c{constructor(){this.types=[],this.files=[]}update(h){if(h.types&&this.types.splice(0,this.types.length,...h.types),h.files){this.files.splice(0,this.files.length);for(let S=0;S<h.files.length;S++){const y=h.files.item(S);y&&(y.size||y.type)&&this.files.push(y)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=c;function f(m,h){return Array.isArray(m)&&Array.isArray(h)?(0,v.equals)(m,h):m===h}class p{constructor(h){(h==null?void 0:h.getSetSize)?this.getSetSize=h.getSetSize.bind(h):this.getSetSize=(S,y,E)=>E,(h==null?void 0:h.getPosInSet)?this.getPosInSet=h.getPosInSet.bind(h):this.getPosInSet=(S,y)=>y+1,(h==null?void 0:h.getRole)?this.getRole=h.getRole.bind(h):this.getRole=S=>"listitem",(h==null?void 0:h.isChecked)?this.isChecked=h.isChecked.bind(h):this.isChecked=S=>{}}}class _{constructor(h,S,y,E=a){var N,T,R,F,O,D,M,P,B,W;if(this.virtualDelegate=S,this.domId=`list_id_${++_.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new u.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=i.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=i.Disposable.None,this.onDragLeaveTimeout=i.Disposable.None,this.disposables=new i.DisposableStore,this._onDidChangeContentHeight=new n.Emitter,this._horizontalScrolling=!1,E.horizontalScrolling&&E.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new l.RangeMap;for(const A of y)this.renderers.set(A.templateId,A);this.cache=this.disposables.add(new d.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof E.mouseSupport=="boolean"?E.mouseSupport:!0),this._horizontalScrolling=(N=E.horizontalScrolling)!==null&&N!==void 0?N:a.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof E.additionalScrollHeight=="undefined"?0:E.additionalScrollHeight,this.accessibilityProvider=new p(E.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((T=E.transformOptimization)!==null&&T!==void 0?T:a.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(L.Gesture.addTarget(this.rowsContainer)),this.scrollable=new r.Scrollable({forceIntegerValues:!0,smoothScrollDuration:((R=E.smoothScrolling)!==null&&R!==void 0?R:!1)?125:0,scheduleAtNextAnimationFrame:A=>(0,k.scheduleAtNextAnimationFrame)(A)}),this.scrollableElement=this.disposables.add(new b.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:(F=E.alwaysConsumeMouseWheel)!==null&&F!==void 0?F:a.alwaysConsumeMouseWheel,horizontal:1,vertical:(O=E.verticalScrollMode)!==null&&O!==void 0?O:a.verticalScrollMode,useShadows:(D=E.useShadows)!==null&&D!==void 0?D:a.useShadows,mouseWheelScrollSensitivity:E.mouseWheelScrollSensitivity,fastScrollSensitivity:E.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),h.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,k.addDisposableListener)(this.rowsContainer,L.EventType.Change,A=>this.onTouchChange(A))),this.disposables.add((0,k.addDisposableListener)(this.scrollableElement.getDomNode(),"scroll",A=>A.target.scrollTop=0)),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragover",A=>this.onDragOver(this.toDragEvent(A)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"drop",A=>this.onDrop(this.toDragEvent(A)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragleave",A=>this.onDragLeave(this.toDragEvent(A)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragend",A=>this.onDragEnd(A))),this.setRowLineHeight=(M=E.setRowLineHeight)!==null&&M!==void 0?M:a.setRowLineHeight,this.setRowHeight=(P=E.setRowHeight)!==null&&P!==void 0?P:a.setRowHeight,this.supportDynamicHeights=(B=E.supportDynamicHeights)!==null&&B!==void 0?B:a.supportDynamicHeights,this.dnd=(W=E.dnd)!==null&&W!==void 0?W:a.dnd,this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(h){if(h!==this._horizontalScrolling){if(h&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=h,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const S of this.items)this.measureItemWidth(S);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,k.getContentWidth)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(h){h.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=h.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),h.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(h.smoothScrolling?125:0),h.horizontalScrolling!==void 0&&(this.horizontalScrolling=h.horizontalScrolling),h.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:h.mouseWheelScrollSensitivity}),h.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:h.fastScrollSensitivity})}splice(h,S,y=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(h,S,y)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(h,S,y=[]){const E=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),N={start:h,end:h+S},T=t.Range.intersect(E,N),R=new Map;for(let ie=T.end-1;ie>=T.start;ie--){const Y=this.items[ie];if(Y.dragStartDisposable.dispose(),Y.checkedDisposable.dispose(),Y.row){let te=R.get(Y.templateId);te||(te=[],R.set(Y.templateId,te));const de=this.renderers.get(Y.templateId);de&&de.disposeElement&&de.disposeElement(Y.element,ie,Y.row.templateData,Y.size),te.push(Y.row)}Y.row=null}const F={start:h+S,end:this.items.length},O=t.Range.intersect(F,E),D=t.Range.relativeComplement(F,E),M=y.map(ie=>({id:String(this.itemId++),element:ie,templateId:this.virtualDelegate.getTemplateId(ie),size:this.virtualDelegate.getHeight(ie),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(ie),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:i.Disposable.None,checkedDisposable:i.Disposable.None}));let P;h===0&&S>=this.items.length?(this.rangeMap=new l.RangeMap,this.rangeMap.splice(0,0,M),P=this.items,this.items=M):(this.rangeMap.splice(h,S,M),P=this.items.splice(h,S,...M));const B=y.length-S,W=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),V=(0,l.shift)(O,B),A=t.Range.intersect(W,V);for(let ie=A.start;ie<A.end;ie++)this.updateItemInDOM(this.items[ie],ie);const Q=t.Range.relativeComplement(V,W);for(const ie of Q)for(let Y=ie.start;Y<ie.end;Y++)this.removeItemFromDOM(Y);const J=D.map(ie=>(0,l.shift)(ie,B)),q=[{start:h,end:h+y.length},...J].map(ie=>t.Range.intersect(W,ie)),Z=this.getNextToLastElement(q);for(const ie of q)for(let Y=ie.start;Y<ie.end;Y++){const te=this.items[Y],de=R.get(te.templateId),x=de==null?void 0:de.pop();this.insertItemInDOM(Y,Z,x)}for(const ie of R.values())for(const Y of ie)this.cache.release(Y);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),P.map(ie=>ie.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,k.scheduleAtNextAnimationFrame)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let h=0;for(const S of this.items)typeof S.width!="undefined"&&(h=Math.max(h,S.width));this.scrollWidth=h,this.scrollableElement.setScrollDimensions({scrollWidth:h===0?0:h+10})}rerender(){if(!!this.supportDynamicHeights){for(const h of this.items)h.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(h){return this.items[h].element}domElement(h){const S=this.items[h].row;return S&&S.domNode}elementHeight(h){return this.items[h].size}elementTop(h){return this.rangeMap.positionAt(h)}indexAt(h){return this.rangeMap.indexAt(h)}indexAfter(h){return this.rangeMap.indexAfter(h)}layout(h,S){const y={height:typeof h=="number"?h:(0,k.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,y.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(y),typeof S!="undefined"&&(this.renderWidth=S,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof S=="number"?S:(0,k.getContentWidth)(this.domNode)})}render(h,S,y,E,N,T=!1){const R=this.getRenderRange(S,y),F=t.Range.relativeComplement(R,h),O=t.Range.relativeComplement(h,R),D=this.getNextToLastElement(F);if(T){const M=t.Range.intersect(h,R);for(let P=M.start;P<M.end;P++)this.updateItemInDOM(this.items[P],P)}for(const M of F)for(let P=M.start;P<M.end;P++)this.insertItemInDOM(P,D);for(const M of O)for(let P=M.start;P<M.end;P++)this.removeItemFromDOM(P);E!==void 0&&(this.rowsContainer.style.left=`-${E}px`),this.rowsContainer.style.top=`-${S}px`,this.horizontalScrolling&&N!==void 0&&(this.rowsContainer.style.width=`${Math.max(N,this.renderWidth)}px`),this.lastRenderTop=S,this.lastRenderHeight=y}insertItemInDOM(h,S,y){const E=this.items[h];E.row||(E.row=y??this.cache.alloc(E.templateId));const N=this.accessibilityProvider.getRole(E.element)||"listitem";E.row.domNode.setAttribute("role",N);const T=this.accessibilityProvider.isChecked(E.element);if(typeof T=="boolean")E.row.domNode.setAttribute("aria-checked",String(!!T));else if(T){const O=D=>E.row.domNode.setAttribute("aria-checked",String(!!D));O(T.value),E.checkedDisposable=T.onDidChange(O)}E.row.domNode.parentElement||(S?this.rowsContainer.insertBefore(E.row.domNode,S):this.rowsContainer.appendChild(E.row.domNode)),this.updateItemInDOM(E,h);const R=this.renderers.get(E.templateId);if(!R)throw new Error(`No renderer found for template id ${E.templateId}`);R==null||R.renderElement(E.element,h,E.row.templateData,E.size);const F=this.dnd.getDragURI(E.element);E.dragStartDisposable.dispose(),E.row.domNode.draggable=!!F,F&&(E.dragStartDisposable=(0,k.addDisposableListener)(E.row.domNode,"dragstart",O=>this.onDragStart(E.element,F,O))),this.horizontalScrolling&&(this.measureItemWidth(E),this.eventuallyUpdateScrollWidth())}measureItemWidth(h){if(!h.row||!h.row.domNode)return;h.row.domNode.style.width=w.isFirefox?"-moz-fit-content":"fit-content",h.width=(0,k.getContentWidth)(h.row.domNode);const S=window.getComputedStyle(h.row.domNode);S.paddingLeft&&(h.width+=parseFloat(S.paddingLeft)),S.paddingRight&&(h.width+=parseFloat(S.paddingRight)),h.row.domNode.style.width=""}updateItemInDOM(h,S){h.row.domNode.style.top=`${this.elementTop(S)}px`,this.setRowHeight&&(h.row.domNode.style.height=`${h.size}px`),this.setRowLineHeight&&(h.row.domNode.style.lineHeight=`${h.size}px`),h.row.domNode.setAttribute("data-index",`${S}`),h.row.domNode.setAttribute("data-last-element",S===this.length-1?"true":"false"),h.row.domNode.setAttribute("data-parity",S%2==0?"even":"odd"),h.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(h.element,S,this.length))),h.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(h.element,S))),h.row.domNode.setAttribute("id",this.getElementDomId(S)),h.row.domNode.classList.toggle("drop-target",h.dropTarget)}removeItemFromDOM(h){const S=this.items[h];if(S.dragStartDisposable.dispose(),S.checkedDisposable.dispose(),S.row){const y=this.renderers.get(S.templateId);y&&y.disposeElement&&y.disposeElement(S.element,h,S.row.templateData,S.size),this.cache.release(S.row),S.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(h,S){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:h,reuseAnimation:S})}get scrollTop(){return this.getScrollTop()}set scrollTop(h){this.setScrollTop(h)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return n.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"click")).event,h=>this.toMouseEvent(h),this.disposables)}get onMouseDblClick(){return n.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"dblclick")).event,h=>this.toMouseEvent(h),this.disposables)}get onMouseMiddleClick(){return n.Event.filter(n.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"auxclick")).event,h=>this.toMouseEvent(h),this.disposables),h=>h.browserEvent.button===1,this.disposables)}get onMouseDown(){return n.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"mousedown")).event,h=>this.toMouseEvent(h),this.disposables)}get onMouseOver(){return n.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"mouseover")).event,h=>this.toMouseEvent(h),this.disposables)}get onContextMenu(){return n.Event.any(n.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"contextmenu")).event,h=>this.toMouseEvent(h),this.disposables),n.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,L.EventType.Contextmenu)).event,h=>this.toGestureEvent(h),this.disposables))}get onTouchStart(){return n.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"touchstart")).event,h=>this.toTouchEvent(h),this.disposables)}get onTap(){return n.Event.map(this.disposables.add(new I.DomEmitter(this.rowsContainer,L.EventType.Tap)).event,h=>this.toGestureEvent(h),this.disposables)}toMouseEvent(h){const S=this.getItemIndexFromEventTarget(h.target||null),y=typeof S=="undefined"?void 0:this.items[S],E=y&&y.element;return{browserEvent:h,index:S,element:E}}toTouchEvent(h){const S=this.getItemIndexFromEventTarget(h.target||null),y=typeof S=="undefined"?void 0:this.items[S],E=y&&y.element;return{browserEvent:h,index:S,element:E}}toGestureEvent(h){const S=this.getItemIndexFromEventTarget(h.initialTarget||null),y=typeof S=="undefined"?void 0:this.items[S],E=y&&y.element;return{browserEvent:h,index:S,element:E}}toDragEvent(h){const S=this.getItemIndexFromEventTarget(h.target||null),y=typeof S=="undefined"?void 0:this.items[S],E=y&&y.element;return{browserEvent:h,index:S,element:E}}onScroll(h){try{const S=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(S,h.scrollTop,h.height,h.scrollLeft,h.scrollWidth),this.supportDynamicHeights&&this._rerender(h.scrollTop,h.height,h.inSmoothScrolling)}catch(S){throw console.error("Got bad scroll event:",h),S}}onTouchChange(h){h.preventDefault(),h.stopPropagation(),this.scrollTop-=h.translationY}onDragStart(h,S,y){var E,N;if(!y.dataTransfer)return;const T=this.dnd.getDragElements(h);if(y.dataTransfer.effectAllowed="copyMove",y.dataTransfer.setData(C.DataTransfers.TEXT,S),y.dataTransfer.setDragImage){let R;this.dnd.getDragLabel&&(R=this.dnd.getDragLabel(T,y)),typeof R=="undefined"&&(R=String(T.length));const F=(0,k.$)(".monaco-drag-image");F.textContent=R,document.body.appendChild(F),y.dataTransfer.setDragImage(F,-10,-10),setTimeout(()=>document.body.removeChild(F),0)}this.currentDragData=new s(T),C.StaticDND.CurrentDragAndDropData=new o(T),(N=(E=this.dnd).onDragStart)===null||N===void 0||N.call(E,this.currentDragData,y)}onDragOver(h){var S;if(h.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),C.StaticDND.CurrentDragAndDropData&&C.StaticDND.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(h.browserEvent),!h.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(C.StaticDND.CurrentDragAndDropData)this.currentDragData=C.StaticDND.CurrentDragAndDropData;else{if(!h.browserEvent.dataTransfer.types)return!1;this.currentDragData=new c}const y=this.dnd.onDragOver(this.currentDragData,h.element,h.index,h.browserEvent);if(this.canDrop=typeof y=="boolean"?y:y.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;h.browserEvent.dataTransfer.dropEffect=typeof y!="boolean"&&y.effect===0?"copy":"move";let E;if(typeof y!="boolean"&&y.feedback?E=y.feedback:typeof h.index=="undefined"?E=[-1]:E=[h.index],E=(0,v.distinct)(E).filter(N=>N>=-1&&N<this.length).sort((N,T)=>N-T),E=E[0]===-1?[-1]:E,f(this.currentDragFeedback,E))return!0;if(this.currentDragFeedback=E,this.currentDragFeedbackDisposable.dispose(),E[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,i.toDisposable)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const N of E){const T=this.items[N];T.dropTarget=!0,(S=T.row)===null||S===void 0||S.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,i.toDisposable)(()=>{var N;for(const T of E){const R=this.items[T];R.dropTarget=!1,(N=R.row)===null||N===void 0||N.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(h){var S,y;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,u.disposableTimeout)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((y=(S=this.dnd).onDragLeave)===null||y===void 0||y.call(S,this.currentDragData,h.element,h.index,h.browserEvent))}onDrop(h){if(!this.canDrop)return;const S=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,C.StaticDND.CurrentDragAndDropData=void 0,!(!S||!h.browserEvent.dataTransfer)&&(h.browserEvent.preventDefault(),S.update(h.browserEvent.dataTransfer),this.dnd.drop(S,h.element,h.index,h.browserEvent))}onDragEnd(h){var S,y;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,C.StaticDND.CurrentDragAndDropData=void 0,(y=(S=this.dnd).onDragEnd)===null||y===void 0||y.call(S,h)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=i.Disposable.None}setupDragAndDropScrollTopAnimation(h){if(!this.dragOverAnimationDisposable){const S=(0,k.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=(0,k.animate)(this.animateDragAndDropScrollTop.bind(this,S))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,u.disposableTimeout)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=h.pageY}animateDragAndDropScrollTop(h){if(this.dragOverMouseY===void 0)return;const S=this.dragOverMouseY-h,y=this.renderHeight-35;S<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(S-35))):S>y&&(this.scrollTop+=Math.min(14,Math.floor(.3*(S-y))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(h){const S=this.scrollableElement.getDomNode();let y=h;for(;y instanceof HTMLElement&&y!==this.rowsContainer&&S.contains(y);){const E=y.getAttribute("data-index");if(E){const N=Number(E);if(!isNaN(N))return N}y=y.parentElement}}getRenderRange(h,S){return{start:this.rangeMap.indexAt(h),end:this.rangeMap.indexAfter(h+S-1)}}_rerender(h,S,y){const E=this.getRenderRange(h,S);let N,T;h===this.elementTop(E.start)?(N=E.start,T=0):E.end-E.start>1&&(N=E.start+1,T=this.elementTop(N)-h);let R=0;for(;;){const F=this.getRenderRange(h,S);let O=!1;for(let D=F.start;D<F.end;D++){const M=this.probeDynamicHeight(D);M!==0&&this.rangeMap.splice(D,1,[this.items[D]]),R+=M,O=O||M!==0}if(!O){R!==0&&this.eventuallyUpdateScrollDimensions();const D=t.Range.relativeComplement(E,F);for(const P of D)for(let B=P.start;B<P.end;B++)this.items[B].row&&this.removeItemFromDOM(B);const M=t.Range.relativeComplement(F,E);for(const P of M)for(let B=P.start;B<P.end;B++){const W=B+1,V=W<this.items.length?this.items[W].row:null,A=V?V.domNode:null;this.insertItemInDOM(B,A)}for(let P=F.start;P<F.end;P++)this.items[P].row&&this.updateItemInDOM(this.items[P],P);if(typeof N=="number"){const P=this.scrollable.getFutureScrollPosition().scrollTop-h,B=this.elementTop(N)-T+P;this.setScrollTop(B,y)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(h){var S,y,E;const N=this.items[h];if(this.virtualDelegate.getDynamicHeight){const O=this.virtualDelegate.getDynamicHeight(N.element);if(O!==null){const D=N.size;return N.size=O,N.lastDynamicHeightWidth=this.renderWidth,O-D}}if(!N.hasDynamicHeight||N.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(N.element))return 0;const T=N.size;if(!this.setRowHeight&&N.row){const O=N.row.domNode.offsetHeight;return N.size=O,N.lastDynamicHeightWidth=this.renderWidth,O-T}const R=this.cache.alloc(N.templateId);R.domNode.style.height="",this.rowsContainer.appendChild(R.domNode);const F=this.renderers.get(N.templateId);return F&&(F.renderElement(N.element,h,R.templateData,void 0),(S=F.disposeElement)===null||S===void 0||S.call(F,N.element,h,R.templateData,void 0)),N.size=R.domNode.offsetHeight,(E=(y=this.virtualDelegate).setDynamicHeight)===null||E===void 0||E.call(y,N.element,N.size),N.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(R.domNode),this.cache.release(R),N.size-T}getNextToLastElement(h){const S=h[h.length-1];if(!S)return null;const y=this.items[S.end];return!y||!y.row?null:y.row.domNode}getElementDomId(h){return`${this.domId}_${h}`}dispose(){var h;if(this.items){for(const S of this.items)if(S.row){const y=this.renderers.get(S.row.templateId);y&&((h=y.disposeElement)===null||h===void 0||h.call(y,S.element,-1,S.row.templateData,void 0),y.disposeTemplate(S.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,i.dispose)(this.disposables)}}_.InstanceCount=0,ke([g.memoize],_.prototype,"onMouseClick",null),ke([g.memoize],_.prototype,"onMouseDblClick",null),ke([g.memoize],_.prototype,"onMouseMiddleClick",null),ke([g.memoize],_.prototype,"onMouseDown",null),ke([g.memoize],_.prototype,"onMouseOver",null),ke([g.memoize],_.prototype,"onContextMenu",null),ke([g.memoize],_.prototype,"onTouchStart",null),ke([g.memoize],_.prototype,"onTap",null),e.ListView=_}),define(re[113],ae([1,0,7,100,48,62,49,326,18,10,31,103,6,63,2,124,40,17,19,325,200,228]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.DefaultStyleController=e.MouseController=e.isSelectionRangeChangeEvent=e.isSelectionSingleChangeEvent=e.DefaultKeyboardNavigationDelegate=e.TypeNavigationMode=e.isButton=e.isMonacoEditor=e.isInputElement=void 0;class f{constructor(x){this.trait=x,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(x){return x}renderElement(x,oe,ne){const j=this.renderedElements.findIndex(se=>se.templateData===ne);if(j>=0){const se=this.renderedElements[j];this.trait.unrender(ne),se.index=oe}else{const se={index:oe,templateData:ne};this.renderedElements.push(se)}this.trait.renderIndex(oe,ne)}splice(x,oe,ne){const j=[];for(const se of this.renderedElements)se.index<x?j.push(se):se.index>=x+oe&&j.push({index:se.index+ne-oe,templateData:se.templateData});this.renderedElements=j}renderIndexes(x){for(const{index:oe,templateData:ne}of this.renderedElements)x.indexOf(oe)>-1&&this.trait.renderIndex(oe,ne)}disposeTemplate(x){const oe=this.renderedElements.findIndex(ne=>ne.templateData===x);oe<0||this.renderedElements.splice(oe,1)}}class p{constructor(x){this._trait=x,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new i.Emitter,this.onChange=this._onChange.event}get name(){return this._trait}get renderer(){return new f(this)}splice(x,oe,ne){var j;oe=Math.max(0,Math.min(oe,this.length-x));const se=ne.length-oe,z=x+oe,X=[...this.sortedIndexes.filter(U=>U<x),...ne.map((U,K)=>U?K+x:-1).filter(U=>U!==-1),...this.sortedIndexes.filter(U=>U>=z).map(U=>U+se)],G=this.length+se;if(this.sortedIndexes.length>0&&X.length===0&&G>0){const U=(j=this.sortedIndexes.find(K=>K>=x))!==null&&j!==void 0?j:G-1;X.push(Math.min(U,G-1))}this.renderer.splice(x,oe,ne.length),this._set(X,X),this.length=G}renderIndex(x,oe){oe.classList.toggle(this._trait,this.contains(x))}unrender(x){x.classList.remove(this._trait)}set(x,oe){return this._set(x,[...x].sort(q),oe)}_set(x,oe,ne){const j=this.indexes,se=this.sortedIndexes;this.indexes=x,this.sortedIndexes=oe;const z=J(se,x);return this.renderer.renderIndexes(z),this._onChange.fire({indexes:x,browserEvent:ne}),j}get(){return this.indexes}contains(x){return(0,v.binarySearch)(this.sortedIndexes,x,q)>=0}dispose(){(0,r.dispose)(this._onChange)}}ke([n.memoize],p.prototype,"renderer",null);class _ extends p{constructor(x){super("selected");this.setAriaSelected=x}renderIndex(x,oe){super.renderIndex(x,oe),this.setAriaSelected&&(this.contains(x)?oe.setAttribute("aria-selected","true"):oe.setAttribute("aria-selected","false"))}}class m{constructor(x,oe,ne){this.trait=x,this.view=oe,this.identityProvider=ne}splice(x,oe,ne){if(!this.identityProvider)return this.trait.splice(x,oe,ne.map(()=>!1));const j=this.trait.get().map(z=>this.identityProvider.getId(this.view.element(z)).toString()),se=ne.map(z=>j.indexOf(this.identityProvider.getId(z).toString())>-1);this.trait.splice(x,oe,se)}}function h(de){return de.tagName==="INPUT"||de.tagName==="TEXTAREA"}e.isInputElement=h;function S(de){return de.classList.contains("monaco-editor")?!0:de.classList.contains("monaco-list")||!de.parentElement?!1:S(de.parentElement)}e.isMonacoEditor=S;function y(de){return de.tagName==="A"&&de.classList.contains("monaco-button")||de.tagName==="DIV"&&de.classList.contains("monaco-button-dropdown")?!0:de.classList.contains("monaco-list")||!de.parentElement?!1:y(de.parentElement)}e.isButton=y;class E{constructor(x,oe,ne){this.list=x,this.view=oe,this.disposables=new r.DisposableStore,this.multipleSelectionDisposables=new r.DisposableStore,this.onKeyDown.filter(j=>j.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(j=>j.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(j=>j.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(j=>j.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(j=>j.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(j=>j.keyCode===9).on(this.onEscape,this,this.disposables),ne.multipleSelectionSupport!==!1&&this.onKeyDown.filter(j=>(a.isMacintosh?j.metaKey:j.ctrlKey)&&j.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return this.disposables.add(i.Event.chain(this.disposables.add(new C.DomEmitter(this.view.domNode,"keydown")).event).filter(x=>!h(x.target)).map(x=>new k.StandardKeyboardEvent(x)))}updateOptions(x){x.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),x.multipleSelectionSupport&&this.onKeyDown.filter(oe=>(a.isMacintosh?oe.metaKey:oe.ctrlKey)&&oe.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(x){x.preventDefault(),x.stopPropagation(),this.list.setSelection(this.list.getFocus(),x.browserEvent)}onUpArrow(x){x.preventDefault(),x.stopPropagation(),this.list.focusPrevious(1,!1,x.browserEvent);const oe=this.list.getFocus()[0];this.list.setAnchor(oe),this.list.reveal(oe),this.view.domNode.focus()}onDownArrow(x){x.preventDefault(),x.stopPropagation(),this.list.focusNext(1,!1,x.browserEvent);const oe=this.list.getFocus()[0];this.list.setAnchor(oe),this.list.reveal(oe),this.view.domNode.focus()}onPageUpArrow(x){x.preventDefault(),x.stopPropagation(),this.list.focusPreviousPage(x.browserEvent);const oe=this.list.getFocus()[0];this.list.setAnchor(oe),this.list.reveal(oe),this.view.domNode.focus()}onPageDownArrow(x){x.preventDefault(),x.stopPropagation(),this.list.focusNextPage(x.browserEvent);const oe=this.list.getFocus()[0];this.list.setAnchor(oe),this.list.reveal(oe),this.view.domNode.focus()}onCtrlA(x){x.preventDefault(),x.stopPropagation(),this.list.setSelection((0,v.range)(this.list.length),x.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(x){this.list.getSelection().length&&(x.preventDefault(),x.stopPropagation(),this.list.setSelection([],x.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}ke([n.memoize],E.prototype,"onKeyDown",null);var N;(function(de){de[de.Automatic=0]="Automatic",de[de.Trigger=1]="Trigger"})(N=e.TypeNavigationMode||(e.TypeNavigationMode={}));var T;(function(de){de[de.Idle=0]="Idle",de[de.Typing=1]="Typing"})(T||(T={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(de){return de.ctrlKey||de.metaKey||de.altKey?!1:de.keyCode>=31&&de.keyCode<=56||de.keyCode>=21&&de.keyCode<=30||de.keyCode>=93&&de.keyCode<=102||de.keyCode>=80&&de.keyCode<=90}};class R{constructor(x,oe,ne,j,se){this.list=x,this.view=oe,this.keyboardNavigationLabelProvider=ne,this.keyboardNavigationEventFilter=j,this.delegate=se,this.enabled=!1,this.state=T.Idle,this.mode=N.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new r.DisposableStore,this.disposables=new r.DisposableStore,this.updateOptions(x.options)}updateOptions(x){var oe,ne;((oe=x.typeNavigationEnabled)!==null&&oe!==void 0?oe:!0)?this.enable():this.disable(),this.mode=(ne=x.typeNavigationMode)!==null&&ne!==void 0?ne:N.Automatic}enable(){if(this.enabled)return;let x=!1;const oe=this.enabledDisposables.add(i.Event.chain(this.enabledDisposables.add(new C.DomEmitter(this.view.domNode,"keydown")).event)).filter(se=>!h(se.target)).filter(()=>this.mode===N.Automatic||this.triggered).map(se=>new k.StandardKeyboardEvent(se)).filter(se=>x||this.keyboardNavigationEventFilter(se)).filter(se=>this.delegate.mightProducePrintableCharacter(se)).forEach(C.stopEvent).map(se=>se.browserEvent.key).event,ne=i.Event.debounce(oe,()=>null,800,void 0,void 0,this.enabledDisposables);i.Event.reduce(i.Event.any(oe,ne),(se,z)=>z===null?null:(se||"")+z,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),ne(this.onClear,this,this.enabledDisposables),oe(()=>x=!0,void 0,this.enabledDisposables),ne(()=>x=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var x;const oe=this.list.getFocus();if(oe.length>0&&oe[0]===this.previouslyFocused){const ne=(x=this.list.options.accessibilityProvider)===null||x===void 0?void 0:x.getAriaLabel(this.list.element(oe[0]));ne&&(0,L.alert)(ne)}this.previouslyFocused=-1}onInput(x){if(!x){this.state=T.Idle,this.triggered=!1;return}const oe=this.list.getFocus(),ne=oe.length>0?oe[0]:0,j=this.state===T.Idle?1:0;this.state=T.Typing;for(let se=0;se<this.list.length;se++){const z=(ne+se+j)%this.list.length,X=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(z)),G=X&&X.toString();if(typeof G=="undefined"||(0,t.matchesPrefix)(x,G)){this.previouslyFocused=ne,this.list.setFocus([z]),this.list.reveal(z);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class F{constructor(x,oe){this.list=x,this.view=oe,this.disposables=new r.DisposableStore,this.disposables.add(i.Event.chain(this.disposables.add(new C.DomEmitter(oe.domNode,"keydown")).event)).filter(j=>!h(j.target)).map(j=>new k.StandardKeyboardEvent(j)).filter(j=>j.keyCode===2&&!j.ctrlKey&&!j.metaKey&&!j.shiftKey&&!j.altKey).on(this.onTab,this,this.disposables)}onTab(x){if(x.target!==this.view.domNode)return;const oe=this.list.getFocus();if(oe.length===0)return;const ne=this.view.domElement(oe[0]);if(!ne)return;const j=ne.querySelector("[tabIndex]");if(!j||!(j instanceof HTMLElement)||j.tabIndex===-1)return;const se=window.getComputedStyle(j);se.visibility==="hidden"||se.display==="none"||(x.preventDefault(),x.stopPropagation(),j.focus())}dispose(){this.disposables.dispose()}}function O(de){return a.isMacintosh?de.browserEvent.metaKey:de.browserEvent.ctrlKey}e.isSelectionSingleChangeEvent=O;function D(de){return de.browserEvent.shiftKey}e.isSelectionRangeChangeEvent=D;function M(de){return de instanceof MouseEvent&&de.button===2}const P={isSelectionSingleChangeEvent:O,isSelectionRangeChangeEvent:D};class B{constructor(x){this.list=x,this.disposables=new r.DisposableStore,this._onPointer=new i.Emitter,this.onPointer=this._onPointer.event,x.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||P),this.mouseSupport=typeof x.options.mouseSupport=="undefined"||!!x.options.mouseSupport,this.mouseSupport&&(x.onMouseDown(this.onMouseDown,this,this.disposables),x.onContextMenu(this.onContextMenu,this,this.disposables),x.onMouseDblClick(this.onDoubleClick,this,this.disposables),x.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(I.Gesture.addTarget(x.getHTMLElement()))),i.Event.any(x.onMouseClick,x.onMouseMiddleClick,x.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(x){x.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,x.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||P))}isSelectionSingleChangeEvent(x){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(x):!1}isSelectionRangeChangeEvent(x){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(x):!1}isSelectionChangeEvent(x){return this.isSelectionSingleChangeEvent(x)||this.isSelectionRangeChangeEvent(x)}onMouseDown(x){S(x.browserEvent.target)||document.activeElement!==x.browserEvent.target&&this.list.domFocus()}onContextMenu(x){if(S(x.browserEvent.target))return;const oe=typeof x.index=="undefined"?[]:[x.index];this.list.setFocus(oe,x.browserEvent)}onViewPointer(x){if(!this.mouseSupport||h(x.browserEvent.target)||S(x.browserEvent.target))return;const oe=x.index;if(typeof oe=="undefined"){this.list.setFocus([],x.browserEvent),this.list.setSelection([],x.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(x))return this.changeSelection(x);if(this.isSelectionChangeEvent(x))return this.changeSelection(x);this.list.setFocus([oe],x.browserEvent),this.list.setAnchor(oe),M(x.browserEvent)||this.list.setSelection([oe],x.browserEvent),this._onPointer.fire(x)}onDoubleClick(x){if(h(x.browserEvent.target)||S(x.browserEvent.target)||this.isSelectionChangeEvent(x))return;const oe=this.list.getFocus();this.list.setSelection(oe,x.browserEvent)}changeSelection(x){const oe=x.index;let ne=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(x)){if(typeof ne=="undefined"){const K=this.list.getFocus()[0];ne=K??oe,this.list.setAnchor(ne)}const j=Math.min(ne,oe),se=Math.max(ne,oe),z=(0,v.range)(j,se+1),X=this.list.getSelection(),G=Q(J(X,[ne]),ne);if(G.length===0)return;const U=J(z,H(X,G));this.list.setSelection(U,x.browserEvent),this.list.setFocus([oe],x.browserEvent)}else if(this.isSelectionSingleChangeEvent(x)){const j=this.list.getSelection(),se=j.filter(z=>z!==oe);this.list.setFocus([oe]),this.list.setAnchor(oe),j.length===se.length?this.list.setSelection([...se,oe],x.browserEvent):this.list.setSelection(se,x.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=B;class W{constructor(x,oe){this.styleElement=x,this.selectorSuffix=oe}style(x){const oe=this.selectorSuffix&&`.${this.selectorSuffix}`,ne=[];x.listBackground&&(x.listBackground.isOpaque()?ne.push(`.monaco-list${oe} .monaco-list-rows { background: ${x.listBackground}; }`):a.isMacintosh||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),x.listFocusBackground&&(ne.push(`.monaco-list${oe}:focus .monaco-list-row.focused { background-color: ${x.listFocusBackground}; }`),ne.push(`.monaco-list${oe}:focus .monaco-list-row.focused:hover { background-color: ${x.listFocusBackground}; }`)),x.listFocusForeground&&ne.push(`.monaco-list${oe}:focus .monaco-list-row.focused { color: ${x.listFocusForeground}; }`),x.listActiveSelectionBackground&&(ne.push(`.monaco-list${oe}:focus .monaco-list-row.selected { background-color: ${x.listActiveSelectionBackground}; }`),ne.push(`.monaco-list${oe}:focus .monaco-list-row.selected:hover { background-color: ${x.listActiveSelectionBackground}; }`)),x.listActiveSelectionForeground&&ne.push(`.monaco-list${oe}:focus .monaco-list-row.selected { color: ${x.listActiveSelectionForeground}; }`),x.listActiveSelectionIconForeground&&ne.push(`.monaco-list${oe}:focus .monaco-list-row.selected .codicon { color: ${x.listActiveSelectionIconForeground}; }`),x.listFocusAndSelectionOutline&&ne.push(`.monaco-list${oe}:focus .monaco-list-row.selected { outline-color: ${x.listFocusAndSelectionOutline} !important; }`),x.listFocusAndSelectionBackground&&ne.push(`
				.monaco-drag-image,
				.monaco-list${oe}:focus .monaco-list-row.selected.focused { background-color: ${x.listFocusAndSelectionBackground}; }
			`),x.listFocusAndSelectionForeground&&ne.push(`
				.monaco-drag-image,
				.monaco-list${oe}:focus .monaco-list-row.selected.focused { color: ${x.listFocusAndSelectionForeground}; }
			`),x.listInactiveFocusForeground&&(ne.push(`.monaco-list${oe} .monaco-list-row.focused { color:  ${x.listInactiveFocusForeground}; }`),ne.push(`.monaco-list${oe} .monaco-list-row.focused:hover { color:  ${x.listInactiveFocusForeground}; }`)),x.listInactiveSelectionIconForeground&&ne.push(`.monaco-list${oe} .monaco-list-row.focused .codicon { color:  ${x.listInactiveSelectionIconForeground}; }`),x.listInactiveFocusBackground&&(ne.push(`.monaco-list${oe} .monaco-list-row.focused { background-color:  ${x.listInactiveFocusBackground}; }`),ne.push(`.monaco-list${oe} .monaco-list-row.focused:hover { background-color:  ${x.listInactiveFocusBackground}; }`)),x.listInactiveSelectionBackground&&(ne.push(`.monaco-list${oe} .monaco-list-row.selected { background-color:  ${x.listInactiveSelectionBackground}; }`),ne.push(`.monaco-list${oe} .monaco-list-row.selected:hover { background-color:  ${x.listInactiveSelectionBackground}; }`)),x.listInactiveSelectionForeground&&ne.push(`.monaco-list${oe} .monaco-list-row.selected { color: ${x.listInactiveSelectionForeground}; }`),x.listHoverBackground&&ne.push(`.monaco-list${oe}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${x.listHoverBackground}; }`),x.listHoverForeground&&ne.push(`.monaco-list${oe} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${x.listHoverForeground}; }`),x.listSelectionOutline&&ne.push(`.monaco-list${oe} .monaco-list-row.selected { outline: 1px dotted ${x.listSelectionOutline}; outline-offset: -1px; }`),x.listFocusOutline&&ne.push(`
				.monaco-drag-image,
				.monaco-list${oe}:focus .monaco-list-row.focused { outline: 1px solid ${x.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${oe}.last-focused .monaco-list-row.focused { outline: 1px solid ${x.listFocusOutline}; outline-offset: -1px; }
			`),x.listInactiveFocusOutline&&ne.push(`.monaco-list${oe} .monaco-list-row.focused { outline: 1px dotted ${x.listInactiveFocusOutline}; outline-offset: -1px; }`),x.listHoverOutline&&ne.push(`.monaco-list${oe} .monaco-list-row:hover { outline: 1px dashed ${x.listHoverOutline}; outline-offset: -1px; }`),x.listDropBackground&&ne.push(`
				.monaco-list${oe}.drop-target,
				.monaco-list${oe} .monaco-list-rows.drop-target,
				.monaco-list${oe} .monaco-list-row.drop-target { background-color: ${x.listDropBackground} !important; color: inherit !important; }
			`),x.tableColumnsBorder&&ne.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${x.tableColumnsBorder};
			}`),x.tableOddRowsBackgroundColor&&ne.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${x.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=ne.join(`
`)}}e.DefaultStyleController=W;const V={listFocusBackground:g.Color.fromHex("#7FB0D0"),listActiveSelectionBackground:g.Color.fromHex("#0E639C"),listActiveSelectionForeground:g.Color.fromHex("#FFFFFF"),listActiveSelectionIconForeground:g.Color.fromHex("#FFFFFF"),listFocusAndSelectionOutline:g.Color.fromHex("#90C2F9"),listFocusAndSelectionBackground:g.Color.fromHex("#094771"),listFocusAndSelectionForeground:g.Color.fromHex("#FFFFFF"),listInactiveSelectionBackground:g.Color.fromHex("#3F3F46"),listInactiveSelectionIconForeground:g.Color.fromHex("#FFFFFF"),listHoverBackground:g.Color.fromHex("#2A2D2E"),listDropBackground:g.Color.fromHex("#383B3D"),treeIndentGuidesStroke:g.Color.fromHex("#a9a9a9"),tableColumnsBorder:g.Color.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:g.Color.fromHex("#cccccc").transparent(.04)},A={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function Q(de,x){const oe=de.indexOf(x);if(oe===-1)return[];const ne=[];let j=oe-1;for(;j>=0&&de[j]===x-(oe-j);)ne.push(de[j--]);for(ne.reverse(),j=oe;j<de.length&&de[j]===x+(j-oe);)ne.push(de[j++]);return ne}function J(de,x){const oe=[];let ne=0,j=0;for(;ne<de.length||j<x.length;)if(ne>=de.length)oe.push(x[j++]);else if(j>=x.length)oe.push(de[ne++]);else if(de[ne]===x[j]){oe.push(de[ne]),ne++,j++;continue}else de[ne]<x[j]?oe.push(de[ne++]):oe.push(x[j++]);return oe}function H(de,x){const oe=[];let ne=0,j=0;for(;ne<de.length||j<x.length;)if(ne>=de.length)oe.push(x[j++]);else if(j>=x.length)oe.push(de[ne++]);else if(de[ne]===x[j]){ne++,j++;continue}else de[ne]<x[j]?oe.push(de[ne++]):j++;return oe}const q=(de,x)=>de-x;class Z{constructor(x,oe){this._templateId=x,this.renderers=oe}get templateId(){return this._templateId}renderTemplate(x){return this.renderers.map(oe=>oe.renderTemplate(x))}renderElement(x,oe,ne,j){let se=0;for(const z of this.renderers)z.renderElement(x,oe,ne[se++],j)}disposeElement(x,oe,ne,j){var se;let z=0;for(const X of this.renderers)(se=X.disposeElement)===null||se===void 0||se.call(X,x,oe,ne[z],j),z+=1}disposeTemplate(x){let oe=0;for(const ne of this.renderers)ne.disposeTemplate(x[oe++])}}class ie{constructor(x){this.accessibilityProvider=x,this.templateId="a18n"}renderTemplate(x){return x}renderElement(x,oe,ne){const j=this.accessibilityProvider.getAriaLabel(x);j?ne.setAttribute("aria-label",j):ne.removeAttribute("aria-label");const se=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(x);typeof se=="number"?ne.setAttribute("aria-level",`${se}`):ne.removeAttribute("aria-level")}disposeTemplate(x){}}class Y{constructor(x,oe){this.list=x,this.dnd=oe}getDragElements(x){const oe=this.list.getSelectedElements();return oe.indexOf(x)>-1?oe:[x]}getDragURI(x){return this.dnd.getDragURI(x)}getDragLabel(x,oe){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(x,oe)}onDragStart(x,oe){var ne,j;(j=(ne=this.dnd).onDragStart)===null||j===void 0||j.call(ne,x,oe)}onDragOver(x,oe,ne,j){return this.dnd.onDragOver(x,oe,ne,j)}onDragLeave(x,oe,ne,j){var se,z;(z=(se=this.dnd).onDragLeave)===null||z===void 0||z.call(se,x,oe,ne,j)}onDragEnd(x){var oe,ne;(ne=(oe=this.dnd).onDragEnd)===null||ne===void 0||ne.call(oe,x)}drop(x,oe,ne,j){this.dnd.drop(x,oe,ne,j)}}class te{constructor(x,oe,ne,j,se=A){var z,X,G,U;this.user=x,this._options=se,this.focus=new p("focused"),this.anchor=new p("anchor"),this.eventBufferer=new i.EventBufferer,this._ariaLabel="",this.disposables=new r.DisposableStore,this._onDidDispose=new i.Emitter,this.onDidDispose=this._onDidDispose.event;const K=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(z=this._options.accessibilityProvider)===null||z===void 0?void 0:z.getWidgetRole():"list";this.selection=new _(K!=="listbox"),(0,d.mixin)(se,V,!1);const ce=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=se.accessibilityProvider,this.accessibilityProvider&&(ce.push(new ie(this.accessibilityProvider)),(G=(X=this.accessibilityProvider).onDidChangeActiveDescendant)===null||G===void 0||G.call(X,this.onDidChangeActiveDescendant,this,this.disposables)),j=j.map(ue=>new Z(ue.templateId,[...ce,ue]));const ee=Object.assign(Object.assign({},se),{dnd:se.dnd&&new Y(this,se.dnd)});if(this.view=new c.ListView(oe,ne,j,ee),this.view.domNode.setAttribute("role",K),se.styleController)this.styleController=se.styleController(this.view.domId);else{const ue=(0,w.createStyleSheet)(this.view.domNode);this.styleController=new W(ue,this.view.domId)}if(this.spliceable=new b.CombinedSpliceable([new m(this.focus,this.view,se.identityProvider),new m(this.selection,this.view,se.identityProvider),new m(this.anchor,this.view,se.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new F(this,this.view)),(typeof se.keyboardSupport!="boolean"||se.keyboardSupport)&&(this.keyboardController=new E(this,this.view,se),this.disposables.add(this.keyboardController)),se.keyboardNavigationLabelProvider){const ue=se.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeNavigationController=new R(this,this.view,se.keyboardNavigationLabelProvider,(U=se.keyboardNavigationEventFilter)!==null&&U!==void 0?U:()=>!0,ue),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(se),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return i.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),x=>this.toListEvent(x),this.disposables)}get onDidChangeSelection(){return i.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),x=>this.toListEvent(x),this.disposables)}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let x=!1;const oe=this.disposables.add(i.Event.chain(this.disposables.add(new C.DomEmitter(this.view.domNode,"keydown")).event)).map(se=>new k.StandardKeyboardEvent(se)).filter(se=>x=se.keyCode===58||se.shiftKey&&se.keyCode===68).map(C.stopEvent).filter(()=>!1).event,ne=this.disposables.add(i.Event.chain(this.disposables.add(new C.DomEmitter(this.view.domNode,"keyup")).event)).forEach(()=>x=!1).map(se=>new k.StandardKeyboardEvent(se)).filter(se=>se.keyCode===58||se.shiftKey&&se.keyCode===68).map(C.stopEvent).map(({browserEvent:se})=>{const z=this.getFocus(),X=z.length?z[0]:void 0,G=typeof X!="undefined"?this.view.element(X):void 0,U=typeof X!="undefined"?this.view.domElement(X):this.view.domNode;return{index:X,element:G,anchor:U,browserEvent:se}}).event,j=this.disposables.add(i.Event.chain(this.view.onContextMenu)).filter(se=>!x).map(({element:se,index:z,browserEvent:X})=>({element:se,index:z,anchor:{x:X.pageX+1,y:X.pageY},browserEvent:X})).event;return i.Event.any(oe,ne,j)}get onKeyDown(){return this.disposables.add(new C.DomEmitter(this.view.domNode,"keydown")).event}get onDidFocus(){return i.Event.signal(this.disposables.add(new C.DomEmitter(this.view.domNode,"focus",!0)).event)}createMouseController(x){return new B(this)}updateOptions(x={}){var oe,ne;this._options=Object.assign(Object.assign({},this._options),x),(oe=this.typeNavigationController)===null||oe===void 0||oe.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(x),(ne=this.keyboardController)===null||ne===void 0||ne.updateOptions(x),this.view.updateOptions(x)}get options(){return this._options}splice(x,oe,ne=[]){if(x<0||x>this.view.length)throw new o.ListError(this.user,`Invalid start index: ${x}`);if(oe<0)throw new o.ListError(this.user,`Invalid delete count: ${oe}`);oe===0&&ne.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(x,oe,ne))}rerender(){this.view.rerender()}element(x){return this.view.element(x)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(x){this.view.setScrollTop(x)}get ariaLabel(){return this._ariaLabel}set ariaLabel(x){this._ariaLabel=x,this.view.domNode.setAttribute("aria-label",x)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(x,oe){this.view.layout(x,oe)}setSelection(x,oe){for(const ne of x)if(ne<0||ne>=this.length)throw new o.ListError(this.user,`Invalid index ${ne}`);this.selection.set(x,oe)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(x=>this.view.element(x))}setAnchor(x){if(typeof x=="undefined"){this.anchor.set([]);return}if(x<0||x>=this.length)throw new o.ListError(this.user,`Invalid index ${x}`);this.anchor.set([x])}getAnchor(){return(0,v.firstOrDefault)(this.anchor.get(),void 0)}getAnchorElement(){const x=this.getAnchor();return typeof x=="undefined"?void 0:this.element(x)}setFocus(x,oe){for(const ne of x)if(ne<0||ne>=this.length)throw new o.ListError(this.user,`Invalid index ${ne}`);this.focus.set(x,oe)}focusNext(x=1,oe=!1,ne,j){if(this.length===0)return;const se=this.focus.get(),z=this.findNextIndex(se.length>0?se[0]+x:0,oe,j);z>-1&&this.setFocus([z],ne)}focusPrevious(x=1,oe=!1,ne,j){if(this.length===0)return;const se=this.focus.get(),z=this.findPreviousIndex(se.length>0?se[0]-x:0,oe,j);z>-1&&this.setFocus([z],ne)}focusNextPage(x,oe){return Se(this,void 0,void 0,function*(){let ne=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);ne=ne===0?0:ne-1;const j=this.getFocus()[0];if(j!==ne&&(j===void 0||ne>j)){const se=this.findPreviousIndex(ne,!1,oe);se>-1&&j!==se?this.setFocus([se],x):this.setFocus([ne],x)}else{const se=this.view.getScrollTop();let z=se+this.view.renderHeight;ne>j&&(z-=this.view.elementHeight(ne)),this.view.setScrollTop(z),this.view.getScrollTop()!==se&&(this.setFocus([]),yield(0,u.timeout)(0),yield this.focusNextPage(x,oe))}})}focusPreviousPage(x,oe){return Se(this,void 0,void 0,function*(){let ne;const j=this.view.getScrollTop();j===0?ne=this.view.indexAt(j):ne=this.view.indexAfter(j-1);const se=this.getFocus()[0];if(se!==ne&&(se===void 0||se>=ne)){const z=this.findNextIndex(ne,!1,oe);z>-1&&se!==z?this.setFocus([z],x):this.setFocus([ne],x)}else{const z=j;this.view.setScrollTop(j-this.view.renderHeight),this.view.getScrollTop()!==z&&(this.setFocus([]),yield(0,u.timeout)(0),yield this.focusPreviousPage(x,oe))}})}focusLast(x,oe){if(this.length===0)return;const ne=this.findPreviousIndex(this.length-1,!1,oe);ne>-1&&this.setFocus([ne],x)}focusFirst(x,oe){this.focusNth(0,x,oe)}focusNth(x,oe,ne){if(this.length===0)return;const j=this.findNextIndex(x,!1,ne);j>-1&&this.setFocus([j],oe)}findNextIndex(x,oe=!1,ne){for(let j=0;j<this.length;j++){if(x>=this.length&&!oe)return-1;if(x=x%this.length,!ne||ne(this.element(x)))return x;x++}return-1}findPreviousIndex(x,oe=!1,ne){for(let j=0;j<this.length;j++){if(x<0&&!oe)return-1;if(x=(this.length+x%this.length)%this.length,!ne||ne(this.element(x)))return x;x--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(x=>this.view.element(x))}reveal(x,oe){if(x<0||x>=this.length)throw new o.ListError(this.user,`Invalid index ${x}`);const ne=this.view.getScrollTop(),j=this.view.elementTop(x),se=this.view.elementHeight(x);if((0,s.isNumber)(oe)){const z=se-this.view.renderHeight;this.view.setScrollTop(z*(0,l.clamp)(oe,0,1)+j)}else{const z=j+se,X=ne+this.view.renderHeight;j<ne&&z>=X||(j<ne||z>=X&&se>=this.view.renderHeight?this.view.setScrollTop(j):z>=X&&this.view.setScrollTop(z-this.view.renderHeight))}}getHTMLElement(){return this.view.domNode}getElementID(x){return this.view.getElementDomId(x)}style(x){this.styleController.style(x)}toListEvent({indexes:x,browserEvent:oe}){return{indexes:x,elements:x.map(ne=>this.view.element(ne)),browserEvent:oe}}_onFocusChange(){const x=this.focus.get();this.view.domNode.classList.toggle("element-focused",x.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var x;const oe=this.focus.get();if(oe.length>0){let ne;((x=this.accessibilityProvider)===null||x===void 0?void 0:x.getActiveDescendantId)&&(ne=this.accessibilityProvider.getActiveDescendantId(this.view.element(oe[0]))),this.view.domNode.setAttribute("aria-activedescendant",ne||this.view.getElementDomId(oe[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const x=this.selection.get();this.view.domNode.classList.toggle("selection-none",x.length===0),this.view.domNode.classList.toggle("selection-single",x.length===1),this.view.domNode.classList.toggle("selection-multiple",x.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}ke([n.memoize],te.prototype,"onDidChangeFocus",null),ke([n.memoize],te.prototype,"onDidChangeSelection",null),ke([n.memoize],te.prototype,"onContextMenu",null),ke([n.memoize],te.prototype,"onKeyDown",null),ke([n.memoize],te.prototype,"onDidFocus",null),e.List=te}),define(re[490],ae([1,0,18,21,6,2,113,228]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class b{constructor(i,t){this.renderer=i,this.modelProvider=t}get templateId(){return this.renderer.templateId}renderTemplate(i){return{data:this.renderer.renderTemplate(i),disposable:I.Disposable.None}}renderElement(i,t,r,l){if(r.disposable&&r.disposable.dispose(),!r.data)return;const d=this.modelProvider();if(d.isResolved(i))return this.renderer.renderElement(d.get(i),i,r.data,l);const a=new C.CancellationTokenSource,s=d.resolve(i,a.token);r.disposable={dispose:()=>a.cancel()},this.renderer.renderPlaceholder(i,r.data),s.then(o=>this.renderer.renderElement(o,i,r.data,l))}disposeTemplate(i){i.disposable&&(i.disposable.dispose(),i.disposable=void 0),i.data&&(this.renderer.disposeTemplate(i.data),i.data=void 0)}}class v{constructor(i,t){this.modelProvider=i,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(i){const t=this.modelProvider();return t.isResolved(i)?this.accessibilityProvider.getAriaLabel(t.get(i)):null}}function u(n,i){return Object.assign(Object.assign({},i),{accessibilityProvider:i.accessibilityProvider&&new v(n,i.accessibilityProvider)})}class g{constructor(i,t,r,l,d={}){const a=()=>this.model,s=l.map(o=>new b(o,a));this.list=new L.List(i,t,r,s,u(a,d))}updateOptions(i){this.list.updateOptions(i)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return k.Event.map(this.list.onMouseDblClick,({element:i,index:t,browserEvent:r})=>({element:i===void 0?void 0:this._model.get(i),index:t,browserEvent:r}))}get onPointer(){return k.Event.map(this.list.onPointer,({element:i,index:t,browserEvent:r})=>({element:i===void 0?void 0:this._model.get(i),index:t,browserEvent:r}))}get onDidChangeSelection(){return k.Event.map(this.list.onDidChangeSelection,({elements:i,indexes:t,browserEvent:r})=>({elements:i.map(l=>this._model.get(l)),indexes:t,browserEvent:r}))}get model(){return this._model}set model(i){this._model=i,this.list.splice(0,this.list.length,(0,w.range)(i.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(i=>this.model.get(i))}style(i){this.list.style(i)}dispose(){this.list.dispose()}}e.PagedList=g}),define(re[491],ae([1,0,41,62,7,48,67,83,133,149,254,75,43,10,27,106,2,17,8]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cleanMnemonic=e.Menu=e.Direction=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;var o;(function(S){S[S.Right=0]="Right",S[S.Left=1]="Left"})(o=e.Direction||(e.Direction={}));class c extends b.ActionBar{constructor(y,E,N={}){y.classList.add("monaco-menu-container"),y.setAttribute("role","presentation");const T=document.createElement("div");T.classList.add("monaco-menu"),T.setAttribute("role","presentation");super(T,{orientation:1,actionViewItemProvider:O=>this.doGetActionViewItem(O,N,R),context:N.context,actionRunner:N.actionRunner,ariaLabel:N.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...a.isMacintosh||a.isLinux?[10]:[]],keyDown:!0}});this.menuElement=T,this.actionsList.tabIndex=0,this.menuDisposables=this._register(new d.DisposableStore),this.initializeOrUpdateStyleSheet(y,{}),this._register(C.Gesture.addTarget(T)),(0,k.addDisposableListener)(T,k.EventType.KEY_DOWN,O=>{new I.StandardKeyboardEvent(O).equals(2)&&O.preventDefault()}),N.enableMnemonics&&this.menuDisposables.add((0,k.addDisposableListener)(T,k.EventType.KEY_DOWN,O=>{const D=O.key.toLocaleLowerCase();if(this.mnemonics.has(D)){k.EventHelper.stop(O,!0);const M=this.mnemonics.get(D);if(M.length===1&&(M[0]instanceof p&&M[0].container&&this.focusItemByElement(M[0].container),M[0].onClick(O)),M.length>1){const P=M.shift();P&&P.container&&(this.focusItemByElement(P.container),M.push(P)),this.mnemonics.set(D,M)}}})),a.isLinux&&this._register((0,k.addDisposableListener)(T,k.EventType.KEY_DOWN,O=>{const D=new I.StandardKeyboardEvent(O);D.equals(14)||D.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),k.EventHelper.stop(O,!0)):(D.equals(13)||D.equals(12))&&(this.focusedItem=0,this.focusPrevious(),k.EventHelper.stop(O,!0))})),this._register((0,k.addDisposableListener)(this.domNode,k.EventType.MOUSE_OUT,O=>{const D=O.relatedTarget;(0,k.isAncestor)(D,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),O.stopPropagation())})),this._register((0,k.addDisposableListener)(this.actionsList,k.EventType.MOUSE_OVER,O=>{let D=O.target;if(!(!D||!(0,k.isAncestor)(D,this.actionsList)||D===this.actionsList)){for(;D.parentElement!==this.actionsList&&D.parentElement!==null;)D=D.parentElement;if(D.classList.contains("action-item")){const M=this.focusedItem;this.setFocusedItem(D),M!==this.focusedItem&&this.updateFocus()}}})),this._register(C.Gesture.addTarget(this.actionsList)),this._register((0,k.addDisposableListener)(this.actionsList,C.EventType.Tap,O=>{let D=O.initialTarget;if(!(!D||!(0,k.isAncestor)(D,this.actionsList)||D===this.actionsList)){for(;D.parentElement!==this.actionsList&&D.parentElement!==null;)D=D.parentElement;if(D.classList.contains("action-item")){const M=this.focusedItem;this.setFocusedItem(D),M!==this.focusedItem&&this.updateFocus()}}}));const R={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new n.DomScrollableElement(T,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const F=this.scrollableElement.getDomNode();F.style.position="",this._register((0,k.addDisposableListener)(T,C.EventType.Change,O=>{k.EventHelper.stop(O,!0);const D=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:D-O.translationY})})),this._register((0,k.addDisposableListener)(F,k.EventType.MOUSE_UP,O=>{O.preventDefault()})),T.style.maxHeight=`${Math.max(10,window.innerHeight-y.getBoundingClientRect().top-35)}px`,E=E.filter(O=>{var D;return((D=N.submenuIds)===null||D===void 0?void 0:D.has(O.id))?(console.warn(`Found submenu cycle: ${O.id}`),!1):!0}),this.push(E,{icon:!0,label:!0,isMenu:!0}),y.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(O=>!(O instanceof _)).forEach((O,D,M)=>{O.updatePositionInSet(D+1,M.length)})}initializeOrUpdateStyleSheet(y,E){this.styleSheet||((0,k.isInShadowDOM)(y)?this.styleSheet=(0,k.createStyleSheet)(y):(c.globalStyleSheet||(c.globalStyleSheet=(0,k.createStyleSheet)()),this.styleSheet=c.globalStyleSheet)),this.styleSheet.textContent=h(E,(0,k.isInShadowDOM)(y))}style(y){const E=this.getContainer();this.initializeOrUpdateStyleSheet(E,y);const N=y.foregroundColor?`${y.foregroundColor}`:"",T=y.backgroundColor?`${y.backgroundColor}`:"",R=y.borderColor?`1px solid ${y.borderColor}`:"",F="5px",O=y.shadowColor?`0 2px 8px ${y.shadowColor}`:"";E.style.outline=R,E.style.borderRadius=F,E.style.color=N,E.style.backgroundColor=T,E.style.boxShadow=O,this.viewItems&&this.viewItems.forEach(D=>{(D instanceof f||D instanceof _)&&D.style(y)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(y){const E=this.focusedItem;this.setFocusedItem(y),E!==this.focusedItem&&this.updateFocus()}setFocusedItem(y){for(let E=0;E<this.actionsList.children.length;E++){const N=this.actionsList.children[E];if(y===N){this.focusedItem=E;break}}}updateFocus(y){super.updateFocus(y,!0,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(y,E,N){if(y instanceof i.Separator)return new _(E.context,y,{icon:!0});if(y instanceof i.SubmenuAction){const T=new p(y,y.actions,N,Object.assign(Object.assign({},E),{submenuIds:new Set([...E.submenuIds||[],y.id])}));if(E.enableMnemonics){const R=T.getMnemonic();if(R&&T.isEnabled()){let F=[];this.mnemonics.has(R)&&(F=this.mnemonics.get(R)),F.push(T),this.mnemonics.set(R,F)}}return T}else{const T={enableMnemonics:E.enableMnemonics,useEventAsContext:E.useEventAsContext};if(E.getKeyBinding){const F=E.getKeyBinding(y);if(F){const O=F.getLabel();O&&(T.keybinding=O)}}const R=new f(E.context,y,T);if(E.enableMnemonics){const F=R.getMnemonic();if(F&&R.isEnabled()){let O=[];this.mnemonics.has(F)&&(O=this.mnemonics.get(F)),O.push(R),this.mnemonics.set(F,O)}}return R}}}e.Menu=c;class f extends v.BaseActionViewItem{constructor(y,E,N={}){N.isMenu=!0;super(E,E,N);if(this.options=N,this.options.icon=N.icon!==void 0?N.icon:!1,this.options.label=N.label!==void 0?N.label:!0,this.cssClass="",this.options.label&&N.enableMnemonics){const T=this.getAction().label;if(T){const R=e.MENU_MNEMONIC_REGEX.exec(T);R&&(this.mnemonic=(R[1]?R[1]:R[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new t.RunOnceScheduler(()=>{!this.element||(this._register((0,k.addDisposableListener)(this.element,k.EventType.MOUSE_UP,T=>{if(k.EventHelper.stop(T,!0),w.isFirefox){if(new L.StandardMouseEvent(T).rightButton)return;this.onClick(T)}else setTimeout(()=>{this.onClick(T)},0)})),this._register((0,k.addDisposableListener)(this.element,k.EventType.CONTEXT_MENU,T=>{k.EventHelper.stop(T,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(y){super.render(y),!!this.element&&(this.container=y,this.item=(0,k.append)(this.element,(0,k.$)("a.action-menu-item")),this._action.id===i.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,k.append)(this.item,(0,k.$)("span.menu-item-check"+r.Codicon.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,k.append)(this.item,(0,k.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,k.append)(this.item,(0,k.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(y,E){this.item&&(this.item.setAttribute("aria-posinset",`${y}`),this.item.setAttribute("aria-setsize",`${E}`))}updateLabel(){var y;if(!!this.label&&this.options.label){(0,k.clearNode)(this.label);let E=(0,l.stripIcons)(this.getAction().label);if(E){const N=m(E);this.options.enableMnemonics||(E=N),this.label.setAttribute("aria-label",N.replace(/&&/g,"&"));const T=e.MENU_MNEMONIC_REGEX.exec(E);if(T){E=s.escape(E),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let R=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(E);for(;R&&R[1];)R=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(E);const F=O=>O.replace(/&amp;&amp;/g,"&amp;");R?this.label.append(s.ltrim(F(E.substr(0,R.index))," "),(0,k.$)("u",{"aria-hidden":"true"},R[3]),s.rtrim(F(E.substr(R.index+R[0].length))," ")):this.label.innerText=F(E).trim(),(y=this.item)===null||y===void 0||y.setAttribute("aria-keyshortcuts",(T[1]?T[1]:T[3]).toLocaleLowerCase())}else this.label.innerText=E.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const y=this.getAction().checked;this.item.classList.toggle("checked",!!y),y!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",y?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const y=this.element&&this.element.classList.contains("focused"),E=y&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,N=y&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,T=y&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",R=y&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=E?E.toString():"",this.item.style.backgroundColor=N?N.toString():"",this.item.style.outline=T,this.item.style.outlineOffset=R),this.check&&(this.check.style.color=E?E.toString():"")}style(y){this.menuStyle=y,this.applyStyle()}}class p extends f{constructor(y,E,N,T){super(y,y,T);this.submenuActions=E,this.parentData=N,this.submenuOptions=T,this.mysubmenu=null,this.submenuDisposables=this._register(new d.DisposableStore),this.mouseOver=!1,this.expandDirection=T&&T.expandDirection!==void 0?T.expandDirection:o.Right,this.showScheduler=new t.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new t.RunOnceScheduler(()=>{this.element&&!(0,k.isAncestor)((0,k.getActiveElement)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(y){super.render(y),!!this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,k.append)(this.item,(0,k.$)("span.submenu-indicator"+r.Codicon.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,k.addDisposableListener)(this.element,k.EventType.KEY_UP,E=>{const N=new I.StandardKeyboardEvent(E);(N.equals(17)||N.equals(3))&&(k.EventHelper.stop(E,!0),this.createSubmenu(!0))})),this._register((0,k.addDisposableListener)(this.element,k.EventType.KEY_DOWN,E=>{const N=new I.StandardKeyboardEvent(E);(0,k.getActiveElement)()===this.item&&(N.equals(17)||N.equals(3))&&k.EventHelper.stop(E,!0)})),this._register((0,k.addDisposableListener)(this.element,k.EventType.MOUSE_OVER,E=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,k.addDisposableListener)(this.element,k.EventType.MOUSE_LEAVE,E=>{this.mouseOver=!1})),this._register((0,k.addDisposableListener)(this.element,k.EventType.FOCUS_OUT,E=>{this.element&&!(0,k.isAncestor)((0,k.getActiveElement)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(y){k.EventHelper.stop(y,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(y){if(this.parentData.submenu&&(y||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(y,E,N,T){const R={top:0,left:0};return R.left=(0,g.layout)(y.width,E.width,{position:T===o.Right?0:1,offset:N.left,size:N.width}),R.left>=N.left&&R.left<N.left+N.width&&(N.left+10+E.width<=y.width&&(R.left=N.left+10),N.top+=10,N.height=0),R.top=(0,g.layout)(y.height,E.height,{position:0,offset:N.top,size:0}),R.top+E.height===N.top&&R.top+N.height+E.height<=y.height&&(R.top+=N.height),R}createSubmenu(y=!0){if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,k.append)(this.element,(0,k.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const E=getComputedStyle(this.parentData.parent.domNode),N=parseFloat(E.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new c(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new i.EmptySubmenuAction],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const T=this.element.getBoundingClientRect(),R={top:T.top-N,left:T.left,height:T.height+2*N,width:T.width},F=this.submenuContainer.getBoundingClientRect(),{top:O,left:D}=this.calculateSubmenuMenuLayout(new k.Dimension(window.innerWidth,window.innerHeight),k.Dimension.lift(F),R,this.expandDirection);this.submenuContainer.style.left=`${D-F.left}px`,this.submenuContainer.style.top=`${O-F.top}px`,this.submenuDisposables.add((0,k.addDisposableListener)(this.submenuContainer,k.EventType.KEY_UP,M=>{new I.StandardKeyboardEvent(M).equals(15)&&(k.EventHelper.stop(M,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,k.addDisposableListener)(this.submenuContainer,k.EventType.KEY_DOWN,M=>{new I.StandardKeyboardEvent(M).equals(15)&&k.EventHelper.stop(M,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(y),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(y){var E;this.item&&((E=this.item)===null||E===void 0||E.setAttribute("aria-expanded",y))}applyStyle(){var y;if(super.applyStyle(),!this.menuStyle)return;const N=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=N?`${N}`:""),(y=this.parentData.submenu)===null||y===void 0||y.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class _ extends v.ActionViewItem{style(y){this.label&&(this.label.style.borderBottomColor=y.separatorColor?`${y.separatorColor}`:"")}}function m(S){const y=e.MENU_MNEMONIC_REGEX,E=y.exec(S);if(!E)return S;const N=!E[1];return S.replace(y,N?"$2$3":"").trim()}e.cleanMnemonic=m;function h(S,y){let E=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${(0,u.formatRule)(r.Codicon.menuSelection)}
${(0,u.formatRule)(r.Codicon.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .6em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(y){E+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const N=S.scrollbarShadow;N&&(E+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${N} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${N} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${N} 6px 6px 6px -6px inset;
				}
			`);const T=S.scrollbarSliderBackground;T&&(E+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${T};
				}
			`);const R=S.scrollbarSliderHoverBackground;R&&(E+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${R};
				}
			`);const F=S.scrollbarSliderActiveBackground;F&&(E+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${F};
				}
			`)}return E}}),define(re[261],ae([1,0,7,135,75,18,31,6,2,124,161,19,348]),function($,e,w,C,k,I,L,b,v,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const i={separatorBorder:L.Color.transparent};class t{constructor(c,f,p,_){this.container=c,this.view=f,this.disposable=_,this._cachedVisibleSize=void 0,typeof p=="number"?(this._size=p,this._cachedVisibleSize=void 0,c.classList.add("visible")):(this._size=0,this._cachedVisibleSize=p.cachedVisibleSize)}set size(c){this._size=c}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(c,f){var p,_;c!==this.visible&&(c?(this.size=(0,u.clamp)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof f=="number"?f:this.size,this.size=0),this.container.classList.toggle("visible",c),(_=(p=this.view).setVisible)===null||_===void 0||_.call(p,c))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(c){this.container.style.pointerEvents=c?"":"none"}layout(c,f){this.layoutContainer(c),this.view.layout(this.size,c,f)}dispose(){return this.disposable.dispose(),this.view}}class r extends t{layoutContainer(c){this.container.style.top=`${c}px`,this.container.style.height=`${this.size}px`}}class l extends t{layoutContainer(c){this.container.style.left=`${c}px`,this.container.style.width=`${this.size}px`}}var d;(function(o){o[o.Idle=0]="Idle",o[o.Busy=1]="Busy"})(d||(d={}));var a;(function(o){o.Distribute={type:"distribute"};function c(p){return{type:"split",index:p}}o.Split=c;function f(p){return{type:"invisible",cachedVisibleSize:p}}o.Invisible=f})(a=e.Sizing||(e.Sizing={}));class s extends v.Disposable{constructor(c,f={}){var p,_,m,h,S;super();this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=d.Idle,this._onDidSashChange=this._register(new b.Emitter),this._onDidSashReset=this._register(new b.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(p=f.orientation)!==null&&p!==void 0?p:0,this.inverseAltBehavior=(_=f.inverseAltBehavior)!==null&&_!==void 0?_:!1,this.proportionalLayout=(m=f.proportionalLayout)!==null&&m!==void 0?m:!0,this.getSashOrthogonalSize=f.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),c.appendChild(this.el),this.sashContainer=(0,w.append)(this.el,(0,w.$)(".sash-container")),this.viewContainer=(0,w.$)(".split-view-container"),this.scrollable=new g.Scrollable({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:w.scheduleAtNextAnimationFrame}),this.scrollableElement=this._register(new k.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?(h=f.scrollbarVisibility)!==null&&h!==void 0?h:1:2,horizontal:this.orientation===1?(S=f.scrollbarVisibility)!==null&&S!==void 0?S:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(y=>{this.viewContainer.scrollTop=y.scrollTop,this.viewContainer.scrollLeft=y.scrollLeft})),(0,w.append)(this.el,this.scrollableElement.getDomNode()),this.style(f.styles||i),f.descriptor&&(this.size=f.descriptor.size,f.descriptor.views.forEach((y,E)=>{const N=n.isUndefined(y.visible)||y.visible?y.size:{type:"invisible",cachedVisibleSize:y.size},T=y.view;this.doAddView(T,N,E,!0)}),this.contentSize=this.viewItems.reduce((y,E)=>y+E.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(c){for(const f of this.sashItems)f.sash.orthogonalStartSash=c;this._orthogonalStartSash=c}set orthogonalEndSash(c){for(const f of this.sashItems)f.sash.orthogonalEndSash=c;this._orthogonalEndSash=c}set startSnappingEnabled(c){this._startSnappingEnabled!==c&&(this._startSnappingEnabled=c,this.updateSashEnablement())}set endSnappingEnabled(c){this._endSnappingEnabled!==c&&(this._endSnappingEnabled=c,this.updateSashEnablement())}style(c){c.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",c.separatorBorder.toString()))}addView(c,f,p=this.viewItems.length,_){this.doAddView(c,f,p,_)}layout(c,f){const p=Math.max(this.size,this.contentSize);if(this.size=c,this.layoutContext=f,this.proportions)for(let _=0;_<this.viewItems.length;_++){const m=this.viewItems[_];m.size=(0,u.clamp)(Math.round(this.proportions[_]*c),m.minimumSize,m.maximumSize)}else{const _=(0,I.range)(this.viewItems.length),m=_.filter(S=>this.viewItems[S].priority===1),h=_.filter(S=>this.viewItems[S].priority===2);this.resize(this.viewItems.length-1,c-p,void 0,m,h)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(c=>c.size/this.contentSize))}onSashStart({sash:c,start:f,alt:p}){for(const S of this.viewItems)S.enabled=!1;const _=this.sashItems.findIndex(S=>S.sash===c),m=(0,v.combinedDisposable)((0,w.addDisposableListener)(document.body,"keydown",S=>h(this.sashDragState.current,S.altKey)),(0,w.addDisposableListener)(document.body,"keyup",()=>h(this.sashDragState.current,!1))),h=(S,y)=>{const E=this.viewItems.map(O=>O.size);let N=Number.NEGATIVE_INFINITY,T=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(y=!y),y)if(_===this.sashItems.length-1){const D=this.viewItems[_];N=(D.minimumSize-D.size)/2,T=(D.maximumSize-D.size)/2}else{const D=this.viewItems[_+1];N=(D.size-D.maximumSize)/2,T=(D.size-D.minimumSize)/2}let R,F;if(!y){const O=(0,I.range)(_,-1),D=(0,I.range)(_+1,this.viewItems.length),M=O.reduce((H,q)=>H+(this.viewItems[q].minimumSize-E[q]),0),P=O.reduce((H,q)=>H+(this.viewItems[q].viewMaximumSize-E[q]),0),B=D.length===0?Number.POSITIVE_INFINITY:D.reduce((H,q)=>H+(E[q]-this.viewItems[q].minimumSize),0),W=D.length===0?Number.NEGATIVE_INFINITY:D.reduce((H,q)=>H+(E[q]-this.viewItems[q].viewMaximumSize),0),V=Math.max(M,W),A=Math.min(B,P),Q=this.findFirstSnapIndex(O),J=this.findFirstSnapIndex(D);if(typeof Q=="number"){const H=this.viewItems[Q],q=Math.floor(H.viewMinimumSize/2);R={index:Q,limitDelta:H.visible?V-q:V+q,size:H.size}}if(typeof J=="number"){const H=this.viewItems[J],q=Math.floor(H.viewMinimumSize/2);F={index:J,limitDelta:H.visible?A+q:A-q,size:H.size}}}this.sashDragState={start:S,current:S,index:_,sizes:E,minDelta:N,maxDelta:T,alt:y,snapBefore:R,snapAfter:F,disposable:m}};h(f,p)}onSashChange({current:c}){const{index:f,start:p,sizes:_,alt:m,minDelta:h,maxDelta:S,snapBefore:y,snapAfter:E}=this.sashDragState;this.sashDragState.current=c;const N=c-p,T=this.resize(f,N,_,void 0,void 0,h,S,y,E);if(m){const R=f===this.sashItems.length-1,F=this.viewItems.map(W=>W.size),O=R?f:f+1,D=this.viewItems[O],M=D.size-D.maximumSize,P=D.size-D.minimumSize,B=R?f-1:f+1;this.resize(B,-T,F,void 0,void 0,M,P)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(c){this._onDidSashChange.fire(c),this.sashDragState.disposable.dispose(),this.saveProportions();for(const f of this.viewItems)f.enabled=!0}onViewChange(c,f){const p=this.viewItems.indexOf(c);p<0||p>=this.viewItems.length||(f=typeof f=="number"?f:c.size,f=(0,u.clamp)(f,c.minimumSize,c.maximumSize),this.inverseAltBehavior&&p>0?(this.resize(p-1,Math.floor((c.size-f)/2)),this.distributeEmptySpace(),this.layoutViews()):(c.size=f,this.relayout([p],void 0)))}resizeView(c,f){if(this.state!==d.Idle)throw new Error("Cant modify splitview");if(this.state=d.Busy,c<0||c>=this.viewItems.length)return;const p=(0,I.range)(this.viewItems.length).filter(S=>S!==c),_=[...p.filter(S=>this.viewItems[S].priority===1),c],m=p.filter(S=>this.viewItems[S].priority===2),h=this.viewItems[c];f=Math.round(f),f=(0,u.clamp)(f,h.minimumSize,Math.min(h.maximumSize,this.size)),h.size=f,this.relayout(_,m),this.state=d.Idle}distributeViewSizes(){const c=[];let f=0;for(const S of this.viewItems)S.maximumSize-S.minimumSize>0&&(c.push(S),f+=S.size);const p=Math.floor(f/c.length);for(const S of c)S.size=(0,u.clamp)(p,S.minimumSize,S.maximumSize);const _=(0,I.range)(this.viewItems.length),m=_.filter(S=>this.viewItems[S].priority===1),h=_.filter(S=>this.viewItems[S].priority===2);this.relayout(m,h)}getViewSize(c){return c<0||c>=this.viewItems.length?-1:this.viewItems[c].size}doAddView(c,f,p=this.viewItems.length,_){if(this.state!==d.Idle)throw new Error("Cant modify splitview");this.state=d.Busy;const m=(0,w.$)(".split-view-view");p===this.viewItems.length?this.viewContainer.appendChild(m):this.viewContainer.insertBefore(m,this.viewContainer.children.item(p));const h=c.onDidChange(R=>this.onViewChange(N,R)),S=(0,v.toDisposable)(()=>this.viewContainer.removeChild(m)),y=(0,v.combinedDisposable)(h,S);let E;typeof f=="number"?E=f:f.type==="split"?E=this.getViewSize(f.index)/2:f.type==="invisible"?E={cachedVisibleSize:f.cachedVisibleSize}:E=c.minimumSize;const N=this.orientation===0?new r(m,c,E,y):new l(m,c,E,y);if(this.viewItems.splice(p,0,N),this.viewItems.length>1){const R={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},F=this.orientation===0?new C.Sash(this.sashContainer,{getHorizontalSashTop:H=>this.getSashPosition(H),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},R),{orientation:1})):new C.Sash(this.sashContainer,{getVerticalSashLeft:H=>this.getSashPosition(H),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},R),{orientation:0})),O=this.orientation===0?H=>({sash:F,start:H.startY,current:H.currentY,alt:H.altKey}):H=>({sash:F,start:H.startX,current:H.currentX,alt:H.altKey}),M=b.Event.map(F.onDidStart,O)(this.onSashStart,this),B=b.Event.map(F.onDidChange,O)(this.onSashChange,this),V=b.Event.map(F.onDidEnd,()=>this.sashItems.findIndex(H=>H.sash===F))(this.onSashEnd,this),A=F.onDidReset(()=>{const H=this.sashItems.findIndex(te=>te.sash===F),q=(0,I.range)(H,-1),Z=(0,I.range)(H+1,this.viewItems.length),ie=this.findFirstSnapIndex(q),Y=this.findFirstSnapIndex(Z);typeof ie=="number"&&!this.viewItems[ie].visible||typeof Y=="number"&&!this.viewItems[Y].visible||this._onDidSashReset.fire(H)}),Q=(0,v.combinedDisposable)(M,B,V,A,F),J={sash:F,disposable:Q};this.sashItems.splice(p-1,0,J)}m.appendChild(c.element);let T;typeof f!="number"&&f.type==="split"&&(T=[f.index]),_||this.relayout([p],T),this.state=d.Idle,!_&&typeof f!="number"&&f.type==="distribute"&&this.distributeViewSizes()}relayout(c,f){const p=this.viewItems.reduce((_,m)=>_+m.size,0);this.resize(this.viewItems.length-1,this.size-p,void 0,c,f),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(c,f,p=this.viewItems.map(N=>N.size),_,m,h=Number.NEGATIVE_INFINITY,S=Number.POSITIVE_INFINITY,y,E){if(c<0||c>=this.viewItems.length)return 0;const N=(0,I.range)(c,-1),T=(0,I.range)(c+1,this.viewItems.length);if(m)for(const J of m)(0,I.pushToStart)(N,J),(0,I.pushToStart)(T,J);if(_)for(const J of _)(0,I.pushToEnd)(N,J),(0,I.pushToEnd)(T,J);const R=N.map(J=>this.viewItems[J]),F=N.map(J=>p[J]),O=T.map(J=>this.viewItems[J]),D=T.map(J=>p[J]),M=N.reduce((J,H)=>J+(this.viewItems[H].minimumSize-p[H]),0),P=N.reduce((J,H)=>J+(this.viewItems[H].maximumSize-p[H]),0),B=T.length===0?Number.POSITIVE_INFINITY:T.reduce((J,H)=>J+(p[H]-this.viewItems[H].minimumSize),0),W=T.length===0?Number.NEGATIVE_INFINITY:T.reduce((J,H)=>J+(p[H]-this.viewItems[H].maximumSize),0),V=Math.max(M,W,h),A=Math.min(B,P,S);let Q=!1;if(y){const J=this.viewItems[y.index],H=f>=y.limitDelta;Q=H!==J.visible,J.setVisible(H,y.size)}if(!Q&&E){const J=this.viewItems[E.index],H=f<E.limitDelta;Q=H!==J.visible,J.setVisible(H,E.size)}if(Q)return this.resize(c,f,p,_,m,h,S);f=(0,u.clamp)(f,V,A);for(let J=0,H=f;J<R.length;J++){const q=R[J],Z=(0,u.clamp)(F[J]+H,q.minimumSize,q.maximumSize);H-=Z-F[J],q.size=Z}for(let J=0,H=f;J<O.length;J++){const q=O[J],Z=(0,u.clamp)(D[J]-H,q.minimumSize,q.maximumSize);H+=Z-D[J],q.size=Z}return f}distributeEmptySpace(c){const f=this.viewItems.reduce((S,y)=>S+y.size,0);let p=this.size-f;const _=(0,I.range)(this.viewItems.length-1,-1),m=_.filter(S=>this.viewItems[S].priority===1),h=_.filter(S=>this.viewItems[S].priority===2);for(const S of h)(0,I.pushToStart)(_,S);for(const S of m)(0,I.pushToEnd)(_,S);typeof c=="number"&&(0,I.pushToEnd)(_,c);for(let S=0;p!==0&&S<_.length;S++){const y=this.viewItems[_[S]],E=(0,u.clamp)(y.size+p,y.minimumSize,y.maximumSize);p-=E-y.size,y.size=E}}layoutViews(){this.contentSize=this.viewItems.reduce((f,p)=>f+p.size,0);let c=0;for(const f of this.viewItems)f.layout(c,this.layoutContext),c+=f.size;this.sashItems.forEach(f=>f.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let c=!1;const f=this.viewItems.map(y=>c=y.size-y.minimumSize>0||c);c=!1;const p=this.viewItems.map(y=>c=y.maximumSize-y.size>0||c),_=[...this.viewItems].reverse();c=!1;const m=_.map(y=>c=y.size-y.minimumSize>0||c).reverse();c=!1;const h=_.map(y=>c=y.maximumSize-y.size>0||c).reverse();let S=0;for(let y=0;y<this.sashItems.length;y++){const{sash:E}=this.sashItems[y];S+=this.viewItems[y].size;const T=!(f[y]&&h[y+1]),R=!(p[y]&&m[y+1]);if(T&&R){const F=(0,I.range)(y,-1),O=(0,I.range)(y+1,this.viewItems.length),D=this.findFirstSnapIndex(F),M=this.findFirstSnapIndex(O),P=typeof D=="number"&&!this.viewItems[D].visible,B=typeof M=="number"&&!this.viewItems[M].visible;P&&m[y]&&(S>0||this.startSnappingEnabled)?E.state=1:B&&f[y]&&(S<this.contentSize||this.endSnappingEnabled)?E.state=2:E.state=0}else T&&!R?E.state=1:!T&&R?E.state=2:E.state=3}}getSashPosition(c){let f=0;for(let p=0;p<this.sashItems.length;p++)if(f+=this.viewItems[p].size,this.sashItems[p].sash===c)return f;return 0}findFirstSnapIndex(c){for(const f of c){const p=this.viewItems[f];if(!!p.visible&&p.snap)return f}for(const f of c){const p=this.viewItems[f];if(p.visible&&p.maximumSize-p.minimumSize>0)return;if(!p.visible&&p.snap)return f}}dispose(){super.dispose(),(0,v.dispose)(this.viewItems),this.viewItems=[],this.sashItems.forEach(c=>c.disposable.dispose()),this.sashItems=[]}}e.SplitView=s}),define(re[492],ae([1,0,7,113,261,6,2,349]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class b{constructor(i,t,r){this.columns=i,this.getColumnSize=r,this.templateId=b.TemplateId,this.renderedTemplates=new Set;const l=new Map(t.map(d=>[d.templateId,d]));this.renderers=[];for(const d of i){const a=l.get(d.templateId);if(!a)throw new Error(`Table cell renderer for template id ${d.templateId} not found.`);this.renderers.push(a)}}renderTemplate(i){const t=(0,w.append)(i,(0,w.$)(".monaco-table-tr")),r=[],l=[];for(let a=0;a<this.columns.length;a++){const s=this.renderers[a],o=(0,w.append)(t,(0,w.$)(".monaco-table-td",{"data-col-index":a}));o.style.width=`${this.getColumnSize(a)}px`,r.push(o),l.push(s.renderTemplate(o))}const d={container:i,cellContainers:r,cellTemplateData:l};return this.renderedTemplates.add(d),d}renderElement(i,t,r,l){for(let d=0;d<this.columns.length;d++){const s=this.columns[d].project(i);this.renderers[d].renderElement(s,t,r.cellTemplateData[d],l)}}disposeElement(i,t,r,l){for(let d=0;d<this.columns.length;d++){const a=this.renderers[d];if(a.disposeElement){const o=this.columns[d].project(i);a.disposeElement(o,t,r.cellTemplateData[d],l)}}}disposeTemplate(i){for(let t=0;t<this.columns.length;t++)this.renderers[t].disposeTemplate(i.cellTemplateData[t]);(0,w.clearNode)(i.container),this.renderedTemplates.delete(i)}layoutColumn(i,t){for(const{cellContainers:r}of this.renderedTemplates)r[i].style.width=`${t}px`}}b.TemplateId="row";function v(n){return{getHeight(i){return n.getHeight(i)},getTemplateId(){return b.TemplateId}}}class u{constructor(i,t){this.column=i,this.index=t,this._onDidLayout=new I.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=(0,w.$)(".monaco-table-th",{"data-col-index":t,title:i.tooltip},i.label)}get minimumSize(){var i;return(i=this.column.minimumWidth)!==null&&i!==void 0?i:120}get maximumSize(){var i;return(i=this.column.maximumWidth)!==null&&i!==void 0?i:Number.POSITIVE_INFINITY}get onDidChange(){var i;return(i=this.column.onDidChangeWidthConstraints)!==null&&i!==void 0?i:I.Event.None}layout(i){this._onDidLayout.fire([this.index,i])}}class g{constructor(i,t,r,l,d,a){this.virtualDelegate=r,this.domId=`table_id_${++g.InstanceCount}`,this.disposables=new L.DisposableStore,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,w.append)(t,(0,w.$)(`.monaco-table.${this.domId}`));const s=l.map((f,p)=>new u(f,p)),o={size:s.reduce((f,p)=>f+p.column.weight,0),views:s.map(f=>({size:f.column.weight,view:f}))};this.splitview=this.disposables.add(new k.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:o})),this.splitview.el.style.height=`${r.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${r.headerRowHeight}px`;const c=new b(l,d,f=>this.splitview.getViewSize(f));this.list=this.disposables.add(new C.List(i,this.domNode,v(r),[c],a)),I.Event.any(...s.map(f=>f.onDidLayout))(([f,p])=>c.layoutColumn(f,p),null,this.disposables),this.splitview.onDidSashReset(f=>{const p=l.reduce((m,h)=>m+h.weight,0),_=l[f].weight/p*this.cachedWidth;this.splitview.resizeView(f,_)},null,this.disposables),this.styleElement=(0,w.createStyleSheet)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(i){this.list.updateOptions(i)}splice(i,t,r=[]){this.list.splice(i,t,r)}getHTMLElement(){return this.domNode}style(i){const t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=t.join(`
`),this.list.style(i)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}e.Table=g,g.InstanceCount=0}),define(re[162],ae([1,0,68,27,31,6,350]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Toggle=void 0;const L={inputActiveOptionBorder:k.Color.fromHex("#007ACC00"),inputActiveOptionForeground:k.Color.fromHex("#FFFFFF"),inputActiveOptionBackground:k.Color.fromHex("#0E639C50")};class b extends w.Widget{constructor(u){super();this._onChange=this._register(new I.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new I.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},L),u),this._checked=this._opts.isChecked;const g=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,g.push(...C.CSSIcon.asClassNameArray(this._icon))),this._opts.actionClassName&&g.push(...this._opts.actionClassName.split(" ")),this._checked&&g.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...g),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,n=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),n.preventDefault())}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,n=>{if(n.keyCode===10||n.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),n.preventDefault(),n.stopPropagation();return}this._onKeyDown.fire(n)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(u){this._checked=u,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(u){u.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=u.inputActiveOptionBorder),u.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=u.inputActiveOptionForeground),u.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=u.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}e.Toggle=b}),define(re[262],ae([1,0,162,27,464]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexToggle=e.WholeWordsToggle=e.CaseSensitiveToggle=void 0;const I=k.localize(0,null),L=k.localize(1,null),b=k.localize(2,null);class v extends w.Toggle{constructor(i){super({icon:C.Codicon.caseSensitive,title:I+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.CaseSensitiveToggle=v;class u extends w.Toggle{constructor(i){super({icon:C.Codicon.wholeWord,title:L+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.WholeWordsToggle=u;class g extends w.Toggle{constructor(i){super({icon:C.Codicon.regex,title:b+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.RegexToggle=g}),define(re[263],ae([1,0,7,262,199,68,6,463,227]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const v=b.localize(0,null);class u extends I.Widget{constructor(n,i,t,r){var l;super();this._showOptionButtons=t,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalToggles=[],this._onDidOptionChange=this._register(new L.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new L.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new L.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new L.Emitter),this._onKeyUp=this._register(new L.Emitter),this._onCaseSensitiveKeyDown=this._register(new L.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new L.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=i,this.placeholder=r.placeholder||"",this.validation=r.validation,this.label=r.label||v,this.inputActiveOptionBorder=r.inputActiveOptionBorder,this.inputActiveOptionForeground=r.inputActiveOptionForeground,this.inputActiveOptionBackground=r.inputActiveOptionBackground,this.inputBackground=r.inputBackground,this.inputForeground=r.inputForeground,this.inputBorder=r.inputBorder,this.inputValidationInfoBorder=r.inputValidationInfoBorder,this.inputValidationInfoBackground=r.inputValidationInfoBackground,this.inputValidationInfoForeground=r.inputValidationInfoForeground,this.inputValidationWarningBorder=r.inputValidationWarningBorder,this.inputValidationWarningBackground=r.inputValidationWarningBackground,this.inputValidationWarningForeground=r.inputValidationWarningForeground,this.inputValidationErrorBorder=r.inputValidationErrorBorder,this.inputValidationErrorBackground=r.inputValidationErrorBackground,this.inputValidationErrorForeground=r.inputValidationErrorForeground;const d=r.appendCaseSensitiveLabel||"",a=r.appendWholeWordsLabel||"",s=r.appendRegexLabel||"",o=r.history||[],c=!!r.flexibleHeight,f=!!r.flexibleWidth,p=r.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new k.HistoryInputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:o,showHistoryHint:r.showHistoryHint,flexibleHeight:c,flexibleWidth:f,flexibleMaxHeight:p})),this.regex=this._register(new C.RegexToggle({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(m=>{this._onDidOptionChange.fire(m),!m&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(m=>{this._onRegexKeyDown.fire(m)})),this.wholeWords=this._register(new C.WholeWordsToggle({appendTitle:a,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(m=>{this._onDidOptionChange.fire(m),!m&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new C.CaseSensitiveToggle({appendTitle:d,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(m=>{this._onDidOptionChange.fire(m),!m&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(m=>{this._onCaseSensitiveKeyDown.fire(m)}));const _=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,m=>{if(m.equals(15)||m.equals(17)||m.equals(9)){const h=_.indexOf(document.activeElement);if(h>=0){let S=-1;m.equals(17)?S=(h+1)%_.length:m.equals(15)&&(h===0?S=_.length-1:S=h-1),m.equals(9)?(_[h].blur(),this.inputBox.focus()):S>=0&&_[S].focus(),w.EventHelper.stop(m,!0)}}}),this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this._showOptionButtons?"block":"none",this.controls.appendChild(this.caseSensitive.domNode),this.controls.appendChild(this.wholeWords.domNode),this.controls.appendChild(this.regex.domNode),this._showOptionButtons||(this.caseSensitive.domNode.style.display="none",this.wholeWords.domNode.style.display="none",this.regex.domNode.style.display="none");for(const m of(l=r==null?void 0:r.additionalToggles)!==null&&l!==void 0?l:[])this._register(m),this.controls.appendChild(m.domNode),this._register(m.onChange(h=>{this._onDidOptionChange.fire(h),!h&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(m);this.additionalToggles.length>0&&(this.controls.style.display="block"),this.inputBox.paddingRight=(this._showOptionButtons?this.caseSensitive.width()+this.wholeWords.width()+this.regex.width():0)+this.additionalToggles.reduce((m,h)=>m+h.width(),0),this.domNode.appendChild(this.controls),n==null||n.appendChild(this.domNode),this._register(w.addDisposableListener(this.inputBox.inputElement,"compositionstart",m=>{this.imeSessionInProgress=!0})),this._register(w.addDisposableListener(this.inputBox.inputElement,"compositionend",m=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,m=>this._onKeyDown.fire(m)),this.onkeyup(this.inputBox.inputElement,m=>this._onKeyUp.fire(m)),this.oninput(this.inputBox.inputElement,m=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,m=>this._onMouseDown.fire(m))}get onDidChange(){return this.inputBox.onDidChange}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable();for(const n of this.additionalToggles)n.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable();for(const n of this.additionalToggles)n.disable()}setFocusInputOnOptionClick(n){this.fixFocusOnOptionClickEnabled=n}setEnabled(n){n?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(n){this.inputBox.value!==n&&(this.inputBox.value=n)}style(n){this.inputActiveOptionBorder=n.inputActiveOptionBorder,this.inputActiveOptionForeground=n.inputActiveOptionForeground,this.inputActiveOptionBackground=n.inputActiveOptionBackground,this.inputBackground=n.inputBackground,this.inputForeground=n.inputForeground,this.inputBorder=n.inputBorder,this.inputValidationInfoBackground=n.inputValidationInfoBackground,this.inputValidationInfoForeground=n.inputValidationInfoForeground,this.inputValidationInfoBorder=n.inputValidationInfoBorder,this.inputValidationWarningBackground=n.inputValidationWarningBackground,this.inputValidationWarningForeground=n.inputValidationWarningForeground,this.inputValidationWarningBorder=n.inputValidationWarningBorder,this.inputValidationErrorBackground=n.inputValidationErrorBackground,this.inputValidationErrorForeground=n.inputValidationErrorForeground,this.inputValidationErrorBorder=n.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const n={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(n),this.wholeWords.style(n),this.caseSensitive.style(n);for(const t of this.additionalToggles)t.style(n);const i={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(i)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(n){this.caseSensitive.checked=n}getWholeWords(){return this.wholeWords.checked}setWholeWords(n){this.wholeWords.checked=n}getRegex(){return this.regex.checked}setRegex(n){this.regex.checked=n,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(n){this.inputBox.showMessage(n)}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=u}),define(re[493],ae([1,0,7,162,199,68,27,6,465,227]),function($,e,w,C,k,I,L,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=e.PreserveCaseToggle=void 0;const u=v.localize(0,null),g=v.localize(1,null);class n extends C.Toggle{constructor(r){super({icon:L.Codicon.preserveCase,title:g+r.appendTitle,isChecked:r.isChecked,inputActiveOptionBorder:r.inputActiveOptionBorder,inputActiveOptionForeground:r.inputActiveOptionForeground,inputActiveOptionBackground:r.inputActiveOptionBackground})}}e.PreserveCaseToggle=n;class i extends I.Widget{constructor(r,l,d,a){super();this._showOptionButtons=d,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new b.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new b.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new b.Emitter),this._onInput=this._register(new b.Emitter),this._onKeyUp=this._register(new b.Emitter),this._onPreserveCaseKeyDown=this._register(new b.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=l,this.placeholder=a.placeholder||"",this.validation=a.validation,this.label=a.label||u,this.inputActiveOptionBorder=a.inputActiveOptionBorder,this.inputActiveOptionForeground=a.inputActiveOptionForeground,this.inputActiveOptionBackground=a.inputActiveOptionBackground,this.inputBackground=a.inputBackground,this.inputForeground=a.inputForeground,this.inputBorder=a.inputBorder,this.inputValidationInfoBorder=a.inputValidationInfoBorder,this.inputValidationInfoBackground=a.inputValidationInfoBackground,this.inputValidationInfoForeground=a.inputValidationInfoForeground,this.inputValidationWarningBorder=a.inputValidationWarningBorder,this.inputValidationWarningBackground=a.inputValidationWarningBackground,this.inputValidationWarningForeground=a.inputValidationWarningForeground,this.inputValidationErrorBorder=a.inputValidationErrorBorder,this.inputValidationErrorBackground=a.inputValidationErrorBackground,this.inputValidationErrorForeground=a.inputValidationErrorForeground;const s=a.appendPreserveCaseLabel||"",o=a.history||[],c=!!a.flexibleHeight,f=!!a.flexibleWidth,p=a.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new k.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:o,showHistoryHint:a.showHistoryHint,flexibleHeight:c,flexibleWidth:f,flexibleMaxHeight:p})),this.preserveCase=this._register(new n({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(h=>{this._onDidOptionChange.fire(h),!h&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(h=>{this._onPreserveCaseKeyDown.fire(h)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const _=[this.preserveCase.domNode];this.onkeydown(this.domNode,h=>{if(h.equals(15)||h.equals(17)||h.equals(9)){const S=_.indexOf(document.activeElement);if(S>=0){let y=-1;h.equals(17)?y=(S+1)%_.length:h.equals(15)&&(S===0?y=_.length-1:y=S-1),h.equals(9)?(_[S].blur(),this.inputBox.focus()):y>=0&&_[y].focus(),w.EventHelper.stop(h,!0)}}});const m=document.createElement("div");m.className="controls",m.style.display=this._showOptionButtons?"block":"none",m.appendChild(this.preserveCase.domNode),this.domNode.appendChild(m),r==null||r.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,h=>this._onKeyDown.fire(h)),this.onkeyup(this.inputBox.inputElement,h=>this._onKeyUp.fire(h)),this.oninput(this.inputBox.inputElement,h=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,h=>this._onMouseDown.fire(h))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(r){r?this.enable():this.disable()}style(r){this.inputActiveOptionBorder=r.inputActiveOptionBorder,this.inputActiveOptionForeground=r.inputActiveOptionForeground,this.inputActiveOptionBackground=r.inputActiveOptionBackground,this.inputBackground=r.inputBackground,this.inputForeground=r.inputForeground,this.inputBorder=r.inputBorder,this.inputValidationInfoBackground=r.inputValidationInfoBackground,this.inputValidationInfoForeground=r.inputValidationInfoForeground,this.inputValidationInfoBorder=r.inputValidationInfoBorder,this.inputValidationWarningBackground=r.inputValidationWarningBackground,this.inputValidationWarningForeground=r.inputValidationWarningForeground,this.inputValidationWarningBorder=r.inputValidationWarningBorder,this.inputValidationErrorBackground=r.inputValidationErrorBackground,this.inputValidationErrorForeground=r.inputValidationErrorForeground,this.inputValidationErrorBorder=r.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const r={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(r);const l={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(l)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(r){this.preserveCase.checked=r}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(r){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=r,this.domNode.style.width=r+"px"}dispose(){super.dispose()}}e.ReplaceInput=i}),define(re[163],ae([1,0,7,100,48,83,263,200,113,162,193,121,43,18,10,27,327,6,63,2,124,19,469,351]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.TreeFindMode=e.ModeToggle=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class _ extends b.ElementsDragAndDropData{constructor(H){super(H.elements.map(q=>q.element));this.data=H}}function m(J){return J instanceof b.ElementsDragAndDropData?new _(J):J}class h{constructor(H,q){this.modelProvider=H,this.dnd=q,this.autoExpandDisposable=o.Disposable.None}getDragURI(H){return this.dnd.getDragURI(H.element)}getDragLabel(H,q){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(H.map(Z=>Z.element),q)}onDragStart(H,q){var Z,ie;(ie=(Z=this.dnd).onDragStart)===null||ie===void 0||ie.call(Z,m(H),q)}onDragOver(H,q,Z,ie,Y=!0){const te=this.dnd.onDragOver(m(H),q&&q.element,Z,ie),de=this.autoExpandNode!==q;if(de&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=q),typeof q=="undefined")return te;if(de&&typeof te!="boolean"&&te.autoExpand&&(this.autoExpandDisposable=(0,r.disposableTimeout)(()=>{const se=this.modelProvider(),z=se.getNodeLocation(q);se.isCollapsed(z)&&se.setCollapsed(z,!1),this.autoExpandNode=void 0},500)),typeof te=="boolean"||!te.accept||typeof te.bubble=="undefined"||te.feedback){if(!Y){const se=typeof te=="boolean"?te:te.accept,z=typeof te=="boolean"?void 0:te.effect;return{accept:se,effect:z,feedback:[Z]}}return te}if(te.bubble===1){const se=this.modelProvider(),z=se.getNodeLocation(q),X=se.getParentNodeLocation(z),G=se.getNode(X),U=X&&se.getListIndex(X);return this.onDragOver(H,G,U,ie,!1)}const x=this.modelProvider(),oe=x.getNodeLocation(q),ne=x.getListIndex(oe),j=x.getListRenderCount(oe);return Object.assign(Object.assign({},te),{feedback:(0,t.range)(ne,ne+j)})}drop(H,q,Z,ie){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(m(H),q&&q.element,Z,ie)}onDragEnd(H){var q,Z;(Z=(q=this.dnd).onDragEnd)===null||Z===void 0||Z.call(q,H)}}function S(J,H){return H&&Object.assign(Object.assign({},H),{identityProvider:H.identityProvider&&{getId(q){return H.identityProvider.getId(q.element)}},dnd:H.dnd&&new h(J,H.dnd),multipleSelectionController:H.multipleSelectionController&&{isSelectionSingleChangeEvent(q){return H.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},q),{element:q.element}))},isSelectionRangeChangeEvent(q){return H.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},q),{element:q.element}))}},accessibilityProvider:H.accessibilityProvider&&Object.assign(Object.assign({},H.accessibilityProvider),{getSetSize(q){const Z=J(),ie=Z.getNodeLocation(q),Y=Z.getParentNodeLocation(ie);return Z.getNode(Y).visibleChildrenCount},getPosInSet(q){return q.visibleChildIndex+1},isChecked:H.accessibilityProvider&&H.accessibilityProvider.isChecked?q=>H.accessibilityProvider.isChecked(q.element):void 0,getRole:H.accessibilityProvider&&H.accessibilityProvider.getRole?q=>H.accessibilityProvider.getRole(q.element):()=>"treeitem",getAriaLabel(q){return H.accessibilityProvider.getAriaLabel(q.element)},getWidgetAriaLabel(){return H.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:H.accessibilityProvider&&H.accessibilityProvider.getWidgetRole?()=>H.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:H.accessibilityProvider&&H.accessibilityProvider.getAriaLevel?q=>H.accessibilityProvider.getAriaLevel(q.element):q=>q.depth,getActiveDescendantId:H.accessibilityProvider.getActiveDescendantId&&(q=>H.accessibilityProvider.getActiveDescendantId(q.element))}),keyboardNavigationLabelProvider:H.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},H.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(q){return H.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(q.element)}})})}class y{constructor(H){this.delegate=H}getHeight(H){return this.delegate.getHeight(H.element)}getTemplateId(H){return this.delegate.getTemplateId(H.element)}hasDynamicHeight(H){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(H.element)}setDynamicHeight(H,q){var Z,ie;(ie=(Z=this.delegate).setDynamicHeight)===null||ie===void 0||ie.call(Z,H.element,q)}}e.ComposedTreeDelegate=y;var E;(function(J){J.None="none",J.OnHover="onHover",J.Always="always"})(E=e.RenderIndentGuides||(e.RenderIndentGuides={}));class N{constructor(H,q=[]){this._elements=q,this.disposables=new o.DisposableStore,this.onDidChange=a.Event.forEach(H,Z=>this._elements=Z,this.disposables)}get elements(){return this._elements}dispose(){this.disposables.dispose()}}class T{constructor(H,q,Z,ie,Y={}){var te;this.renderer=H,this.modelProvider=q,this.activeNodes=ie,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=T.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new d.SetMap,this.activeIndentNodes=new Set,this.indentGuidesDisposable=o.Disposable.None,this.disposables=new o.DisposableStore,this.templateId=H.templateId,this.updateOptions(Y),a.Event.map(Z,de=>de.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(te=H.onDidChangeTwistieState)===null||te===void 0||te.call(H,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(H={}){if(typeof H.indent!="undefined"&&(this.indent=(0,c.clamp)(H.indent,0,40)),typeof H.renderIndentGuides!="undefined"){const q=H.renderIndentGuides!==E.None;if(q!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=q,this.indentGuidesDisposable.dispose(),q)){const Z=new o.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,Z),this.indentGuidesDisposable=Z,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof H.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=H.hideTwistiesOfChildlessElements)}renderTemplate(H){const q=(0,w.append)(H,(0,w.$)(".monaco-tl-row")),Z=(0,w.append)(q,(0,w.$)(".monaco-tl-indent")),ie=(0,w.append)(q,(0,w.$)(".monaco-tl-twistie")),Y=(0,w.append)(q,(0,w.$)(".monaco-tl-contents")),te=this.renderer.renderTemplate(Y);return{container:H,indent:Z,twistie:ie,indentGuidesDisposable:o.Disposable.None,templateData:te}}renderElement(H,q,Z,ie){typeof ie=="number"&&(this.renderedNodes.set(H,{templateData:Z,height:ie}),this.renderedElements.set(H.element,H));const Y=T.DefaultIndent+(H.depth-1)*this.indent;Z.twistie.style.paddingLeft=`${Y}px`,Z.indent.style.width=`${Y+this.indent-16}px`,this.renderTwistie(H,Z),typeof ie=="number"&&this.renderIndentGuides(H,Z),this.renderer.renderElement(H,q,Z.templateData,ie)}disposeElement(H,q,Z,ie){var Y,te;Z.indentGuidesDisposable.dispose(),(te=(Y=this.renderer).disposeElement)===null||te===void 0||te.call(Y,H,q,Z.templateData,ie),typeof ie=="number"&&(this.renderedNodes.delete(H),this.renderedElements.delete(H.element))}disposeTemplate(H){this.renderer.disposeTemplate(H.templateData)}onDidChangeTwistieState(H){const q=this.renderedElements.get(H);!q||this.onDidChangeNodeTwistieState(q)}onDidChangeNodeTwistieState(H){const q=this.renderedNodes.get(H);!q||(this.renderTwistie(H,q.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(H,q.templateData))}renderTwistie(H,q){q.twistie.classList.remove(...l.Codicon.treeItemExpanded.classNamesArray);let Z=!1;this.renderer.renderTwistie&&(Z=this.renderer.renderTwistie(H.element,q.twistie)),H.collapsible&&(!this.hideTwistiesOfChildlessElements||H.visibleChildrenCount>0)?(Z||q.twistie.classList.add(...l.Codicon.treeItemExpanded.classNamesArray),q.twistie.classList.add("collapsible"),q.twistie.classList.toggle("collapsed",H.collapsed)):q.twistie.classList.remove("collapsible","collapsed"),H.collapsible?q.container.setAttribute("aria-expanded",String(!H.collapsed)):q.container.removeAttribute("aria-expanded")}renderIndentGuides(H,q){if((0,w.clearNode)(q.indent),q.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const Z=new o.DisposableStore,ie=this.modelProvider();let Y=H;for(;;){const te=ie.getNodeLocation(Y),de=ie.getParentNodeLocation(te);if(!de)break;const x=ie.getNode(de),oe=(0,w.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(x)&&oe.classList.add("active"),q.indent.childElementCount===0?q.indent.appendChild(oe):q.indent.insertBefore(oe,q.indent.firstElementChild),this.renderedIndentGuides.add(x,oe),Z.add((0,o.toDisposable)(()=>this.renderedIndentGuides.delete(x,oe))),Y=x}q.indentGuidesDisposable=Z}_onDidChangeActiveNodes(H){if(!this.shouldRenderIndentGuides)return;const q=new Set,Z=this.modelProvider();H.forEach(ie=>{const Y=Z.getNodeLocation(ie);try{const te=Z.getParentNodeLocation(Y);ie.collapsible&&ie.children.length>0&&!ie.collapsed?q.add(ie):te&&q.add(Z.getNode(te))}catch{}}),this.activeIndentNodes.forEach(ie=>{q.has(ie)||this.renderedIndentGuides.forEach(ie,Y=>Y.classList.remove("active"))}),q.forEach(ie=>{this.activeIndentNodes.has(ie)||this.renderedIndentGuides.forEach(ie,Y=>Y.classList.add("active"))}),this.activeIndentNodes=q}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,o.dispose)(this.disposables)}}T.DefaultIndent=8;class R{constructor(H,q,Z){this.tree=H,this.keyboardNavigationLabelProvider=q,this._filter=Z,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new o.DisposableStore,H.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}filter(H,q){let Z=1;if(this._filter){const te=this._filter.filter(H,q);if(typeof te=="boolean"?Z=te?1:0:(0,g.isFilterResult)(te)?Z=(0,g.getVisibleState)(te.visibility):Z=te,Z===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:s.FuzzyScore.Default,visibility:Z};const ie=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(H),Y=Array.isArray(ie)?ie:[ie];for(const te of Y){const de=te&&te.toString();if(typeof de=="undefined")return{data:s.FuzzyScore.Default,visibility:Z};const x=(0,s.fuzzyScore)(this._pattern,this._lowercasePattern,0,de,de.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(x)return this._matchCount++,Y.length===1?{data:x,visibility:Z}:{data:{label:de,score:x},visibility:Z}}return this.tree.findMode===O.Filter?2:{data:s.FuzzyScore.Default,visibility:Z}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,o.dispose)(this.disposables)}}class F extends u.Toggle{constructor(H){var q;super({icon:l.Codicon.filter,title:(0,p.localize)(0,null),isChecked:(q=H==null?void 0:H.isChecked)!==null&&q!==void 0?q:!1,inputActiveOptionBorder:H==null?void 0:H.inputActiveOptionBorder,inputActiveOptionForeground:H==null?void 0:H.inputActiveOptionForeground,inputActiveOptionBackground:H==null?void 0:H.inputActiveOptionBackground})}}e.ModeToggle=F;var O;(function(J){J[J.Highlight=0]="Highlight",J[J.Filter=1]="Filter"})(O=e.TreeFindMode||(e.TreeFindMode={}));class D extends o.Disposable{constructor(H,q,Z,ie,Y){super();this.tree=q,this.elements=(0,w.h)(".monaco-tree-type-filter",[(0,w.h)(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),(0,w.h)(".monaco-tree-type-filter-input@findInput"),(0,w.h)(".monaco-tree-type-filter-actionbar@actionbar")]),this.width=0,this.right=0,this._onDidDisable=new a.Emitter,H.appendChild(this.elements.root),this._register((0,o.toDisposable)(()=>H.removeChild(this.elements.root))),this.modeToggle=this._register(new F(Object.assign(Object.assign({},Y),{isChecked:ie===O.Filter}))),this.onDidChangeMode=a.Event.map(this.modeToggle.onChange,()=>this.modeToggle.checked?O.Filter:O.Highlight,this._store),this.findInput=this._register(new L.FindInput(this.elements.findInput,Z,!1,{label:(0,p.localize)(3,null),additionalToggles:[this.modeToggle]})),this.actionbar=this._register(new I.ActionBar(this.elements.actionbar)),this.mode=ie;const te=this._register(new C.DomEmitter(this.findInput.inputBox.inputElement,"keydown")),de=this._register(a.Event.chain(te.event)).map(j=>new k.StandardKeyboardEvent(j)).event;this._register(de(j=>{switch(j.keyCode){case 18:j.preventDefault(),j.stopPropagation(),this.tree.domFocus();return}}));const x=this._register(new i.Action("close",(0,p.localize)(4,null),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(x,{icon:!0,label:!1});const oe=this._register(new C.DomEmitter(this.elements.grab,"mousedown"));this._register(oe.event(j=>{const se=new o.DisposableStore,z=se.add(new C.DomEmitter(window,"mousemove")),X=se.add(new C.DomEmitter(window,"mouseup")),G=this.right,U=j.pageX;this.elements.grab.classList.add("grabbing");const K=ce=>{const ee=ce.pageX-U;this.right=G-ee,this.layout()};se.add(z.event(K)),se.add(X.event(ce=>{K(ce),this.elements.grab.classList.remove("grabbing"),se.dispose()}))}));const ne=this._register(a.Event.chain(this._register(new C.DomEmitter(this.elements.grab,"keydown")).event)).map(j=>new k.StandardKeyboardEvent(j)).event;this._register(ne(j=>{let se;j.keyCode===15?se=Number.POSITIVE_INFINITY:j.keyCode===17?se=0:j.keyCode===10&&(se=this.right===0?Number.POSITIVE_INFINITY:0),se!==void 0&&(j.preventDefault(),j.stopPropagation(),this.right=se,this.layout())})),this.onDidChangeValue=this.findInput.onDidChange,this.style(Y??{})}set mode(H){this.modeToggle.checked=H===O.Filter,this.findInput.inputBox.setPlaceHolder(H===O.Filter?(0,p.localize)(1,null):(0,p.localize)(2,null))}style(H){this.findInput.style(H),H.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=H.listFilterWidgetBackground.toString()),H.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${H.listFilterWidgetShadow}`)}layout(H=this.width){this.width=H,this.right=(0,c.clamp)(this.right,0,Math.max(0,H-212)),this.elements.root.style.right=`${this.right}px`}showMessage(H){this.findInput.showMessage(H)}clearMessage(){this.findInput.clearMessage()}dispose(){const H=Object.create(null,{dispose:{get:()=>super.dispose}});return Se(this,void 0,void 0,function*(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),yield(0,r.timeout)(300),H.dispose.call(this)})}}class M{constructor(H,q,Z,ie,Y){var te;this.tree=H,this.view=Z,this.filter=ie,this.contextViewProvider=Y,this._pattern="",this.width=0,this._onDidChangeMode=new a.Emitter,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangePattern=new a.Emitter,this._onDidChangeOpenState=new a.Emitter,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new o.DisposableStore,this.disposables=new o.DisposableStore,this._mode=(te=H.options.defaultFindMode)!==null&&te!==void 0?te:O.Highlight,q.onDidSplice(this.onDidSpliceModel,this,this.disposables)}get pattern(){return this._pattern}get mode(){return this._mode}set mode(H){H!==this._mode&&(this._mode=H,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(H))}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var H,q;const Z=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&Z?(H=this.widget)===null||H===void 0||H.showMessage({type:2,content:(0,p.localize)(5,null)}):(q=this.widget)===null||q===void 0||q.clearMessage()}shouldAllowFocus(H){return!this.widget||!this.pattern||this._mode===O.Filter||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!s.FuzzyScore.isDefault(H.filterData)}style(H){var q;this.styles=H,(q=this.widget)===null||q===void 0||q.style(H)}layout(H){var q;this.width=H,(q=this.widget)===null||q===void 0||q.layout(H)}dispose(){this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function P(J){let H=n.TreeMouseEventTarget.Unknown;return(0,w.hasParentWithClass)(J.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?H=n.TreeMouseEventTarget.Twistie:(0,w.hasParentWithClass)(J.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?H=n.TreeMouseEventTarget.Element:(0,w.hasParentWithClass)(J.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(H=n.TreeMouseEventTarget.Filter),{browserEvent:J.browserEvent,element:J.element?J.element.element:null,target:H}}function B(J,H){H(J),J.children.forEach(q=>B(q,H))}class W{constructor(H,q){this.getFirstViewElementWithTrait=H,this.identityProvider=q,this.nodes=[],this._onDidChange=new a.Emitter,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(H,q){!(q==null?void 0:q.__forceEvent)&&(0,t.equals)(this.nodes,H)||this._set(H,!1,q)}_set(H,q,Z){if(this.nodes=[...H],this.elements=void 0,this._nodeSet=void 0,!q){const ie=this;this._onDidChange.fire({get elements(){return ie.get()},browserEvent:Z})}}get(){return this.elements||(this.elements=this.nodes.map(H=>H.element)),[...this.elements]}getNodes(){return this.nodes}has(H){return this.nodeSet.has(H)}onDidModelSplice({insertedNodes:H,deletedNodes:q}){if(!this.identityProvider){const x=this.createNodeSet(),oe=ne=>x.delete(ne);q.forEach(ne=>B(ne,oe)),this.set([...x.values()]);return}const Z=new Set,ie=x=>Z.add(this.identityProvider.getId(x.element).toString());q.forEach(x=>B(x,ie));const Y=new Map,te=x=>Y.set(this.identityProvider.getId(x.element).toString(),x);H.forEach(x=>B(x,te));const de=[];for(const x of this.nodes){const oe=this.identityProvider.getId(x.element).toString();if(!Z.has(oe))de.push(x);else{const j=Y.get(oe);j&&de.push(j)}}if(this.nodes.length>0&&de.length===0){const x=this.getFirstViewElementWithTrait();x&&de.push(x)}this._set(de,!0)}createNodeSet(){const H=new Set;for(const q of this.nodes)H.add(q);return H}}class V extends v.MouseController{constructor(H,q){super(H);this.tree=q}onViewPointer(H){if((0,v.isButton)(H.browserEvent.target)||(0,v.isInputElement)(H.browserEvent.target)||(0,v.isMonacoEditor)(H.browserEvent.target))return;const q=H.element;if(!q)return super.onViewPointer(H);if(this.isSelectionRangeChangeEvent(H)||this.isSelectionSingleChangeEvent(H))return super.onViewPointer(H);const Z=H.browserEvent.target,ie=Z.classList.contains("monaco-tl-twistie")||Z.classList.contains("monaco-icon-label")&&Z.classList.contains("folder-icon")&&H.browserEvent.offsetX<16;let Y=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?Y=this.tree.expandOnlyOnTwistieClick(q.element):Y=!!this.tree.expandOnlyOnTwistieClick,Y&&!ie&&H.browserEvent.detail!==2)return super.onViewPointer(H);if(!this.tree.expandOnDoubleClick&&H.browserEvent.detail===2)return super.onViewPointer(H);if(q.collapsible){const te=this.tree.model,de=te.getNodeLocation(q),x=H.browserEvent.altKey;if(this.tree.setFocus([de]),te.setCollapsed(de,void 0,x),Y&&ie)return}super.onViewPointer(H)}onDoubleClick(H){H.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(H)}}class A extends v.List{constructor(H,q,Z,ie,Y,te,de,x){super(H,q,Z,ie,x);this.focusTrait=Y,this.selectionTrait=te,this.anchorTrait=de}createMouseController(H){return new V(this,H.tree)}splice(H,q,Z=[]){if(super.splice(H,q,Z),Z.length===0)return;const ie=[],Y=[];let te;Z.forEach((de,x)=>{this.focusTrait.has(de)&&ie.push(H+x),this.selectionTrait.has(de)&&Y.push(H+x),this.anchorTrait.has(de)&&(te=H+x)}),ie.length>0&&super.setFocus((0,t.distinct)([...super.getFocus(),...ie])),Y.length>0&&super.setSelection((0,t.distinct)([...super.getSelection(),...Y])),typeof te=="number"&&super.setAnchor(te)}setFocus(H,q,Z=!1){super.setFocus(H,q),Z||this.focusTrait.set(H.map(ie=>this.element(ie)),q)}setSelection(H,q,Z=!1){super.setSelection(H,q),Z||this.selectionTrait.set(H.map(ie=>this.element(ie)),q)}setAnchor(H,q=!1){super.setAnchor(H),q||(typeof H=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(H)]))}}class Q{constructor(H,q,Z,ie,Y={}){var te;this._user=H,this._options=Y,this.eventBufferer=new a.EventBufferer,this.onDidChangeFindOpenState=a.Event.None,this.disposables=new o.DisposableStore,this._onWillRefilter=new a.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new a.Emitter;const de=new y(Z),x=new a.Relay,oe=new a.Relay,ne=this.disposables.add(new N(oe.event));this.renderers=ie.map(z=>new T(z,()=>this.model,x.event,ne,Y));for(const z of this.renderers)this.disposables.add(z);let j;Y.keyboardNavigationLabelProvider&&(j=new R(this,Y.keyboardNavigationLabelProvider,Y.filter),Y=Object.assign(Object.assign({},Y),{filter:j}),this.disposables.add(j)),this.focus=new W(()=>this.view.getFocusedElements()[0],Y.identityProvider),this.selection=new W(()=>this.view.getSelectedElements()[0],Y.identityProvider),this.anchor=new W(()=>this.view.getAnchorElement(),Y.identityProvider),this.view=new A(H,q,de,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},S(()=>this.model,Y)),{tree:this})),this.model=this.createModel(H,this.view,Y),x.input=this.model.onDidChangeCollapseState;const se=a.Event.forEach(this.model.onDidSplice,z=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(z),this.selection.onDidModelSplice(z)})},this.disposables);if(se(()=>null,null,this.disposables),oe.input=a.Event.chain(a.Event.any(se,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const z=new Set;for(const X of this.focus.getNodes())z.add(X);for(const X of this.selection.getNodes())z.add(X);return[...z.values()]}).event,Y.keyboardSupport!==!1){const z=a.Event.chain(this.view.onKeyDown).filter(X=>!(0,v.isInputElement)(X.target)).map(X=>new k.StandardKeyboardEvent(X));z.filter(X=>X.keyCode===15).on(this.onLeftArrow,this,this.disposables),z.filter(X=>X.keyCode===17).on(this.onRightArrow,this,this.disposables),z.filter(X=>X.keyCode===10).on(this.onSpace,this,this.disposables)}((te=Y.findWidgetEnabled)!==null&&te!==void 0?te:!0)&&Y.keyboardNavigationLabelProvider&&Y.contextViewProvider?(this.findController=new M(this,this.model,this.view,j,Y.contextViewProvider),this.focusNavigationFilter=z=>this.findController.shouldAllowFocus(z),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode):this.onDidChangeFindMode=a.Event.None,this.styleElement=(0,w.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===E.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return a.Event.filter(a.Event.map(this.view.onMouseDblClick,P),H=>H.target!==n.TreeMouseEventTarget.Filter)}get onPointer(){return a.Event.map(this.view.onPointer,P)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return a.Event.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var H,q;return(q=(H=this.findController)===null||H===void 0?void 0:H.mode)!==null&&q!==void 0?q:O.Highlight}set findMode(H){this.findController&&(this.findController.mode=H)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(H={}){this._options=Object.assign(Object.assign({},this._options),H);for(const q of this.renderers)q.updateOptions(H);this.view.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===E.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(H){this.view.scrollTop=H}domFocus(){this.view.domFocus()}layout(H,q){var Z;this.view.layout(H,q),(0,f.isNumber)(q)&&((Z=this.findController)===null||Z===void 0||Z.layout(q))}style(H){var q;const Z=`.${this.view.domId}`,ie=[];H.treeIndentGuidesStroke&&(ie.push(`.monaco-list${Z}:hover .monaco-tl-indent > .indent-guide, .monaco-list${Z}.always .monaco-tl-indent > .indent-guide  { border-color: ${H.treeIndentGuidesStroke.transparent(.4)}; }`),ie.push(`.monaco-list${Z} .monaco-tl-indent > .indent-guide.active { border-color: ${H.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=ie.join(`
`),(q=this.findController)===null||q===void 0||q.style(H),this.view.style(H)}getParentElement(H){const q=this.model.getParentNodeLocation(H);return this.model.getNode(q).element}getFirstElementChild(H){return this.model.getFirstElementChild(H)}getNode(H){return this.model.getNode(H)}collapse(H,q=!1){return this.model.setCollapsed(H,!0,q)}expand(H,q=!1){return this.model.setCollapsed(H,!1,q)}isCollapsible(H){return this.model.isCollapsible(H)}setCollapsible(H,q){return this.model.setCollapsible(H,q)}isCollapsed(H){return this.model.isCollapsed(H)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(H,q){const Z=H.map(Y=>this.model.getNode(Y));this.selection.set(Z,q);const ie=H.map(Y=>this.model.getListIndex(Y)).filter(Y=>Y>-1);this.view.setSelection(ie,q,!0)}getSelection(){return this.selection.get()}setFocus(H,q){const Z=H.map(Y=>this.model.getNode(Y));this.focus.set(Z,q);const ie=H.map(Y=>this.model.getListIndex(Y)).filter(Y=>Y>-1);this.view.setFocus(ie,q,!0)}getFocus(){return this.focus.get()}reveal(H,q){this.model.expandTo(H);const Z=this.model.getListIndex(H);Z!==-1&&this.view.reveal(Z,q)}onLeftArrow(H){H.preventDefault(),H.stopPropagation();const q=this.view.getFocusedElements();if(q.length===0)return;const Z=q[0],ie=this.model.getNodeLocation(Z);if(!this.model.setCollapsed(ie,!0)){const te=this.model.getParentNodeLocation(ie);if(!te)return;const de=this.model.getListIndex(te);this.view.reveal(de),this.view.setFocus([de])}}onRightArrow(H){H.preventDefault(),H.stopPropagation();const q=this.view.getFocusedElements();if(q.length===0)return;const Z=q[0],ie=this.model.getNodeLocation(Z);if(!this.model.setCollapsed(ie,!1)){if(!Z.children.some(x=>x.visible))return;const[te]=this.view.getFocus(),de=te+1;this.view.reveal(de),this.view.setFocus([de])}}onSpace(H){H.preventDefault(),H.stopPropagation();const q=this.view.getFocusedElements();if(q.length===0)return;const Z=q[0],ie=this.model.getNodeLocation(Z),Y=H.browserEvent.altKey;this.model.setCollapsed(ie,void 0,Y)}dispose(){(0,o.dispose)(this.disposables),this.view.dispose()}}e.AbstractTree=Q}),define(re[494],ae([1,0,163,194]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class k extends w.AbstractTree{constructor(L,b,v,u,g,n={}){super(L,b,v,u,n);this.user=L,this.dataSource=g,this.identityProvider=n.identityProvider}createModel(L,b,v){return new C.ObjectTreeModel(L,b,v)}}e.DataTree=k}),define(re[264],ae([1,0,163,479,194,103,55]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class b extends w.AbstractTree{constructor(i,t,r,l,d={}){super(i,t,r,l,d);this.user=i}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(i,t=L.Iterable.empty(),r){this.model.setChildren(i,t,r)}rerender(i){if(i===void 0){this.view.rerender();return}this.model.rerender(i)}hasElement(i){return this.model.has(i)}createModel(i,t,r){return new k.ObjectTreeModel(i,t,r)}}e.ObjectTree=b;class v{constructor(i,t){this._compressedTreeNodeProvider=i,this.renderer=t,this.templateId=t.templateId,t.onDidChangeTwistieState&&(this.onDidChangeTwistieState=t.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(i){const t=this.renderer.renderTemplate(i);return{compressedTreeNode:void 0,data:t}}renderElement(i,t,r,l){const d=this.compressedTreeNodeProvider.getCompressedTreeNode(i.element);d.element.elements.length===1?(r.compressedTreeNode=void 0,this.renderer.renderElement(i,t,r.data,l)):(r.compressedTreeNode=d,this.renderer.renderCompressedElements(d,t,r.data,l))}disposeElement(i,t,r,l){var d,a,s,o;r.compressedTreeNode?(a=(d=this.renderer).disposeCompressedElements)===null||a===void 0||a.call(d,r.compressedTreeNode,t,r.data,l):(o=(s=this.renderer).disposeElement)===null||o===void 0||o.call(s,i,t,r.data,l)}disposeTemplate(i){this.renderer.disposeTemplate(i.data)}renderTwistie(i,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(i,t):!1}}ke([I.memoize],v.prototype,"compressedTreeNodeProvider",null);function u(n,i){return i&&Object.assign(Object.assign({},i),{keyboardNavigationLabelProvider:i.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let r;try{r=n().getCompressedTreeNode(t)}catch{return i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return r.element.elements.length===1?i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):i.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(r.element.elements)}}})}class g extends b{constructor(i,t,r,l,d={}){const a=()=>this,s=l.map(o=>new v(a,o));super(i,t,r,s,u(a,d))}setChildren(i,t=L.Iterable.empty(),r){this.model.setChildren(i,t,r)}createModel(i,t,r){return new C.CompressibleObjectTreeModel(i,t,r)}updateOptions(i={}){super.updateOptions(i),typeof i.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(i.compressionEnabled)}getCompressedTreeNode(i=null){return this.model.getCompressedTreeNode(i)}}e.CompressibleObjectTree=g}),define(re[495],ae([1,0,200,163,193,264,121,10,27,14,6,55,2,19]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function r(F){return Object.assign(Object.assign({},F),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function l(F,O){return O.parent?O.parent===F?!0:l(F,O.parent):!1}function d(F,O){return F===O||l(F,O)||l(O,F)}class a{constructor(O){this.node=O}get element(){return this.node.element.element}get children(){return this.node.children.map(O=>new a(O))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class s{constructor(O,D,M){this.renderer=O,this.nodeMapper=D,this.onDidChangeTwistieState=M,this.renderedNodes=new Map,this.templateId=O.templateId}renderTemplate(O){return{templateData:this.renderer.renderTemplate(O)}}renderElement(O,D,M,P){this.renderer.renderElement(this.nodeMapper.map(O),D,M.templateData,P)}renderTwistie(O,D){return O.slow?(D.classList.add(...v.Codicon.treeItemLoading.classNamesArray),!0):(D.classList.remove(...v.Codicon.treeItemLoading.classNamesArray),!1)}disposeElement(O,D,M,P){var B,W;(W=(B=this.renderer).disposeElement)===null||W===void 0||W.call(B,this.nodeMapper.map(O),D,M.templateData,P)}disposeTemplate(O){this.renderer.disposeTemplate(O.templateData)}dispose(){this.renderedNodes.clear()}}function o(F){return{browserEvent:F.browserEvent,elements:F.elements.map(O=>O.element)}}function c(F){return{browserEvent:F.browserEvent,element:F.element&&F.element.element,target:F.target}}class f extends w.ElementsDragAndDropData{constructor(O){super(O.elements.map(D=>D.element));this.data=O}}function p(F){return F instanceof w.ElementsDragAndDropData?new f(F):F}class _{constructor(O){this.dnd=O}getDragURI(O){return this.dnd.getDragURI(O.element)}getDragLabel(O,D){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(O.map(M=>M.element),D)}onDragStart(O,D){var M,P;(P=(M=this.dnd).onDragStart)===null||P===void 0||P.call(M,p(O),D)}onDragOver(O,D,M,P,B=!0){return this.dnd.onDragOver(p(O),D&&D.element,M,P)}drop(O,D,M,P){this.dnd.drop(p(O),D&&D.element,M,P)}onDragEnd(O){var D,M;(M=(D=this.dnd).onDragEnd)===null||M===void 0||M.call(D,O)}}function m(F){return F&&Object.assign(Object.assign({},F),{collapseByDefault:!0,identityProvider:F.identityProvider&&{getId(O){return F.identityProvider.getId(O.element)}},dnd:F.dnd&&new _(F.dnd),multipleSelectionController:F.multipleSelectionController&&{isSelectionSingleChangeEvent(O){return F.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},O),{element:O.element}))},isSelectionRangeChangeEvent(O){return F.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},O),{element:O.element}))}},accessibilityProvider:F.accessibilityProvider&&Object.assign(Object.assign({},F.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:F.accessibilityProvider.getRole?O=>F.accessibilityProvider.getRole(O.element):()=>"treeitem",isChecked:F.accessibilityProvider.isChecked?O=>{var D;return!!((D=F.accessibilityProvider)===null||D===void 0?void 0:D.isChecked(O.element))}:void 0,getAriaLabel(O){return F.accessibilityProvider.getAriaLabel(O.element)},getWidgetAriaLabel(){return F.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:F.accessibilityProvider.getWidgetRole?()=>F.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:F.accessibilityProvider.getAriaLevel&&(O=>F.accessibilityProvider.getAriaLevel(O.element)),getActiveDescendantId:F.accessibilityProvider.getActiveDescendantId&&(O=>F.accessibilityProvider.getActiveDescendantId(O.element))}),filter:F.filter&&{filter(O,D){return F.filter.filter(O.element,D)}},keyboardNavigationLabelProvider:F.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},F.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(O){return F.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(O.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof F.expandOnlyOnTwistieClick=="undefined"?void 0:typeof F.expandOnlyOnTwistieClick!="function"?F.expandOnlyOnTwistieClick:O=>F.expandOnlyOnTwistieClick(O.element),additionalScrollHeight:F.additionalScrollHeight})}function h(F,O){O(F),F.children.forEach(D=>h(D,O))}class S{constructor(O,D,M,P,B,W={}){this.user=O,this.dataSource=B,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new g.Emitter,this._onDidChangeNodeSlowState=new g.Emitter,this.nodeMapper=new L.WeakMapper(V=>new a(V)),this.disposables=new i.DisposableStore,this.identityProvider=W.identityProvider,this.autoExpandSingleChildren=typeof W.autoExpandSingleChildren=="undefined"?!1:W.autoExpandSingleChildren,this.sorter=W.sorter,this.collapseByDefault=W.collapseByDefault,this.tree=this.createTree(O,D,M,P,W),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=r({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return g.Event.map(this.tree.onDidChangeFocus,o)}get onDidChangeSelection(){return g.Event.map(this.tree.onDidChangeSelection,o)}get onMouseDblClick(){return g.Event.map(this.tree.onMouseDblClick,c)}get onPointer(){return g.Event.map(this.tree.onPointer,c)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}createTree(O,D,M,P,B){const W=new C.ComposedTreeDelegate(M),V=P.map(Q=>new s(Q,this.nodeMapper,this._onDidChangeNodeSlowState.event)),A=m(B)||{};return new I.ObjectTree(O,D,W,V,A)}updateOptions(O={}){this.tree.updateOptions(O)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(O){this.tree.scrollTop=O}domFocus(){this.tree.domFocus()}layout(O,D){this.tree.layout(O,D)}style(O){this.tree.style(O)}getInput(){return this.root.element}setInput(O,D){return Se(this,void 0,void 0,function*(){this.refreshPromises.forEach(P=>P.cancel()),this.refreshPromises.clear(),this.root.element=O;const M=D&&{viewState:D,focus:[],selection:[]};yield this._updateChildren(O,!0,!1,M),M&&(this.tree.setFocus(M.focus),this.tree.setSelection(M.selection)),D&&typeof D.scrollTop=="number"&&(this.scrollTop=D.scrollTop)})}_updateChildren(O=this.root.element,D=!0,M=!1,P,B){return Se(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new L.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield g.Event.toPromise(this._onDidRender.event));const W=this.getDataNode(O);if(yield this.refreshAndRenderNode(W,D,P,B),M)try{this.tree.rerender(W)}catch{}})}rerender(O){if(O===void 0||O===this.root.element){this.tree.rerender();return}const D=this.getDataNode(O);this.tree.rerender(D)}getNode(O=this.root.element){const D=this.getDataNode(O),M=this.tree.getNode(D===this.root?null:D);return this.nodeMapper.map(M)}collapse(O,D=!1){const M=this.getDataNode(O);return this.tree.collapse(M===this.root?null:M,D)}expand(O,D=!1){return Se(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new L.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield g.Event.toPromise(this._onDidRender.event));const M=this.getDataNode(O);if(this.tree.hasElement(M)&&!this.tree.isCollapsible(M)||(M.refreshPromise&&(yield this.root.refreshPromise,yield g.Event.toPromise(this._onDidRender.event)),M!==this.root&&!M.refreshPromise&&!this.tree.isCollapsed(M)))return!1;const P=this.tree.expand(M===this.root?null:M,D);return M.refreshPromise&&(yield this.root.refreshPromise,yield g.Event.toPromise(this._onDidRender.event)),P})}setSelection(O,D){const M=O.map(P=>this.getDataNode(P));this.tree.setSelection(M,D)}getSelection(){return this.tree.getSelection().map(D=>D.element)}setFocus(O,D){const M=O.map(P=>this.getDataNode(P));this.tree.setFocus(M,D)}getFocus(){return this.tree.getFocus().map(D=>D.element)}reveal(O,D){this.tree.reveal(this.getDataNode(O),D)}getParentElement(O){const D=this.tree.getParentElement(this.getDataNode(O));return D&&D.element}getFirstElementChild(O=this.root.element){const D=this.getDataNode(O),M=this.tree.getFirstElementChild(D===this.root?null:D);return M&&M.element}getDataNode(O){const D=this.nodes.get(O===this.root.element?null:O);if(!D)throw new L.TreeError(this.user,`Data tree node not found: ${O}`);return D}refreshAndRenderNode(O,D,M,P){return Se(this,void 0,void 0,function*(){yield this.refreshNode(O,D,M),this.render(O,M,P)})}refreshNode(O,D,M){return Se(this,void 0,void 0,function*(){let P;if(this.subTreeRefreshPromises.forEach((B,W)=>{!P&&d(W,O)&&(P=B.then(()=>this.refreshNode(O,D,M)))}),P)return P;if(O!==this.root&&this.tree.getNode(O).collapsed){O.hasChildren=!!this.dataSource.hasChildren(O.element),O.stale=!0;return}return this.doRefreshSubTree(O,D,M)})}doRefreshSubTree(O,D,M){return Se(this,void 0,void 0,function*(){let P;O.refreshPromise=new Promise(B=>P=B),this.subTreeRefreshPromises.set(O,O.refreshPromise),O.refreshPromise.finally(()=>{O.refreshPromise=void 0,this.subTreeRefreshPromises.delete(O)});try{const B=yield this.doRefreshNode(O,D,M);O.stale=!1,yield b.Promises.settled(B.map(W=>this.doRefreshSubTree(W,D,M)))}finally{P()}})}doRefreshNode(O,D,M){return Se(this,void 0,void 0,function*(){O.hasChildren=!!this.dataSource.hasChildren(O.element);let P;if(!O.hasChildren)P=Promise.resolve(n.Iterable.empty());else{const B=this.doGetChildren(O);if((0,t.isIterable)(B))P=Promise.resolve(B);else{const W=(0,b.timeout)(800);W.then(()=>{O.slow=!0,this._onDidChangeNodeSlowState.fire(O)},V=>null),P=B.finally(()=>W.cancel())}}try{const B=yield P;return this.setChildren(O,B,D,M)}catch(B){if(O!==this.root&&this.tree.hasElement(O)&&this.tree.collapse(O),(0,u.isCancellationError)(B))return[];throw B}finally{O.slow&&(O.slow=!1,this._onDidChangeNodeSlowState.fire(O))}})}doGetChildren(O){let D=this.refreshPromises.get(O);if(D)return D;const M=this.dataSource.getChildren(O.element);return(0,t.isIterable)(M)?this.processChildren(M):(D=(0,b.createCancelablePromise)(()=>Se(this,void 0,void 0,function*(){return this.processChildren(yield M)})),this.refreshPromises.set(O,D),D.finally(()=>{this.refreshPromises.delete(O)}))}_onDidChangeCollapseState({node:O,deep:D}){O.element!==null&&!O.collapsed&&O.element.stale&&(D?this.collapse(O.element.element):this.refreshAndRenderNode(O.element,!1).catch(u.onUnexpectedError))}setChildren(O,D,M,P){const B=[...D];if(O.children.length===0&&B.length===0)return[];const W=new Map,V=new Map;for(const J of O.children)if(W.set(J.element,J),this.identityProvider){const H=this.tree.isCollapsed(J);V.set(J.id,{node:J,collapsed:H})}const A=[],Q=B.map(J=>{const H=!!this.dataSource.hasChildren(J);if(!this.identityProvider){const Y=r({element:J,parent:O,hasChildren:H});return H&&this.collapseByDefault&&!this.collapseByDefault(J)&&(Y.collapsedByDefault=!1,A.push(Y)),Y}const q=this.identityProvider.getId(J).toString(),Z=V.get(q);if(Z){const Y=Z.node;return W.delete(Y.element),this.nodes.delete(Y.element),this.nodes.set(J,Y),Y.element=J,Y.hasChildren=H,M?Z.collapsed?(Y.children.forEach(te=>h(te,de=>this.nodes.delete(de.element))),Y.children.splice(0,Y.children.length),Y.stale=!0):A.push(Y):H&&this.collapseByDefault&&!this.collapseByDefault(J)&&(Y.collapsedByDefault=!1,A.push(Y)),Y}const ie=r({element:J,parent:O,id:q,hasChildren:H});return P&&P.viewState.focus&&P.viewState.focus.indexOf(q)>-1&&P.focus.push(ie),P&&P.viewState.selection&&P.viewState.selection.indexOf(q)>-1&&P.selection.push(ie),P&&P.viewState.expanded&&P.viewState.expanded.indexOf(q)>-1?A.push(ie):H&&this.collapseByDefault&&!this.collapseByDefault(J)&&(ie.collapsedByDefault=!1,A.push(ie)),ie});for(const J of W.values())h(J,H=>this.nodes.delete(H.element));for(const J of Q)this.nodes.set(J.element,J);return O.children.splice(0,O.children.length,...Q),O!==this.root&&this.autoExpandSingleChildren&&Q.length===1&&A.length===0&&(Q[0].collapsedByDefault=!1,A.push(Q[0])),A}render(O,D,M){const P=O.children.map(W=>this.asTreeElement(W,D)),B=M&&Object.assign(Object.assign({},M),{diffIdentityProvider:M.diffIdentityProvider&&{getId(W){return M.diffIdentityProvider.getId(W.element)}}});this.tree.setChildren(O===this.root?null:O,P,B),O!==this.root&&this.tree.setCollapsible(O,O.hasChildren),this._onDidRender.fire()}asTreeElement(O,D){if(O.stale)return{element:O,collapsible:O.hasChildren,collapsed:!0};let M;return D&&D.viewState.expanded&&O.id&&D.viewState.expanded.indexOf(O.id)>-1?M=!1:M=O.collapsedByDefault,O.collapsedByDefault=void 0,{element:O,children:O.hasChildren?n.Iterable.map(O.children,P=>this.asTreeElement(P,D)):[],collapsible:O.hasChildren,collapsed:M}}processChildren(O){return this.sorter&&(O=[...O].sort(this.sorter.compare.bind(this.sorter))),O}dispose(){this.disposables.dispose()}}e.AsyncDataTree=S;class y{constructor(O){this.node=O}get element(){return{elements:this.node.element.elements.map(O=>O.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(O=>new y(O))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class E{constructor(O,D,M,P){this.renderer=O,this.nodeMapper=D,this.compressibleNodeMapperProvider=M,this.onDidChangeTwistieState=P,this.renderedNodes=new Map,this.disposables=[],this.templateId=O.templateId}renderTemplate(O){return{templateData:this.renderer.renderTemplate(O)}}renderElement(O,D,M,P){this.renderer.renderElement(this.nodeMapper.map(O),D,M.templateData,P)}renderCompressedElements(O,D,M,P){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(O),D,M.templateData,P)}renderTwistie(O,D){return O.slow?(D.classList.add(...v.Codicon.treeItemLoading.classNamesArray),!0):(D.classList.remove(...v.Codicon.treeItemLoading.classNamesArray),!1)}disposeElement(O,D,M,P){var B,W;(W=(B=this.renderer).disposeElement)===null||W===void 0||W.call(B,this.nodeMapper.map(O),D,M.templateData,P)}disposeCompressedElements(O,D,M,P){var B,W;(W=(B=this.renderer).disposeCompressedElements)===null||W===void 0||W.call(B,this.compressibleNodeMapperProvider().map(O),D,M.templateData,P)}disposeTemplate(O){this.renderer.disposeTemplate(O.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,i.dispose)(this.disposables)}}function N(F){const O=F&&m(F);return O&&Object.assign(Object.assign({},O),{keyboardNavigationLabelProvider:O.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},O.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(D){return F.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(D.map(M=>M.element))}})})}class T extends S{constructor(O,D,M,P,B,W,V={}){super(O,D,M,B,W,V);this.compressionDelegate=P,this.compressibleNodeMapper=new L.WeakMapper(A=>new y(A)),this.filter=V.filter}createTree(O,D,M,P,B){const W=new C.ComposedTreeDelegate(M),V=P.map(Q=>new E(Q,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),A=N(B)||{};return new I.CompressibleObjectTree(O,D,W,V,A)}asTreeElement(O,D){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(O.element)},super.asTreeElement(O,D))}updateOptions(O={}){this.tree.updateOptions(O)}render(O,D){if(!this.identityProvider)return super.render(O,D);const M=q=>this.identityProvider.getId(q).toString(),P=q=>{const Z=new Set;for(const ie of q){const Y=this.tree.getCompressedTreeNode(ie===this.root?null:ie);if(!!Y.element)for(const te of Y.element.elements)Z.add(M(te.element))}return Z},B=P(this.tree.getSelection()),W=P(this.tree.getFocus());super.render(O,D);const V=this.getSelection();let A=!1;const Q=this.getFocus();let J=!1;const H=q=>{const Z=q.element;if(Z)for(let ie=0;ie<Z.elements.length;ie++){const Y=M(Z.elements[ie].element),te=Z.elements[Z.elements.length-1].element;B.has(Y)&&V.indexOf(te)===-1&&(V.push(te),A=!0),W.has(Y)&&Q.indexOf(te)===-1&&(Q.push(te),J=!0)}q.children.forEach(H)};H(this.tree.getCompressedTreeNode(O===this.root?null:O)),A&&this.setSelection(V),J&&this.setFocus(Q)}processChildren(O){return this.filter&&(O=n.Iterable.filter(O,D=>{const M=this.filter.filter(D,1),P=R(M);if(P===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return P===1})),super.processChildren(O)}}e.CompressibleAsyncDataTree=T;function R(F){return typeof F=="boolean"?F?1:0:(0,k.isFilterResult)(F)?(0,k.getVisibleState)(F.visibility):(0,k.getVisibleState)(F)}}),define(re[44],ae([1,0,191,52,90,17,8,22]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=e.originalFSPath=void 0;function v(n){return(0,b.uriToFsPath)(n,!0)}e.originalFSPath=v;class u{constructor(i){this._ignorePathCasing=i}compare(i,t,r=!1){return i===t?0:(0,L.compare)(this.getComparisonKey(i,r),this.getComparisonKey(t,r))}isEqual(i,t,r=!1){return i===t?!0:!i||!t?!1:this.getComparisonKey(i,r)===this.getComparisonKey(t,r)}getComparisonKey(i,t=!1){return i.with({path:this._ignorePathCasing(i)?i.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}isEqualOrParent(i,t,r=!1){if(i.scheme===t.scheme){if(i.scheme===C.Schemas.file)return w.isEqualOrParent(v(i),v(t),this._ignorePathCasing(i))&&i.query===t.query&&(r||i.fragment===t.fragment);if((0,e.isEqualAuthority)(i.authority,t.authority))return w.isEqualOrParent(i.path,t.path,this._ignorePathCasing(i),"/")&&i.query===t.query&&(r||i.fragment===t.fragment)}return!1}joinPath(i,...t){return b.URI.joinPath(i,...t)}basenameOrAuthority(i){return(0,e.basename)(i)||i.authority}basename(i){return k.posix.basename(i.path)}extname(i){return k.posix.extname(i.path)}dirname(i){if(i.path.length===0)return i;let t;return i.scheme===C.Schemas.file?t=b.URI.file(k.dirname(v(i))).path:(t=k.posix.dirname(i.path),i.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${i.toString})) resulted in a relative path`),t="/")),i.with({path:t})}normalizePath(i){if(!i.path.length)return i;let t;return i.scheme===C.Schemas.file?t=b.URI.file(k.normalize(v(i))).path:t=k.posix.normalize(i.path),i.with({path:t})}relativePath(i,t){if(i.scheme!==t.scheme||!(0,e.isEqualAuthority)(i.authority,t.authority))return;if(i.scheme===C.Schemas.file){const d=k.relative(v(i),v(t));return I.isWindows?w.toSlashes(d):d}let r=i.path||"/";const l=t.path||"/";if(this._ignorePathCasing(i)){let d=0;for(const a=Math.min(r.length,l.length);d<a&&!(r.charCodeAt(d)!==l.charCodeAt(d)&&r.charAt(d).toLowerCase()!==l.charAt(d).toLowerCase());d++);r=l.substr(0,d)+r.substr(d)}return k.posix.relative(r,l)}resolvePath(i,t){if(i.scheme===C.Schemas.file){const r=b.URI.file(k.resolve(v(i),t));return i.with({authority:r.authority,path:r.path})}return t=w.toPosixPath(t),i.with({path:k.posix.resolve(i.path,t)})}isAbsolutePath(i){return!!i.path&&i.path[0]==="/"}isEqualAuthority(i,t){return i===t||i!==void 0&&t!==void 0&&(0,L.equalsIgnoreCase)(i,t)}hasTrailingPathSeparator(i,t=k.sep){if(i.scheme===C.Schemas.file){const r=v(i);return r.length>w.getRoot(r).length&&r[r.length-1]===t}else{const r=i.path;return r.length>1&&r.charCodeAt(r.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(i.fsPath)}}removeTrailingPathSeparator(i,t=k.sep){return(0,e.hasTrailingPathSeparator)(i,t)?i.with({path:i.path.substr(0,i.path.length-1)}):i}addTrailingPathSeparator(i,t=k.sep){let r=!1;if(i.scheme===C.Schemas.file){const l=v(i);r=l!==void 0&&l.length===w.getRoot(l).length&&l[l.length-1]===t}else{t="/";const l=i.path;r=l.length===1&&l.charCodeAt(l.length-1)===47}return!r&&!(0,e.hasTrailingPathSeparator)(i,t)?i.with({path:i.path+"/"}):i}}e.ExtUri=u,e.extUri=new u(()=>!1),e.extUriBiasedIgnorePathCase=new u(n=>n.scheme===C.Schemas.file?!I.isLinux:!0),e.extUriIgnorePathCase=new u(n=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);var g;(function(n){n.META_DATA_LABEL="label",n.META_DATA_DESCRIPTION="description",n.META_DATA_SIZE="size",n.META_DATA_MIME="mime";function i(t){const r=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach(a=>{const[s,o]=a.split(":");s&&o&&r.set(s,o)});const d=t.path.substring(0,t.path.indexOf(";"));return d&&r.set(n.META_DATA_MIME,d),r}n.parseMetaData=i})(g=e.DataUri||(e.DataUri={}))}),define(re[496],ae([1,0,7,481,100,196,67,134,14,6,64,106,144,2,329,195,52,40,44,8,22]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdown=void 0;function f(h,S={},y={}){var E;const N=new t.DisposableStore;let T=!1;const R=(0,I.createElement)(S),F=function(A){let Q;try{Q=(0,l.parse)(decodeURIComponent(A))}catch{}return Q?(Q=(0,a.cloneAndChange)(Q,J=>{if(h.uris&&h.uris[J])return c.URI.revive(h.uris[J])}),encodeURIComponent(JSON.stringify(Q))):A},O=function(A,Q){const J=h.uris&&h.uris[A];let H=c.URI.revive(J);return Q?A.startsWith(d.Schemas.data+":")?A:(H||(H=c.URI.parse(A)),d.FileAccess.asBrowserUri(H).toString(!0)):!H||c.URI.parse(A).toString()===H.toString()?A:(H.query&&(H=H.with({query:F(H.query)})),H.toString())},D=new r.marked.Renderer;D.image=(A,Q,J)=>{let H=[],q=[];return A&&({href:A,dimensions:H}=(0,g.parseHrefAndDimensions)(A),q.push(`src="${(0,g.escapeDoubleQuotes)(A)}"`)),J&&q.push(`alt="${(0,g.escapeDoubleQuotes)(J)}"`),Q&&q.push(`title="${(0,g.escapeDoubleQuotes)(Q)}"`),H.length&&(q=q.concat(H)),"<img "+q.join(" ")+">"},D.link=(A,Q,J)=>typeof A!="string"?"":(A===J&&(J=(0,g.removeMarkdownEscapes)(J)),Q=typeof Q=="string"?(0,g.escapeDoubleQuotes)((0,g.removeMarkdownEscapes)(Q)):"",A=(0,g.removeMarkdownEscapes)(A),A=A.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${A}" title="${Q||A}">${J}</a>`),D.paragraph=A=>`<p>${A}</p>`;const M=[];if(S.codeBlockRenderer&&(D.code=(A,Q)=>{const J=i.defaultGenerator.nextId(),H=S.codeBlockRenderer(Q??"",A);return M.push(H.then(q=>[J,q])),`<div class="code" data-code="${J}">${(0,o.escape)(A)}</div>`}),S.actionHandler){const A=S.actionHandler.disposables.add(new k.DomEmitter(R,"click")),Q=S.actionHandler.disposables.add(new k.DomEmitter(R,"auxclick"));S.actionHandler.disposables.add(u.Event.any(A.event,Q.event)(J=>{const H=new L.StandardMouseEvent(J);if(!H.leftButton&&!H.middleButton)return;let q=H.target;if(!(q.tagName!=="A"&&(q=q.parentElement,!q||q.tagName!=="A")))try{let Z=q.dataset.href;Z&&(h.baseUri&&(Z=p(c.URI.from(h.baseUri),Z)),S.actionHandler.callback(Z,H))}catch(Z){(0,v.onUnexpectedError)(Z)}finally{H.preventDefault()}}))}h.supportHtml||(y.sanitizer=A=>(h.isTrusted?A.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?A:"",y.sanitize=!0,y.silent=!0),y.renderer=D;let P=(E=h.value)!==null&&E!==void 0?E:"";P.length>1e5&&(P=`${P.substr(0,1e5)}\u2026`),h.supportThemeIcons&&(P=(0,n.markdownEscapeEscapedIcons)(P));let B=r.marked.parse(P,y);h.supportThemeIcons&&(B=(0,b.renderLabelWithIcons)(B).map(Q=>typeof Q=="string"?Q:Q.outerHTML).join(""));const V=new DOMParser().parseFromString(_(h,B),"text/html");if(V.body.querySelectorAll("img").forEach(A=>{const Q=A.getAttribute("src");if(Q){let J=Q;try{h.baseUri&&(J=p(c.URI.from(h.baseUri),J))}catch{}A.src=O(J,!0)}}),V.body.querySelectorAll("a").forEach(A=>{const Q=A.getAttribute("href");if(A.setAttribute("href",""),!Q||/^data:|javascript:/i.test(Q)||/^command:/i.test(Q)&&!h.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(Q))A.replaceWith(...A.childNodes);else{let J=O(Q,!1);h.baseUri&&(J=p(c.URI.from(h.baseUri),Q)),A.dataset.href=J}}),R.innerHTML=_(h,V.body.innerHTML),M.length>0&&Promise.all(M).then(A=>{var Q,J;if(T)return;const H=new Map(A),q=R.querySelectorAll("div[data-code]");for(const Z of q){const ie=H.get((Q=Z.dataset.code)!==null&&Q!==void 0?Q:"");ie&&w.reset(Z,ie)}(J=S.asyncRenderCallback)===null||J===void 0||J.call(S)}),S.asyncRenderCallback)for(const A of R.getElementsByTagName("img")){const Q=N.add(w.addDisposableListener(A,"load",()=>{Q.dispose(),S.asyncRenderCallback()}))}return{element:R,dispose:()=>{T=!0,N.dispose()}}}e.renderMarkdown=f;function p(h,S){return/^\w[\w\d+.-]*:/.test(S)?S:h.path.endsWith("/")?(0,s.resolvePath)(h,S).toString():(0,s.resolvePath)((0,s.dirname)(h),S).toString()}function _(h,S){const{config:y,allowedSchemes:E}=m(h);C.addHook("uponSanitizeAttribute",(T,R)=>{if(R.attrName==="style"||R.attrName==="class"){if(T.tagName==="SPAN"){if(R.attrName==="style"){R.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(R.attrValue);return}else if(R.attrName==="class"){R.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(R.attrValue);return}}R.keepAttr=!1;return}});const N=w.hookDomPurifyHrefAndSrcSanitizer(E);try{return C.sanitize(S,Object.assign(Object.assign({},y),{RETURN_TRUSTED_TYPE:!0}))}finally{C.removeHook("uponSanitizeAttribute"),N.dispose()}}function m(h){const S=[d.Schemas.http,d.Schemas.https,d.Schemas.mailto,d.Schemas.data,d.Schemas.file,d.Schemas.vscodeFileResource,d.Schemas.vscodeRemote,d.Schemas.vscodeRemoteResource];return h.isTrusted&&S.push(d.Schemas.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:S}}}),define(re[265],ae([1,0,14,6,2,17,19,8]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.SimpleWorkerServer=e.SimpleWorkerClient=e.logOnceWebWorkerWarning=void 0;const v="$initialize";let u=!1;function g(_){!I.isWeb||(u||(u=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(_.message))}e.logOnceWebWorkerWarning=g;class n{constructor(m,h,S,y){this.vsWorker=m,this.req=h,this.method=S,this.args=y,this.type=0}}class i{constructor(m,h,S,y){this.vsWorker=m,this.seq=h,this.res=S,this.err=y,this.type=1}}class t{constructor(m,h,S,y){this.vsWorker=m,this.req=h,this.eventName=S,this.arg=y,this.type=2}}class r{constructor(m,h,S){this.vsWorker=m,this.req=h,this.event=S,this.type=3}}class l{constructor(m,h){this.vsWorker=m,this.req=h,this.type=4}}class d{constructor(m){this._workerId=-1,this._handler=m,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(m){this._workerId=m}sendMessage(m,h){const S=String(++this._lastSentReq);return new Promise((y,E)=>{this._pendingReplies[S]={resolve:y,reject:E},this._send(new n(this._workerId,S,m,h))})}listen(m,h){let S=null;const y=new C.Emitter({onFirstListenerAdd:()=>{S=String(++this._lastSentReq),this._pendingEmitters.set(S,y),this._send(new t(this._workerId,S,m,h))},onLastListenerRemove:()=>{this._pendingEmitters.delete(S),this._send(new l(this._workerId,S)),S=null}});return y.event}handleMessage(m){!m||!m.vsWorker||this._workerId!==-1&&m.vsWorker!==this._workerId||this._handleMessage(m)}_handleMessage(m){switch(m.type){case 1:return this._handleReplyMessage(m);case 0:return this._handleRequestMessage(m);case 2:return this._handleSubscribeEventMessage(m);case 3:return this._handleEventMessage(m);case 4:return this._handleUnsubscribeEventMessage(m)}}_handleReplyMessage(m){if(!this._pendingReplies[m.seq]){console.warn("Got reply to unknown seq");return}const h=this._pendingReplies[m.seq];if(delete this._pendingReplies[m.seq],m.err){let S=m.err;m.err.$isError&&(S=new Error,S.name=m.err.name,S.message=m.err.message,S.stack=m.err.stack),h.reject(S);return}h.resolve(m.res)}_handleRequestMessage(m){const h=m.req;this._handler.handleMessage(m.method,m.args).then(y=>{this._send(new i(this._workerId,h,y,void 0))},y=>{y.detail instanceof Error&&(y.detail=(0,w.transformErrorForSerialization)(y.detail)),this._send(new i(this._workerId,h,void 0,(0,w.transformErrorForSerialization)(y)))})}_handleSubscribeEventMessage(m){const h=m.req,S=this._handler.handleEvent(m.eventName,m.arg)(y=>{this._send(new r(this._workerId,h,y))});this._pendingEvents.set(h,S)}_handleEventMessage(m){if(!this._pendingEmitters.has(m.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(m.req).fire(m.event)}_handleUnsubscribeEventMessage(m){if(!this._pendingEvents.has(m.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(m.req).dispose(),this._pendingEvents.delete(m.req)}_send(m){const h=[];if(m.type===0)for(let S=0;S<m.args.length;S++)m.args[S]instanceof ArrayBuffer&&h.push(m.args[S]);else m.type===1&&m.res instanceof ArrayBuffer&&h.push(m.res);this._handler.sendMessage(m,h)}}class a extends k.Disposable{constructor(m,h,S){super();let y=null;this._worker=this._register(m.create("vs/base/common/worker/simpleWorker",F=>{this._protocol.handleMessage(F)},F=>{y==null||y(F)})),this._protocol=new d({sendMessage:(F,O)=>{this._worker.postMessage(F,O)},handleMessage:(F,O)=>{if(typeof S[F]!="function")return Promise.reject(new Error("Missing method "+F+" on main thread host."));try{return Promise.resolve(S[F].apply(S,O))}catch(D){return Promise.reject(D)}},handleEvent:(F,O)=>{if(o(F)){const D=S[F].call(S,O);if(typeof D!="function")throw new Error(`Missing dynamic event ${F} on main thread host.`);return D}if(s(F)){const D=S[F];if(typeof D!="function")throw new Error(`Missing event ${F} on main thread host.`);return D}throw new Error(`Malformed event name ${F}`)}}),this._protocol.setWorkerId(this._worker.getId());let E=null;typeof I.globals.require!="undefined"&&typeof I.globals.require.getConfig=="function"?E=I.globals.require.getConfig():typeof I.globals.requirejs!="undefined"&&(E=I.globals.requirejs.s.contexts._.config);const N=L.getAllMethodNames(S);this._onModuleLoaded=this._protocol.sendMessage(v,[this._worker.getId(),JSON.parse(JSON.stringify(E)),h,N]);const T=(F,O)=>this._request(F,O),R=(F,O)=>this._protocol.listen(F,O);this._lazyProxy=new Promise((F,O)=>{y=O,this._onModuleLoaded.then(D=>{F(c(D,T,R))},D=>{O(D),this._onError("Worker failed to load "+h,D)})})}getProxyObject(){return this._lazyProxy}_request(m,h){return new Promise((S,y)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(m,h).then(S,y)},y)})}_onError(m,h){console.error(m),console.info(h)}}e.SimpleWorkerClient=a;function s(_){return _[0]==="o"&&_[1]==="n"&&b.isUpperAsciiLetter(_.charCodeAt(2))}function o(_){return/^onDynamic/.test(_)&&b.isUpperAsciiLetter(_.charCodeAt(9))}function c(_,m,h){const S=N=>function(){const T=Array.prototype.slice.call(arguments,0);return m(N,T)},y=N=>function(T){return h(N,T)},E={};for(const N of _){if(o(N)){E[N]=y(N);continue}if(s(N)){E[N]=h(N,void 0);continue}E[N]=S(N)}return E}class f{constructor(m,h){this._requestHandlerFactory=h,this._requestHandler=null,this._protocol=new d({sendMessage:(S,y)=>{m(S,y)},handleMessage:(S,y)=>this._handleMessage(S,y),handleEvent:(S,y)=>this._handleEvent(S,y)})}onmessage(m){this._protocol.handleMessage(m)}_handleMessage(m,h){if(m===v)return this.initialize(h[0],h[1],h[2],h[3]);if(!this._requestHandler||typeof this._requestHandler[m]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+m));try{return Promise.resolve(this._requestHandler[m].apply(this._requestHandler,h))}catch(S){return Promise.reject(S)}}_handleEvent(m,h){if(!this._requestHandler)throw new Error("Missing requestHandler");if(o(m)){const S=this._requestHandler[m].call(this._requestHandler,h);if(typeof S!="function")throw new Error(`Missing dynamic event ${m} on request handler.`);return S}if(s(m)){const S=this._requestHandler[m];if(typeof S!="function")throw new Error(`Missing event ${m} on request handler.`);return S}throw new Error(`Malformed event name ${m}`)}initialize(m,h,S,y){this._protocol.setWorkerId(m);const T=c(y,(R,F)=>this._protocol.sendMessage(R,F),(R,F)=>this._protocol.listen(R,F));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(T),Promise.resolve(L.getAllMethodNames(this._requestHandler))):(h&&(typeof h.baseUrl!="undefined"&&delete h.baseUrl,typeof h.paths!="undefined"&&typeof h.paths.vs!="undefined"&&delete h.paths.vs,typeof h.trustedTypesPolicy!==void 0&&delete h.trustedTypesPolicy,h.catchError=!0,I.globals.require.config(h)),new Promise((R,F)=>{(I.globals.require||$)([S],D=>{if(this._requestHandler=D.create(T),!this._requestHandler){F(new Error("No RequestHandler!"));return}R(L.getAllMethodNames(this._requestHandler))},F)}))}}e.SimpleWorkerServer=f;function p(_){return new f(_,null)}e.create=p}),define(re[497],ae([1,0,17,265]),function($,e,w,C){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=e.getWorkerBootstrapUrl=void 0;const I=(k=window.trustedTypes)===null||k===void 0?void 0:k.createPolicy("defaultWorkerFactory",{createScriptURL:n=>n});function L(n){if(w.globals.MonacoEnvironment){if(typeof w.globals.MonacoEnvironment.getWorker=="function")return w.globals.MonacoEnvironment.getWorker("workerMain.js",n);if(typeof w.globals.MonacoEnvironment.getWorkerUrl=="function"){const i=w.globals.MonacoEnvironment.getWorkerUrl("workerMain.js",n);return new Worker(I?I.createScriptURL(i):i,{name:n})}}if(typeof $=="function"){const i=$.toUrl("vs/base/worker/workerMain.js"),t=b(i,n);return new Worker(I?I.createScriptURL(t):t,{name:n})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function b(n,i){if(/^((http:)|(https:)|(file:))/.test(n)&&n.substring(0,self.origin.length)!==self.origin){const t="vs/base/worker/defaultWorkerFactory.js",r=$.toUrl(t).slice(0,-t.length),l=`/*${i}*/self.MonacoEnvironment={baseUrl: '${r}'};const ttPolicy = self.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });importScripts(ttPolicy?.createScriptURL('${n}') ?? '${n}');/*${i}*/`,d=new Blob([l],{type:"application/javascript"});return URL.createObjectURL(d)}return n+"#"+i}e.getWorkerBootstrapUrl=b;function v(n){return typeof n.then=="function"}class u{constructor(i,t,r,l,d){this.id=t;const a=L(r);v(a)?this.worker=a:this.worker=Promise.resolve(a),this.postMessage(i,[]),this.worker.then(s=>{s.onmessage=function(o){l(o.data)},s.onmessageerror=d,typeof s.addEventListener=="function"&&s.addEventListener("error",d)})}getId(){return this.id}postMessage(i,t){var r;(r=this.worker)===null||r===void 0||r.then(l=>l.postMessage(i,t))}dispose(){var i;(i=this.worker)===null||i===void 0||i.then(t=>t.terminate()),this.worker=null}}class g{constructor(i){this._label=i,this._webWorkerFailedBeforeError=!1}create(i,t,r){const l=++g.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new u(i,l,this._label||"anonymous"+l,t,d=>{(0,C.logOnceWebWorkerWarning)(d),this._webWorkerFailedBeforeError=d,r(d)})}}e.DefaultWorkerFactory=g,g.LAST_WORKER_ID=0}),define(re[498],ae([1,0,7,48,67,199,2,81,151]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const v=w.$;class u extends L.Disposable{constructor(n){super();this.parent=n,this.onKeyDown=i=>w.addDisposableListener(this.inputBox.inputElement,w.EventType.KEY_DOWN,t=>{i(new C.StandardKeyboardEvent(t))}),this.onMouseDown=i=>w.addDisposableListener(this.inputBox.inputElement,w.EventType.MOUSE_DOWN,t=>{i(new k.StandardMouseEvent(t))}),this.onDidChange=i=>this.inputBox.onDidChange(i),this.container=w.append(this.parent,v(".quick-input-box")),this.inputBox=this._register(new I.InputBox(this.container,void 0))}get value(){return this.inputBox.value}set value(n){this.inputBox.value=n}select(n=null){this.inputBox.select(n)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(n){this.inputBox.setPlaceHolder(n)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(n){this.inputBox.setAriaLabel(n)}get password(){return this.inputBox.inputElement.type==="password"}set password(n){this.inputBox.inputElement.type=n?"password":"text"}setAttribute(n,i){this.inputBox.inputElement.setAttribute(n,i)}removeAttribute(n){this.inputBox.inputElement.removeAttribute(n)}showDecoration(n){n===b.default.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:n===b.default.Info?1:n===b.default.Warning?2:3,content:""})}stylesForType(n){return this.inputBox.stylesForType(n===b.default.Info?1:n===b.default.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(n){this.inputBox.style(n)}}e.QuickInputBox=u}),define(re[266],ae([1,0,7,144,151]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClass=void 0;const k={},I=new C.IdGenerator("quick-input-button-icon-");function L(b){if(!b)return;let v;const u=b.dark.toString();return k[u]?v=k[u]:(v=I.nextId(),w.createCSSRule(`.${v}, .hc-light .${v}`,`background-image: ${w.asCSSUrl(b.light||b.dark)}`),w.createCSSRule(`.vs-dark .${v}, .hc-black .${v}`,`background-image: ${w.asCSSUrl(b.dark)}`),k[u]=v),v}e.getIconClass=L}),define(re[499],ae([1,0,10,6,2,19]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=e.StorageState=void 0;var L;(function(u){u[u.None=0]="None",u[u.Initialized=1]="Initialized",u[u.Closed=2]="Closed"})(L=e.StorageState||(e.StorageState={}));class b extends k.Disposable{constructor(g,n=Object.create(null)){super();this.database=g,this.options=n,this._onDidChangeStorage=this._register(new C.Emitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=L.None,this.cache=new Map,this.flushDelayer=new w.ThrottledDelayer(b.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(g=>this.onDidChangeItemsExternal(g)))}onDidChangeItemsExternal(g){var n,i;(n=g.changed)===null||n===void 0||n.forEach((t,r)=>this.accept(r,t)),(i=g.deleted)===null||i===void 0||i.forEach(t=>this.accept(t,void 0))}accept(g,n){if(this.state===L.Closed)return;let i=!1;(0,I.isUndefinedOrNull)(n)?i=this.cache.delete(g):this.cache.get(g)!==n&&(this.cache.set(g,n),i=!0),i&&this._onDidChangeStorage.fire(g)}get(g,n){const i=this.cache.get(g);return(0,I.isUndefinedOrNull)(i)?n:i}getBoolean(g,n){const i=this.get(g);return(0,I.isUndefinedOrNull)(i)?n:i==="true"}getNumber(g,n){const i=this.get(g);return(0,I.isUndefinedOrNull)(i)?n:parseInt(i,10)}set(g,n){return Se(this,void 0,void 0,function*(){if(this.state===L.Closed)return;if((0,I.isUndefinedOrNull)(n))return this.delete(g);const i=String(n);if(this.cache.get(g)!==i)return this.cache.set(g,i),this.pendingInserts.set(g,i),this.pendingDeletes.delete(g),this._onDidChangeStorage.fire(g),this.doFlush()})}delete(g){return Se(this,void 0,void 0,function*(){if(!(this.state===L.Closed||!this.cache.delete(g)))return this.pendingDeletes.has(g)||this.pendingDeletes.add(g),this.pendingInserts.delete(g),this._onDidChangeStorage.fire(g),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return Se(this,void 0,void 0,function*(){if(!this.hasPending)return;const g={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(g).finally(()=>{var n;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(n=this.whenFlushedCallbacks.pop())===null||n===void 0||n()})})}doFlush(g){return Se(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),g)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}e.Storage=b,b.DEFAULT_FLUSH_DELAY=100;class v{constructor(){this.onDidChangeItemsExternal=C.Event.None,this.items=new Map}updateItems(g){var n,i;return Se(this,void 0,void 0,function*(){(n=g.insert)===null||n===void 0||n.forEach((t,r)=>this.items.set(r,t)),(i=g.delete)===null||i===void 0||i.forEach(t=>this.items.delete(t))})}}e.InMemoryStorageDatabase=v}),define(re[267],ae([1,0,2,6]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class k extends w.Disposable{constructor(L,b){super();this._onDidChange=this._register(new C.Emitter),this.onDidChange=this._onDidChange.event,this._referenceDomElement=L,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,b)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(L=>{L&&L[0]&&L[0].contentRect?this.observe({width:L[0].contentRect.width,height:L[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(L){this.measureReferenceDomElement(!0,L)}measureReferenceDomElement(L,b){let v=0,u=0;b?(v=b.width,u=b.height):this._referenceDomElement&&(v=this._referenceDomElement.clientWidth,u=this._referenceDomElement.clientHeight),v=Math.max(5,v),u=Math.max(5,u),(this._width!==v||this._height!==u)&&(this._width=v,this._height=u,L&&this._onDidChange.fire())}}e.ElementSizeObserver=k}),define(re[268],ae([1,0,6]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TabFocus=void 0;class C{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new w.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(I){this._tabFocus!==I&&(this._tabFocus=I,this._onDidChangeTabFocus.fire(this._tabFocus))}}e.TabFocus=new C}),define(re[201],ae([1,0,41,7,48,10,6,2,97,8,231,23]),function($,e,w,C,k,I,L,b,v,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaWrapper=e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var i;(function(s){s.Tap="-monaco-textarea-synthetic-tap"})(i=e.TextAreaSyntethicEvents||(e.TextAreaSyntethicEvents={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class t{constructor(){this._lastState=null}set(o,c){this._lastState={lastCopiedValue:o,data:c}}get(o){return this._lastState&&this._lastState.lastCopiedValue===o?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=t,t.INSTANCE=new t;class r{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(o){o=o||"";const c={text:o,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=o.length,c}}class l extends b.Disposable{constructor(o,c,f,p){super();this._host=o,this._textArea=c,this._OS=f,this._browser=p,this._onFocus=this._register(new L.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new L.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new L.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new L.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new L.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new L.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new L.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new L.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new L.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new L.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new L.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new I.RunOnceScheduler(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new I.RunOnceScheduler(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=g.TextAreaState.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let _=null;this._register(this._textArea.onKeyDown(m=>{const h=new k.StandardKeyboardEvent(m);(h.keyCode===109||this._currentComposition&&h.keyCode===1)&&h.stopPropagation(),h.equals(9)&&h.preventDefault(),_=h,this._onKeyDown.fire(h)})),this._register(this._textArea.onKeyUp(m=>{const h=new k.StandardKeyboardEvent(m);this._onKeyUp.fire(h)})),this._register(this._textArea.onCompositionStart(m=>{g._debugComposition&&console.log("[compositionstart]",m);const h=new r;if(this._currentComposition){this._currentComposition=h;return}if(this._currentComposition=h,this._OS===2&&_&&_.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===m.data&&(_.code==="ArrowRight"||_.code==="ArrowLeft")){g._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key",m),h.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:m.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:m.data});return}this._onCompositionStart.fire({data:m.data})})),this._register(this._textArea.onCompositionUpdate(m=>{g._debugComposition&&console.log("[compositionupdate]",m);const h=this._currentComposition;if(!h)return;if(this._browser.isAndroid){const y=g.TextAreaState.readFromTextArea(this._textArea),E=g.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,y);this._textAreaState=y,this._onType.fire(E),this._onCompositionUpdate.fire(m);return}const S=h.handleCompositionUpdate(m.data);this._textAreaState=g.TextAreaState.readFromTextArea(this._textArea),this._onType.fire(S),this._onCompositionUpdate.fire(m)})),this._register(this._textArea.onCompositionEnd(m=>{g._debugComposition&&console.log("[compositionend]",m);const h=this._currentComposition;if(!h)return;if(this._currentComposition=null,this._browser.isAndroid){const y=g.TextAreaState.readFromTextArea(this._textArea),E=g.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,y);this._textAreaState=y,this._onType.fire(E),this._onCompositionEnd.fire();return}const S=h.handleCompositionUpdate(m.data);this._textAreaState=g.TextAreaState.readFromTextArea(this._textArea),this._onType.fire(S),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(m=>{if(g._debugComposition&&console.log("[input]",m),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const h=g.TextAreaState.readFromTextArea(this._textArea),S=g.TextAreaState.deduceInput(this._textAreaState,h,this._OS===2);S.replacePrevCharCnt===0&&S.text.length===1&&u.isHighSurrogate(S.text.charCodeAt(0))||(this._textAreaState=h,(S.text!==""||S.replacePrevCharCnt!==0||S.replaceNextCharCnt!==0||S.positionDelta!==0)&&this._onType.fire(S))})),this._register(this._textArea.onCut(m=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(m),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(m=>{this._ensureClipboardGetsEditorSelection(m)})),this._register(this._textArea.onPaste(m=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),m.preventDefault(),!m.clipboardData)return;let[h,S]=d.getTextData(m.clipboardData);!h||(S=S||t.INSTANCE.get(h),this._onPaste.fire({text:h,metadata:S}))})),this._register(this._textArea.onFocus(()=>{const m=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!m&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let o=0;return C.addDisposableListener(document,"selectionchange",c=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const f=Date.now(),p=f-o;if(o=f,p<5)return;const _=f-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),_<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const m=this._textArea.getValue();if(this._textAreaState.value!==m)return;const h=this._textArea.getSelectionStart(),S=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===h&&this._textAreaState.selectionEnd===S)return;const y=this._textAreaState.deduceEditorPosition(h),E=this._host.deduceModelPosition(y[0],y[1],y[2]),N=this._textAreaState.deduceEditorPosition(S),T=this._host.deduceModelPosition(N[0],N[1],N[2]),R=new n.Selection(E.lineNumber,E.column,T.lineNumber,T.column);this._onSelectionChangeRequest.fire(R)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(o){this._hasFocus!==o&&(this._hasFocus=o,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(o,c){this._hasFocus||(c=c.collapseSelection()),c.writeToTextArea(o,this._textArea,this._hasFocus),this._textAreaState=c}writeScreenReaderContent(o){this._currentComposition||this._setAndWriteTextAreaState(o,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(o){const c=this._host.getDataToCopy(),f={version:1,isFromEmptySelection:c.isFromEmptySelection,multicursorText:c.multicursorText,mode:c.mode};t.INSTANCE.set(this._browser.isFirefox?c.text.replace(/\r\n/g,`
`):c.text,f),o.preventDefault(),o.clipboardData&&d.setTextData(o.clipboardData,c.text,c.html,f)}}e.TextAreaInput=l;class d{static getTextData(o){const c=o.getData(v.Mimes.text);let f=null;const p=o.getData("vscode-editor-data");if(typeof p=="string")try{f=JSON.parse(p),f.version!==1&&(f=null)}catch{}return c.length===0&&f===null&&o.files.length>0?[Array.prototype.slice.call(o.files,0).map(m=>m.name).join(`
`),null]:[c,f]}static setTextData(o,c,f,p){o.setData(v.Mimes.text,c),typeof f=="string"&&o.setData("text/html",f),o.setData("vscode-editor-data",JSON.stringify(p))}}class a extends b.Disposable{constructor(o){super();this._actual=o,this.onKeyDown=this._register(C.createEventEmitter(this._actual,"keydown")).event,this.onKeyUp=this._register(C.createEventEmitter(this._actual,"keyup")).event,this.onCompositionStart=this._register(C.createEventEmitter(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(C.createEventEmitter(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(C.createEventEmitter(this._actual,"compositionend")).event,this.onInput=this._register(C.createEventEmitter(this._actual,"input")).event,this.onCut=this._register(C.createEventEmitter(this._actual,"cut")).event,this.onCopy=this._register(C.createEventEmitter(this._actual,"copy")).event,this.onPaste=this._register(C.createEventEmitter(this._actual,"paste")).event,this.onFocus=this._register(C.createEventEmitter(this._actual,"focus")).event,this.onBlur=this._register(C.createEventEmitter(this._actual,"blur")).event,this._onSyntheticTap=this._register(new L.Emitter),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(C.addDisposableListener(this._actual,i.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const o=C.getShadowRoot(this._actual);return o?o.activeElement===this._actual:C.isInDOM(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(o){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(o,c){const f=this._actual;f.value!==c&&(this.setIgnoreSelectionChangeTime("setValue"),f.value=c)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(o,c,f){const p=this._actual;let _=null;const m=C.getShadowRoot(p);m?_=m.activeElement:_=document.activeElement;const h=_===p,S=p.selectionStart,y=p.selectionEnd;if(h&&S===c&&y===f){w.isFirefox&&window.parent!==window&&p.focus();return}if(h){this.setIgnoreSelectionChangeTime("setSelectionRange"),p.setSelectionRange(c,f),w.isFirefox&&window.parent!==window&&p.focus();return}try{const E=C.saveParentsScrollTop(p);this.setIgnoreSelectionChangeTime("setSelectionRange"),p.focus(),p.setSelectionRange(c,f),C.restoreParentsScrollTop(p,E)}catch{}}}e.TextAreaWrapper=a}),define(re[500],ae([1,0,7,33,47]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class I{constructor(g,n){this._coordinateBrand=void 0,this.top=g,this.left=n}}class L extends k.ViewPart{constructor(g,n){super(g);this._viewDomNode=n,this._widgets={},this.domNode=(0,C.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,C.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(g){const n=Object.keys(this._widgets);for(const i of n)this._widgets[i].onConfigurationChanged(g);return!0}onDecorationsChanged(g){return!0}onFlushed(g){return!0}onLineMappingChanged(g){const n=Object.keys(this._widgets);for(const i of n)this._widgets[i].onLineMappingChanged(g);return!0}onLinesChanged(g){return!0}onLinesDeleted(g){return!0}onLinesInserted(g){return!0}onScrollChanged(g){return!0}onZonesChanged(g){return!0}addWidget(g){const n=new b(this._context,this._viewDomNode,g);this._widgets[n.id]=n,n.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(n.domNode):this.domNode.appendChild(n.domNode),this.setShouldRender()}setWidgetPosition(g,n,i,t){this._widgets[g.getId()].setPosition(n,i,t),this.setShouldRender()}removeWidget(g){const n=g.getId();if(this._widgets.hasOwnProperty(n)){const i=this._widgets[n];delete this._widgets[n];const t=i.domNode.domNode;t.parentNode.removeChild(t),t.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(g){return this._widgets.hasOwnProperty(g)?this._widgets[g].suppressMouseDown:!1}onBeforeRender(g){const n=Object.keys(this._widgets);for(const i of n)this._widgets[i].onBeforeRender(g)}prepareRender(g){const n=Object.keys(this._widgets);for(const i of n)this._widgets[i].prepareRender(g)}render(g){const n=Object.keys(this._widgets);for(const i of n)this._widgets[i].render(g)}}e.ViewContentWidgets=L;class b{constructor(g,n,i){this._context=g,this._viewDomNode=n,this._actual=i,this.domNode=(0,C.createFastDomNode)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const t=this._context.configuration.options,r=t.get(133);this._fixedOverflowWidgets=t.get(38),this._contentWidth=r.contentWidth,this._contentLeft=r.contentLeft,this._lineHeight=t.get(61),this._range=null,this._viewRange=null,this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(g){const n=this._context.configuration.options;if(this._lineHeight=n.get(61),g.hasChanged(133)){const i=n.get(133);this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(g){this._setPosition(this._range,this._affinity)}_setPosition(g,n){var i;if(this._range=g,this._viewRange=null,this._affinity=n,this._range){const t=this._context.viewModel.model.validateRange(this._range);(this._context.viewModel.coordinatesConverter.modelPositionIsVisible(t.getStartPosition())||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(t.getEndPosition()))&&(this._viewRange=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(t,(i=this._affinity)!==null&&i!==void 0?i:void 0))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(g,n,i){this._setPosition(g,i),this._preference=n,this._viewRange&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(g,n,i,t,r){const l=g.top,d=l,a=n.top+this._lineHeight,s=r.viewportHeight-a,o=l-t,c=d>=t,f=a,p=s>=t;let _=g.left,m=n.left;return _+i>r.scrollLeft+r.viewportWidth&&(_=r.scrollLeft+r.viewportWidth-i),m+i>r.scrollLeft+r.viewportWidth&&(m=r.scrollLeft+r.viewportWidth-i),_<r.scrollLeft&&(_=r.scrollLeft),m<r.scrollLeft&&(m=r.scrollLeft),{fitsAbove:c,aboveTop:o,aboveLeft:_,fitsBelow:p,belowTop:f,belowLeft:m}}_layoutHorizontalSegmentInPage(g,n,i,t){const r=Math.max(0,n.left-t),l=Math.min(n.left+n.width+t,g.width);let d=n.left+i-w.StandardWindow.scrollX;if(d+t>l){const a=d-(l-t);d-=a,i-=a}if(d<r){const a=d-r;d-=a,i-=a}return[i,d]}_layoutBoxInPage(g,n,i,t,r){const l=g.top-t,d=n.top+this._lineHeight,a=w.getDomNodePagePosition(this._viewDomNode.domNode),s=a.top+l-w.StandardWindow.scrollY,o=a.top+d-w.StandardWindow.scrollY,c=w.getClientArea(document.body),[f,p]=this._layoutHorizontalSegmentInPage(c,a,g.left-r.scrollLeft+this._contentLeft,i),[_,m]=this._layoutHorizontalSegmentInPage(c,a,n.left-r.scrollLeft+this._contentLeft,i),h=22,S=22,y=s>=h,E=o+t<=c.height-S;return this._fixedOverflowWidgets?{fitsAbove:y,aboveTop:Math.max(s,h),aboveLeft:p,fitsBelow:E,belowTop:o,belowLeft:m}:{fitsAbove:y,aboveTop:l,aboveLeft:f,fitsBelow:E,belowTop:d,belowLeft:_}}_prepareRenderWidgetAtExactPositionOverflowing(g){return new I(g.top,g.left+this._contentLeft)}_getTopAndBottomLeft(g){if(!this._viewRange)return[null,null];const n=g.linesVisibleRangesForRange(this._viewRange,!1);if(!n||n.length===0)return[null,null];let i=n[0],t=n[0];for(const c of n)c.lineNumber<i.lineNumber&&(i=c),c.lineNumber>t.lineNumber&&(t=c);let r=1073741824;for(const c of i.ranges)c.left<r&&(r=c.left);let l=1073741824;for(const c of t.ranges)c.left<l&&(l=c.left);const d=g.getVerticalOffsetForLineNumber(i.lineNumber)-g.scrollTop,a=new I(d,r),s=g.getVerticalOffsetForLineNumber(t.lineNumber)-g.scrollTop,o=new I(s,l);return[a,o]}_prepareRenderWidget(g){if(!this._preference||this._preference.length===0)return null;const[n,i]=this._getTopAndBottomLeft(g);if(!n||!i)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let r=null;if(typeof this._actual.beforeRender=="function"&&(r=v(this._actual.beforeRender,this._actual)),r)this._cachedDomNodeOffsetWidth=r.width,this._cachedDomNodeOffsetHeight=r.height;else{const d=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(d.width),this._cachedDomNodeOffsetHeight=Math.round(d.height)}}let t;this.allowEditorOverflow?t=this._layoutBoxInPage(n,i,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,g):t=this._layoutBoxInViewport(n,i,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,g);for(let r=1;r<=2;r++)for(const l of this._preference)if(l===1){if(!t)return null;if(r===2||t.fitsAbove)return{coordinate:new I(t.aboveTop,t.aboveLeft),position:1}}else if(l===2){if(!t)return null;if(r===2||t.fitsBelow)return{coordinate:new I(t.belowTop,t.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(n),position:0}:{coordinate:n,position:0};return null}onBeforeRender(g){!this._viewRange||!this._preference||this._viewRange.endLineNumber<g.startLineNumber||this._viewRange.startLineNumber>g.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(g){this._renderData=this._prepareRenderWidget(g)}render(g){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&v(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+g.scrollTop-g.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&v(this._actual.afterRender,this._actual,this._renderData.position)}}function v(u,g,...n){try{return u.call(g,...n)}catch{return null}}}),define(re[269],ae([1,0,177,6,2,40,3]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffNavigator=void 0;const b={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class v extends k.Disposable{constructor(g,n={}){super();this._onDidUpdate=this._register(new C.Emitter),this._editor=g,this._options=I.mixin(n,b,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(i=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(i=>{this.revealFirst=!0})),this._init()}_init(){!!this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(g){this.ranges=[],g&&g.forEach(n=>{!this._options.ignoreCharChanges&&n.charChanges?n.charChanges.forEach(i=>{this.ranges.push({rhs:!0,range:new L.Range(i.modifiedStartLineNumber,i.modifiedStartColumn,i.modifiedEndLineNumber,i.modifiedEndColumn)})}):n.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new L.Range(n.modifiedStartLineNumber,1,n.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new L.Range(n.modifiedStartLineNumber,1,n.modifiedEndLineNumber+1,1)})}),this.ranges.sort((n,i)=>L.Range.compareRangesUsingStarts(n.range,i.range)),this._onDidUpdate.fire(this)}_initIdx(g){let n=!1;const i=this._editor.getPosition();if(!i){this.nextIdx=0;return}for(let t=0,r=this.ranges.length;t<r&&!n;t++){const l=this.ranges[t].range;i.isBeforeOrEqual(l.getStartPosition())&&(this.nextIdx=t+(g?0:-1),n=!0)}n||(this.nextIdx=g?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(g,n){if(w.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(g):g?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const i=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const t=i.range.getStartPosition();this._editor.setPosition(t),this._editor.revealRangeInCenter(i.range,n)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(g=0){this._move(!0,g)}previous(g=0){this._move(!1,g)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}e.DiffNavigator=v}),define(re[164],ae([1,0,6]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new w.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(C){C=Math.min(Math.max(-5,C),20),this._zoomLevel!==C&&(this._zoomLevel=C,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(re[91],ae([1,0,8,17,122]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeUTF16LE=e.createStringBuilder=e.hasTextDecoder=e.getPlatformTextDecoder=void 0;let I;function L(){return I||(I=new TextDecoder("UTF-16LE")),I}let b;function v(){return b||(b=new TextDecoder("UTF-16BE")),b}let u;function g(){return u||(u=C.isLittleEndian()?L():v()),u}e.getPlatformTextDecoder=g,e.hasTextDecoder=typeof TextDecoder!="undefined",e.hasTextDecoder?(e.createStringBuilder=l=>new t(l),e.decodeUTF16LE=n):(e.createStringBuilder=l=>new r,e.decodeUTF16LE=i);function n(l,d,a){const s=new Uint16Array(l.buffer,d,a);return a>0&&(s[0]===65279||s[0]===65534)?i(l,d,a):L().decode(s)}function i(l,d,a){const s=[];let o=0;for(let c=0;c<a;c++){const f=k.readUInt16LE(l,d);d+=2,s[o++]=String.fromCharCode(f)}return s.join("")}class t{constructor(d){this._capacity=d|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const d=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return g().decode(d)}_flushBuffer(){const d=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[d]:this._completedStrings[this._completedStrings.length]=d}write1(d){const a=this._capacity-this._bufferLength;a<=1&&(a===0||w.isHighSurrogate(d))&&this._flushBuffer(),this._buffer[this._bufferLength++]=d}appendASCII(d){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=d}appendASCIIString(d){const a=d.length;if(this._bufferLength+a>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=d;return}for(let s=0;s<a;s++)this._buffer[this._bufferLength++]=d.charCodeAt(s)}}class r{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(d){this._pieces[this._piecesLen++]=String.fromCharCode(d)}appendASCII(d){this._pieces[this._piecesLen++]=String.fromCharCode(d)}appendASCIIString(d){this._pieces[this._piecesLen++]=d}}}),define(re[501],ae([1,0,91,8,65,99,241]),function($,e,w,C,k,I,L){"use strict";var b;Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const v=(b=window.trustedTypes)===null||b===void 0?void 0:b.createPolicy("domLineBreaksComputer",{createHTML:l=>l});class u{static create(){return new u}constructor(){}createLineBreaksComputer(d,a,s,o){const c=[],f=[];return{addRequest:(p,_,m)=>{c.push(p),f.push(_)},finalize:()=>g(c,d,a,s,o,f)}}}e.DOMLineBreaksComputerFactory=u;function g(l,d,a,s,o,c){var f;function p(V){const A=c[V];if(A){const Q=I.LineInjectedText.applyInjectedText(l[V],A),J=A.map(q=>q.options),H=A.map(q=>q.column-1);return new L.ModelLineProjectionData(H,J,[Q.length],[],0)}else return null}if(s===-1){const V=[];for(let A=0,Q=l.length;A<Q;A++)V[A]=p(A);return V}const _=Math.round(s*d.typicalHalfwidthCharacterWidth),h=Math.round(a*(o===3?2:o===2?1:0)),S=Math.ceil(d.spaceWidth*h),y=document.createElement("div");(0,k.applyFontInfo)(y,d);const E=(0,w.createStringBuilder)(1e4),N=[],T=[],R=[],F=[],O=[];for(let V=0;V<l.length;V++){const A=I.LineInjectedText.applyInjectedText(l[V],c[V]);let Q=0,J=0,H=_;if(o!==0)if(Q=C.firstNonWhitespaceIndex(A),Q===-1)Q=0;else{for(let Y=0;Y<Q;Y++)J+=A.charCodeAt(Y)===9?a-J%a:1;const ie=Math.ceil(d.spaceWidth*J);ie+d.typicalFullwidthCharacterWidth>_?(Q=0,J=0):H=_-ie}const q=A.substr(Q),Z=n(q,J,a,H,E,S);N[V]=Q,T[V]=J,R[V]=q,F[V]=Z[0],O[V]=Z[1]}const D=E.build(),M=(f=v==null?void 0:v.createHTML(D))!==null&&f!==void 0?f:D;y.innerHTML=M,y.style.position="absolute",y.style.top="10000",y.style.wordWrap="break-word",document.body.appendChild(y);const P=document.createRange(),B=Array.prototype.slice.call(y.children,0),W=[];for(let V=0;V<l.length;V++){const A=B[V],Q=i(P,A,R[V],F[V]);if(Q===null){W[V]=p(V);continue}const J=N[V],H=T[V]+h,q=O[V],Z=[];for(let de=0,x=Q.length;de<x;de++)Z[de]=q[Q[de]];if(J!==0)for(let de=0,x=Q.length;de<x;de++)Q[de]+=J;let ie,Y;const te=c[V];te?(ie=te.map(de=>de.options),Y=te.map(de=>de.column-1)):(ie=null,Y=null),W[V]=new L.ModelLineProjectionData(Y,ie,Q,Z,H)}return document.body.removeChild(y),W}function n(l,d,a,s,o,c){if(c!==0){const y=String(c);o.appendASCIIString('<div style="text-indent: -'),o.appendASCIIString(y),o.appendASCIIString("px; padding-left: "),o.appendASCIIString(y),o.appendASCIIString("px; box-sizing: border-box; width:")}else o.appendASCIIString('<div style="width:');o.appendASCIIString(String(s)),o.appendASCIIString('px;">');const f=l.length;let p=d,_=0;const m=[],h=[];let S=0<f?l.charCodeAt(0):0;o.appendASCIIString("<span>");for(let y=0;y<f;y++){y!==0&&y%16384==0&&o.appendASCIIString("</span><span>"),m[y]=_,h[y]=p;const E=S;S=y+1<f?l.charCodeAt(y+1):0;let N=1,T=1;switch(E){case 9:N=a-p%a,T=N;for(let R=1;R<=N;R++)R<N?o.write1(160):o.appendASCII(32);break;case 32:S===32?o.write1(160):o.appendASCII(32);break;case 60:o.appendASCIIString("&lt;");break;case 62:o.appendASCIIString("&gt;");break;case 38:o.appendASCIIString("&amp;");break;case 0:o.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:o.write1(65533);break;default:C.isFullWidthCharacter(E)&&T++,E<32?o.write1(9216+E):o.write1(E)}_+=N,p+=T}return o.appendASCIIString("</span>"),m[l.length]=_,h[l.length]=p,o.appendASCIIString("</div>"),[m,h]}function i(l,d,a,s){if(a.length<=1)return null;const o=Array.prototype.slice.call(d.children,0),c=[];try{t(l,o,s,0,null,a.length-1,null,c)}catch(f){return console.log(f),null}return c.length===0?null:(c.push(a.length),c)}function t(l,d,a,s,o,c,f,p){if(s===c||(o=o||r(l,d,a[s],a[s+1]),f=f||r(l,d,a[c],a[c+1]),Math.abs(o[0].top-f[0].top)<=.1))return;if(s+1===c){p.push(c);return}const _=s+(c-s)/2|0,m=r(l,d,a[_],a[_+1]);t(l,d,a,s,o,_,m,p),t(l,d,a,_,m,c,f,p)}function r(l,d,a,s){return l.setStart(d[a/16384|0].firstChild,a%16384),l.setEnd(d[s/16384|0].firstChild,s%16384),l.getClientRects()}}),define(re[202],ae([1,0,33,91]),function($,e,w,C){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class I{constructor(u){this._createLine=u,this._set(1,[])}flush(){this._set(1,[])}_set(u,g){this._lines=g,this._rendLineNumberStart=u}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(u){const g=u-this._rendLineNumberStart;if(g<0||g>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[g]}onLinesDeleted(u,g){if(this.getCount()===0)return null;const n=this.getStartLineNumber(),i=this.getEndLineNumber();if(g<n){const d=g-u+1;return this._rendLineNumberStart-=d,null}if(u>i)return null;let t=0,r=0;for(let d=n;d<=i;d++){const a=d-this._rendLineNumberStart;u<=d&&d<=g&&(r===0?(t=a,r=1):r++)}if(u<n){let d=0;g<n?d=g-u+1:d=n-u,this._rendLineNumberStart-=d}return this._lines.splice(t,r)}onLinesChanged(u,g){const n=u+g-1;if(this.getCount()===0)return!1;const i=this.getStartLineNumber(),t=this.getEndLineNumber();let r=!1;for(let l=u;l<=n;l++)l>=i&&l<=t&&(this._lines[l-this._rendLineNumberStart].onContentChanged(),r=!0);return r}onLinesInserted(u,g){if(this.getCount()===0)return null;const n=g-u+1,i=this.getStartLineNumber(),t=this.getEndLineNumber();if(u<=i)return this._rendLineNumberStart+=n,null;if(u>t)return null;if(n+u>t)return this._lines.splice(u-this._rendLineNumberStart,t-u+1);const r=[];for(let o=0;o<n;o++)r[o]=this._createLine();const l=u-this._rendLineNumberStart,d=this._lines.slice(0,l),a=this._lines.slice(l,this._lines.length-n),s=this._lines.slice(this._lines.length-n,this._lines.length);return this._lines=d.concat(r).concat(a),s}onTokensChanged(u){if(this.getCount()===0)return!1;const g=this.getStartLineNumber(),n=this.getEndLineNumber();let i=!1;for(let t=0,r=u.length;t<r;t++){const l=u[t];if(l.toLineNumber<g||l.fromLineNumber>n)continue;const d=Math.max(g,l.fromLineNumber),a=Math.min(n,l.toLineNumber);for(let s=d;s<=a;s++){const o=s-this._rendLineNumberStart;this._lines[o].onTokensChanged(),i=!0}}return i}}e.RenderedLinesCollection=I;class L{constructor(u){this._host=u,this.domNode=this._createDomNode(),this._linesCollection=new I(()=>this._host.createVisibleLine())}_createDomNode(){const u=(0,w.createFastDomNode)(document.createElement("div"));return u.setClassName("view-layer"),u.setPosition("absolute"),u.domNode.setAttribute("role","presentation"),u.domNode.setAttribute("aria-hidden","true"),u}onConfigurationChanged(u){return!!u.hasChanged(133)}onFlushed(u){return this._linesCollection.flush(),!0}onLinesChanged(u){return this._linesCollection.onLinesChanged(u.fromLineNumber,u.count)}onLinesDeleted(u){const g=this._linesCollection.onLinesDeleted(u.fromLineNumber,u.toLineNumber);if(g)for(let n=0,i=g.length;n<i;n++){const t=g[n].getDomNode();t&&this.domNode.domNode.removeChild(t)}return!0}onLinesInserted(u){const g=this._linesCollection.onLinesInserted(u.fromLineNumber,u.toLineNumber);if(g)for(let n=0,i=g.length;n<i;n++){const t=g[n].getDomNode();t&&this.domNode.domNode.removeChild(t)}return!0}onScrollChanged(u){return u.scrollTopChanged}onTokensChanged(u){return this._linesCollection.onTokensChanged(u.ranges)}onZonesChanged(u){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(u){return this._linesCollection.getLine(u)}renderLines(u){const g=this._linesCollection._get(),n=new b(this.domNode.domNode,this._host,u),i={rendLineNumberStart:g.rendLineNumberStart,lines:g.lines,linesLength:g.lines.length},t=n.render(i,u.startLineNumber,u.endLineNumber,u.relativeVerticalOffset);this._linesCollection._set(t.rendLineNumberStart,t.lines)}}e.VisibleLinesCollection=L;class b{constructor(u,g,n){this.domNode=u,this.host=g,this.viewportData=n}render(u,g,n,i){const t={rendLineNumberStart:u.rendLineNumberStart,lines:u.lines.slice(0),linesLength:u.linesLength};if(t.rendLineNumberStart+t.linesLength-1<g||n<t.rendLineNumberStart){t.rendLineNumberStart=g,t.linesLength=n-g+1,t.lines=[];for(let r=g;r<=n;r++)t.lines[r-g]=this.host.createVisibleLine();return this._finishRendering(t,!0,i),t}if(this._renderUntouchedLines(t,Math.max(g-t.rendLineNumberStart,0),Math.min(n-t.rendLineNumberStart,t.linesLength-1),i,g),t.rendLineNumberStart>g){const r=g,l=Math.min(n,t.rendLineNumberStart-1);r<=l&&(this._insertLinesBefore(t,r,l,i,g),t.linesLength+=l-r+1)}else if(t.rendLineNumberStart<g){const r=Math.min(t.linesLength,g-t.rendLineNumberStart);r>0&&(this._removeLinesBefore(t,r),t.linesLength-=r)}if(t.rendLineNumberStart=g,t.rendLineNumberStart+t.linesLength-1<n){const r=t.rendLineNumberStart+t.linesLength,l=n;r<=l&&(this._insertLinesAfter(t,r,l,i,g),t.linesLength+=l-r+1)}else if(t.rendLineNumberStart+t.linesLength-1>n){const r=Math.max(0,n-t.rendLineNumberStart+1),d=t.linesLength-1-r+1;d>0&&(this._removeLinesAfter(t,d),t.linesLength-=d)}return this._finishRendering(t,!1,i),t}_renderUntouchedLines(u,g,n,i,t){const r=u.rendLineNumberStart,l=u.lines;for(let d=g;d<=n;d++){const a=r+d;l[d].layoutLine(a,i[a-t])}}_insertLinesBefore(u,g,n,i,t){const r=[];let l=0;for(let d=g;d<=n;d++)r[l++]=this.host.createVisibleLine();u.lines=r.concat(u.lines)}_removeLinesBefore(u,g){for(let n=0;n<g;n++){const i=u.lines[n].getDomNode();i&&this.domNode.removeChild(i)}u.lines.splice(0,g)}_insertLinesAfter(u,g,n,i,t){const r=[];let l=0;for(let d=g;d<=n;d++)r[l++]=this.host.createVisibleLine();u.lines=u.lines.concat(r)}_removeLinesAfter(u,g){const n=u.linesLength-g;for(let i=0;i<g;i++){const t=u.lines[n+i].getDomNode();t&&this.domNode.removeChild(t)}u.lines.splice(n,g)}_finishRenderingNewLines(u,g,n,i){b._ttPolicy&&(n=b._ttPolicy.createHTML(n));const t=this.domNode.lastChild;g||!t?this.domNode.innerHTML=n:t.insertAdjacentHTML("afterend",n);let r=this.domNode.lastChild;for(let l=u.linesLength-1;l>=0;l--){const d=u.lines[l];i[l]&&(d.setDomNode(r),r=r.previousSibling)}}_finishRenderingInvalidLines(u,g,n){const i=document.createElement("div");b._ttPolicy&&(g=b._ttPolicy.createHTML(g)),i.innerHTML=g;for(let t=0;t<u.linesLength;t++){const r=u.lines[t];if(n[t]){const l=i.firstChild,d=r.getDomNode();d.parentNode.replaceChild(l,d),r.setDomNode(l)}}}_finishRendering(u,g,n){const i=b._sb,t=u.linesLength,r=u.lines,l=u.rendLineNumberStart,d=[];{i.reset();let a=!1;for(let s=0;s<t;s++){const o=r[s];d[s]=!1,!(o.getDomNode()||!o.renderLine(s+l,n[s],this.viewportData,i))&&(d[s]=!0,a=!0)}a&&this._finishRenderingNewLines(u,g,i.build(),d)}{i.reset();let a=!1;const s=[];for(let o=0;o<t;o++){const c=r[o];s[o]=!1,!(d[o]||!c.renderLine(o+l,n[o],this.viewportData,i))&&(s[o]=!0,a=!0)}a&&this._finishRenderingInvalidLines(u,i.build(),s)}}}b._ttPolicy=(k=window.trustedTypes)===null||k===void 0?void 0:k.createPolicy("editorViewLayer",{createHTML:v=>v}),b._sb=(0,C.createStringBuilder)(1e5)}),define(re[502],ae([1,0,33,65,202,47]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class L extends I.ViewPart{constructor(n){super(n);this._visibleLines=new k.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let n=0,i=this._dynamicOverlays.length;n<i;n++)if(this._dynamicOverlays[n].shouldRender())return!0;return!1}dispose(){super.dispose();for(let n=0,i=this._dynamicOverlays.length;n<i;n++)this._dynamicOverlays[n].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new b(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(n){this._dynamicOverlays.push(n)}onConfigurationChanged(n){this._visibleLines.onConfigurationChanged(n);const i=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let r=i;r<=t;r++)this._visibleLines.getVisibleLine(r).onConfigurationChanged(n);return!0}onFlushed(n){return this._visibleLines.onFlushed(n)}onFocusChanged(n){return this._isFocused=n.isFocused,!0}onLinesChanged(n){return this._visibleLines.onLinesChanged(n)}onLinesDeleted(n){return this._visibleLines.onLinesDeleted(n)}onLinesInserted(n){return this._visibleLines.onLinesInserted(n)}onScrollChanged(n){return this._visibleLines.onScrollChanged(n)||!0}onTokensChanged(n){return this._visibleLines.onTokensChanged(n)}onZonesChanged(n){return this._visibleLines.onZonesChanged(n)}prepareRender(n){const i=this._dynamicOverlays.filter(t=>t.shouldRender());for(let t=0,r=i.length;t<r;t++){const l=i[t];l.prepareRender(n),l.onDidRender()}}render(n){this._viewOverlaysRender(n),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(n){this._visibleLines.renderLines(n.viewportData)}}e.ViewOverlays=L;class b{constructor(n,i){this._configuration=n,this._lineHeight=this._configuration.options.get(61),this._dynamicOverlays=i,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(n){this._domNode=(0,w.createFastDomNode)(n)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(n){this._lineHeight=this._configuration.options.get(61)}renderLine(n,i,t,r){let l="";for(let d=0,a=this._dynamicOverlays.length;d<a;d++)l+=this._dynamicOverlays[d].render(t.startLineNumber,n);return this._renderedContent===l?!1:(this._renderedContent=l,r.appendASCIIString('<div style="position:absolute;top:'),r.appendASCIIString(String(i)),r.appendASCIIString("px;width:100%;height:"),r.appendASCIIString(String(this._lineHeight)),r.appendASCIIString('px;">'),r.appendASCIIString(l),r.appendASCIIString("</div>"),!0)}layoutLine(n,i){this._domNode&&(this._domNode.setTop(i),this._domNode.setHeight(this._lineHeight))}}e.ViewOverlayLine=b;class v extends L{constructor(n){super(n);const t=this._context.configuration.options.get(133);this._contentWidth=t.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(n){const t=this._context.configuration.options.get(133);return this._contentWidth=t.contentWidth,super.onConfigurationChanged(n)||!0}onScrollChanged(n){return super.onScrollChanged(n)||n.scrollWidthChanged}_viewOverlaysRender(n){super._viewOverlaysRender(n),this.domNode.setWidth(Math.max(n.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=v;class u extends L{constructor(n){super(n);const i=this._context.configuration.options,t=i.get(133);this._contentLeft=t.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,C.applyFontInfo)(this.domNode,i.get(46))}onConfigurationChanged(n){const i=this._context.configuration.options;(0,C.applyFontInfo)(this.domNode,i.get(46));const t=i.get(133);return this._contentLeft=t.contentLeft,super.onConfigurationChanged(n)||!0}onScrollChanged(n){return super.onScrollChanged(n)||n.scrollHeightChanged}_viewOverlaysRender(n){super._viewOverlaysRender(n);const i=Math.min(n.scrollHeight,1e6);this.domNode.setHeight(i),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=u}),define(re[270],ae([1,0,122,91]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressConsecutiveTextChanges=e.TextChange=void 0;function k(v){return v.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class I{constructor(u,g,n,i){this.oldPosition=u,this.oldText=g,this.newPosition=n,this.newText=i}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${k(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${k(this.oldText)}")`:`(replace@${this.oldPosition} "${k(this.oldText)}" with "${k(this.newText)}")`}static _writeStringSize(u){return 4+2*u.length}static _writeString(u,g,n){const i=g.length;w.writeUInt32BE(u,i,n),n+=4;for(let t=0;t<i;t++)w.writeUInt16LE(u,g.charCodeAt(t),n),n+=2;return n}static _readString(u,g){const n=w.readUInt32BE(u,g);return g+=4,(0,C.decodeUTF16LE)(u,g,n)}writeSize(){return 4+4+I._writeStringSize(this.oldText)+I._writeStringSize(this.newText)}write(u,g){return w.writeUInt32BE(u,this.oldPosition,g),g+=4,w.writeUInt32BE(u,this.newPosition,g),g+=4,g=I._writeString(u,this.oldText,g),g=I._writeString(u,this.newText,g),g}static read(u,g,n){const i=w.readUInt32BE(u,g);g+=4;const t=w.readUInt32BE(u,g);g+=4;const r=I._readString(u,g);g+=I._writeStringSize(r);const l=I._readString(u,g);return g+=I._writeStringSize(l),n.push(new I(i,r,t,l)),g}}e.TextChange=I;function L(v,u){return v===null||v.length===0?u:new b(v,u).compress()}e.compressConsecutiveTextChanges=L;class b{constructor(u,g){this._prevEdits=u,this._currEdits=g,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let u=0,g=0,n=this._getPrev(u),i=this._getCurr(g);for(;u<this._prevLen||g<this._currLen;){if(n===null){this._acceptCurr(i),i=this._getCurr(++g);continue}if(i===null){this._acceptPrev(n),n=this._getPrev(++u);continue}if(i.oldEnd<=n.newPosition){this._acceptCurr(i),i=this._getCurr(++g);continue}if(n.newEnd<=i.oldPosition){this._acceptPrev(n),n=this._getPrev(++u);continue}if(i.oldPosition<n.newPosition){const[a,s]=b._splitCurr(i,n.newPosition-i.oldPosition);this._acceptCurr(a),i=s;continue}if(n.newPosition<i.oldPosition){const[a,s]=b._splitPrev(n,i.oldPosition-n.newPosition);this._acceptPrev(a),n=s;continue}let l,d;if(i.oldEnd===n.newEnd)l=n,d=i,n=this._getPrev(++u),i=this._getCurr(++g);else if(i.oldEnd<n.newEnd){const[a,s]=b._splitPrev(n,i.oldLength);l=a,d=i,n=s,i=this._getCurr(++g)}else{const[a,s]=b._splitCurr(i,n.newLength);l=n,d=a,n=this._getPrev(++u),i=s}this._result[this._resultLen++]=new I(l.oldPosition,l.oldText,d.newPosition,d.newText),this._prevDeltaOffset+=l.newLength-l.oldLength,this._currDeltaOffset+=d.newLength-d.oldLength}const t=b._merge(this._result);return b._removeNoOps(t)}_acceptCurr(u){this._result[this._resultLen++]=b._rebaseCurr(this._prevDeltaOffset,u),this._currDeltaOffset+=u.newLength-u.oldLength}_getCurr(u){return u<this._currLen?this._currEdits[u]:null}_acceptPrev(u){this._result[this._resultLen++]=b._rebasePrev(this._currDeltaOffset,u),this._prevDeltaOffset+=u.newLength-u.oldLength}_getPrev(u){return u<this._prevLen?this._prevEdits[u]:null}static _rebaseCurr(u,g){return new I(g.oldPosition-u,g.oldText,g.newPosition,g.newText)}static _rebasePrev(u,g){return new I(g.oldPosition,g.oldText,g.newPosition+u,g.newText)}static _splitPrev(u,g){const n=u.newText.substr(0,g),i=u.newText.substr(g);return[new I(u.oldPosition,u.oldText,u.newPosition,n),new I(u.oldEnd,"",u.newPosition+g,i)]}static _splitCurr(u,g){const n=u.oldText.substr(0,g),i=u.oldText.substr(g);return[new I(u.oldPosition,n,u.newPosition,u.newText),new I(u.oldPosition+g,i,u.newEnd,"")]}static _merge(u){if(u.length===0)return u;const g=[];let n=0,i=u[0];for(let t=1;t<u.length;t++){const r=u[t];i.oldEnd===r.oldPosition?i=new I(i.oldPosition,i.oldText+r.oldText,i.newPosition,i.newText+r.newText):(g[n++]=i,i=r)}return g[n++]=i,g}static _removeNoOps(u){if(u.length===0)return u;const g=[];let n=0;for(let i=0;i<u.length;i++){const t=u[i];t.oldText!==t.newText&&(g[n++]=t)}return g}}}),define(re[503],ae([1,0,253,90]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function k(I,L,b,v,u,g){if(Array.isArray(I)){let n=0;for(const i of I){const t=k(i,L,b,v,u,g);if(t===10)return t;t>n&&(n=t)}return n}else{if(typeof I=="string")return v?I==="*"?5:I===b?10:0:0;if(I){const{language:n,pattern:i,scheme:t,hasAccessToAllModels:r,notebookType:l}=I;if(!v&&!r)return 0;l&&u&&(L=u);let d=0;if(t)if(t===L.scheme)d=10;else if(t==="*")d=5;else return 0;if(n)if(n===b)d=10;else if(n==="*")d=Math.max(d,5);else return 0;if(l)if(l===g)d=10;else if(l==="*"&&g!==void 0)d=Math.max(d,5);else return 0;if(i){let a;if(typeof i=="string"?a=i:a=Object.assign(Object.assign({},i),{base:(0,C.normalize)(i.base)}),a===L.fsPath||(0,w.match)(a,L.fsPath))d=10;else return 0}return d}else return 0}}e.score=k}),define(re[504],ae([1,0,6,2,46,503]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRegistry=void 0;function L(u){return typeof u=="string"?!1:Array.isArray(u)?u.every(L):!!u.exclusive}class b{constructor(g,n,i,t){this.uri=g,this.languageId=n,this.notebookUri=i,this.notebookType=t}equals(g){var n,i;return this.notebookType===g.notebookType&&this.languageId===g.languageId&&this.uri.toString()===g.uri.toString()&&((n=this.notebookUri)===null||n===void 0?void 0:n.toString())===((i=g.notebookUri)===null||i===void 0?void 0:i.toString())}}class v{constructor(g){this._notebookInfoResolver=g,this._clock=0,this._entries=[],this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event}register(g,n){let i={selector:g,provider:n,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,C.toDisposable)(()=>{if(i){const t=this._entries.indexOf(i);t>=0&&(this._entries.splice(t,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}})}has(g){return this.all(g).length>0}all(g){if(!g)return[];this._updateScores(g);const n=[];for(const i of this._entries)i._score>0&&n.push(i.provider);return n}ordered(g){const n=[];return this._orderedForEach(g,i=>n.push(i.provider)),n}orderedGroups(g){const n=[];let i,t;return this._orderedForEach(g,r=>{i&&t===r._score?i.push(r.provider):(t=r._score,i=[r.provider],n.push(i))}),n}_orderedForEach(g,n){this._updateScores(g);for(const i of this._entries)i._score>0&&n(i)}_updateScores(g){var n,i;const t=(n=this._notebookInfoResolver)===null||n===void 0?void 0:n.call(this,g.uri),r=t?new b(g.uri,g.getLanguageId(),t.uri,t.type):new b(g.uri,g.getLanguageId(),void 0,void 0);if(!((i=this._lastCandidate)===null||i===void 0?void 0:i.equals(r))){this._lastCandidate=r;for(const l of this._entries)if(l._score=(0,I.score)(l.selector,r.uri,r.languageId,(0,k.shouldSynchronizeModel)(g),r.notebookUri,r.notebookType),L(l.selector)&&l._score>0){for(const d of this._entries)d._score=0;l._score=1e3;break}this._entries.sort(v._compareByScoreAndTime)}}static _compareByScoreAndTime(g,n){return g._score<n._score?1:g._score>n._score?-1:g._time<n._time?1:g._time>n._time?-1:0}}e.LanguageFeatureRegistry=v}),define(re[203],ae([1,0,8,91,3]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class I{constructor(c,f,p,_,m,h){this._richEditBracketBrand=void 0,this.languageId=c,this.index=f,this.open=p,this.close=_,this.forwardRegex=m,this.reversedRegex=h,this._openSet=I._toSet(this.open),this._closeSet=I._toSet(this.close)}isOpen(c){return this._openSet.has(c)}isClose(c){return this._closeSet.has(c)}static _toSet(c){const f=new Set;for(const p of c)f.add(p);return f}}e.RichEditBracket=I;function L(o){const c=o.length;o=o.map(h=>[h[0].toLowerCase(),h[1].toLowerCase()]);const f=[];for(let h=0;h<c;h++)f[h]=h;const p=(h,S)=>{const[y,E]=h,[N,T]=S;return y===N||y===T||E===N||E===T},_=(h,S)=>{const y=Math.min(h,S),E=Math.max(h,S);for(let N=0;N<c;N++)f[N]===E&&(f[N]=y)};for(let h=0;h<c;h++){const S=o[h];for(let y=h+1;y<c;y++){const E=o[y];p(S,E)&&_(f[h],f[y])}}const m=[];for(let h=0;h<c;h++){const S=[],y=[];for(let E=0;E<c;E++)if(f[E]===h){const[N,T]=o[E];S.push(N),y.push(T)}S.length>0&&m.push({open:S,close:y})}return m}class b{constructor(c,f){this._richEditBracketsBrand=void 0;const p=L(f);this.brackets=p.map((_,m)=>new I(c,m,_.open,_.close,n(_.open,_.close,p,m),i(_.open,_.close,p,m))),this.forwardRegex=t(this.brackets),this.reversedRegex=r(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const _ of this.brackets){for(const m of _.open)this.textIsBracket[m]=_,this.textIsOpenBracket[m]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,m.length);for(const m of _.close)this.textIsBracket[m]=_,this.textIsOpenBracket[m]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,m.length)}}}e.RichEditBrackets=b;function v(o,c,f,p){for(let _=0,m=c.length;_<m;_++){if(_===f)continue;const h=c[_];for(const S of h.open)S.indexOf(o)>=0&&p.push(S);for(const S of h.close)S.indexOf(o)>=0&&p.push(S)}}function u(o,c){return o.length-c.length}function g(o){if(o.length<=1)return o;const c=[],f=new Set;for(const p of o)f.has(p)||(c.push(p),f.add(p));return c}function n(o,c,f,p){let _=[];_=_.concat(o),_=_.concat(c);for(let m=0,h=_.length;m<h;m++)v(_[m],f,p,_);return _=g(_),_.sort(u),_.reverse(),d(_)}function i(o,c,f,p){let _=[];_=_.concat(o),_=_.concat(c);for(let m=0,h=_.length;m<h;m++)v(_[m],f,p,_);return _=g(_),_.sort(u),_.reverse(),d(_.map(a))}function t(o){let c=[];for(const f of o){for(const p of f.open)c.push(p);for(const p of f.close)c.push(p)}return c=g(c),d(c)}function r(o){let c=[];for(const f of o){for(const p of f.open)c.push(p);for(const p of f.close)c.push(p)}return c=g(c),d(c.map(a))}function l(o){const c=/^[\w ]+$/.test(o);return o=w.escapeRegExpCharacters(o),c?`\\b${o}\\b`:o}function d(o){const c=`(${o.map(l).join(")|(")})`;return w.createRegExp(c,!0)}const a=function(){function o(p){if(C.hasTextDecoder){const _=new Uint16Array(p.length);let m=0;for(let h=p.length-1;h>=0;h--)_[m++]=p.charCodeAt(h);return C.getPlatformTextDecoder().decode(_)}else{const _=[];let m=0;for(let h=p.length-1;h>=0;h--)_[m++]=p.charAt(h);return _.join("")}}let c=null,f=null;return function(_){return c!==_&&(c=_,f=o(c)),f}}();class s{static _findPrevBracketInText(c,f,p,_){const m=p.match(c);if(!m)return null;const h=p.length-(m.index||0),S=m[0].length,y=_+h;return new k.Range(f,y-S+1,f,y+1)}static findPrevBracketInRange(c,f,p,_,m){const S=a(p).substring(p.length-m,p.length-_);return this._findPrevBracketInText(c,f,S,_)}static findNextBracketInText(c,f,p,_){const m=p.match(c);if(!m)return null;const h=m.index||0,S=m[0].length;if(S===0)return null;const y=_+h;return new k.Range(f,y+1,f,y+1+S)}static findNextBracketInRange(c,f,p,_,m){const h=p.substring(_,m);return this.findNextBracketInText(c,f,h,_)}}e.BracketsUtils=s}),define(re[505],ae([1,0,18,110,203]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class I{constructor(b){this._richEditBrackets=b}getElectricCharacters(){const b=[];if(this._richEditBrackets)for(const v of this._richEditBrackets.brackets)for(const u of v.close){const g=u.charAt(u.length-1);b.push(g)}return(0,w.distinct)(b)}onElectricCharacter(b,v,u){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const g=v.findTokenIndexAtOffset(u-1);if((0,C.ignoreBracketsInToken)(v.getStandardTokenType(g)))return null;const n=this._richEditBrackets.reversedRegex,i=v.getLineContent().substring(0,u-1)+b,t=k.BracketsUtils.findPrevBracketInRange(n,1,i,0,i.length);if(!t)return null;const r=i.substring(t.startColumn-1,t.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[r])return null;const d=v.getActualLineContentBefore(t.startColumn-1);return/^\s*$/.test(d)?{matchOpenBracket:r}:null}}e.BracketElectricCharacterSupport=I}),define(re[506],ae([1,0,6,2,3,428,235,237,87,236,111,183]),function($,e,w,C,k,I,L,b,v,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTree=void 0;class i extends C.Disposable{constructor(o,c){super();if(this.textModel=o,this.getLanguageConfiguration=c,this.didChangeEmitter=new w.Emitter,this.denseKeyProvider=new g.DenseKeyProvider,this.brackets=new b.LanguageAgnosticBracketTokens(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,o.tokenization.backgroundTokenizationState===0){const f=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),p=new n.FastTokenizer(this.textModel.getValue(),f);this.initialAstWithoutTokens=(0,u.parseDocument)(p,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else o.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):o.tokenization.backgroundTokenizationState===1&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(o){return this.brackets.didLanguageChange(o)}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const o=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,o||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:o}){const c=o.map(f=>new L.TextEditInfo((0,v.toLength)(f.fromLineNumber-1,0),(0,v.toLength)(f.toLineNumber,0),(0,v.toLength)(f.toLineNumber-f.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(c,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(o){const c=o.changes.map(f=>{const p=k.Range.lift(f.range);return new L.TextEditInfo((0,v.positionToLength)(p.getStartPosition()),(0,v.positionToLength)(p.getEndPosition()),(0,v.lengthOfString)(f.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(c,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(c,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(o,c,f){const _=!1?c==null?void 0:c.deepClone():c,m=new n.TextBufferTokenizer(this.textModel,this.brackets);return(0,u.parseDocument)(m,o,_,f)}getBracketsInRange(o){const c=(0,v.toLength)(o.startLineNumber-1,o.startColumn-1),f=(0,v.toLength)(o.endLineNumber-1,o.endColumn-1),p=new Array,_=this.initialAstWithoutTokens||this.astWithTokens;return l(_,v.lengthZero,_.length,c,f,p,0,new Map),p}getBracketPairsInRange(o,c){const f=new Array,p=(0,v.positionToLength)(o.getStartPosition()),_=(0,v.positionToLength)(o.getEndPosition()),m=this.initialAstWithoutTokens||this.astWithTokens,h=new d(f,c,this.textModel);return a(m,v.lengthZero,m.length,p,_,h,0,new Map),f}getFirstBracketAfter(o){const c=this.initialAstWithoutTokens||this.astWithTokens;return r(c,v.lengthZero,c.length,(0,v.positionToLength)(o))}getFirstBracketBefore(o){const c=this.initialAstWithoutTokens||this.astWithTokens;return t(c,v.lengthZero,c.length,(0,v.positionToLength)(o))}}e.BracketPairsTree=i;function t(s,o,c,f){if(s.kind===4||s.kind===2){const p=[];for(const _ of s.children)c=(0,v.lengthAdd)(o,_.length),p.push({nodeOffsetStart:o,nodeOffsetEnd:c}),o=c;for(let _=p.length-1;_>=0;_--){const{nodeOffsetStart:m,nodeOffsetEnd:h}=p[_];if((0,v.lengthLessThan)(m,f)){const S=t(s.children[_],m,h,f);if(S)return S}}return null}else{if(s.kind===3)return null;if(s.kind===1){const p=(0,v.lengthsToRange)(o,c);return{bracketInfo:s.bracketInfo,range:p}}}return null}function r(s,o,c,f){if(s.kind===4||s.kind===2){for(const p of s.children){if(c=(0,v.lengthAdd)(o,p.length),(0,v.lengthLessThan)(f,c)){const _=r(p,o,c,f);if(_)return _}o=c}return null}else{if(s.kind===3)return null;if(s.kind===1){const p=(0,v.lengthsToRange)(o,c);return{bracketInfo:s.bracketInfo,range:p}}}return null}function l(s,o,c,f,p,_,m,h){if(!(m>200)){if(s.kind===4)for(const S of s.children)c=(0,v.lengthAdd)(o,S.length),(0,v.lengthLessThanEqual)(o,p)&&(0,v.lengthGreaterThanEqual)(c,f)&&l(S,o,c,f,p,_,m,h),o=c;else if(s.kind===2){let S=0;if(h){let y=h.get(s.openingBracket.text);y===void 0&&(y=0),S=y,y++,h.set(s.openingBracket.text,y)}{const y=s.openingBracket;if(c=(0,v.lengthAdd)(o,y.length),(0,v.lengthLessThanEqual)(o,p)&&(0,v.lengthGreaterThanEqual)(c,f)){const E=(0,v.lengthsToRange)(o,c);_.push(new I.BracketInfo(E,m,S,!s.closingBracket))}o=c}if(s.child){const y=s.child;c=(0,v.lengthAdd)(o,y.length),(0,v.lengthLessThanEqual)(o,p)&&(0,v.lengthGreaterThanEqual)(c,f)&&l(y,o,c,f,p,_,m+1,h),o=c}if(s.closingBracket){const y=s.closingBracket;if(c=(0,v.lengthAdd)(o,y.length),(0,v.lengthLessThanEqual)(o,p)&&(0,v.lengthGreaterThanEqual)(c,f)){const E=(0,v.lengthsToRange)(o,c);_.push(new I.BracketInfo(E,m,S,!1))}o=c}h==null||h.set(s.openingBracket.text,S)}else if(s.kind===3){const S=(0,v.lengthsToRange)(o,c);_.push(new I.BracketInfo(S,m-1,0,!0))}else if(s.kind===1){const S=(0,v.lengthsToRange)(o,c);_.push(new I.BracketInfo(S,m-1,0,!1))}}}class d{constructor(o,c,f){this.result=o,this.includeMinIndentation=c,this.textModel=f}}function a(s,o,c,f,p,_,m,h){var S;if(!(m>200))if(s.kind===2){let y=0;if(h){let T=h.get(s.openingBracket.text);T===void 0&&(T=0),y=T,T++,h.set(s.openingBracket.text,T)}const E=(0,v.lengthAdd)(o,s.openingBracket.length);let N=-1;if(_.includeMinIndentation&&(N=s.computeMinIndentation(o,_.textModel)),_.result.push(new I.BracketPairWithMinIndentationInfo((0,v.lengthsToRange)(o,c),(0,v.lengthsToRange)(o,E),s.closingBracket?(0,v.lengthsToRange)((0,v.lengthAdd)(E,((S=s.child)===null||S===void 0?void 0:S.length)||v.lengthZero),c):void 0,m,y,s,N)),o=E,s.child){const T=s.child;c=(0,v.lengthAdd)(o,T.length),(0,v.lengthLessThanEqual)(o,p)&&(0,v.lengthGreaterThanEqual)(c,f)&&a(T,o,c,f,p,_,m+1,h)}h==null||h.set(s.openingBracket.text,y)}else{let y=o;for(const E of s.children){const N=y;y=(0,v.lengthAdd)(y,E.length),(0,v.lengthLessThanEqual)(N,p)&&(0,v.lengthLessThanEqual)(f,y)&&a(E,N,y,f,p,_,m,h)}}}}),define(re[507],ae([1,0,6,2,3,506,110,203,18]),function($,e,w,C,k,I,L,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTextModelPart=void 0;class u extends C.Disposable{constructor(l,d){super();this.textModel=l,this.languageConfigurationService=d,this.bracketPairsTree=this._register(new C.MutableDisposable),this.onDidChangeEmitter=new w.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(a=>{var s;(!a.languageId||((s=this.bracketPairsTree.value)===null||s===void 0?void 0:s.object.didLanguageChange(a.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get canBuildAST(){const l=5e4*100;return this.textModel.getValueLength()<=l}handleDidChangeOptions(l){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(l){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(l){var d;(d=this.bracketPairsTree.value)===null||d===void 0||d.object.handleContentChanged(l)}handleDidChangeBackgroundTokenizationState(){var l;(l=this.bracketPairsTree.value)===null||l===void 0||l.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(l){var d;(d=this.bracketPairsTree.value)===null||d===void 0||d.object.handleDidChangeTokens(l)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const l=new C.DisposableStore;this.bracketPairsTree.value=g(l.add(new I.BracketPairsTree(this.textModel,d=>this.languageConfigurationService.getLanguageConfiguration(d))),l),l.add(this.bracketPairsTree.value.object.onDidChange(d=>this.onDidChangeEmitter.fire(d))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(l){var d;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((d=this.bracketPairsTree.value)===null||d===void 0?void 0:d.object.getBracketPairsInRange(l,!1))||[]}getBracketPairsInRangeWithMinIndentation(l){var d;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((d=this.bracketPairsTree.value)===null||d===void 0?void 0:d.object.getBracketPairsInRange(l,!0))||[]}getBracketsInRange(l){var d;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((d=this.bracketPairsTree.value)===null||d===void 0?void 0:d.object.getBracketsInRange(l))||[]}findMatchingBracketUp(l,d,a){const s=this.textModel.validatePosition(d),o=this.textModel.getLanguageIdAtPosition(s.lineNumber,s.column);if(this.canBuildAST){const c=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew.getClosingBracketInfo(l);if(!c)return null;const f=(0,v.findLast)(this.getBracketPairsInRange(k.Range.fromPositions(d,d))||[],p=>c.closes(p.openingBracketInfo));return f?f.openingBracketRange:null}else{const c=l.toLowerCase(),f=this.languageConfigurationService.getLanguageConfiguration(o).brackets;if(!f)return null;const p=f.textIsBracket[c];return p?t(this._findMatchingBracketUp(p,s,n(a))):null}}matchBracket(l,d){if(this.canBuildAST){const a=(0,v.findLastMaxBy)(this.getBracketPairsInRange(k.Range.fromPositions(l,l)).filter(s=>s.closingBracketRange!==void 0&&(s.openingBracketRange.containsPosition(l)||s.closingBracketRange.containsPosition(l))),(0,v.compareBy)(s=>s.openingBracketRange.containsPosition(l)?s.openingBracketRange:s.closingBracketRange,k.Range.compareRangesUsingStarts));return a?[a.openingBracketRange,a.closingBracketRange]:null}else{const a=n(d);return this._matchBracket(this.textModel.validatePosition(l),a)}}_establishBracketSearchOffsets(l,d,a,s){const o=d.getCount(),c=d.getLanguageId(s);let f=Math.max(0,l.column-1-a.maxBracketLength);for(let _=s-1;_>=0;_--){const m=d.getEndOffset(_);if(m<=f)break;if((0,L.ignoreBracketsInToken)(d.getStandardTokenType(_))||d.getLanguageId(_)!==c){f=m;break}}let p=Math.min(d.getLineContent().length,l.column-1+a.maxBracketLength);for(let _=s+1;_<o;_++){const m=d.getStartOffset(_);if(m>=p)break;if((0,L.ignoreBracketsInToken)(d.getStandardTokenType(_))||d.getLanguageId(_)!==c){p=m;break}}return{searchStartOffset:f,searchEndOffset:p}}_matchBracket(l,d){const a=l.lineNumber,s=this.textModel.tokenization.getLineTokens(a),o=this.textModel.getLineContent(a),c=s.findTokenIndexAtOffset(l.column-1);if(c<0)return null;const f=this.languageConfigurationService.getLanguageConfiguration(s.getLanguageId(c)).brackets;if(f&&!(0,L.ignoreBracketsInToken)(s.getStandardTokenType(c))){let{searchStartOffset:p,searchEndOffset:_}=this._establishBracketSearchOffsets(l,s,f,c),m=null;for(;;){const h=b.BracketsUtils.findNextBracketInRange(f.forwardRegex,a,o,p,_);if(!h)break;if(h.startColumn<=l.column&&l.column<=h.endColumn){const S=o.substring(h.startColumn-1,h.endColumn-1).toLowerCase(),y=this._matchFoundBracket(h,f.textIsBracket[S],f.textIsOpenBracket[S],d);if(y){if(y instanceof i)return null;m=y}}p=h.endColumn-1}if(m)return m}if(c>0&&s.getStartOffset(c)===l.column-1){const p=c-1,_=this.languageConfigurationService.getLanguageConfiguration(s.getLanguageId(p)).brackets;if(_&&!(0,L.ignoreBracketsInToken)(s.getStandardTokenType(p))){const{searchStartOffset:m,searchEndOffset:h}=this._establishBracketSearchOffsets(l,s,_,p),S=b.BracketsUtils.findPrevBracketInRange(_.reversedRegex,a,o,m,h);if(S&&S.startColumn<=l.column&&l.column<=S.endColumn){const y=o.substring(S.startColumn-1,S.endColumn-1).toLowerCase(),E=this._matchFoundBracket(S,_.textIsBracket[y],_.textIsOpenBracket[y],d);if(E)return E instanceof i?null:E}}}return null}_matchFoundBracket(l,d,a,s){if(!d)return null;const o=a?this._findMatchingBracketDown(d,l.getEndPosition(),s):this._findMatchingBracketUp(d,l.getStartPosition(),s);return o?o instanceof i?o:[l,o]:null}_findMatchingBracketUp(l,d,a){const s=l.languageId,o=l.reversedRegex;let c=-1,f=0;const p=(_,m,h,S)=>{for(;;){if(a&&++f%100==0&&!a())return i.INSTANCE;const y=b.BracketsUtils.findPrevBracketInRange(o,_,m,h,S);if(!y)break;const E=m.substring(y.startColumn-1,y.endColumn-1).toLowerCase();if(l.isOpen(E)?c++:l.isClose(E)&&c--,c===0)return y;S=y.startColumn-1}return null};for(let _=d.lineNumber;_>=1;_--){const m=this.textModel.tokenization.getLineTokens(_),h=m.getCount(),S=this.textModel.getLineContent(_);let y=h-1,E=S.length,N=S.length;_===d.lineNumber&&(y=m.findTokenIndexAtOffset(d.column-1),E=d.column-1,N=d.column-1);let T=!0;for(;y>=0;y--){const R=m.getLanguageId(y)===s&&!(0,L.ignoreBracketsInToken)(m.getStandardTokenType(y));if(R)T?E=m.getStartOffset(y):(E=m.getStartOffset(y),N=m.getEndOffset(y));else if(T&&E!==N){const F=p(_,S,E,N);if(F)return F}T=R}if(T&&E!==N){const R=p(_,S,E,N);if(R)return R}}return null}_findMatchingBracketDown(l,d,a){const s=l.languageId,o=l.forwardRegex;let c=1,f=0;const p=(m,h,S,y)=>{for(;;){if(a&&++f%100==0&&!a())return i.INSTANCE;const E=b.BracketsUtils.findNextBracketInRange(o,m,h,S,y);if(!E)break;const N=h.substring(E.startColumn-1,E.endColumn-1).toLowerCase();if(l.isOpen(N)?c++:l.isClose(N)&&c--,c===0)return E;S=E.endColumn-1}return null},_=this.textModel.getLineCount();for(let m=d.lineNumber;m<=_;m++){const h=this.textModel.tokenization.getLineTokens(m),S=h.getCount(),y=this.textModel.getLineContent(m);let E=0,N=0,T=0;m===d.lineNumber&&(E=h.findTokenIndexAtOffset(d.column-1),N=d.column-1,T=d.column-1);let R=!0;for(;E<S;E++){const F=h.getLanguageId(E)===s&&!(0,L.ignoreBracketsInToken)(h.getStandardTokenType(E));if(F)R||(N=h.getStartOffset(E)),T=h.getEndOffset(E);else if(R&&N!==T){const O=p(m,y,N,T);if(O)return O}R=F}if(R&&N!==T){const F=p(m,y,N,T);if(F)return F}}return null}findPrevBracket(l){var d;const a=this.textModel.validatePosition(l);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((d=this.bracketPairsTree.value)===null||d===void 0?void 0:d.object.getFirstBracketBefore(a))||null;let s=null,o=null,c=null;for(let f=a.lineNumber;f>=1;f--){const p=this.textModel.tokenization.getLineTokens(f),_=p.getCount(),m=this.textModel.getLineContent(f);let h=_-1,S=m.length,y=m.length;if(f===a.lineNumber){h=p.findTokenIndexAtOffset(a.column-1),S=a.column-1,y=a.column-1;const N=p.getLanguageId(h);s!==N&&(s=N,o=this.languageConfigurationService.getLanguageConfiguration(s).brackets,c=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew)}let E=!0;for(;h>=0;h--){const N=p.getLanguageId(h);if(s!==N){if(o&&c&&E&&S!==y){const R=b.BracketsUtils.findPrevBracketInRange(o.reversedRegex,f,m,S,y);if(R)return this._toFoundBracket(c,R);E=!1}s=N,o=this.languageConfigurationService.getLanguageConfiguration(s).brackets,c=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew}const T=!!o&&!(0,L.ignoreBracketsInToken)(p.getStandardTokenType(h));if(T)E?S=p.getStartOffset(h):(S=p.getStartOffset(h),y=p.getEndOffset(h));else if(c&&o&&E&&S!==y){const R=b.BracketsUtils.findPrevBracketInRange(o.reversedRegex,f,m,S,y);if(R)return this._toFoundBracket(c,R)}E=T}if(c&&o&&E&&S!==y){const N=b.BracketsUtils.findPrevBracketInRange(o.reversedRegex,f,m,S,y);if(N)return this._toFoundBracket(c,N)}}return null}findNextBracket(l){var d;const a=this.textModel.validatePosition(l);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((d=this.bracketPairsTree.value)===null||d===void 0?void 0:d.object.getFirstBracketAfter(a))||null;const s=this.textModel.getLineCount();let o=null,c=null,f=null;for(let p=a.lineNumber;p<=s;p++){const _=this.textModel.tokenization.getLineTokens(p),m=_.getCount(),h=this.textModel.getLineContent(p);let S=0,y=0,E=0;if(p===a.lineNumber){S=_.findTokenIndexAtOffset(a.column-1),y=a.column-1,E=a.column-1;const T=_.getLanguageId(S);o!==T&&(o=T,c=this.languageConfigurationService.getLanguageConfiguration(o).brackets,f=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew)}let N=!0;for(;S<m;S++){const T=_.getLanguageId(S);if(o!==T){if(f&&c&&N&&y!==E){const F=b.BracketsUtils.findNextBracketInRange(c.forwardRegex,p,h,y,E);if(F)return this._toFoundBracket(f,F);N=!1}o=T,c=this.languageConfigurationService.getLanguageConfiguration(o).brackets,f=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew}const R=!!c&&!(0,L.ignoreBracketsInToken)(_.getStandardTokenType(S));if(R)N||(y=_.getStartOffset(S)),E=_.getEndOffset(S);else if(f&&c&&N&&y!==E){const F=b.BracketsUtils.findNextBracketInRange(c.forwardRegex,p,h,y,E);if(F)return this._toFoundBracket(f,F)}N=R}if(f&&c&&N&&y!==E){const T=b.BracketsUtils.findNextBracketInRange(c.forwardRegex,p,h,y,E);if(T)return this._toFoundBracket(f,T)}}return null}findEnclosingBrackets(l,d){const a=this.textModel.validatePosition(l);if(this.canBuildAST){const y=k.Range.fromPositions(a),E=(0,v.findLast)(this.getBracketPairsInRange(k.Range.fromPositions(a,a)),N=>N.closingBracketRange!==void 0&&N.range.strictContainsRange(y));return E?[E.openingBracketRange,E.closingBracketRange]:null}const s=n(d),o=this.textModel.getLineCount(),c=new Map;let f=[];const p=(y,E)=>{if(!c.has(y)){const N=[];for(let T=0,R=E?E.brackets.length:0;T<R;T++)N[T]=0;c.set(y,N)}f=c.get(y)};let _=0;const m=(y,E,N,T,R)=>{for(;;){if(s&&++_%100==0&&!s())return i.INSTANCE;const F=b.BracketsUtils.findNextBracketInRange(y.forwardRegex,E,N,T,R);if(!F)break;const O=N.substring(F.startColumn-1,F.endColumn-1).toLowerCase(),D=y.textIsBracket[O];if(D&&(D.isOpen(O)?f[D.index]++:D.isClose(O)&&f[D.index]--,f[D.index]===-1))return this._matchFoundBracket(F,D,!1,s);T=F.endColumn-1}return null};let h=null,S=null;for(let y=a.lineNumber;y<=o;y++){const E=this.textModel.tokenization.getLineTokens(y),N=E.getCount(),T=this.textModel.getLineContent(y);let R=0,F=0,O=0;if(y===a.lineNumber){R=E.findTokenIndexAtOffset(a.column-1),F=a.column-1,O=a.column-1;const M=E.getLanguageId(R);h!==M&&(h=M,S=this.languageConfigurationService.getLanguageConfiguration(h).brackets,p(h,S))}let D=!0;for(;R<N;R++){const M=E.getLanguageId(R);if(h!==M){if(S&&D&&F!==O){const B=m(S,y,T,F,O);if(B)return t(B);D=!1}h=M,S=this.languageConfigurationService.getLanguageConfiguration(h).brackets,p(h,S)}const P=!!S&&!(0,L.ignoreBracketsInToken)(E.getStandardTokenType(R));if(P)D||(F=E.getStartOffset(R)),O=E.getEndOffset(R);else if(S&&D&&F!==O){const B=m(S,y,T,F,O);if(B)return t(B)}D=P}if(S&&D&&F!==O){const M=m(S,y,T,F,O);if(M)return t(M)}}return null}_toFoundBracket(l,d){if(!d)return null;let a=this.textModel.getValueInRange(d);a=a.toLowerCase();const s=l.getBracketInfo(a);return s?{range:d,bracketInfo:s}:null}}e.BracketPairsTextModelPart=u;function g(r,l){return{object:r,dispose:()=>l==null?void 0:l.dispose()}}function n(r){if(typeof r=="undefined")return()=>!0;{const l=Date.now();return()=>Date.now()-l<=r}}class i{constructor(){this._searchCanceledBrand=void 0}}i.INSTANCE=new i;function t(r){return r instanceof i?null:r}}),define(re[271],ae([1,0,6,8,3,46,240,126,270,2]),function($,e,w,C,k,I,L,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class g extends u.Disposable{constructor(i,t,r,l,d,a,s){super();this._onDidChangeContent=this._register(new w.Emitter),this._BOM=t,this._mightContainNonBasicASCII=!a,this._mightContainRTL=l,this._mightContainUnusualLineTerminators=d,this._pieceTree=new L.PieceTreeBase(i,r,s)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(i){return this._pieceTree.createSnapshot(i?this._BOM:"")}getOffsetAt(i,t){return this._pieceTree.getOffsetAt(i,t)}getPositionAt(i){return this._pieceTree.getPositionAt(i)}getRangeAt(i,t){const r=i+t,l=this.getPositionAt(i),d=this.getPositionAt(r);return new k.Range(l.lineNumber,l.column,d.lineNumber,d.column)}getValueInRange(i,t=0){if(i.isEmpty())return"";const r=this._getEndOfLine(t);return this._pieceTree.getValueInRange(i,r)}getValueLengthInRange(i,t=0){if(i.isEmpty())return 0;if(i.startLineNumber===i.endLineNumber)return i.endColumn-i.startColumn;const r=this.getOffsetAt(i.startLineNumber,i.startColumn);return this.getOffsetAt(i.endLineNumber,i.endColumn)-r}getCharacterCountInRange(i,t=0){if(this._mightContainNonBasicASCII){let r=0;const l=i.startLineNumber,d=i.endLineNumber;for(let a=l;a<=d;a++){const s=this.getLineContent(a),o=a===l?i.startColumn-1:0,c=a===d?i.endColumn-1:s.length;for(let f=o;f<c;f++)C.isHighSurrogate(s.charCodeAt(f))?(r=r+1,f=f+1):r=r+1}return r+=this._getEndOfLine(t).length*(d-l),r}return this.getValueLengthInRange(i,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(i){return this._pieceTree.getLineContent(i)}getLineCharCode(i,t){return this._pieceTree.getLineCharCode(i,t)}getLineLength(i){return this._pieceTree.getLineLength(i)}getLineFirstNonWhitespaceColumn(i){const t=C.firstNonWhitespaceIndex(this.getLineContent(i));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(i){const t=C.lastNonWhitespaceIndex(this.getLineContent(i));return t===-1?0:t+2}_getEndOfLine(i){switch(i){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(i){this._pieceTree.setEOL(i)}applyEdits(i,t,r){let l=this._mightContainRTL,d=this._mightContainUnusualLineTerminators,a=this._mightContainNonBasicASCII,s=!0,o=[];for(let S=0;S<i.length;S++){const y=i[S];s&&y._isTracked&&(s=!1);const E=y.range;if(y.text){let O=!0;a||(O=!C.isBasicASCII(y.text),a=O),!l&&O&&(l=C.containsRTL(y.text)),!d&&O&&(d=C.containsUnusualLineTerminators(y.text))}let N="",T=0,R=0,F=0;if(y.text){let O;[T,R,F,O]=(0,b.countEOL)(y.text);const D=this.getEOL();O===0||O===(D===`\r
`?2:1)?N=y.text:N=y.text.replace(/\r\n|\r|\n/g,D)}o[S]={sortIndex:S,identifier:y.identifier||null,range:E,rangeOffset:this.getOffsetAt(E.startLineNumber,E.startColumn),rangeLength:this.getValueLengthInRange(E),text:N,eolCount:T,firstLineLength:R,lastLineLength:F,forceMoveMarkers:Boolean(y.forceMoveMarkers),isAutoWhitespaceEdit:y.isAutoWhitespaceEdit||!1}}o.sort(g._sortOpsAscending);let c=!1;for(let S=0,y=o.length-1;S<y;S++){const E=o[S].range.getEndPosition(),N=o[S+1].range.getStartPosition();if(N.isBeforeOrEqual(E)){if(N.isBefore(E))throw new Error("Overlapping ranges are not allowed!");c=!0}}s&&(o=this._reduceOperations(o));const f=r||t?g._getInverseEditRanges(o):[],p=[];if(t)for(let S=0;S<o.length;S++){const y=o[S],E=f[S];if(y.isAutoWhitespaceEdit&&y.range.isEmpty())for(let N=E.startLineNumber;N<=E.endLineNumber;N++){let T="";N===E.startLineNumber&&(T=this.getLineContent(y.range.startLineNumber),C.firstNonWhitespaceIndex(T)!==-1)||p.push({lineNumber:N,oldContent:T})}}let _=null;if(r){let S=0;_=[];for(let y=0;y<o.length;y++){const E=o[y],N=f[y],T=this.getValueInRange(E.range),R=E.rangeOffset+S;S+=E.text.length-T.length,_[y]={sortIndex:E.sortIndex,identifier:E.identifier,range:N,text:T,textChange:new v.TextChange(E.rangeOffset,T,R,E.text)}}c||_.sort((y,E)=>y.sortIndex-E.sortIndex)}this._mightContainRTL=l,this._mightContainUnusualLineTerminators=d,this._mightContainNonBasicASCII=a;const m=this._doApplyEdits(o);let h=null;if(t&&p.length>0){p.sort((S,y)=>y.lineNumber-S.lineNumber),h=[];for(let S=0,y=p.length;S<y;S++){const E=p[S].lineNumber;if(S>0&&p[S-1].lineNumber===E)continue;const N=p[S].oldContent,T=this.getLineContent(E);T.length===0||T===N||C.firstNonWhitespaceIndex(T)!==-1||h.push(E)}}return this._onDidChangeContent.fire(),new I.ApplyEditsResult(_,m,h)}_reduceOperations(i){return i.length<1e3?i:[this._toSingleEditOperation(i)]}_toSingleEditOperation(i){let t=!1;const r=i[0].range,l=i[i.length-1].range,d=new k.Range(r.startLineNumber,r.startColumn,l.endLineNumber,l.endColumn);let a=r.startLineNumber,s=r.startColumn;const o=[];for(let m=0,h=i.length;m<h;m++){const S=i[m],y=S.range;t=t||S.forceMoveMarkers,o.push(this.getValueInRange(new k.Range(a,s,y.startLineNumber,y.startColumn))),S.text.length>0&&o.push(S.text),a=y.endLineNumber,s=y.endColumn}const c=o.join(""),[f,p,_]=(0,b.countEOL)(c);return{sortIndex:0,identifier:i[0].identifier,range:d,rangeOffset:this.getOffsetAt(d.startLineNumber,d.startColumn),rangeLength:this.getValueLengthInRange(d,0),text:c,eolCount:f,firstLineLength:p,lastLineLength:_,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(i){i.sort(g._sortOpsDescending);const t=[];for(let r=0;r<i.length;r++){const l=i[r],d=l.range.startLineNumber,a=l.range.startColumn,s=l.range.endLineNumber,o=l.range.endColumn;if(d===s&&a===o&&l.text.length===0)continue;l.text?(this._pieceTree.delete(l.rangeOffset,l.rangeLength),this._pieceTree.insert(l.rangeOffset,l.text,!0)):this._pieceTree.delete(l.rangeOffset,l.rangeLength);const c=new k.Range(d,a,s,o);t.push({range:c,rangeLength:l.rangeLength,text:l.text,rangeOffset:l.rangeOffset,forceMoveMarkers:l.forceMoveMarkers})}return t}findMatchesLineByLine(i,t,r,l){return this._pieceTree.findMatchesLineByLine(i,t,r,l)}static _getInverseEditRanges(i){const t=[];let r=0,l=0,d=null;for(let a=0,s=i.length;a<s;a++){const o=i[a];let c,f;d?d.range.endLineNumber===o.range.startLineNumber?(c=r,f=l+(o.range.startColumn-d.range.endColumn)):(c=r+(o.range.startLineNumber-d.range.endLineNumber),f=o.range.startColumn):(c=o.range.startLineNumber,f=o.range.startColumn);let p;if(o.text.length>0){const _=o.eolCount+1;_===1?p=new k.Range(c,f,c,f+o.firstLineLength):p=new k.Range(c,f,c+_-1,o.lastLineLength+1)}else p=new k.Range(c,f,c,f);r=p.endLineNumber,l=p.endColumn,t.push(p),d=o}return t}static _sortOpsAscending(i,t){const r=k.Range.compareRangesUsingEnds(i.range,t.range);return r===0?i.sortIndex-t.sortIndex:r}static _sortOpsDescending(i,t){const r=k.Range.compareRangesUsingEnds(i.range,t.range);return r===0?t.sortIndex-i.sortIndex:-r}}e.PieceTreeTextBuffer=g}),define(re[508],ae([1,0,8,240,271]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=e.PieceTreeTextBufferFactory=void 0;class I{constructor(v,u,g,n,i,t,r,l,d){this._chunks=v,this._bom=u,this._cr=g,this._lf=n,this._crlf=i,this._containsRTL=t,this._containsUnusualLineTerminators=r,this._isBasicASCII=l,this._normalizeEOL=d}_getEOL(v){const u=this._cr+this._lf+this._crlf,g=this._cr+this._crlf;return u===0?v===1?`
`:`\r
`:g>u/2?`\r
`:`
`}create(v){const u=this._getEOL(v),g=this._chunks;if(this._normalizeEOL&&(u===`\r
`&&(this._cr>0||this._lf>0)||u===`
`&&(this._cr>0||this._crlf>0)))for(let i=0,t=g.length;i<t;i++){const r=g[i].buffer.replace(/\r\n|\r|\n/g,u),l=(0,C.createLineStartsFast)(r);g[i]=new C.StringBuffer(r,l)}const n=new k.PieceTreeTextBuffer(g,this._bom,u,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:n,disposable:n}}}e.PieceTreeTextBufferFactory=I;class L{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(v){if(v.length===0)return;this.chunks.length===0&&w.startsWithUTF8BOM(v)&&(this.BOM=w.UTF8_BOM_CHARACTER,v=v.substr(1));const u=v.charCodeAt(v.length-1);u===13||u>=55296&&u<=56319?(this._acceptChunk1(v.substr(0,v.length-1),!1),this._hasPreviousChar=!0,this._previousChar=u):(this._acceptChunk1(v,!1),this._hasPreviousChar=!1,this._previousChar=u)}_acceptChunk1(v,u){!u&&v.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+v):this._acceptChunk2(v))}_acceptChunk2(v){const u=(0,C.createLineStarts)(this._tmpLineStarts,v);this.chunks.push(new C.StringBuffer(v,u.lineStarts)),this.cr+=u.cr,this.lf+=u.lf,this.crlf+=u.crlf,this.isBasicASCII&&(this.isBasicASCII=u.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=w.containsRTL(v)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=w.containsUnusualLineTerminators(v))}finish(v=!0){return this._finish(),new I(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,v)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const v=this.chunks[this.chunks.length-1];v.buffer+=String.fromCharCode(this._previousChar);const u=(0,C.createLineStartsFast)(v.buffer);v.lineStarts=u,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=L}),define(re[509],ae([1,0,122,17]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=void 0;function k(v){for(let u=0,g=v.length;u<g;u+=4){const n=v[u+0],i=v[u+1],t=v[u+2],r=v[u+3];v[u+0]=r,v[u+1]=t,v[u+2]=i,v[u+3]=n}}function I(v){const u=new Uint8Array(v.buffer,v.byteOffset,v.length*4);return C.isLittleEndian()||k(u),w.VSBuffer.wrap(u)}function L(v){const u=new Uint32Array(b(v));let g=0;if(u[g++]=v.id,v.type==="full")u[g++]=1,u[g++]=v.data.length,u.set(v.data,g),g+=v.data.length;else{u[g++]=2,u[g++]=v.deltas.length;for(const n of v.deltas)u[g++]=n.start,u[g++]=n.deleteCount,n.data?(u[g++]=n.data.length,u.set(n.data,g),g+=n.data.length):u[g++]=0}return I(u)}e.encodeSemanticTokensDto=L;function b(v){let u=0;if(u+=1+1,v.type==="full")u+=1+v.data.length;else{u+=1,u+=(1+1+1)*v.deltas.length;for(const g of v.deltas)g.data&&(u+=g.data.length)}return u}}),define(re[510],ae([1,0,6,2]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=void 0;class k{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(b){this._onDidChange.fire({changedLanguages:b,changedColorMap:!1})}register(b,v){return this._map.set(b,v),this.fire([b]),(0,C.toDisposable)(()=>{this._map.get(b)===v&&(this._map.delete(b),this.fire([b]))})}registerFactory(b,v){var u;(u=this._factories.get(b))===null||u===void 0||u.dispose();const g=new I(this,b,v);return this._factories.set(b,g),(0,C.toDisposable)(()=>{const n=this._factories.get(b);!n||n!==g||(this._factories.delete(b),n.dispose())})}getOrCreate(b){return Se(this,void 0,void 0,function*(){const v=this.get(b);if(v)return v;const u=this._factories.get(b);return!u||u.isResolved?null:(yield u.resolve(),this.get(b))})}get(b){return this._map.get(b)||null}isResolved(b){if(this.get(b))return!0;const u=this._factories.get(b);return!!(!u||u.isResolved)}setColorMap(b){this._colorMap=b,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistry=k;class I extends C.Disposable{constructor(b,v,u){super();this._registry=b,this._languageId=v,this._factory=u,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return Se(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return Se(this,void 0,void 0,function*(){const b=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,b&&!this._isDisposed&&this._register(this._registry.register(this._languageId,b))})}}}),define(re[28],ae([1,0,27,22,3,510]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=e.InlayHintKind=e.Command=e.FoldingRangeKind=e.SymbolKinds=e.isLocationLink=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.InlineCompletionTriggerKind=e.CompletionItemKinds=e.EncodedTokenizationResult=e.TokenizationResult=e.Token=void 0;class L{constructor(o,c,f){this._tokenBrand=void 0,this.offset=o,this.type=c,this.language=f}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=L;class b{constructor(o,c){this._tokenizationResultBrand=void 0,this.tokens=o,this.endState=c}}e.TokenizationResult=b;class v{constructor(o,c){this._encodedTokenizationResultBrand=void 0,this.tokens=o,this.endState=c}}e.EncodedTokenizationResult=v;var u;(function(s){const o=new Map;o.set(0,w.Codicon.symbolMethod),o.set(1,w.Codicon.symbolFunction),o.set(2,w.Codicon.symbolConstructor),o.set(3,w.Codicon.symbolField),o.set(4,w.Codicon.symbolVariable),o.set(5,w.Codicon.symbolClass),o.set(6,w.Codicon.symbolStruct),o.set(7,w.Codicon.symbolInterface),o.set(8,w.Codicon.symbolModule),o.set(9,w.Codicon.symbolProperty),o.set(10,w.Codicon.symbolEvent),o.set(11,w.Codicon.symbolOperator),o.set(12,w.Codicon.symbolUnit),o.set(13,w.Codicon.symbolValue),o.set(15,w.Codicon.symbolEnum),o.set(14,w.Codicon.symbolConstant),o.set(15,w.Codicon.symbolEnum),o.set(16,w.Codicon.symbolEnumMember),o.set(17,w.Codicon.symbolKeyword),o.set(27,w.Codicon.symbolSnippet),o.set(18,w.Codicon.symbolText),o.set(19,w.Codicon.symbolColor),o.set(20,w.Codicon.symbolFile),o.set(21,w.Codicon.symbolReference),o.set(22,w.Codicon.symbolCustomColor),o.set(23,w.Codicon.symbolFolder),o.set(24,w.Codicon.symbolTypeParameter),o.set(25,w.Codicon.account),o.set(26,w.Codicon.issues);function c(_){let m=o.get(_);return m||(console.info("No codicon found for CompletionItemKind "+_),m=w.Codicon.symbolProperty),m}s.toIcon=c;const f=new Map;f.set("method",0),f.set("function",1),f.set("constructor",2),f.set("field",3),f.set("variable",4),f.set("class",5),f.set("struct",6),f.set("interface",7),f.set("module",8),f.set("property",9),f.set("event",10),f.set("operator",11),f.set("unit",12),f.set("value",13),f.set("constant",14),f.set("enum",15),f.set("enum-member",16),f.set("enumMember",16),f.set("keyword",17),f.set("snippet",27),f.set("text",18),f.set("color",19),f.set("file",20),f.set("reference",21),f.set("customcolor",22),f.set("folder",23),f.set("type-parameter",24),f.set("typeParameter",24),f.set("account",25),f.set("issue",26);function p(_,m){let h=f.get(_);return typeof h=="undefined"&&!m&&(h=9),h}s.fromString=p})(u=e.CompletionItemKinds||(e.CompletionItemKinds={}));var g;(function(s){s[s.Automatic=0]="Automatic",s[s.Explicit=1]="Explicit"})(g=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var n;(function(s){s[s.Invoke=1]="Invoke",s[s.TriggerCharacter=2]="TriggerCharacter",s[s.ContentChange=3]="ContentChange"})(n=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var i;(function(s){s[s.Text=0]="Text",s[s.Read=1]="Read",s[s.Write=2]="Write"})(i=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));function t(s){return s&&C.URI.isUri(s.uri)&&k.Range.isIRange(s.range)&&(k.Range.isIRange(s.originSelectionRange)||k.Range.isIRange(s.targetSelectionRange))}e.isLocationLink=t;var r;(function(s){const o=new Map;o.set(0,w.Codicon.symbolFile),o.set(1,w.Codicon.symbolModule),o.set(2,w.Codicon.symbolNamespace),o.set(3,w.Codicon.symbolPackage),o.set(4,w.Codicon.symbolClass),o.set(5,w.Codicon.symbolMethod),o.set(6,w.Codicon.symbolProperty),o.set(7,w.Codicon.symbolField),o.set(8,w.Codicon.symbolConstructor),o.set(9,w.Codicon.symbolEnum),o.set(10,w.Codicon.symbolInterface),o.set(11,w.Codicon.symbolFunction),o.set(12,w.Codicon.symbolVariable),o.set(13,w.Codicon.symbolConstant),o.set(14,w.Codicon.symbolString),o.set(15,w.Codicon.symbolNumber),o.set(16,w.Codicon.symbolBoolean),o.set(17,w.Codicon.symbolArray),o.set(18,w.Codicon.symbolObject),o.set(19,w.Codicon.symbolKey),o.set(20,w.Codicon.symbolNull),o.set(21,w.Codicon.symbolEnumMember),o.set(22,w.Codicon.symbolStruct),o.set(23,w.Codicon.symbolEvent),o.set(24,w.Codicon.symbolOperator),o.set(25,w.Codicon.symbolTypeParameter);function c(f){let p=o.get(f);return p||(console.info("No codicon found for SymbolKind "+f),p=w.Codicon.symbolProperty),p}s.toIcon=c})(r=e.SymbolKinds||(e.SymbolKinds={}));class l{constructor(o){this.value=o}}e.FoldingRangeKind=l,l.Comment=new l("comment"),l.Imports=new l("imports"),l.Region=new l("region");var d;(function(s){function o(c){return!c||typeof c!="object"?!1:typeof c.id=="string"&&typeof c.title=="string"}s.is=o})(d=e.Command||(e.Command={}));var a;(function(s){s[s.Type=1]="Type",s[s.Parameter=2]="Parameter"})(a=e.InlayHintKind||(e.InlayHintKind={})),e.TokenizationRegistry=new I.TokenizationRegistry}),define(re[136],ae([1,0,28]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullTokenizeEncoded=e.nullTokenize=e.NullState=void 0,e.NullState=new class{clone(){return this}equals(I){return this===I}};function C(I,L){return new w.TokenizationResult([new w.Token(0,"",I)],L)}e.nullTokenize=C;function k(I,L){const b=new Uint32Array(2);return b[0]=0,b[1]=(I<<0|0<<8|0<<11|1<<15|2<<24)>>>0,new w.EncodedTokenizationResult(b,L===null?e.NullState:L)}e.nullTokenizeEncoded=k}),define(re[272],ae([1,0,8,82,28,136]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._tokenizeToString=e.tokenizeLineToHTML=e.tokenizeToString=void 0;const L={getInitialState:()=>I.NullState,tokenizeEncoded:(g,n,i)=>(0,I.nullTokenizeEncoded)(0,i)};function b(g,n,i){return Se(this,void 0,void 0,function*(){if(!i)return u(n,g.languageIdCodec,L);const t=yield k.TokenizationRegistry.getOrCreate(i);return u(n,g.languageIdCodec,t||L)})}e.tokenizeToString=b;function v(g,n,i,t,r,l,d){let a="<div>",s=t,o=0,c=!0;for(let f=0,p=n.getCount();f<p;f++){const _=n.getEndOffset(f);if(_<=t)continue;let m="";for(;s<_&&s<r;s++){const h=g.charCodeAt(s);switch(h){case 9:{let S=l-(s+o)%l;for(o+=S-1;S>0;)d&&c?(m+="&#160;",c=!1):(m+=" ",c=!0),S--;break}case 60:m+="&lt;",c=!1;break;case 62:m+="&gt;",c=!1;break;case 38:m+="&amp;",c=!1;break;case 0:m+="&#00;",c=!1;break;case 65279:case 8232:case 8233:case 133:m+="\uFFFD",c=!1;break;case 13:m+="&#8203",c=!1;break;case 32:d&&c?(m+="&#160;",c=!1):(m+=" ",c=!0);break;default:m+=String.fromCharCode(h),c=!1}}if(a+=`<span style="${n.getInlineStyle(f,i)}">${m}</span>`,_>r||s>=r)break}return a+="</div>",a}e.tokenizeLineToHTML=v;function u(g,n,i){let t='<div class="monaco-tokenized-source">';const r=w.splitLines(g);let l=i.getInitialState();for(let d=0,a=r.length;d<a;d++){const s=r[d];d>0&&(t+="<br/>");const o=i.tokenizeEncoded(s,!0,l);C.LineTokens.convertToEndOffset(o.tokens,s.length);const f=new C.LineTokens(o.tokens,s,n).inflate();let p=0;for(let _=0,m=f.getCount();_<m;_++){const h=f.getClassName(_),S=f.getEndOffset(_);t+=`<span class="${h}">${w.escape(s.substring(p,S))}</span>`,p=S}l=o.endState}return t+="</div>",t}e._tokenizeToString=u}),define(re[511],ae([1,0,18,14,82,28,136,2,57,126,430,10,17]),function($,e,w,C,k,I,L,b,v,u,g,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelTokenization=e.TokenizationStateStore=void 0;class t{constructor(o){this._default=o,this._store=[]}get(o){return o<this._store.length?this._store[o]:this._default}set(o,c){for(;o>=this._store.length;)this._store[this._store.length]=this._default;this._store[o]=c}delete(o,c){c===0||o>=this._store.length||this._store.splice(o,c)}insert(o,c){if(c===0||o>=this._store.length)return;const f=[];for(let p=0;p<c;p++)f[p]=this._default;this._store=w.arrayInsert(this._store,o,f)}}class r{constructor(o,c){this.tokenizationSupport=o,this.initialState=c,this._lineBeginState=new t(null),this._lineNeedsTokenization=new t(!0),this._firstLineNeedsTokenization=0,this._lineBeginState.set(0,this.initialState)}get invalidLineStartIndex(){return this._firstLineNeedsTokenization}markMustBeTokenized(o){this._lineNeedsTokenization.set(o,!0),this._firstLineNeedsTokenization=Math.min(this._firstLineNeedsTokenization,o)}getBeginState(o){return this._lineBeginState.get(o)}setEndState(o,c,f){if(this._lineNeedsTokenization.set(c,!1),this._firstLineNeedsTokenization=c+1,c===o-1)return;const p=this._lineBeginState.get(c+1);if(p===null||!f.equals(p)){this._lineBeginState.set(c+1,f),this.markMustBeTokenized(c+1);return}let _=c+1;for(;_<o&&!this._lineNeedsTokenization.get(_);)_++;this._firstLineNeedsTokenization=_}applyEdits(o,c){this.markMustBeTokenized(o.startLineNumber-1),this._lineBeginState.delete(o.startLineNumber,o.endLineNumber-o.startLineNumber),this._lineNeedsTokenization.delete(o.startLineNumber,o.endLineNumber-o.startLineNumber),this._lineBeginState.insert(o.startLineNumber,c),this._lineNeedsTokenization.insert(o.startLineNumber,c)}}e.TokenizationStateStore=r;class l extends b.Disposable{constructor(o,c,f){super();this._textModel=o,this._tokenizationPart=c,this._languageIdCodec=f,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=null,this._register(I.TokenizationRegistry.onDidChange(p=>{const _=this._textModel.getLanguageId();p.changedLanguages.indexOf(_)!==-1&&(this._resetTokenizationState(),this._tokenizationPart.clearTokens())})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}handleDidChangeContent(o){if(o.isFlush){this._resetTokenizationState();return}if(this._tokenizationStateStore)for(let c=0,f=o.changes.length;c<f;c++){const p=o.changes[c],[_]=(0,u.countEOL)(p.text);this._tokenizationStateStore.applyEdits(p.range,_)}this._beginBackgroundTokenization()}handleDidChangeAttached(){this._beginBackgroundTokenization()}handleDidChangeLanguage(o){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}_resetTokenizationState(){const[o,c]=d(this._textModel,this._tokenizationPart);o&&c?this._tokenizationStateStore=new r(o,c):this._tokenizationStateStore=null,this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,n.runWhenIdle)(o=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(o)}))}_backgroundTokenizeWithDeadline(o){const c=Date.now()+o.timeRemaining(),f=()=>{this._isDisposed||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<c?(0,i.setTimeout0)(f):this._beginBackgroundTokenization())};f()}_backgroundTokenizeForAtLeast1ms(){const o=this._textModel.getLineCount(),c=new g.ContiguousMultilineTokensBuilder,f=v.StopWatch.create(!1);do if(f.elapsed()>1||this._tokenizeOneInvalidLine(c)>=o)break;while(this._hasLinesToTokenize());this._tokenizationPart.setTokens(c.finalize(),this._isTokenizationComplete())}tokenizeViewport(o,c){const f=new g.ContiguousMultilineTokensBuilder;this._tokenizeViewport(f,o,c),this._tokenizationPart.setTokens(f.finalize(),this._isTokenizationComplete())}reset(){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}forceTokenization(o){const c=new g.ContiguousMultilineTokensBuilder;this._updateTokensUntilLine(c,o),this._tokenizationPart.setTokens(c.finalize(),this._isTokenizationComplete())}getTokenTypeIfInsertingCharacter(o,c){if(!this._tokenizationStateStore)return 0;this.forceTokenization(o.lineNumber);const f=this._tokenizationStateStore.getBeginState(o.lineNumber-1);if(!f)return 0;const p=this._textModel.getLanguageId(),_=this._textModel.getLineContent(o.lineNumber),m=_.substring(0,o.column-1)+c+_.substring(o.column-1),h=a(this._languageIdCodec,p,this._tokenizationStateStore.tokenizationSupport,m,!0,f),S=new k.LineTokens(h.tokens,m,this._languageIdCodec);if(S.getCount()===0)return 0;const y=S.findTokenIndexAtOffset(o.column-1);return S.getStandardTokenType(y)}tokenizeLineWithEdit(o,c,f){const p=o.lineNumber,_=o.column;if(!this._tokenizationStateStore)return null;this.forceTokenization(p);const m=this._tokenizationStateStore.getBeginState(p-1);if(!m)return null;const h=this._textModel.getLineContent(p),S=h.substring(0,_-1)+f+h.substring(_-1+c),y=this._textModel.getLanguageIdAtPosition(p,0),E=a(this._languageIdCodec,y,this._tokenizationStateStore.tokenizationSupport,S,!0,m);return new k.LineTokens(E.tokens,S,this._languageIdCodec)}isCheapToTokenize(o){if(!this._tokenizationStateStore)return!0;const c=this._tokenizationStateStore.invalidLineStartIndex+1;return o>c?!1:o<c||this._textModel.getLineLength(o)<2048}_hasLinesToTokenize(){return this._tokenizationStateStore?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_isTokenizationComplete(){return this._tokenizationStateStore?this._tokenizationStateStore.invalidLineStartIndex>=this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(o){if(!this._tokenizationStateStore||!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const c=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(o,c),c}_updateTokensUntilLine(o,c){if(!this._tokenizationStateStore)return;const f=this._textModel.getLanguageId(),p=this._textModel.getLineCount(),_=c-1;for(let m=this._tokenizationStateStore.invalidLineStartIndex;m<=_;m++){const h=this._textModel.getLineContent(m+1),S=this._tokenizationStateStore.getBeginState(m),y=a(this._languageIdCodec,f,this._tokenizationStateStore.tokenizationSupport,h,!0,S);o.add(m+1,y.tokens),this._tokenizationStateStore.setEndState(p,m,y.endState),m=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(o,c,f){if(!this._tokenizationStateStore||f<=this._tokenizationStateStore.invalidLineStartIndex)return;if(c<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(o,f);return}let p=this._textModel.getLineFirstNonWhitespaceColumn(c);const _=[];let m=null;for(let y=c-1;p>1&&y>=1;y--){const E=this._textModel.getLineFirstNonWhitespaceColumn(y);if(E!==0&&E<p&&(_.push(this._textModel.getLineContent(y)),p=E,m=this._tokenizationStateStore.getBeginState(y-1),m))break}m||(m=this._tokenizationStateStore.initialState);const h=this._textModel.getLanguageId();let S=m;for(let y=_.length-1;y>=0;y--)S=a(this._languageIdCodec,h,this._tokenizationStateStore.tokenizationSupport,_[y],!1,S).endState;for(let y=c;y<=f;y++){const E=this._textModel.getLineContent(y),N=a(this._languageIdCodec,h,this._tokenizationStateStore.tokenizationSupport,E,!0,S);o.add(y,N.tokens),this._tokenizationStateStore.markMustBeTokenized(y-1),S=N.endState}}}e.TextModelTokenization=l;function d(s,o){if(s.isTooLargeForTokenization())return[null,null];const c=I.TokenizationRegistry.get(o.getLanguageId());if(!c)return[null,null];let f;try{f=c.getInitialState()}catch(p){return(0,C.onUnexpectedError)(p),[null,null]}return[c,f]}function a(s,o,c,f,p,_){let m=null;if(c)try{m=c.tokenizeEncoded(f,p,_.clone())}catch(h){(0,C.onUnexpectedError)(h)}return m||(m=(0,L.nullTokenizeEncoded)(s.encodeLanguageId(o),_)),k.LineTokens.convertToEndOffset(m.tokens,f.length),m}}),define(re[512],ae([1,0,6,11,128,239,511,432,434]),function($,e,w,C,k,I,L,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationTextModelPart=void 0;class u extends I.TextModelPart{constructor(n,i,t,r,l){super();this._languageService=n,this._languageConfigurationService=i,this._textModel=t,this.bracketPairsTextModelPart=r,this._languageId=l,this._onDidChangeLanguage=this._register(new w.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new w.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new w.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new w.Emitter),this._tokens=new b.ContiguousTokensStore(this._languageService.languageIdCodec),this._semanticTokens=new v.SparseTokensStore(this._languageService.languageIdCodec),this._tokenization=new L.TextModelTokenization(t,this,this._languageService.languageIdCodec),this._languageRegistryListener=this._languageConfigurationService.onDidChange(d=>{d.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})}acceptEdit(n,i,t,r,l){this._tokens.acceptEdit(n,t,r),this._semanticTokens.acceptEdit(n,t,r,l,i.length>0?i.charCodeAt(0):0)}handleDidChangeAttached(){this._tokenization.handleDidChangeAttached()}flush(){this._tokens.flush(),this._semanticTokens.flush()}handleDidChangeContent(n){this._tokenization.handleDidChangeContent(n)}dispose(){this._languageRegistryListener.dispose(),this._tokenization.dispose(),super.dispose()}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(n){if(this._backgroundTokenizationState===2)return;const i=n?2:1;this._backgroundTokenizationState!==i&&(this._backgroundTokenizationState=i,this.bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState(),this._onBackgroundTokenizationStateChanged.fire())}setTokens(n,i=!1){if(n.length!==0){const t=[];for(let r=0,l=n.length;r<l;r++){const d=n[r];let a=0,s=0,o=!1;for(let c=d.startLineNumber;c<=d.endLineNumber;c++)o?(this._tokens.setTokens(this._languageId,c-1,this._textModel.getLineLength(c),d.getLineTokens(c),!1),s=c):this._tokens.setTokens(this._languageId,c-1,this._textModel.getLineLength(c),d.getLineTokens(c),!0)&&(o=!0,a=c,s=c);o&&t.push({fromLineNumber:a,toLineNumber:s})}t.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:t})}this.handleTokenizationProgress(i)}setSemanticTokens(n,i){this._semanticTokens.set(n,i),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:n!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(n,i){if(this.hasCompleteSemanticTokens())return;const t=this._textModel.validateRange(this._semanticTokens.setPartial(n,i));this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:t.startLineNumber,toLineNumber:t.endLineNumber}]})}tokenizeViewport(n,i){n=Math.max(1,n),i=Math.min(this._textModel.getLineCount(),i),this._tokenization.tokenizeViewport(n,i)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}_emitModelTokensChangedEvent(n){this._textModel._isDisposing()||(this.bracketPairsTextModelPart.handleDidChangeTokens(n),this._onDidChangeTokens.fire(n))}resetTokenization(){this._tokenization.reset()}forceTokenization(n){if(n<1||n>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(n)}isCheapToTokenize(n){return this._tokenization.isCheapToTokenize(n)}tokenizeIfCheap(n){this.isCheapToTokenize(n)&&this.forceTokenization(n)}getLineTokens(n){if(n<1||n>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(n)}_getLineTokens(n){const i=this._textModel.getLineContent(n),t=this._tokens.getTokens(this._languageId,n-1,i);return this._semanticTokens.addSparseTokens(n,t)}getTokenTypeIfInsertingCharacter(n,i,t){const r=this._textModel.validatePosition(new C.Position(n,i));return this._tokenization.getTokenTypeIfInsertingCharacter(r,t)}tokenizeLineWithEdit(n,i,t){const r=this._textModel.validatePosition(n);return this._tokenization.tokenizeLineWithEdit(r,i,t)}getLanguageConfiguration(n){return this._languageConfigurationService.getLanguageConfiguration(n)}getWordAtPosition(n){this.assertNotDisposed();const i=this._textModel.validatePosition(n),t=this._textModel.getLineContent(i.lineNumber),r=this._getLineTokens(i.lineNumber),l=r.findTokenIndexAtOffset(i.column-1),[d,a]=u._findLanguageBoundaries(r,l),s=(0,k.getWordAtText)(i.column,this.getLanguageConfiguration(r.getLanguageId(l)).getWordDefinition(),t.substring(d,a),d);if(s&&s.startColumn<=n.column&&n.column<=s.endColumn)return s;if(l>0&&d===i.column-1){const[o,c]=u._findLanguageBoundaries(r,l-1),f=(0,k.getWordAtText)(i.column,this.getLanguageConfiguration(r.getLanguageId(l-1)).getWordDefinition(),t.substring(o,c),o);if(f&&f.startColumn<=n.column&&n.column<=f.endColumn)return f}return null}static _findLanguageBoundaries(n,i){const t=n.getLanguageId(i);let r=0;for(let d=i;d>=0&&n.getLanguageId(d)===t;d--)r=n.getStartOffset(d);let l=n.getLineContent().length;for(let d=i,a=n.getCount();d<a&&n.getLanguageId(d)===t;d++)l=n.getEndOffset(d);return[r,l]}getWordUntilPosition(n){const i=this.getWordAtPosition(n);return i?{word:i.word.substr(0,n.column-i.startColumn),startColumn:i.startColumn,endColumn:n.column}:{word:"",startColumn:n.column,endColumn:n.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(n,i){const t=this._textModel.validatePosition(new C.Position(n,i)),r=this.getLineTokens(t.lineNumber);return r.getLanguageId(r.findTokenIndexAtOffset(t.column-1))}setLanguageId(n){if(this._languageId===n)return;const i={oldLanguage:this._languageId,newLanguage:n};this._languageId=n,this.bracketPairsTextModelPart.handleDidChangeLanguage(i),this._tokenization.handleDidChangeLanguage(i),this._onDidChangeLanguage.fire(i),this._onDidChangeLanguageConfiguration.fire({})}}e.TokenizationTextModelPart=u}),define(re[273],ae([1,0,21,6,59,22,11,3,23,28,159]),function($,e,w,C,k,I,L,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoBaseAPI=e.KeyMod=void 0;class n{static chord(r,l){return(0,k.KeyChord)(r,l)}}e.KeyMod=n,n.CtrlCmd=2048,n.Shift=1024,n.Alt=512,n.WinCtrl=256;function i(){return{editor:void 0,languages:void 0,CancellationTokenSource:w.CancellationTokenSource,Emitter:C.Emitter,KeyCode:g.KeyCode,KeyMod:n,Position:L.Position,Range:b.Range,Selection:v.Selection,SelectionDirection:g.SelectionDirection,MarkerSeverity:g.MarkerSeverity,MarkerTag:g.MarkerTag,Uri:I.URI,Token:u.Token}}e.createMonacoBaseAPI=i}),define(re[513],ae([1,0,147,17,22,11,3,409,427,128,411,417,273,19,57,242]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.EditorSimpleWorker=e.MirrorModel=void 0;class d extends v.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(c){return this._lines[c-1]}getWordAtPosition(c,f){const p=(0,u.getWordAtText)(c.column,(0,u.ensureValidWordDefinition)(f),this._lines[c.lineNumber-1],0);return p?new L.Range(c.lineNumber,p.startColumn,c.lineNumber,p.endColumn):null}words(c){const f=this._lines,p=this._wordenize.bind(this);let _=0,m="",h=0,S=[];return{*[Symbol.iterator](){for(;;)if(h<S.length){const y=m.substring(S[h].start,S[h].end);h+=1,yield y}else if(_<f.length)m=f[_],S=p(m,c),h=0,_+=1;else break}}}getLineWords(c,f){const p=this._lines[c-1],_=this._wordenize(p,f),m=[];for(const h of _)m.push({word:p.substring(h.start,h.end),startColumn:h.start+1,endColumn:h.end+1});return m}_wordenize(c,f){const p=[];let _;for(f.lastIndex=0;(_=f.exec(c))&&_[0].length!==0;)p.push({start:_.index,end:_.index+_[0].length});return p}getValueInRange(c){if(c=this._validateRange(c),c.startLineNumber===c.endLineNumber)return this._lines[c.startLineNumber-1].substring(c.startColumn-1,c.endColumn-1);const f=this._eol,p=c.startLineNumber-1,_=c.endLineNumber-1,m=[];m.push(this._lines[p].substring(c.startColumn-1));for(let h=p+1;h<_;h++)m.push(this._lines[h]);return m.push(this._lines[_].substring(0,c.endColumn-1)),m.join(f)}offsetAt(c){return c=this._validatePosition(c),this._ensureLineStarts(),this._lineStarts.getPrefixSum(c.lineNumber-2)+(c.column-1)}positionAt(c){c=Math.floor(c),c=Math.max(0,c),this._ensureLineStarts();const f=this._lineStarts.getIndexOf(c),p=this._lines[f.index].length;return{lineNumber:1+f.index,column:1+Math.min(f.remainder,p)}}_validateRange(c){const f=this._validatePosition({lineNumber:c.startLineNumber,column:c.startColumn}),p=this._validatePosition({lineNumber:c.endLineNumber,column:c.endColumn});return f.lineNumber!==c.startLineNumber||f.column!==c.startColumn||p.lineNumber!==c.endLineNumber||p.column!==c.endColumn?{startLineNumber:f.lineNumber,startColumn:f.column,endLineNumber:p.lineNumber,endColumn:p.column}:c}_validatePosition(c){if(!I.Position.isIPosition(c))throw new Error("bad position");let{lineNumber:f,column:p}=c,_=!1;if(f<1)f=1,p=1,_=!0;else if(f>this._lines.length)f=this._lines.length,p=this._lines[f-1].length+1,_=!0;else{const m=this._lines[f-1].length+1;p<1?(p=1,_=!0):p>m&&(p=m,_=!0)}return _?{lineNumber:f,column:p}:c}}e.MirrorModel=d;class a{constructor(c,f){this._host=c,this._models=Object.create(null),this._foreignModuleFactory=f,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(c){return this._models[c]}_getModels(){const c=[];return Object.keys(this._models).forEach(f=>c.push(this._models[f])),c}acceptNewModel(c){this._models[c.url]=new d(k.URI.parse(c.url),c.lines,c.EOL,c.versionId)}acceptModelChanged(c,f){if(!this._models[c])return;this._models[c].onEvents(f)}acceptRemovedModel(c){!this._models[c]||delete this._models[c]}computeUnicodeHighlights(c,f,p){return Se(this,void 0,void 0,function*(){const _=this._getModel(c);return _?l.UnicodeTextModelHighlighter.computeUnicodeHighlights(_,f,p):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(c,f,p,_){return Se(this,void 0,void 0,function*(){const m=this._getModel(c),h=this._getModel(f);return!m||!h?null:a.computeDiff(m,h,p,_)})}static computeDiff(c,f,p,_){const m=c.getLinesContent(),h=f.getLinesContent(),y=new b.DiffComputer(m,h,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:p,shouldMakePrettyDiff:!0,maxComputationTime:_}).computeDiff(),E=y.changes.length>0?!1:this._modelsAreIdentical(c,f);return{quitEarly:y.quitEarly,identical:E,changes:y.changes}}static _modelsAreIdentical(c,f){const p=c.getLineCount(),_=f.getLineCount();if(p!==_)return!1;for(let m=1;m<=p;m++){const h=c.getLineContent(m),S=f.getLineContent(m);if(h!==S)return!1}return!0}computeMoreMinimalEdits(c,f){return Se(this,void 0,void 0,function*(){const p=this._getModel(c);if(!p)return f;const _=[];let m;f=f.slice(0).sort((h,S)=>{if(h.range&&S.range)return L.Range.compareRangesUsingStarts(h.range,S.range);const y=h.range?0:1,E=S.range?0:1;return y-E});for(let{range:h,text:S,eol:y}of f){if(typeof y=="number"&&(m=y),L.Range.isEmpty(h)&&!S)continue;const E=p.getValueInRange(h);if(S=S.replace(/\r\n|\n|\r/g,p.eol),E===S)continue;if(Math.max(S.length,E.length)>a._diffLimit){_.push({range:h,text:S});continue}const N=(0,w.stringDiff)(E,S,!1),T=p.offsetAt(L.Range.lift(h).getStartPosition());for(const R of N){const F=p.positionAt(T+R.originalStart),O=p.positionAt(T+R.originalStart+R.originalLength),D={text:S.substr(R.modifiedStart,R.modifiedLength),range:{startLineNumber:F.lineNumber,startColumn:F.column,endLineNumber:O.lineNumber,endColumn:O.column}};p.getValueInRange(D.range)!==D.text&&_.push(D)}}return typeof m=="number"&&_.push({eol:m,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),_})}computeLinks(c){return Se(this,void 0,void 0,function*(){const f=this._getModel(c);return f?(0,g.computeLinks)(f):null})}textualSuggest(c,f,p,_){return Se(this,void 0,void 0,function*(){const m=new r.StopWatch(!0),h=new RegExp(p,_),S=new Set;e:for(const y of c){const E=this._getModel(y);if(!!E){for(const N of E.words(h))if(!(N===f||!isNaN(Number(N)))&&(S.add(N),S.size>a._suggestionsLimit))break e}}return{words:Array.from(S),duration:m.elapsed()}})}computeWordRanges(c,f,p,_){return Se(this,void 0,void 0,function*(){const m=this._getModel(c);if(!m)return Object.create(null);const h=new RegExp(p,_),S=Object.create(null);for(let y=f.startLineNumber;y<f.endLineNumber;y++){const E=m.getLineWords(y,h);for(const N of E){if(!isNaN(Number(N.word)))continue;let T=S[N.word];T||(T=[],S[N.word]=T),T.push({startLineNumber:y,startColumn:N.startColumn,endLineNumber:y,endColumn:N.endColumn})}}return S})}navigateValueSet(c,f,p,_,m){return Se(this,void 0,void 0,function*(){const h=this._getModel(c);if(!h)return null;const S=new RegExp(_,m);f.startColumn===f.endColumn&&(f={startLineNumber:f.startLineNumber,startColumn:f.startColumn,endLineNumber:f.endLineNumber,endColumn:f.endColumn+1});const y=h.getValueInRange(f),E=h.getWordAtPosition({lineNumber:f.startLineNumber,column:f.startColumn},S);if(!E)return null;const N=h.getValueInRange(E);return n.BasicInplaceReplace.INSTANCE.navigateValueSet(f,y,E,N,p)})}loadForeignModule(c,f,p){const _=(S,y)=>this._host.fhr(S,y),h={host:t.createProxyObject(p,_),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(h,f),Promise.resolve(t.getAllMethodNames(this._foreignModule))):new Promise((S,y)=>{$([c],E=>{this._foreignModule=E.create(h,f),S(t.getAllMethodNames(this._foreignModule))},y)})}fmr(c,f){if(!this._foreignModule||typeof this._foreignModule[c]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+c));try{return Promise.resolve(this._foreignModule[c].apply(this._foreignModule,f))}catch(p){return Promise.reject(p)}}}e.EditorSimpleWorker=a,a._diffLimit=1e5,a._suggestionsLimit=1e4;function s(o){return new a(o,null)}e.create=s,typeof importScripts=="function"&&(C.globals.monaco=(0,i.createMonacoBaseAPI)())}),define(re[114],ae([1,0,8,91,130,441]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderViewLine2=e.RenderLineOutput2=e.renderViewLine=e.RenderLineOutput=e.CharacterMapping=e.DomPosition=e.RenderLineInput=e.LineRange=void 0;class L{constructor(h,S){this.startOffset=h,this.endOffset=S}equals(h){return this.startOffset===h.startOffset&&this.endOffset===h.endOffset}}e.LineRange=L;class b{constructor(h,S,y,E,N,T,R,F,O,D,M,P,B,W,V,A,Q,J,H){this.useMonospaceOptimizations=h,this.canUseHalfwidthRightwardsArrow=S,this.lineContent=y,this.continuesWithWrappedLine=E,this.isBasicASCII=N,this.containsRTL=T,this.fauxIndentLength=R,this.lineTokens=F,this.lineDecorations=O.sort(k.LineDecoration.compare),this.tabSize=D,this.startVisibleColumn=M,this.spaceWidth=P,this.stopRenderingLineAfter=V,this.renderWhitespace=A==="all"?4:A==="boundary"?1:A==="selection"?2:A==="trailing"?3:0,this.renderControlCharacters=Q,this.fontLigatures=J,this.selectionsOnLine=H&&H.sort((ie,Y)=>ie.startOffset<Y.startOffset?-1:1);const q=Math.abs(W-P),Z=Math.abs(B-P);q<Z?(this.renderSpaceWidth=W,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=B,this.renderSpaceCharCode=183)}sameSelection(h){if(this.selectionsOnLine===null)return h===null;if(h===null||h.length!==this.selectionsOnLine.length)return!1;for(let S=0;S<this.selectionsOnLine.length;S++)if(!this.selectionsOnLine[S].equals(h[S]))return!1;return!0}equals(h){return this.useMonospaceOptimizations===h.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===h.canUseHalfwidthRightwardsArrow&&this.lineContent===h.lineContent&&this.continuesWithWrappedLine===h.continuesWithWrappedLine&&this.isBasicASCII===h.isBasicASCII&&this.containsRTL===h.containsRTL&&this.fauxIndentLength===h.fauxIndentLength&&this.tabSize===h.tabSize&&this.startVisibleColumn===h.startVisibleColumn&&this.spaceWidth===h.spaceWidth&&this.renderSpaceWidth===h.renderSpaceWidth&&this.renderSpaceCharCode===h.renderSpaceCharCode&&this.stopRenderingLineAfter===h.stopRenderingLineAfter&&this.renderWhitespace===h.renderWhitespace&&this.renderControlCharacters===h.renderControlCharacters&&this.fontLigatures===h.fontLigatures&&k.LineDecoration.equalsArr(this.lineDecorations,h.lineDecorations)&&this.lineTokens.equals(h.lineTokens)&&this.sameSelection(h.selectionsOnLine)}}e.RenderLineInput=b;class v{constructor(h,S){this.partIndex=h,this.charIndex=S}}e.DomPosition=v;class u{constructor(h,S){this.length=h,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}static getPartIndex(h){return(h&4294901760)>>>16}static getCharIndex(h){return(h&65535)>>>0}setColumnInfo(h,S,y,E){const N=(S<<16|y<<0)>>>0;this._data[h-1]=N,this._horizontalOffset[h-1]=E}getHorizontalOffset(h){return this._horizontalOffset.length===0?0:this._horizontalOffset[h-1]}charOffsetToPartData(h){return this.length===0?0:h<0?this._data[0]:h>=this.length?this._data[this.length-1]:this._data[h]}getDomPosition(h){const S=this.charOffsetToPartData(h-1),y=u.getPartIndex(S),E=u.getCharIndex(S);return new v(y,E)}getColumn(h,S){return this.partDataToCharOffset(h.partIndex,S,h.charIndex)+1}partDataToCharOffset(h,S,y){if(this.length===0)return 0;const E=(h<<16|y<<0)>>>0;let N=0,T=this.length-1;for(;N+1<T;){const V=N+T>>>1,A=this._data[V];if(A===E)return V;A>E?T=V:N=V}if(N===T)return N;const R=this._data[N],F=this._data[T];if(R===E)return N;if(F===E)return T;const O=u.getPartIndex(R),D=u.getCharIndex(R),M=u.getPartIndex(F);let P;O!==M?P=S:P=u.getCharIndex(F);const B=y-D,W=P-y;return B<=W?N:T}}e.CharacterMapping=u;class g{constructor(h,S,y){this._renderLineOutputBrand=void 0,this.characterMapping=h,this.containsRTL=S,this.containsForeignElements=y}}e.RenderLineOutput=g;function n(m,h){if(m.lineContent.length===0){if(m.lineDecorations.length>0){h.appendASCIIString("<span>");let S=0,y=0,E=0;for(const T of m.lineDecorations)(T.type===1||T.type===2)&&(h.appendASCIIString('<span class="'),h.appendASCIIString(T.className),h.appendASCIIString('"></span>'),T.type===1&&(E|=1,S++),T.type===2&&(E|=2,y++));h.appendASCIIString("</span>");const N=new u(1,S+y);return N.setColumnInfo(1,S,0,0),new g(N,!1,E)}return h.appendASCIIString("<span><span></span></span>"),new g(new u(0,0),!1,0)}return p(l(m),h)}e.renderViewLine=n;class i{constructor(h,S,y,E){this.characterMapping=h,this.html=S,this.containsRTL=y,this.containsForeignElements=E}}e.RenderLineOutput2=i;function t(m){const h=(0,C.createStringBuilder)(1e4),S=n(m,h);return new i(S.characterMapping,h.build(),S.containsRTL,S.containsForeignElements)}e.renderViewLine2=t;class r{constructor(h,S,y,E,N,T,R,F,O,D,M,P,B,W,V){this.fontIsMonospace=h,this.canUseHalfwidthRightwardsArrow=S,this.lineContent=y,this.len=E,this.isOverflowing=N,this.parts=T,this.containsForeignElements=R,this.fauxIndentLength=F,this.tabSize=O,this.startVisibleColumn=D,this.containsRTL=M,this.spaceWidth=P,this.renderSpaceCharCode=B,this.renderWhitespace=W,this.renderControlCharacters=V}}function l(m){const h=m.lineContent;let S,y;m.stopRenderingLineAfter!==-1&&m.stopRenderingLineAfter<h.length?(S=!0,y=m.stopRenderingLineAfter):(S=!1,y=h.length);let E=d(h,m.containsRTL,m.lineTokens,m.fauxIndentLength,y);m.renderControlCharacters&&!m.isBasicASCII&&(E=o(h,E)),(m.renderWhitespace===4||m.renderWhitespace===1||m.renderWhitespace===2&&!!m.selectionsOnLine||m.renderWhitespace===3)&&(E=c(m,h,y,E));let N=0;if(m.lineDecorations.length>0){for(let T=0,R=m.lineDecorations.length;T<R;T++){const F=m.lineDecorations[T];F.type===3||F.type===1?N|=1:F.type===2&&(N|=2)}E=f(h,y,E,m.lineDecorations)}return m.containsRTL||(E=a(h,E,!m.isBasicASCII||m.fontLigatures)),new r(m.useMonospaceOptimizations,m.canUseHalfwidthRightwardsArrow,h,y,S,E,N,m.fauxIndentLength,m.tabSize,m.startVisibleColumn,m.containsRTL,m.spaceWidth,m.renderSpaceCharCode,m.renderWhitespace,m.renderControlCharacters)}function d(m,h,S,y,E){const N=[];let T=0;y>0&&(N[T++]=new I.LinePart(y,"",0,!1));let R=y;for(let F=0,O=S.getCount();F<O;F++){const D=S.getEndOffset(F);if(D<=y)continue;const M=S.getClassName(F);if(D>=E){const B=h?w.containsRTL(m.substring(R,E)):!1;N[T++]=new I.LinePart(E,M,0,B);break}const P=h?w.containsRTL(m.substring(R,D)):!1;N[T++]=new I.LinePart(D,M,0,P),R=D}return N}function a(m,h,S){let y=0;const E=[];let N=0;if(S)for(let T=0,R=h.length;T<R;T++){const F=h[T],O=F.endIndex;if(y+50<O){const D=F.type,M=F.metadata,P=F.containsRTL;let B=-1,W=y;for(let V=y;V<O;V++)m.charCodeAt(V)===32&&(B=V),B!==-1&&V-W>=50&&(E[N++]=new I.LinePart(B+1,D,M,P),W=B+1,B=-1);W!==O&&(E[N++]=new I.LinePart(O,D,M,P))}else E[N++]=F;y=O}else for(let T=0,R=h.length;T<R;T++){const F=h[T],O=F.endIndex,D=O-y;if(D>50){const M=F.type,P=F.metadata,B=F.containsRTL,W=Math.ceil(D/50);for(let V=1;V<W;V++){const A=y+V*50;E[N++]=new I.LinePart(A,M,P,B)}E[N++]=new I.LinePart(O,M,P,B)}else E[N++]=F;y=O}return E}function s(m){return m<32?m!==9:m===127||m>=8234&&m<=8238||m>=8294&&m<=8297||m>=8206&&m<=8207||m===1564}function o(m,h){const S=[];let y=new I.LinePart(0,"",0,!1),E=0;for(const N of h){const T=N.endIndex;for(;E<T;E++){const R=m.charCodeAt(E);s(R)&&(E>y.endIndex&&(y=new I.LinePart(E,N.type,N.metadata,N.containsRTL),S.push(y)),y=new I.LinePart(E+1,"mtkcontrol",N.metadata,!1),S.push(y))}E>y.endIndex&&(y=new I.LinePart(T,N.type,N.metadata,N.containsRTL),S.push(y))}return S}function c(m,h,S,y){const E=m.continuesWithWrappedLine,N=m.fauxIndentLength,T=m.tabSize,R=m.startVisibleColumn,F=m.useMonospaceOptimizations,O=m.selectionsOnLine,D=m.renderWhitespace===1,M=m.renderWhitespace===3,P=m.renderSpaceWidth!==m.spaceWidth,B=[];let W=0,V=0,A=y[V].type,Q=y[V].containsRTL,J=y[V].endIndex;const H=y.length;let q=!1,Z=w.firstNonWhitespaceIndex(h),ie;Z===-1?(q=!0,Z=S,ie=S):ie=w.lastNonWhitespaceIndex(h);let Y=!1,te=0,de=O&&O[te],x=R%T;for(let ne=N;ne<S;ne++){const j=h.charCodeAt(ne);de&&ne>=de.endOffset&&(te++,de=O&&O[te]);let se;if(ne<Z||ne>ie)se=!0;else if(j===9)se=!0;else if(j===32)if(D)if(Y)se=!0;else{const z=ne+1<S?h.charCodeAt(ne+1):0;se=z===32||z===9}else se=!0;else se=!1;if(se&&O&&(se=!!de&&de.startOffset<=ne&&de.endOffset>ne),se&&M&&(se=q||ne>ie),se&&Q&&ne>=Z&&ne<=ie&&(se=!1),Y){if(!se||!F&&x>=T){if(P){const z=W>0?B[W-1].endIndex:N;for(let X=z+1;X<=ne;X++)B[W++]=new I.LinePart(X,"mtkw",1,!1)}else B[W++]=new I.LinePart(ne,"mtkw",1,!1);x=x%T}}else(ne===J||se&&ne>N)&&(B[W++]=new I.LinePart(ne,A,0,Q),x=x%T);for(j===9?x=T:w.isFullWidthCharacter(j)?x+=2:x++,Y=se;ne===J&&(V++,V<H);)A=y[V].type,Q=y[V].containsRTL,J=y[V].endIndex}let oe=!1;if(Y)if(E&&D){const ne=S>0?h.charCodeAt(S-1):0,j=S>1?h.charCodeAt(S-2):0;ne===32&&j!==32&&j!==9||(oe=!0)}else oe=!0;if(oe)if(P){const ne=W>0?B[W-1].endIndex:N;for(let j=ne+1;j<=S;j++)B[W++]=new I.LinePart(j,"mtkw",1,!1)}else B[W++]=new I.LinePart(S,"mtkw",1,!1);else B[W++]=new I.LinePart(S,A,0,Q);return B}function f(m,h,S,y){y.sort(k.LineDecoration.compare);const E=k.LineDecorationsNormalizer.normalize(m,y),N=E.length;let T=0;const R=[];let F=0,O=0;for(let M=0,P=S.length;M<P;M++){const B=S[M],W=B.endIndex,V=B.type,A=B.metadata,Q=B.containsRTL;for(;T<N&&E[T].startOffset<W;){const J=E[T];if(J.startOffset>O&&(O=J.startOffset,R[F++]=new I.LinePart(O,V,A,Q)),J.endOffset+1<=W)O=J.endOffset+1,R[F++]=new I.LinePart(O,V+" "+J.className,A|J.metadata,Q),T++;else{O=W,R[F++]=new I.LinePart(O,V+" "+J.className,A|J.metadata,Q);break}}W>O&&(O=W,R[F++]=new I.LinePart(O,V,A,Q))}const D=S[S.length-1].endIndex;if(T<N&&E[T].startOffset===D)for(;T<N&&E[T].startOffset===D;){const M=E[T];R[F++]=new I.LinePart(O,M.className,M.metadata,!1),T++}return R}function p(m,h){const S=m.fontIsMonospace,y=m.canUseHalfwidthRightwardsArrow,E=m.containsForeignElements,N=m.lineContent,T=m.len,R=m.isOverflowing,F=m.parts,O=m.fauxIndentLength,D=m.tabSize,M=m.startVisibleColumn,P=m.containsRTL,B=m.spaceWidth,W=m.renderSpaceCharCode,V=m.renderWhitespace,A=m.renderControlCharacters,Q=new u(T+1,F.length);let J=!1,H=0,q=M,Z=0,ie=0,Y=0;P?h.appendASCIIString('<span dir="ltr">'):h.appendASCIIString("<span>");for(let te=0,de=F.length;te<de;te++){const x=F[te],oe=x.endIndex,ne=x.type,j=x.containsRTL,se=V!==0&&x.isWhitespace(),z=se&&!S&&(ne==="mtkw"||!E),X=H===oe&&x.isPseudoAfter();if(Z=0,h.appendASCIIString("<span "),j&&h.appendASCIIString('style="unicode-bidi:isolate" '),h.appendASCIIString('class="'),h.appendASCIIString(z?"mtkz":ne),h.appendASCII(34),se){let G=0;{let U=H,K=q;for(;U<oe;U++){const ee=(N.charCodeAt(U)===9?D-K%D:1)|0;G+=ee,U>=O&&(K+=ee)}}for(z&&(h.appendASCIIString(' style="width:'),h.appendASCIIString(String(B*G)),h.appendASCIIString('px"')),h.appendASCII(62);H<oe;H++){Q.setColumnInfo(H+1,te-Y,Z,ie),Y=0;const U=N.charCodeAt(H);let K,ce;if(U===9){K=D-q%D|0,ce=K,!y||ce>1?h.write1(8594):h.write1(65515);for(let ee=2;ee<=ce;ee++)h.write1(160)}else K=2,ce=1,h.write1(W),h.write1(8204);Z+=K,ie+=ce,H>=O&&(q+=ce)}}else for(h.appendASCII(62);H<oe;H++){Q.setColumnInfo(H+1,te-Y,Z,ie),Y=0;const G=N.charCodeAt(H);let U=1,K=1;switch(G){case 9:U=D-q%D,K=U;for(let ce=1;ce<=U;ce++)h.write1(160);break;case 32:h.write1(160);break;case 60:h.appendASCIIString("&lt;");break;case 62:h.appendASCIIString("&gt;");break;case 38:h.appendASCIIString("&amp;");break;case 0:A?h.write1(9216):h.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:h.write1(65533);break;default:w.isFullWidthCharacter(G)&&K++,A&&G<32?h.write1(9216+G):A&&G===127?h.write1(9249):A&&s(G)?(h.appendASCIIString("[U+"),h.appendASCIIString(_(G)),h.appendASCIIString("]"),U=8,K=U):h.write1(G)}Z+=U,ie+=K,H>=O&&(q+=K)}X?Y++:Y=0,H>=T&&!J&&x.isPseudoAfter()&&(J=!0,Q.setColumnInfo(H+1,te,Z,ie)),h.appendASCIIString("</span>")}return J||Q.setColumnInfo(T+1,F.length-1,Z,ie),R&&h.appendASCIIString("<span>&hellip;</span>"),h.appendASCIIString("</span>"),new g(Q,P,E)}function _(m){return m.toString(16).toUpperCase().padStart(4,"0")}}),define(re[274],ae([1,0,6,2,232,28]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class L extends C.Disposable{constructor(){super();this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(I.TokenizationRegistry.onDidChange(v=>{v.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,C.markAsSingleton)(new L)),this._INSTANCE}_updateColorMap(){const v=I.TokenizationRegistry.getColorMap();if(!v){this._colors=[k.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[k.RGBA8.Empty];for(let g=1;g<v.length;g++){const n=v[g].rgba;this._colors[g]=new k.RGBA8(n.r,n.g,n.b,Math.round(n.a*255))}const u=v[2].getRelativeLuminance();this._backgroundIsLight=u>=.5,this._onDidChange.fire(void 0)}getColor(v){return(v<1||v>=this._colors.length)&&(v=2),this._colors[v]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=L,L._INSTANCE=null}),define(re[204],ae([1,0,6,2]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelTokensChangedEvent=e.ModelOptionsChangedEvent=e.ModelContentChangedEvent=e.ModelLanguageConfigurationChangedEvent=e.ModelLanguageChangedEvent=e.ModelDecorationsChangedEvent=e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.HiddenAreasChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class k extends C.Disposable{constructor(){super();this._onEvent=this._register(new w.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(c){this._addOutgoingEvent(c),this._emitOutgoingEvents()}_addOutgoingEvent(c){for(let f=0,p=this._outgoingEvents.length;f<p;f++){const _=this._outgoingEvents[f].kind===c.kind?this._outgoingEvents[f].attemptToMerge(c):null;if(_){this._outgoingEvents[f]=_;return}}this._outgoingEvents.push(c)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const c=this._outgoingEvents.shift();c.isNoOp()||this._onEvent.fire(c)}}addViewEventHandler(c){for(let f=0,p=this._eventHandlers.length;f<p;f++)this._eventHandlers[f]===c&&console.warn("Detected duplicate listener in ViewEventDispatcher",c);this._eventHandlers.push(c)}removeViewEventHandler(c){for(let f=0;f<this._eventHandlers.length;f++)if(this._eventHandlers[f]===c){this._eventHandlers.splice(f,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new I),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const c=this._collector.outgoingEvents,f=this._collector.viewEvents;this._collector=null;for(const p of c)this._addOutgoingEvent(p);f.length>0&&this._emitMany(f)}this._emitOutgoingEvents()}emitSingleViewEvent(c){try{this.beginEmitViewEvents().emitViewEvent(c)}finally{this.endEmitViewEvents()}}_emitMany(c){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(c):this._viewEventQueue=c,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const c=this._viewEventQueue;this._viewEventQueue=null;const f=this._eventHandlers.slice(0);for(const p of f)p.handleEvents(c)}}}e.ViewModelEventDispatcher=k;class I{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(c){this.viewEvents.push(c)}emitOutgoingEvent(c){this.outgoingEvents.push(c)}}e.ViewModelEventsCollector=I;class L{constructor(c,f,p,_){this.kind=0,this._oldContentWidth=c,this._oldContentHeight=f,this.contentWidth=p,this.contentHeight=_,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(c){return c.kind!==this.kind?null:new L(this._oldContentWidth,this._oldContentHeight,c.contentWidth,c.contentHeight)}}e.ContentSizeChangedEvent=L;class b{constructor(c,f){this.kind=1,this.oldHasFocus=c,this.hasFocus=f}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(c){return c.kind!==this.kind?null:new b(this.oldHasFocus,c.hasFocus)}}e.FocusChangedEvent=b;class v{constructor(c,f,p,_,m,h,S,y){this.kind=2,this._oldScrollWidth=c,this._oldScrollLeft=f,this._oldScrollHeight=p,this._oldScrollTop=_,this.scrollWidth=m,this.scrollLeft=h,this.scrollHeight=S,this.scrollTop=y,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(c){return c.kind!==this.kind?null:new v(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,c.scrollWidth,c.scrollLeft,c.scrollHeight,c.scrollTop)}}e.ScrollChangedEvent=v;class u{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(c){return c.kind!==this.kind?null:this}}e.ViewZonesChangedEvent=u;class g{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(c){return c.kind!==this.kind?null:this}}e.HiddenAreasChangedEvent=g;class n{constructor(c,f,p,_,m,h,S){this.kind=6,this.oldSelections=c,this.selections=f,this.oldModelVersionId=p,this.modelVersionId=_,this.source=m,this.reason=h,this.reachedMaxCursorCount=S}static _selectionsAreEqual(c,f){if(!c&&!f)return!0;if(!c||!f)return!1;const p=c.length,_=f.length;if(p!==_)return!1;for(let m=0;m<p;m++)if(!c[m].equalsSelection(f[m]))return!1;return!0}isNoOp(){return n._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(c){return c.kind!==this.kind?null:new n(this.oldSelections,c.selections,this.oldModelVersionId,c.modelVersionId,c.source,c.reason,this.reachedMaxCursorCount||c.reachedMaxCursorCount)}}e.CursorStateChangedEvent=n;class i{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(c){return c.kind!==this.kind?null:this}}e.ReadOnlyEditAttemptEvent=i;class t{constructor(c){this.event=c,this.kind=7}isNoOp(){return!1}attemptToMerge(c){return null}}e.ModelDecorationsChangedEvent=t;class r{constructor(c){this.event=c,this.kind=8}isNoOp(){return!1}attemptToMerge(c){return null}}e.ModelLanguageChangedEvent=r;class l{constructor(c){this.event=c,this.kind=9}isNoOp(){return!1}attemptToMerge(c){return null}}e.ModelLanguageConfigurationChangedEvent=l;class d{constructor(c){this.event=c,this.kind=10}isNoOp(){return!1}attemptToMerge(c){return null}}e.ModelContentChangedEvent=d;class a{constructor(c){this.event=c,this.kind=11}isNoOp(){return!1}attemptToMerge(c){return null}}e.ModelOptionsChangedEvent=a;class s{constructor(c){this.event=c,this.kind=12}isNoOp(){return!1}attemptToMerge(c){return null}}e.ModelTokensChangedEvent=s}),define(re[514],ae([1,0,6,2,161,442,74,204]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const v=125;class u{constructor(t,r,l,d){t=t|0,r=r|0,l=l|0,d=d|0,t<0&&(t=0),r<0&&(r=0),l<0&&(l=0),d<0&&(d=0),this.width=t,this.contentWidth=r,this.scrollWidth=Math.max(t,r),this.height=l,this.contentHeight=d,this.scrollHeight=Math.max(l,d)}equals(t){return this.width===t.width&&this.contentWidth===t.contentWidth&&this.height===t.height&&this.contentHeight===t.contentHeight}}class g extends C.Disposable{constructor(t,r){super();this._onDidContentSizeChange=this._register(new w.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new u(0,0,0,0),this._scrollable=this._register(new k.Scrollable({forceIntegerValues:!0,smoothScrollDuration:t,scheduleAtNextAnimationFrame:r})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(t){this._scrollable.setSmoothScrollDuration(t)}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}getScrollDimensions(){return this._dimensions}setScrollDimensions(t){if(this._dimensions.equals(t))return;const r=this._dimensions;this._dimensions=t,this._scrollable.setScrollDimensions({width:t.width,scrollWidth:t.scrollWidth,height:t.height,scrollHeight:t.scrollHeight},!0);const l=r.contentWidth!==t.contentWidth,d=r.contentHeight!==t.contentHeight;(l||d)&&this._onDidContentSizeChange.fire(new b.ContentSizeChangedEvent(r.contentWidth,r.contentHeight,t.contentWidth,t.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(t){this._scrollable.setScrollPositionNow(t)}setScrollPositionSmooth(t){this._scrollable.setScrollPositionSmooth(t)}}class n extends C.Disposable{constructor(t,r,l){super();this._configuration=t;const d=this._configuration.options,a=d.get(133),s=d.get(77);this._linesLayout=new I.LinesLayout(r,d.get(61),s.top,s.bottom),this._scrollable=this._register(new g(0,l)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new u(a.contentWidth,0,a.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(105)?v:0)}onConfigurationChanged(t){const r=this._configuration.options;if(t.hasChanged(61)&&this._linesLayout.setLineHeight(r.get(61)),t.hasChanged(77)){const l=r.get(77);this._linesLayout.setPadding(l.top,l.bottom)}if(t.hasChanged(133)){const l=r.get(133),d=l.contentWidth,a=l.height,s=this._scrollable.getScrollDimensions(),o=s.contentWidth;this._scrollable.setScrollDimensions(new u(d,s.contentWidth,a,this._getContentHeight(d,a,o)))}else this._updateHeight();t.hasChanged(105)&&this._configureSmoothScrollDuration()}onFlushed(t){this._linesLayout.onFlushed(t)}onLinesDeleted(t,r){this._linesLayout.onLinesDeleted(t,r)}onLinesInserted(t,r){this._linesLayout.onLinesInserted(t,r)}_getHorizontalScrollbarHeight(t,r){const d=this._configuration.options.get(94);return d.horizontal===2||t>=r?0:d.horizontalScrollbarSize}_getContentHeight(t,r,l){const d=this._configuration.options;let a=this._linesLayout.getLinesTotalHeight();return d.get(96)?a+=Math.max(0,r-d.get(61)-d.get(77).bottom):a+=this._getHorizontalScrollbarHeight(t,l),a}_updateHeight(){const t=this._scrollable.getScrollDimensions(),r=t.width,l=t.height,d=t.contentWidth;this._scrollable.setScrollDimensions(new u(r,t.contentWidth,l,this._getContentHeight(r,l,d)))}getCurrentViewport(){const t=this._scrollable.getScrollDimensions(),r=this._scrollable.getCurrentScrollPosition();return new L.Viewport(r.scrollTop,r.scrollLeft,t.width,t.height)}getFutureViewport(){const t=this._scrollable.getScrollDimensions(),r=this._scrollable.getFutureScrollPosition();return new L.Viewport(r.scrollTop,r.scrollLeft,t.width,t.height)}_computeContentWidth(t){const r=this._configuration.options,l=r.get(134),d=r.get(46),a=r.get(133);if(l.isViewportWrapping){const s=r.get(67);return t>a.contentWidth+d.typicalHalfwidthCharacterWidth&&s.enabled&&s.side==="right"?t+a.verticalScrollbarWidth:t}else{const s=r.get(95)*d.typicalHalfwidthCharacterWidth,o=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+s+a.verticalScrollbarWidth,o)}}setMaxLineWidth(t){const r=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new u(r.width,this._computeContentWidth(t),r.height,r.contentHeight)),this._updateHeight()}saveState(){const t=this._scrollable.getFutureScrollPosition(),r=t.scrollTop,l=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(r),d=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(l);return{scrollTop:r,scrollTopWithoutViewZones:r-d,scrollLeft:t.scrollLeft}}changeWhitespace(t){const r=this._linesLayout.changeWhitespace(t);return r&&this.onHeightMaybeChanged(),r}getVerticalOffsetForLineNumber(t,r=!1){return this._linesLayout.getVerticalOffsetForLineNumber(t,r)}getVerticalOffsetAfterLineNumber(t,r=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(t,r)}isAfterLines(t){return this._linesLayout.isAfterLines(t)}isInTopPadding(t){return this._linesLayout.isInTopPadding(t)}isInBottomPadding(t){return this._linesLayout.isInBottomPadding(t)}getLineNumberAtVerticalOffset(t){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t)}getWhitespaceAtVerticalOffset(t){return this._linesLayout.getWhitespaceAtVerticalOffset(t)}getLinesViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(t.top,t.top+t.height)}getLinesViewportDataAtScrollTop(t){const r=this._scrollable.getScrollDimensions();return t+r.height>r.scrollHeight&&(t=r.scrollHeight-r.height),t<0&&(t=0),this._linesLayout.getLinesViewportData(t,t+r.height)}getWhitespaceViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(t.top,t.top+t.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}setScrollPosition(t,r){r===1?this._scrollable.setScrollPositionNow(t):this._scrollable.setScrollPositionSmooth(t)}deltaScrollNow(t,r){const l=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:l.scrollLeft+t,scrollTop:l.scrollTop+r})}}e.ViewLayout=n}),define(re[515],ae([1,0,6]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class C{constructor(I,L,b){this.presentationIndex=b,this._onColorFlushed=new w.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new w.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new w.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=I,this._color=I,this._colorPresentations=L}get color(){return this._color}set color(I){this._color.equals(I)||(this._color=I,this._onDidChangeColor.fire(I))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(I){this._colorPresentations=I,this.presentationIndex>I.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(I,L){for(let b=0;b<this.colorPresentations.length;b++)if(L.toLowerCase()===this.colorPresentations[b].label){this.presentationIndex=b,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=C}),define(re[516],ae([1,0,6,160,105]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNextFoldLine=e.getPreviousFoldLine=e.getParentFoldLine=e.setCollapseStateForType=e.setCollapseStateForMatchingLines=e.setCollapseStateForRest=e.setCollapseStateAtLevel=e.setCollapseStateUp=e.setCollapseStateLevelsUp=e.setCollapseStateLevelsDown=e.toggleCollapseState=e.FoldingModel=void 0;class I{constructor(s,o){this._updateEventEmitter=new w.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=s,this._decorationProvider=o,this._regions=new C.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}get regions(){return this._regions}get textModel(){return this._textModel}toggleCollapseState(s){if(!s.length)return;s=s.sort((c,f)=>c.regionIndex-f.regionIndex);const o={};this._decorationProvider.changeDecorations(c=>{let f=0,p=-1,_=-1;const m=h=>{for(;f<h;){const S=this._regions.getEndLineNumber(f),y=this._regions.isCollapsed(f);if(S<=p){const E=this.regions.getSource(f)!==0;c.changeDecorationOptions(this._editorDecorationIds[f],this._decorationProvider.getDecorationOption(y,S<=_,E))}y&&S>_&&(_=S),f++}};for(const h of s){const S=h.regionIndex,y=this._editorDecorationIds[S];if(y&&!o[y]){o[y]=!0,m(S);const E=!this._regions.isCollapsed(S);this._regions.setCollapsed(S,E),p=Math.max(p,this._regions.getEndLineNumber(S))}}m(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:s})}removeManualRanges(s){const o=new Array,c=f=>{for(const p of s)if(!(p.startLineNumber>f.endLineNumber||f.startLineNumber>p.endLineNumber))return!0;return!1};for(let f=0;f<this._regions.length;f++){const p=this._regions.toFoldRange(f);(p.source===0||!c(p))&&o.push(p)}this.updatePost(C.FoldingRegions.fromFoldRanges(o))}update(s,o=[]){const c=this._currentFoldedOrManualRanges(o),f=C.FoldingRegions.sanitizeAndMerge(s,c,this._textModel.getLineCount());this.updatePost(C.FoldingRegions.fromFoldRanges(f))}updatePost(s){const o=[];let c=-1;for(let f=0,p=s.length;f<p;f++){const _=s.getStartLineNumber(f),m=s.getEndLineNumber(f),h=s.isCollapsed(f),S=s.getSource(f)!==0,y={startLineNumber:_,startColumn:this._textModel.getLineMaxColumn(_),endLineNumber:m,endColumn:this._textModel.getLineMaxColumn(m)+1};o.push({range:y,options:this._decorationProvider.getDecorationOption(h,m<=c,S)}),h&&m>c&&(c=m)}this._decorationProvider.changeDecorations(f=>this._editorDecorationIds=f.deltaDecorations(this._editorDecorationIds,o)),this._regions=s,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(s=[]){const o=(f,p)=>{for(const _ of s)if(f<_&&_<=p)return!0;return!1},c=[];for(let f=0,p=this._regions.length;f<p;f++){let _=this.regions.isCollapsed(f);const m=this.regions.getSource(f);if(_||m!==0){const h=this._regions.toFoldRange(f),S=this._textModel.getDecorationRange(this._editorDecorationIds[f]);S&&(_&&(o(S.startLineNumber,S.endLineNumber)||S.endLineNumber-S.startLineNumber!=h.endLineNumber-h.startLineNumber)&&(_=!1),c.push({startLineNumber:S.startLineNumber,endLineNumber:S.endLineNumber,type:h.type,isCollapsed:_,source:m}))}}return c}getMemento(){const s=this._currentFoldedOrManualRanges(),o=[];for(let c=0,f=s.length;c<f;c++){const p=s[c],_=this._getLinesChecksum(p.startLineNumber+1,p.endLineNumber);o.push({startLineNumber:p.startLineNumber,endLineNumber:p.endLineNumber,isCollapsed:p.isCollapsed,source:p.source,checksum:_})}return o.length>0?o:void 0}applyMemento(s){var o,c;if(!Array.isArray(s))return;const f=[],p=this._textModel.getLineCount();for(const m of s){if(m.startLineNumber>=m.endLineNumber||m.startLineNumber<1||m.endLineNumber>p)continue;const h=this._getLinesChecksum(m.startLineNumber+1,m.endLineNumber);(!m.checksum||h===m.checksum)&&f.push({startLineNumber:m.startLineNumber,endLineNumber:m.endLineNumber,type:void 0,isCollapsed:(o=m.isCollapsed)!==null&&o!==void 0?o:!0,source:(c=m.source)!==null&&c!==void 0?c:0})}const _=C.FoldingRegions.sanitizeAndMerge(this._regions,f,p);this.updatePost(C.FoldingRegions.fromFoldRanges(_))}_getLinesChecksum(s,o){return(0,k.hash)(this._textModel.getLineContent(s)+this._textModel.getLineContent(o))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(s,o){const c=[];if(this._regions){let f=this._regions.findRange(s),p=1;for(;f>=0;){const _=this._regions.toRegion(f);(!o||o(_,p))&&c.push(_),p++,f=_.parentIndex}}return c}getRegionAtLine(s){if(this._regions){const o=this._regions.findRange(s);if(o>=0)return this._regions.toRegion(o)}return null}getRegionsInside(s,o){const c=[],f=s?s.regionIndex+1:0,p=s?s.endLineNumber:Number.MAX_VALUE;if(o&&o.length===2){const _=[];for(let m=f,h=this._regions.length;m<h;m++){const S=this._regions.toRegion(m);if(this._regions.getStartLineNumber(m)<p){for(;_.length>0&&!S.containedBy(_[_.length-1]);)_.pop();_.push(S),o(S,_.length)&&c.push(S)}else break}}else for(let _=f,m=this._regions.length;_<m;_++){const h=this._regions.toRegion(_);if(this._regions.getStartLineNumber(_)<p)(!o||o(h))&&c.push(h);else break}return c}}e.FoldingModel=I;function L(a,s,o){const c=[];for(const f of o){const p=a.getRegionAtLine(f);if(p){const _=!p.isCollapsed;if(c.push(p),s>1){const m=a.getRegionsInside(p,(h,S)=>h.isCollapsed!==_&&S<s);c.push(...m)}}}a.toggleCollapseState(c)}e.toggleCollapseState=L;function b(a,s,o=Number.MAX_VALUE,c){const f=[];if(c&&c.length>0)for(const p of c){const _=a.getRegionAtLine(p);if(_&&(_.isCollapsed!==s&&f.push(_),o>1)){const m=a.getRegionsInside(_,(h,S)=>h.isCollapsed!==s&&S<o);f.push(...m)}}else{const p=a.getRegionsInside(null,(_,m)=>_.isCollapsed!==s&&m<o);f.push(...p)}a.toggleCollapseState(f)}e.setCollapseStateLevelsDown=b;function v(a,s,o,c){const f=[];for(const p of c){const _=a.getAllRegionsAtLine(p,(m,h)=>m.isCollapsed!==s&&h<=o);f.push(..._)}a.toggleCollapseState(f)}e.setCollapseStateLevelsUp=v;function u(a,s,o){const c=[];for(const f of o){const p=a.getAllRegionsAtLine(f,_=>_.isCollapsed!==s);p.length>0&&c.push(p[0])}a.toggleCollapseState(c)}e.setCollapseStateUp=u;function g(a,s,o,c){const f=(_,m)=>m===s&&_.isCollapsed!==o&&!c.some(h=>_.containsLine(h)),p=a.getRegionsInside(null,f);a.toggleCollapseState(p)}e.setCollapseStateAtLevel=g;function n(a,s,o){const c=[];for(const _ of o){const m=a.getAllRegionsAtLine(_,void 0);m.length>0&&c.push(m[0])}const f=_=>c.every(m=>!m.containedBy(_)&&!_.containedBy(m))&&_.isCollapsed!==s,p=a.getRegionsInside(null,f);a.toggleCollapseState(p)}e.setCollapseStateForRest=n;function i(a,s,o){const c=a.textModel,f=a.regions,p=[];for(let _=f.length-1;_>=0;_--)if(o!==f.isCollapsed(_)){const m=f.getStartLineNumber(_);s.test(c.getLineContent(m))&&p.push(f.toRegion(_))}a.toggleCollapseState(p)}e.setCollapseStateForMatchingLines=i;function t(a,s,o){const c=a.regions,f=[];for(let p=c.length-1;p>=0;p--)o!==c.isCollapsed(p)&&s===c.getType(p)&&f.push(c.toRegion(p));a.toggleCollapseState(f)}e.setCollapseStateForType=t;function r(a,s){let o=null;const c=s.getRegionAtLine(a);if(c!==null&&(o=c.startLineNumber,a===o)){const f=c.parentIndex;f!==-1?o=s.regions.getStartLineNumber(f):o=null}return o}e.getParentFoldLine=r;function l(a,s){let o=s.getRegionAtLine(a);if(o!==null&&o.startLineNumber===a){if(a!==o.startLineNumber)return o.startLineNumber;{const c=o.parentIndex;let f=0;for(c!==-1&&(f=s.regions.getStartLineNumber(o.parentIndex));o!==null;)if(o.regionIndex>0){if(o=s.regions.toRegion(o.regionIndex-1),o.startLineNumber<=f)return null;if(o.parentIndex===c)return o.startLineNumber}else return null}}else if(s.regions.length>0)for(o=s.regions.toRegion(s.regions.length-1);o!==null;){if(o.startLineNumber<a)return o.startLineNumber;o.regionIndex>0?o=s.regions.toRegion(o.regionIndex-1):o=null}return null}e.getPreviousFoldLine=l;function d(a,s){let o=s.getRegionAtLine(a);if(o!==null&&o.startLineNumber===a){const c=o.parentIndex;let f=0;if(c!==-1)f=s.regions.getEndLineNumber(o.parentIndex);else{if(s.regions.length===0)return null;f=s.regions.getEndLineNumber(s.regions.length-1)}for(;o!==null;)if(o.regionIndex<s.regions.length){if(o=s.regions.toRegion(o.regionIndex+1),o.startLineNumber>=f)return null;if(o.parentIndex===c)return o.startLineNumber}else return null}else if(s.regions.length>0)for(o=s.regions.toRegion(0);o!==null;){if(o.startLineNumber>a)return o.startLineNumber;o.regionIndex<s.regions.length?o=s.regions.toRegion(o.regionIndex+1):o=null}return null}e.getNextFoldLine=d}),define(re[517],ae([1,0,18,6,3,126]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class L{constructor(g){this._updateEventEmitter=new C.Emitter,this._hasLineChanges=!1,this._foldingModel=g,this._foldingModelListener=g.onDidChange(n=>this.updateHiddenRanges()),this._hiddenRanges=[],g.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(g){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=g.changes.some(n=>n.range.endLineNumber!==n.range.startLineNumber||(0,I.countEOL)(n.text)[0]!==0))}updateHiddenRanges(){let g=!1;const n=[];let i=0,t=0,r=Number.MAX_VALUE,l=-1;const d=this._foldingModel.regions;for(;i<d.length;i++){if(!d.isCollapsed(i))continue;const a=d.getStartLineNumber(i)+1,s=d.getEndLineNumber(i);r<=a&&s<=l||(!g&&t<this._hiddenRanges.length&&this._hiddenRanges[t].startLineNumber===a&&this._hiddenRanges[t].endLineNumber===s?(n.push(this._hiddenRanges[t]),t++):(g=!0,n.push(new k.Range(a,1,s,1))),r=a,l=s)}(this._hasLineChanges||g||t<this._hiddenRanges.length)&&this.applyHiddenRanges(n)}applyHiddenRanges(g){this._hiddenRanges=g,this._hasLineChanges=!1,this._updateEventEmitter.fire(g)}hasRanges(){return this._hiddenRanges.length>0}isHidden(g){return v(this._hiddenRanges,g)!==null}adjustSelections(g){let n=!1;const i=this._foldingModel.textModel;let t=null;const r=l=>((!t||!b(l,t))&&(t=v(this._hiddenRanges,l)),t?t.startLineNumber-1:null);for(let l=0,d=g.length;l<d;l++){let a=g[l];const s=r(a.startLineNumber);s&&(a=a.setStartPosition(s,i.getLineMaxColumn(s)),n=!0);const o=r(a.endLineNumber);o&&(a=a.setEndPosition(o,i.getLineMaxColumn(o)),n=!0),g[l]=a}return n}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=L;function b(u,g){return u>=g.startLineNumber&&u<=g.endLineNumber}function v(u,g){const n=(0,w.findFirstInSorted)(u,i=>g<i.startLineNumber)-1;return n>=0&&u[n].endLineNumber>=g?u[n]:null}}),define(re[205],ae([1,0,6,2,17]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function I(n,i){return!!n[i]}class L{constructor(i,t){this.target=i.target,this.hasTriggerModifier=I(i.event,t.triggerModifier),this.hasSideBySideModifier=I(i.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=i.event.detail<=1}}e.ClickLinkMouseEvent=L;class b{constructor(i,t){this.keyCodeIsTriggerKey=i.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=i.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=I(i,t.triggerModifier)}}e.ClickLinkKeyboardEvent=b;class v{constructor(i,t,r,l){this.triggerKey=i,this.triggerModifier=t,this.triggerSideBySideKey=r,this.triggerSideBySideModifier=l}equals(i){return this.triggerKey===i.triggerKey&&this.triggerModifier===i.triggerModifier&&this.triggerSideBySideKey===i.triggerSideBySideKey&&this.triggerSideBySideModifier===i.triggerSideBySideModifier}}e.ClickLinkOptions=v;function u(n){return n==="altKey"?k.isMacintosh?new v(57,"metaKey",6,"altKey"):new v(5,"ctrlKey",6,"altKey"):k.isMacintosh?new v(6,"altKey",57,"metaKey"):new v(6,"altKey",5,"ctrlKey")}class g extends C.Disposable{constructor(i){super();this._onMouseMoveOrRelevantKeyDown=this._register(new w.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new w.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new w.Emitter),this.onCancel=this._onCancel.event,this._editor=i,this._opts=u(this._editor.getOption(72)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(t=>{if(t.hasChanged(72)){const r=u(this._editor.getOption(72));if(this._opts.equals(r))return;this._opts=r,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(t=>this._onEditorMouseMove(new L(t,this._opts)))),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(new L(t,this._opts)))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(new L(t,this._opts)))),this._register(this._editor.onKeyDown(t=>this._onEditorKeyDown(new b(t,this._opts)))),this._register(this._editor.onKeyUp(t=>this._onEditorKeyUp(new b(t,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(t=>this._onDidChangeCursorSelection(t))),this._register(this._editor.onDidChangeModel(t=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(t=>{(t.scrollTopChanged||t.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(i){i.selection&&i.selection.startColumn!==i.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(i){this._lastMouseMoveEvent=i,this._onMouseMoveOrRelevantKeyDown.fire([i,null])}_onEditorMouseDown(i){this._hasTriggerKeyOnMouseDown=i.hasTriggerModifier,this._lineNumberOnMouseDown=i.target.position?i.target.position.lineNumber:0}_onEditorMouseUp(i){const t=i.target.position?i.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t&&this._onExecute.fire(i)}_onEditorKeyDown(i){this._lastMouseMoveEvent&&(i.keyCodeIsTriggerKey||i.keyCodeIsSideBySideKey&&i.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,i]):i.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(i){i.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=g});var _t=this&&this.__asyncValues||function($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=$[Symbol.asyncIterator],w;return e?e.call($):($=typeof __values=="function"?__values($):$[Symbol.iterator](),w={},C("next"),C("throw"),C("return"),w[Symbol.asyncIterator]=function(){return this},w);function C(I){w[I]=$[I]&&function(L){return new Promise(function(b,v){L=$[I](L),k(b,v,L.done,L.value)})}}function k(I,L,b,v){Promise.resolve(v).then(function(u){I({value:u,done:b})},L)}};define(re[275],ae([1,0,10,14,6,2]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=e.HoverResult=void 0;class L{constructor(u,g,n){this.value=u,this.isComplete=g,this.hasLoadingMessage=n}}e.HoverResult=L;class b extends I.Disposable{constructor(u,g){super();this._editor=u,this._computer=g,this._onResult=this._register(new k.Emitter),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new w.RunOnceScheduler(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new w.RunOnceScheduler(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new w.RunOnceScheduler(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(55).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(u,g=!0){this._state=u,g&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,w.createCancelableAsyncIterable)(u=>this._computer.computeAsync(u)),(()=>Se(this,void 0,void 0,function*(){var u,g;try{try{for(var n=_t(this._asyncIterable),i;i=yield n.next(),!i.done;){const t=i.value;t&&(this._result.push(t),this._fireResult())}}catch(t){u={error:t}}finally{try{i&&!i.done&&(g=n.return)&&(yield g.call(n))}finally{if(u)throw u.error}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(t){(0,C.onUnexpectedError)(t)}}))()):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const u=this._state===0,g=this._state===4;this._onResult.fire(new L(this._result.slice(0),u,g))}start(u){if(u===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}e.HoverOperation=b}),define(re[276],ae([1,0,14,2,11,3,52,22]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.asCommandLink=e.InlayHintsFragments=e.InlayHintItem=e.InlayHintAnchor=void 0;class v{constructor(t,r){this.range=t,this.direction=r}}e.InlayHintAnchor=v;class u{constructor(t,r,l){this.hint=t,this.anchor=r,this.provider=l,this._isResolved=!1}with(t){const r=new u(this.hint,t.anchor,this.provider);return r._isResolved=this._isResolved,r._currentResolve=this._currentResolve,r}resolve(t){return Se(this,void 0,void 0,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,t.isCancellationRequested?void 0:this.resolve(t);this._isResolved||(this._currentResolve=this._doResolve(t).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(t){var r,l;return Se(this,void 0,void 0,function*(){try{const d=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,t));this.hint.tooltip=(r=d==null?void 0:d.tooltip)!==null&&r!==void 0?r:this.hint.tooltip,this.hint.label=(l=d==null?void 0:d.label)!==null&&l!==void 0?l:this.hint.label,this._isResolved=!0}catch(d){(0,w.onUnexpectedExternalError)(d),this._isResolved=!1}})}}e.InlayHintItem=u;class g{constructor(t,r,l){this._disposables=new C.DisposableStore,this.ranges=t,this.provider=new Set;const d=[];for(const[a,s]of r){this._disposables.add(a),this.provider.add(s);for(const o of a.hints){const c=l.validatePosition(o.position);let f="before";const p=g._getRangeAtPosition(l,c);let _;p.getStartPosition().isBefore(c)?(_=I.Range.fromPositions(p.getStartPosition(),c),f="after"):(_=I.Range.fromPositions(c,p.getEndPosition()),f="before"),d.push(new u(o,new v(_,f),s))}}this.items=d.sort((a,s)=>k.Position.compare(a.hint.position,s.hint.position))}static create(t,r,l,d){return Se(this,void 0,void 0,function*(){const a=[],s=t.ordered(r).reverse().map(o=>l.map(c=>Se(this,void 0,void 0,function*(){try{const f=yield o.provideInlayHints(r,c,d);(f==null?void 0:f.hints.length)&&a.push([f,o])}catch(f){(0,w.onUnexpectedExternalError)(f)}})));if(yield Promise.all(s.flat()),d.isCancellationRequested||r.isDisposed())throw new w.CancellationError;return new g(l,a,r)})}dispose(){this._disposables.dispose()}static _getRangeAtPosition(t,r){const l=r.lineNumber,d=t.getWordAtPosition(r);if(d)return new I.Range(l,d.startColumn,l,d.endColumn);t.tokenization.tokenizeIfCheap(l);const a=t.tokenization.getLineTokens(l),s=r.column-1,o=a.findTokenIndexAtOffset(s);let c=a.getStartOffset(o),f=a.getEndOffset(o);return f-c==1&&(c===s&&o>1?(c=a.getStartOffset(o-1),f=a.getEndOffset(o-1)):f===s&&o<a.getCount()-1&&(c=a.getStartOffset(o+1),f=a.getEndOffset(o+1))),new I.Range(l,c+1,l,f+1)}}e.InlayHintsFragments=g;function n(i){return b.URI.from({scheme:L.Schemas.command,path:i.id,query:i.arguments&&encodeURIComponent(JSON.stringify(i.arguments))}).toString()}e.asCommandLink=n}),define(re[165],ae([1,0,6,2,189]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseGhostTextWidgetModel=e.GhostTextReplacement=e.GhostTextPart=e.GhostText=void 0;class I{constructor(g,n,i=0){this.lineNumber=g,this.parts=n,this.additionalReservedLineCount=i}renderForScreenReader(g){if(this.parts.length===0)return"";const n=this.parts[this.parts.length-1],i=g.substr(0,n.column-1);return(0,k.applyEdits)(i,this.parts.map(r=>({range:{startLineNumber:1,endLineNumber:1,startColumn:r.column,endColumn:r.column},text:r.lines.join(`
`)}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(g=>g.lines.length===0)}}e.GhostText=I;class L{constructor(g,n,i){this.column=g,this.lines=n,this.preview=i}}e.GhostTextPart=L;class b{constructor(g,n,i,t,r=0){this.lineNumber=g,this.columnStart=n,this.length=i,this.newLines=t,this.additionalReservedLineCount=r,this.parts=[new L(this.columnStart+this.length,this.newLines,!1)]}renderForScreenReader(g){return this.newLines.join(`
`)}}e.GhostTextReplacement=b;class v extends C.Disposable{constructor(g){super();this.editor=g,this._expanded=void 0,this.onDidChangeEmitter=new w.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this._register(g.onDidChangeConfiguration(n=>{n.hasChanged(108)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}setExpanded(g){this._expanded=!0,this.onDidChangeEmitter.fire()}}e.BaseGhostTextWidgetModel=v}),define(re[206],ae([1,0,147,8,3,165]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineCompletionToGhostText=e.normalizedInlineCompletionsEquals=e.minimizeInlineCompletion=void 0;function L(t,r){if(!r)return r;const l=t.getValueInRange(r.range),d=C.commonPrefixLength(l,r.insertText),a=t.getOffsetAt(r.range.getStartPosition())+d,s=t.getPositionAt(a),o=l.substr(d),c=C.commonSuffixLength(o,r.insertText),f=t.getPositionAt(Math.max(a,t.getOffsetAt(r.range.getEndPosition())-c));return{range:k.Range.fromPositions(s,f),insertText:r.insertText.substr(d,r.insertText.length-d-c),snippetInfo:r.snippetInfo,filterText:r.filterText,additionalTextEdits:r.additionalTextEdits}}e.minimizeInlineCompletion=L;function b(t,r){return t===r?!0:!t||!r?!1:t.range.equalsRange(r.range)&&t.insertText===r.insertText&&t.command===r.command}e.normalizedInlineCompletionsEquals=b;function v(t,r,l,d,a=0){if(t.range.startLineNumber!==t.range.endLineNumber)return;const s=r.getLineContent(t.range.startLineNumber),o=C.getLeadingWhitespace(s).length;if(t.range.startColumn-1<=o){const S=C.getLeadingWhitespace(t.insertText).length,y=s.substring(t.range.startColumn-1,o),E=k.Range.fromPositions(t.range.getStartPosition().delta(0,y.length),t.range.getEndPosition()),N=t.insertText.startsWith(y)?t.insertText.substring(y.length):t.insertText.substring(S);t={range:E,insertText:N,command:t.command,snippetInfo:void 0,filterText:t.filterText,additionalTextEdits:t.additionalTextEdits}}const f=r.getValueInRange(t.range),p=g(f,t.insertText);if(!p)return;const _=t.range.startLineNumber,m=new Array;if(l==="prefix"){const S=p.filter(y=>y.originalLength===0);if(S.length>1||S.length===1&&S[0].originalStart!==f.length)return}const h=t.insertText.length-a;for(const S of p){const y=t.range.startColumn+S.originalStart+S.originalLength;if(l==="subwordSmart"&&d&&d.lineNumber===t.range.startLineNumber&&y<d.column||S.originalLength>0)return;if(S.modifiedLength===0)continue;const E=S.modifiedStart+S.modifiedLength,N=Math.max(S.modifiedStart,Math.min(E,h)),T=t.insertText.substring(S.modifiedStart,N),R=t.insertText.substring(N,Math.max(S.modifiedStart,E));if(T.length>0){const F=C.splitLines(T);m.push(new I.GhostTextPart(y,F,!1))}if(R.length>0){const F=C.splitLines(R);m.push(new I.GhostTextPart(y,F,!0))}}return new I.GhostText(_,m,0)}e.inlineCompletionToGhostText=v;let u;function g(t,r){if((u==null?void 0:u.originalValue)===t&&(u==null?void 0:u.newValue)===r)return u==null?void 0:u.changes;{let l=i(t,r,!0);if(l){const d=n(l);if(d>0){const a=i(t,r,!1);a&&n(a)<d&&(l=a)}}return u={originalValue:t,newValue:r,changes:l},l}}function n(t){let r=0;for(const l of t)r+=Math.max(l.originalLength-l.modifiedLength,0);return r}function i(t,r,l){if(t.length>5e3||r.length>5e3)return;function d(p){let _=0;for(let m=0,h=p.length;m<h;m++){const S=p.charCodeAt(m);S>_&&(_=S)}return _}const a=Math.max(d(t),d(r));function s(p){if(p<0)throw new Error("unexpected");return a+p+1}function o(p){let _=0,m=0;const h=new Int32Array(p.length);for(let S=0,y=p.length;S<y;S++)if(l&&p[S]==="("){const E=m*100+_;h[S]=s(2*E),_++}else if(l&&p[S]===")"){_=Math.max(_-1,0);const E=m*100+_;h[S]=s(2*E+1),_===0&&m++}else h[S]=p.charCodeAt(S);return h}const c=o(t),f=o(r);return new w.LcsDiff({getElements:()=>c},{getElements:()=>f}).ComputeDiff(!1).changes}}),define(re[518],ae([4,5]),function($,e){return $.create("vs/base/parts/quickinput/browser/quickInput",e)}),define(re[519],ae([4,5]),function($,e){return $.create("vs/base/parts/quickinput/browser/quickInputList",e)}),define(re[520],ae([1,0,7,48,83,197,485,43,18,27,480,103,6,106,2,17,8,19,266,519,151]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesContiguousIconAware=e.QuickInputList=e.QuickInputListFocus=void 0;const c=w.$;class f{constructor(R){this.hidden=!1,this._onChecked=new i.Emitter,this.onChecked=this._onChecked.event,Object.assign(this,R)}get checked(){return!!this._checked}set checked(R){R!==this._checked&&(this._checked=R,this._onChecked.fire(R))}dispose(){this._onChecked.dispose()}}class p{get templateId(){return p.ID}renderTemplate(R){const F=Object.create(null);F.toDisposeElement=[],F.toDisposeTemplate=[],F.entry=w.append(R,c(".quick-input-list-entry"));const O=w.append(F.entry,c("label.quick-input-list-label"));F.toDisposeTemplate.push(w.addStandardDisposableListener(O,w.EventType.CLICK,V=>{F.checkbox.offsetParent||V.preventDefault()})),F.checkbox=w.append(O,c("input.quick-input-list-checkbox")),F.checkbox.type="checkbox",F.toDisposeTemplate.push(w.addStandardDisposableListener(F.checkbox,w.EventType.CHANGE,V=>{F.element.checked=F.checkbox.checked}));const D=w.append(O,c(".quick-input-list-rows")),M=w.append(D,c(".quick-input-list-row")),P=w.append(D,c(".quick-input-list-row"));F.label=new I.IconLabel(M,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const B=w.append(M,c(".quick-input-list-entry-keybinding"));F.keybinding=new L.KeybindingLabel(B,l.OS);const W=w.append(P,c(".quick-input-list-label-meta"));return F.detail=new I.IconLabel(W,{supportHighlights:!0,supportIcons:!0}),F.separator=w.append(F.entry,c(".quick-input-list-separator")),F.actionBar=new k.ActionBar(F.entry),F.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),F.toDisposeTemplate.push(F.actionBar),F}renderElement(R,F,O){O.toDisposeElement=(0,r.dispose)(O.toDisposeElement),O.element=R,O.checkbox.checked=R.checked,O.toDisposeElement.push(R.onChecked(V=>O.checkbox.checked=V));const{labelHighlights:D,descriptionHighlights:M,detailHighlights:P}=R,B=Object.create(null);B.matches=D||[],B.descriptionTitle=R.saneDescription,B.descriptionMatches=M||[],B.extraClasses=R.item.iconClasses,B.italic=R.item.italic,B.strikethrough=R.item.strikethrough,O.label.setLabel(R.saneLabel,R.saneDescription,B),O.keybinding.set(R.item.keybinding),R.saneDetail&&O.detail.setLabel(R.saneDetail,void 0,{matches:P,title:R.saneDetail}),R.separator&&R.separator.label?(O.separator.textContent=R.separator.label,O.separator.style.display=""):O.separator.style.display="none",O.entry.classList.toggle("quick-input-list-separator-border",!!R.separator),O.actionBar.clear();const W=R.item.buttons;W&&W.length?(O.actionBar.push(W.map((V,A)=>{let Q=V.iconClass||(V.iconPath?(0,s.getIconClass)(V.iconPath):void 0);V.alwaysVisible&&(Q=Q?`${Q} always-visible`:"always-visible");const J=new b.Action(`id-${A}`,"",Q,!0,()=>Se(this,void 0,void 0,function*(){R.fireButtonTriggered({button:V,item:R.item})}));return J.tooltip=V.tooltip||"",J}),{icon:!0,label:!1}),O.entry.classList.add("has-actions")):O.entry.classList.remove("has-actions")}disposeElement(R,F,O){O.toDisposeElement=(0,r.dispose)(O.toDisposeElement)}disposeTemplate(R){R.toDisposeElement=(0,r.dispose)(R.toDisposeElement),R.toDisposeTemplate=(0,r.dispose)(R.toDisposeTemplate)}}p.ID="listelement";class _{getHeight(R){return R.saneDetail?44:22}getTemplateId(R){return p.ID}}var m;(function(T){T[T.First=1]="First",T[T.Second=2]="Second",T[T.Last=3]="Last",T[T.Next=4]="Next",T[T.Previous=5]="Previous",T[T.NextPage=6]="NextPage",T[T.PreviousPage=7]="PreviousPage"})(m=e.QuickInputListFocus||(e.QuickInputListFocus={}));class h{constructor(R,F,O){this.parent=R,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new i.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new i.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new i.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new i.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new i.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new i.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new i.Emitter,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=F,this.container=w.append(this.parent,c(".quick-input-list"));const D=new _,M=new N;this.list=O.createList("QuickInput",this.container,D,[new p],{identityProvider:{getId:P=>P.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:M}),this.list.getHTMLElement().id=F,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(P=>{const B=new C.StandardKeyboardEvent(P);switch(B.keyCode){case 10:this.toggleCheckbox();break;case 31:(l.isMacintosh?P.metaKey:P.ctrlKey)&&this.list.setFocus((0,v.range)(this.list.length));break;case 16:{const W=this.list.getFocus();W.length===1&&W[0]===0&&this._onLeave.fire();break}case 18:{const W=this.list.getFocus();W.length===1&&W[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(B)})),this.disposables.push(this.list.onMouseDown(P=>{P.browserEvent.button!==2&&P.browserEvent.preventDefault()})),this.disposables.push(w.addDisposableListener(this.container,w.EventType.CLICK,P=>{(P.x||P.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(P=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(P=>{typeof P.index=="number"&&(P.browserEvent.preventDefault(),this.list.setSelection([P.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return i.Event.map(this.list.onDidChangeFocus,R=>R.elements.map(F=>F.item))}get onDidChangeSelection(){return i.Event.map(this.list.onDidChangeSelection,R=>({items:R.elements.map(F=>F.item),event:R.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(R){this.list.scrollTop=R}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(R,F=!0){for(let O=0,D=R.length;O<D;O++){const M=R[O];if(!M.hidden)if(M.checked)F=!0;else return!1}return F}getCheckedCount(){let R=0;const F=this.elements;for(let O=0,D=F.length;O<D;O++)F[O].checked&&R++;return R}getVisibleCount(){let R=0;const F=this.elements;for(let O=0,D=F.length;O<D;O++)F[O].hidden||R++;return R}setAllVisibleChecked(R){try{this._fireCheckedEvents=!1,this.elements.forEach(F=>{F.hidden||(F.checked=R)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(R){this.elementDisposables=(0,r.dispose)(this.elementDisposables);const F=O=>this.fireButtonTriggered(O);this.inputElements=R,this.elements=R.reduce((O,D,M)=>{var P,B,W;if(D.type!=="separator"){const V=M&&R[M-1],A=D.label&&D.label.replace(/\r?\n/g," "),Q=(0,t.parseLabelWithIcons)(A).text.trim(),J=D.meta&&D.meta.replace(/\r?\n/g," "),H=D.description&&D.description.replace(/\r?\n/g," "),q=D.detail&&D.detail.replace(/\r?\n/g," "),Z=D.ariaLabel||[A,H,q].map(Y=>(0,u.getCodiconAriaLabel)(Y)).filter(Y=>!!Y).join(", "),ie=this.parent.classList.contains("show-checkboxes");O.push(new f({hasCheckbox:ie,index:M,item:D,saneLabel:A,saneSortLabel:Q,saneMeta:J,saneAriaLabel:Z,saneDescription:H,saneDetail:q,labelHighlights:(P=D.highlights)===null||P===void 0?void 0:P.label,descriptionHighlights:(B=D.highlights)===null||B===void 0?void 0:B.description,detailHighlights:(W=D.highlights)===null||W===void 0?void 0:W.detail,checked:!1,separator:V&&V.type==="separator"?V:void 0,fireButtonTriggered:F}))}return O},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(O=>O.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((O,D,M)=>(O.set(D.item,M),O),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(R=>R.item)}setFocusedElements(R){if(this.list.setFocus(R.filter(F=>this.elementsToIndexes.has(F)).map(F=>this.elementsToIndexes.get(F))),R.length>0){const F=this.list.getFocus()[0];typeof F=="number"&&this.list.reveal(F)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(R){this.list.setSelection(R.filter(F=>this.elementsToIndexes.has(F)).map(F=>this.elementsToIndexes.get(F)))}getCheckedElements(){return this.elements.filter(R=>R.checked).map(R=>R.item)}setCheckedElements(R){try{this._fireCheckedEvents=!1;const F=new Set;for(const O of R)F.add(O);for(const O of this.elements)O.checked=F.has(O.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(R){this.list.getHTMLElement().style.pointerEvents=R?"":"none"}focus(R){if(!this.list.length)return;switch(R===m.Next&&this.list.getFocus()[0]===this.list.length-1&&(R=m.First),R===m.Previous&&this.list.getFocus()[0]===0&&(R=m.Last),R===m.Second&&this.list.length<2&&(R=m.First),R){case m.First:this.list.focusFirst();break;case m.Second:this.list.focusNth(1);break;case m.Last:this.list.focusLast();break;case m.Next:this.list.focusNext();break;case m.Previous:this.list.focusPrevious();break;case m.NextPage:this.list.focusNextPage();break;case m.PreviousPage:this.list.focusPreviousPage();break}const F=this.list.getFocus()[0];typeof F=="number"&&this.list.reveal(F)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(R){this.list.getHTMLElement().style.maxHeight=R?`calc(${Math.floor(R/44)*44}px)`:"",this.list.layout()}filter(R){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const F=R;if(R=R.trim(),!R||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(D=>{D.labelHighlights=void 0,D.descriptionHighlights=void 0,D.detailHighlights=void 0,D.hidden=!1;const M=D.index&&this.inputElements[D.index-1];D.separator=M&&M.type==="separator"?M:void 0});else{let D;this.elements.forEach(M=>{let P;this.matchOnLabelMode==="fuzzy"?P=this.matchOnLabel?(0,a.withNullAsUndefined)((0,t.matchesFuzzyIconAware)(R,(0,t.parseLabelWithIcons)(M.saneLabel))):void 0:P=this.matchOnLabel?(0,a.withNullAsUndefined)(S(F,(0,t.parseLabelWithIcons)(M.saneLabel))):void 0;const B=this.matchOnDescription?(0,a.withNullAsUndefined)((0,t.matchesFuzzyIconAware)(R,(0,t.parseLabelWithIcons)(M.saneDescription||""))):void 0,W=this.matchOnDetail?(0,a.withNullAsUndefined)((0,t.matchesFuzzyIconAware)(R,(0,t.parseLabelWithIcons)(M.saneDetail||""))):void 0,V=this.matchOnMeta?(0,a.withNullAsUndefined)((0,t.matchesFuzzyIconAware)(R,(0,t.parseLabelWithIcons)(M.saneMeta||""))):void 0;if(P||B||W||V?(M.labelHighlights=P,M.descriptionHighlights=B,M.detailHighlights=W,M.hidden=!1):(M.labelHighlights=void 0,M.descriptionHighlights=void 0,M.detailHighlights=void 0,M.hidden=!M.item.alwaysShow),M.separator=void 0,!this.sortByLabel){const A=M.index&&this.inputElements[M.index-1];D=A&&A.type==="separator"?A:D,D&&!M.hidden&&(M.separator=D,D=void 0)}})}const O=this.elements.filter(D=>!D.hidden);if(this.sortByLabel&&R){const D=R.toLowerCase();O.sort((M,P)=>E(M,P,D))}return this.elementsToIndexes=O.reduce((D,M,P)=>(D.set(M.item,P),D),new Map),this.list.splice(0,this.list.length,O),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(O.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const R=this.list.getFocusedElements(),F=this.allVisibleChecked(R);for(const O of R)O.checked=!F}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(R){this.container.style.display=R?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,r.dispose)(this.elementDisposables),this.disposables=(0,r.dispose)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(R){this._onButtonTriggered.fire(R)}style(R){this.list.style(R)}}ke([n.memoize],h.prototype,"onDidChangeFocus",null),ke([n.memoize],h.prototype,"onDidChangeSelection",null),e.QuickInputList=h;function S(T,R){const{text:F,iconOffsets:O}=R;if(!O||O.length===0)return y(T,F);const D=(0,d.ltrim)(F," "),M=F.length-D.length,P=y(T,D);if(P)for(const B of P){const W=O[B.start+M]+M;B.start+=W,B.end+=W}return P}e.matchesContiguousIconAware=S;function y(T,R){const F=R.toLowerCase().indexOf(T.toLowerCase());return F!==-1?[{start:F,end:F+T.length}]:null}function E(T,R,F){const O=T.labelHighlights||[],D=R.labelHighlights||[];return O.length&&!D.length?-1:!O.length&&D.length?1:O.length===0&&D.length===0?0:(0,g.compareAnything)(T.saneSortLabel,R.saneSortLabel,F)}class N{getWidgetAriaLabel(){return(0,o.localize)(0,null)}getAriaLabel(R){var F;return((F=R.separator)===null||F===void 0?void 0:F.label)?`${R.saneAriaLabel}, ${R.separator.label}`:R.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(R){return R.hasCheckbox?"checkbox":"option"}isChecked(R){if(!!R.hasCheckbox)return{value:R.checked,onDidChange:R.onChecked}}}}),define(re[521],ae([1,0,7,48,83,484,255,134,487,43,18,10,21,27,6,2,17,81,19,266,224,518,498,520,151]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f,p,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const m=w.$,h={iconClass:t.Codicon.quickInputBack.classNames,tooltip:(0,f.localize)(0,null),handle:-1};class S extends l.Disposable{constructor(T){super();this.ui=T,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=S.noPromptMessage,this._severity=a.default.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new r.Emitter),this.onDidHideEmitter=this._register(new r.Emitter),this.onDisposeEmitter=this._register(new r.Emitter),this.visibleDisposables=this._register(new l.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(T){this._title=T,this.update()}get description(){return this._description}set description(T){this._description=T,this.update()}get step(){return this._steps}set step(T){this._steps=T,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(T){this._totalSteps=T,this.update()}get enabled(){return this._enabled}set enabled(T){this._enabled=T,this.update()}get contextKey(){return this._contextKey}set contextKey(T){this._contextKey=T,this.update()}get busy(){return this._busy}set busy(T){this._busy=T,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(T){const R=this._ignoreFocusOut!==T&&!d.isIOS;this._ignoreFocusOut=T&&!d.isIOS,R&&this.update()}get buttons(){return this._buttons}set buttons(T){this._buttons=T,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(T){this._validationMessage=T,this.update()}get severity(){return this._severity}set severity(T){this._severity=T,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(T=>{this.buttons.indexOf(T)!==-1&&this.onDidTriggerButtonEmitter.fire(T)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(T=c.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:T})}update(){if(!this.visible)return;const T=this.getTitle();T&&this.ui.title.textContent!==T?this.ui.title.textContent=T:!T&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const R=this.getDescription();if(this.ui.description1.textContent!==R&&(this.ui.description1.textContent=R),this.ui.description2.textContent!==R&&(this.ui.description2.textContent=R),this.busy&&!this.busyDelay&&(this.busyDelay=new n.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const O=this.buttons.filter(M=>M===h);this.ui.leftActionBar.push(O.map((M,P)=>{const B=new u.Action(`id-${P}`,"",M.iconClass||(0,o.getIconClass)(M.iconPath),!0,()=>Se(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(M)}));return B.tooltip=M.tooltip||"",B}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const D=this.buttons.filter(M=>M!==h);this.ui.rightActionBar.push(D.map((M,P)=>{const B=new u.Action(`id-${P}`,"",M.iconClass||(0,o.getIconClass)(M.iconPath),!0,()=>Se(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(M)}));return B.tooltip=M.tooltip||"",B}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const F=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==F&&(this._lastValidationMessage=F,w.reset(this.ui.message,...(0,b.renderLabelWithIcons)(F))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,f.localize)(2,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(T){if(this.ui.inputBox.showDecoration(T),T!==a.default.Ignore){const R=this.ui.inputBox.stylesForType(T);this.ui.message.style.color=R.foreground?`${R.foreground}`:"",this.ui.message.style.backgroundColor=R.background?`${R.background}`:"",this.ui.message.style.border=R.border?`1px solid ${R.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}S.noPromptMessage=(0,f.localize)(1,null);class y extends S{constructor(){super(...arguments);this._value="",this.onDidChangeValueEmitter=this._register(new r.Emitter),this.onWillAcceptEmitter=this._register(new r.Emitter),this.onDidAcceptEmitter=this._register(new r.Emitter),this.onDidCustomEmitter=this._register(new r.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?c.ItemActivation.NONE:c.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new r.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new r.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new r.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=T=>T,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(T){this._quickNavigate=T,this.update()}get value(){return this._value}set value(T){this.doSetValue(T)}doSetValue(T,R){this._value!==T&&(this._value=T,R||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(T){this._ariaLabel=T,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(T){this._placeholder=T,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(T){this.ui.list.scrollTop=T}set items(T){this._items=T,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(T){this._canSelectMany=T,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(T){this._canAcceptInBackground=T}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(T){this._matchOnDescription=T,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(T){this._matchOnDetail=T,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(T){this._matchOnLabel=T,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(T){this._matchOnLabelMode=T,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(T){this._sortByLabel=T,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(T){this._autoFocusOnList=T,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(T){this._keepScrollPosition=T}get itemActivation(){return this._itemActivation}set itemActivation(T){this._itemActivation=T}get activeItems(){return this._activeItems}set activeItems(T){this._activeItems=T,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(T){this._selectedItems=T,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?c.NO_KEY_MODS:this.ui.keyMods}set valueSelection(T){this._valueSelection=T,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(T){this._customButton=T,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(T){this._customButtonLabel=T,this.update()}get customHover(){return this._customButtonHover}set customHover(T){this._customButtonHover=T,this.update()}get ok(){return this._ok}set ok(T){this._ok=T,this.update()}get hideInput(){return!!this._hideInput}set hideInput(T){this._hideInput=T,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(_.QuickInputListFocus.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(T=>{this.doSetValue(T,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(T=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(T=>{switch(T.keyCode){case 18:this.ui.list.focus(_.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),w.EventHelper.stop(T,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(_.QuickInputListFocus.Previous):this.ui.list.focus(_.QuickInputListFocus.Last),this.canSelectMany&&this.ui.list.domFocus(),w.EventHelper.stop(T,!0);break;case 12:this.ui.list.focus(_.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),w.EventHelper.stop(T,!0);break;case 11:this.ui.list.focus(_.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),w.EventHelper.stop(T,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(T.ctrlKey||T.metaKey)&&!T.shiftKey&&!T.altKey&&(this.ui.list.focus(_.QuickInputListFocus.First),w.EventHelper.stop(T,!0));break;case 13:(T.ctrlKey||T.metaKey)&&!T.shiftKey&&!T.altKey&&(this.ui.list.focus(_.QuickInputListFocus.Last),w.EventHelper.stop(T,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(T=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,g.equals)(T,this._activeItems,(R,F)=>R===F)||(this._activeItems=T,this.onDidChangeActiveEmitter.fire(T))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:T,event:R})=>{if(this.canSelectMany){T.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,g.equals)(T,this._selectedItems,(F,O)=>F===O)||(this._selectedItems=T,this.onDidChangeSelectionEmitter.fire(T),T.length&&this.handleAccept(R instanceof MouseEvent&&R.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(T=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&(0,g.equals)(T,this._selectedItems,(R,F)=>R===F)||(this._selectedItems=T,this.onDidChangeSelectionEmitter.fire(T))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(T=>this.onDidTriggerItemButtonEmitter.fire(T))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(T){let R=!1;this.onWillAcceptEmitter.fire({veto:()=>R=!0}),R||this.onDidAcceptEmitter.fire({inBackground:T})}registerQuickNavigation(){return w.addDisposableListener(this.ui.container,w.EventType.KEY_UP,T=>{if(this.canSelectMany||!this._quickNavigate)return;const R=new C.StandardKeyboardEvent(T),F=R.keyCode;this._quickNavigate.keybindings.some(M=>{const[P,B]=M.getParts();return B?!1:P.shiftKey&&F===4?!(R.ctrlKey||R.altKey||R.metaKey):!!(P.altKey&&F===6||P.ctrlKey&&F===5||P.metaKey&&F===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const T=this.keepScrollPosition?this.scrollTop:0,R=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",R&&!this.description);const F={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!R,progressBar:!R,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(F),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let O=this.ariaLabel;if(O||(O=this.placeholder||y.DEFAULT_ARIA_LABEL,this.title&&(O+=` - ${this.title}`)),this.ui.inputBox.ariaLabel!==O&&(this.ui.inputBox.ariaLabel=O),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case c.ItemActivation.NONE:this._itemActivation=c.ItemActivation.FIRST;break;case c.ItemActivation.SECOND:this.ui.list.focus(_.QuickInputListFocus.Second),this._itemActivation=c.ItemActivation.FIRST;break;case c.ItemActivation.LAST:this.ui.list.focus(_.QuickInputListFocus.Last),this._itemActivation=c.ItemActivation.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),F.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(_.QuickInputListFocus.First)),this.keepScrollPosition&&(this.scrollTop=T)}}y.DEFAULT_ARIA_LABEL=(0,f.localize)(3,null);class E extends l.Disposable{constructor(T){super();this.options=T,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new r.Emitter),this.onDidCustomEmitter=this._register(new r.Emitter),this.onDidTriggerButtonEmitter=this._register(new r.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new r.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new r.Emitter),this.onHide=this.onHideEmitter.event,this.idPrefix=T.idPrefix,this.parentElement=T.container,this.styles=T.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const T=R=>{this.keyMods.ctrlCmd=R.ctrlKey||R.metaKey,this.keyMods.alt=R.altKey};this._register(w.addDisposableListener(window,w.EventType.KEY_DOWN,T,!0)),this._register(w.addDisposableListener(window,w.EventType.KEY_UP,T,!0)),this._register(w.addDisposableListener(window,w.EventType.MOUSE_DOWN,T,!0))}getUI(){if(this.ui)return this.ui;const T=w.append(this.parentElement,m(".quick-input-widget.show-file-icons"));T.tabIndex=-1,T.style.display="none";const R=w.createStyleSheet(T),F=w.append(T,m(".quick-input-titlebar")),O=this._register(new k.ActionBar(F));O.domNode.classList.add("quick-input-left-action-bar");const D=w.append(F,m(".quick-input-title")),M=this._register(new k.ActionBar(F));M.domNode.classList.add("quick-input-right-action-bar");const P=w.append(T,m(".quick-input-description")),B=w.append(T,m(".quick-input-header")),W=w.append(B,m("input.quick-input-check-all"));W.type="checkbox",W.setAttribute("aria-label",(0,f.localize)(4,null)),this._register(w.addStandardDisposableListener(W,w.EventType.CHANGE,z=>{const X=W.checked;ne.setAllVisibleChecked(X)})),this._register(w.addDisposableListener(W,w.EventType.CLICK,z=>{(z.x||z.y)&&J.setFocus()}));const V=w.append(B,m(".quick-input-description")),A=w.append(B,m(".quick-input-and-message")),Q=w.append(A,m(".quick-input-filter")),J=this._register(new p.QuickInputBox(Q));J.setAttribute("aria-describedby",`${this.idPrefix}message`);const H=w.append(Q,m(".quick-input-visible-count"));H.setAttribute("aria-live","polite"),H.setAttribute("aria-atomic","true");const q=new L.CountBadge(H,{countFormat:(0,f.localize)(5,null)}),Z=w.append(Q,m(".quick-input-count"));Z.setAttribute("aria-live","polite");const ie=new L.CountBadge(Z,{countFormat:(0,f.localize)(6,null)}),Y=w.append(B,m(".quick-input-action")),te=new I.Button(Y);te.label=(0,f.localize)(7,null),this._register(te.onDidClick(z=>{this.onDidAcceptEmitter.fire()}));const de=w.append(B,m(".quick-input-action")),x=new I.Button(de);x.label=(0,f.localize)(8,null),this._register(x.onDidClick(z=>{this.onDidCustomEmitter.fire()}));const oe=w.append(A,m(`#${this.idPrefix}message.quick-input-message`)),ne=this._register(new _.QuickInputList(T,this.idPrefix+"list",this.options));this._register(ne.onChangedAllVisibleChecked(z=>{W.checked=z})),this._register(ne.onChangedVisibleCount(z=>{q.setCount(z)})),this._register(ne.onChangedCheckedCount(z=>{ie.setCount(z)})),this._register(ne.onLeave(()=>{setTimeout(()=>{J.setFocus(),this.controller instanceof y&&this.controller.canSelectMany&&ne.clearFocus()},0)})),this._register(ne.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const j=new v.ProgressBar(T);j.getContainer().classList.add("quick-input-progress");const se=w.trackFocus(T);return this._register(se),this._register(w.addDisposableListener(T,w.EventType.FOCUS,z=>{this.previousFocusElement=z.relatedTarget instanceof HTMLElement?z.relatedTarget:void 0},!0)),this._register(se.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(c.QuickInputHideReason.Blur),this.previousFocusElement=void 0})),this._register(w.addDisposableListener(T,w.EventType.FOCUS,z=>{J.setFocus()})),this._register(w.addDisposableListener(T,w.EventType.KEY_DOWN,z=>{const X=new C.StandardKeyboardEvent(z);switch(X.keyCode){case 3:w.EventHelper.stop(z,!0),this.onDidAcceptEmitter.fire();break;case 9:w.EventHelper.stop(z,!0),this.hide(c.QuickInputHideReason.Gesture);break;case 2:if(!X.altKey&&!X.ctrlKey&&!X.metaKey){const G=[".action-label.codicon"];T.classList.contains("show-checkboxes")?G.push("input"):G.push("input[type=text]"),this.getUI().list.isDisplayed()&&G.push(".monaco-list");const U=T.querySelectorAll(G.join(", "));X.shiftKey&&X.target===U[0]?(w.EventHelper.stop(z,!0),U[U.length-1].focus()):!X.shiftKey&&X.target===U[U.length-1]&&(w.EventHelper.stop(z,!0),U[0].focus())}break}})),this.ui={container:T,styleSheet:R,leftActionBar:O,titleBar:F,title:D,description1:P,description2:V,rightActionBar:M,checkAll:W,filterContainer:Q,inputBox:J,visibleCountContainer:H,visibleCount:q,countContainer:Z,count:ie,okContainer:Y,ok:te,message:oe,customButtonContainer:de,customButton:x,list:ne,progressBar:j,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:z=>this.show(z),hide:()=>this.hide(),setVisibilities:z=>this.setVisibilities(z),setComboboxAccessibility:z=>this.setComboboxAccessibility(z),setEnabled:z=>this.setEnabled(z),setContextKey:z=>this.options.setContextKey(z)},this.updateStyles(),this.ui}pick(T,R={},F=i.CancellationToken.None){return new Promise((O,D)=>{let M=V=>{var A;M=O,(A=R.onKeyMods)===null||A===void 0||A.call(R,P.keyMods),O(V)};if(F.isCancellationRequested){M(void 0);return}const P=this.createQuickPick();let B;const W=[P,P.onDidAccept(()=>{if(P.canSelectMany)M(P.selectedItems.slice()),P.hide();else{const V=P.activeItems[0];V&&(M(V),P.hide())}}),P.onDidChangeActive(V=>{const A=V[0];A&&R.onDidFocus&&R.onDidFocus(A)}),P.onDidChangeSelection(V=>{if(!P.canSelectMany){const A=V[0];A&&(M(A),P.hide())}}),P.onDidTriggerItemButton(V=>R.onDidTriggerItemButton&&R.onDidTriggerItemButton(Object.assign(Object.assign({},V),{removeItem:()=>{const A=P.items.indexOf(V.item);if(A!==-1){const Q=P.items.slice(),J=Q.splice(A,1),H=P.activeItems.filter(Z=>Z!==J[0]),q=P.keepScrollPosition;P.keepScrollPosition=!0,P.items=Q,H&&(P.activeItems=H),P.keepScrollPosition=q}}}))),P.onDidChangeValue(V=>{B&&!V&&(P.activeItems.length!==1||P.activeItems[0]!==B)&&(P.activeItems=[B])}),F.onCancellationRequested(()=>{P.hide()}),P.onDidHide(()=>{(0,l.dispose)(W),M(void 0)})];P.title=R.title,P.canSelectMany=!!R.canPickMany,P.placeholder=R.placeHolder,P.ignoreFocusOut=!!R.ignoreFocusLost,P.matchOnDescription=!!R.matchOnDescription,P.matchOnDetail=!!R.matchOnDetail,P.matchOnLabel=R.matchOnLabel===void 0||R.matchOnLabel,P.autoFocusOnList=R.autoFocusOnList===void 0||R.autoFocusOnList,P.quickNavigate=R.quickNavigate,P.hideInput=!!R.hideInput,P.contextKey=R.contextKey,P.busy=!0,Promise.all([T,R.activeItem]).then(([V,A])=>{B=A,P.busy=!1,P.items=V,P.canSelectMany&&(P.selectedItems=V.filter(Q=>Q.type!=="separator"&&Q.picked)),B&&(P.activeItems=[B])}),P.show(),Promise.resolve(T).then(void 0,V=>{D(V),P.hide()})})}createQuickPick(){const T=this.getUI();return new y(T)}show(T){const R=this.getUI();this.onShowEmitter.fire();const F=this.controller;this.controller=T,F&&F.didHide(),this.setEnabled(!0),R.leftActionBar.clear(),R.title.textContent="",R.description1.textContent="",R.description2.textContent="",R.rightActionBar.clear(),R.checkAll.checked=!1,R.inputBox.placeholder="",R.inputBox.password=!1,R.inputBox.showDecoration(a.default.Ignore),R.visibleCount.setCount(0),R.count.setCount(0),w.reset(R.message),R.progressBar.stop(),R.list.setElements([]),R.list.matchOnDescription=!1,R.list.matchOnDetail=!1,R.list.matchOnLabel=!0,R.list.sortByLabel=!0,R.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),R.inputBox.ariaLabel="";const O=this.options.backKeybindingLabel();h.tooltip=O?(0,f.localize)(9,null,O):(0,f.localize)(10,null),R.container.style.display="",this.updateLayout(),R.inputBox.setFocus()}setVisibilities(T){const R=this.getUI();R.title.style.display=T.title?"":"none",R.description1.style.display=T.description&&(T.inputBox||T.checkAll)?"":"none",R.description2.style.display=T.description&&!(T.inputBox||T.checkAll)?"":"none",R.checkAll.style.display=T.checkAll?"":"none",R.filterContainer.style.display=T.inputBox?"":"none",R.visibleCountContainer.style.display=T.visibleCount?"":"none",R.countContainer.style.display=T.count?"":"none",R.okContainer.style.display=T.ok?"":"none",R.customButtonContainer.style.display=T.customButton?"":"none",R.message.style.display=T.message?"":"none",R.progressBar.getContainer().style.display=T.progressBar?"":"none",R.list.display(!!T.list),R.container.classList[T.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(T){if(T!==this.comboboxAccessibility){const R=this.getUI();this.comboboxAccessibility=T,this.comboboxAccessibility?(R.inputBox.setAttribute("role","combobox"),R.inputBox.setAttribute("aria-haspopup","true"),R.inputBox.setAttribute("aria-autocomplete","list"),R.inputBox.setAttribute("aria-activedescendant",R.list.getActiveDescendant()||"")):(R.inputBox.removeAttribute("role"),R.inputBox.removeAttribute("aria-haspopup"),R.inputBox.removeAttribute("aria-autocomplete"),R.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(T){if(T!==this.enabled){this.enabled=T;for(const R of this.getUI().leftActionBar.viewItems)R.getAction().enabled=T;for(const R of this.getUI().rightActionBar.viewItems)R.getAction().enabled=T;this.getUI().checkAll.disabled=!T,this.getUI().ok.enabled=T,this.getUI().list.enabled=T}}hide(T){var R;const F=this.controller;if(F){const O=!((R=this.ui)===null||R===void 0?void 0:R.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!O){let D=this.previousFocusElement;for(;D&&!D.offsetParent;)D=(0,s.withNullAsUndefined)(D.parentElement);(D==null?void 0:D.offsetParent)?(D.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}F.didHide(T)}}layout(T,R){this.dimension=T,this.titleBarOffset=R,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const T=this.ui.container.style,R=Math.min(this.dimension.width*.62,E.MAX_WIDTH);T.width=R+"px",T.marginLeft="-"+R/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(T){this.styles=T,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:T,quickInputBackground:R,quickInputForeground:F,contrastBorder:O,widgetShadow:D}=this.styles.widget;this.ui.titleBar.style.backgroundColor=T?T.toString():"",this.ui.container.style.backgroundColor=R?R.toString():"",this.ui.container.style.color=F?F.toString():"",this.ui.container.style.border=O?`1px solid ${O}`:"",this.ui.container.style.boxShadow=D?`0 0 8px 2px ${D}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const M=[];this.styles.list.pickerGroupBorder&&M.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&M.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(M.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&M.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&M.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&M.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&M.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&M.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),M.push("}"));const P=M.join(`
`);P!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=P)}}}e.QuickInputController=E,E.MAX_WIDTH=600}),define(re[522],ae([4,5]),function($,e){return $.create("vs/editor/browser/controller/textAreaHandler",e)}),define(re[523],ae([4,5]),function($,e){return $.create("vs/editor/browser/coreCommands",e)}),define(re[524],ae([4,5]),function($,e){return $.create("vs/editor/browser/editorExtensions",e)}),define(re[525],ae([4,5]),function($,e){return $.create("vs/editor/browser/widget/codeEditorWidget",e)}),define(re[526],ae([4,5]),function($,e){return $.create("vs/editor/browser/widget/diffEditorWidget",e)}),define(re[527],ae([4,5]),function($,e){return $.create("vs/editor/browser/widget/diffReview",e)}),define(re[528],ae([4,5]),function($,e){return $.create("vs/editor/browser/widget/inlineDiffMargin",e)}),define(re[529],ae([1,0,528,7,43,2,3,27]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffMargin=void 0;class v extends I.Disposable{constructor(g,n,i,t,r,l){super();this._viewZoneId=g,this._marginDomNode=n,this.editor=i,this.diff=t,this._contextMenuService=r,this._clipboardService=l,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=b.Codicon.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const d=i.getOption(61),a=i.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${d}px`,this._diffActions.style.lineHeight=`${d}px`,this._marginDomNode.appendChild(this._diffActions);const s=[],o=t.modifiedEndLineNumber===0;s.push(new k.Action("diff.clipboard.copyDeletedContent",o?t.originalEndLineNumber>t.modifiedStartLineNumber?w.localize(0,null):w.localize(1,null):t.originalEndLineNumber>t.modifiedStartLineNumber?w.localize(2,null):w.localize(3,null),void 0,!0,()=>Se(this,void 0,void 0,function*(){const m=new L.Range(t.originalStartLineNumber,1,t.originalEndLineNumber+1,1),h=t.originalModel.getValueInRange(m);yield this._clipboardService.writeText(h)})));let c=0,f;t.originalEndLineNumber>t.modifiedStartLineNumber&&(f=new k.Action("diff.clipboard.copyDeletedLineContent",o?w.localize(4,null,t.originalStartLineNumber):w.localize(5,null,t.originalStartLineNumber),void 0,!0,()=>Se(this,void 0,void 0,function*(){const m=t.originalModel.getLineContent(t.originalStartLineNumber+c);if(m===""){const h=t.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(h===0?`
`:`\r
`)}else yield this._clipboardService.writeText(m)})),s.push(f)),i.getOption(83)||s.push(new k.Action("diff.inline.revertChange",w.localize(6,null),void 0,!0,()=>Se(this,void 0,void 0,function*(){const m=new L.Range(t.originalStartLineNumber,1,t.originalEndLineNumber,t.originalModel.getLineMaxColumn(t.originalEndLineNumber)),h=t.originalModel.getValueInRange(m);if(t.modifiedEndLineNumber===0){const S=i.getModel().getLineMaxColumn(t.modifiedStartLineNumber);i.executeEdits("diffEditor",[{range:new L.Range(t.modifiedStartLineNumber,S,t.modifiedStartLineNumber,S),text:a+h}])}else{const S=i.getModel().getLineMaxColumn(t.modifiedEndLineNumber);i.executeEdits("diffEditor",[{range:new L.Range(t.modifiedStartLineNumber,1,t.modifiedEndLineNumber,S),text:h}])}})));const _=(m,h)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:m,y:h}),getActions:()=>(f&&(f.label=o?w.localize(7,null,t.originalStartLineNumber+c):w.localize(8,null,t.originalStartLineNumber+c)),s),autoSelectFirstItem:!0})};this._register(C.addStandardDisposableListener(this._diffActions,"mousedown",m=>{const{top:h,height:S}=C.getDomNodePagePosition(this._diffActions),y=Math.floor(d/3);m.preventDefault(),_(m.posx,h+S+y)})),this._register(i.onMouseMove(m=>{m.target.type===8||m.target.type===5?m.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,c=this._updateLightBulbPosition(this._marginDomNode,m.event.browserEvent.y,d)):this.visibility=!1:this.visibility=!1})),this._register(i.onMouseDown(m=>{!m.event.rightButton||(m.target.type===8||m.target.type===5)&&m.target.detail.viewZoneId===this._viewZoneId&&(m.event.preventDefault(),c=this._updateLightBulbPosition(this._marginDomNode,m.event.browserEvent.y,d),_(m.event.posx,m.event.posy+d))}))}get visibility(){return this._visibility}set visibility(g){this._visibility!==g&&(this._visibility=g,g?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(g,n,i){const{top:t}=C.getDomNodePagePosition(g),r=n-t,l=Math.floor(r/i),d=l*i;if(this._diffActions.style.top=`${d}px`,this.diff.viewLineCounts){let a=0;for(let s=0;s<this.diff.viewLineCounts.length;s++)if(a+=this.diff.viewLineCounts[s],l<a)return s}return l}}e.InlineDiffMargin=v}),define(re[530],ae([4,5]),function($,e){return $.create("vs/editor/common/config/editorConfigurationSchema",e)}),define(re[531],ae([4,5]),function($,e){return $.create("vs/editor/common/config/editorOptions",e)}),define(re[36],ae([1,0,531,17,128,18,40,153]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_FONT_DEFAULTS=e.unicodeHighlightConfigKeys=e.inUntrustedWorkspace=e.filterValidationDecorations=e.EditorLayoutInfoComputer=e.EditorFontLigatures=e.TextEditorCursorStyle=e.stringSet=e.clampedInt=e.boolean=e.ApplyUpdateResult=e.ComputeOptionsMemory=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.MINIMAP_GUTTER_WIDTH=8;class v{constructor(le){this._values=le}hasChanged(le){return this._values[le]}}e.ConfigurationChangedEvent=v;class u{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=u;class g{constructor(le,ge,_e,Le){this.id=le,this.name=ge,this.defaultValue=_e,this.schema=Le}applyUpdate(le,ge){return i(le,ge)}compute(le,ge,_e){return _e}}class n{constructor(le,ge){this.newValue=le,this.didChange=ge}}e.ApplyUpdateResult=n;function i(he,le){if(typeof he!="object"||typeof le!="object"||!he||!le)return new n(le,he!==le);if(Array.isArray(he)||Array.isArray(le)){const _e=Array.isArray(he)&&Array.isArray(le)&&I.equals(he,le);return new n(le,!_e)}let ge=!1;for(const _e in le)if(le.hasOwnProperty(_e)){const Le=i(he[_e],le[_e]);Le.didChange&&(he[_e]=Le.newValue,ge=!0)}return new n(he,ge)}class t{constructor(le){this.schema=void 0,this.id=le,this.name="_never_",this.defaultValue=void 0}applyUpdate(le,ge){return i(le,ge)}validate(le){return this.defaultValue}}class r{constructor(le,ge,_e,Le){this.id=le,this.name=ge,this.defaultValue=_e,this.schema=Le}applyUpdate(le,ge){return i(le,ge)}validate(le){return typeof le=="undefined"?this.defaultValue:le}compute(le,ge,_e){return _e}}function l(he,le){return typeof he=="undefined"?le:he==="false"?!1:Boolean(he)}e.boolean=l;class d extends r{constructor(le,ge,_e,Le=void 0){typeof Le!="undefined"&&(Le.type="boolean",Le.default=_e);super(le,ge,_e,Le)}validate(le){return l(le,this.defaultValue)}}function a(he,le,ge,_e){if(typeof he=="undefined")return le;let Le=parseInt(he,10);return isNaN(Le)?le:(Le=Math.max(ge,Le),Le=Math.min(_e,Le),Le|0)}e.clampedInt=a;class s extends r{constructor(le,ge,_e,Le,Ie,Ae=void 0){typeof Ae!="undefined"&&(Ae.type="integer",Ae.default=_e,Ae.minimum=Le,Ae.maximum=Ie);super(le,ge,_e,Ae);this.minimum=Le,this.maximum=Ie}static clampedInt(le,ge,_e,Le){return a(le,ge,_e,Le)}validate(le){return s.clampedInt(le,this.defaultValue,this.minimum,this.maximum)}}class o extends r{constructor(le,ge,_e,Le,Ie){typeof Ie!="undefined"&&(Ie.type="number",Ie.default=_e);super(le,ge,_e,Ie);this.validationFn=Le}static clamp(le,ge,_e){return le<ge?ge:le>_e?_e:le}static float(le,ge){if(typeof le=="number")return le;if(typeof le=="undefined")return ge;const _e=parseFloat(le);return isNaN(_e)?ge:_e}validate(le){return this.validationFn(o.float(le,this.defaultValue))}}class c extends r{static string(le,ge){return typeof le!="string"?ge:le}constructor(le,ge,_e,Le=void 0){typeof Le!="undefined"&&(Le.type="string",Le.default=_e);super(le,ge,_e,Le)}validate(le){return c.string(le,this.defaultValue)}}function f(he,le,ge){return typeof he!="string"||ge.indexOf(he)===-1?le:he}e.stringSet=f;class p extends r{constructor(le,ge,_e,Le,Ie=void 0){typeof Ie!="undefined"&&(Ie.type="string",Ie.enum=Le,Ie.default=_e);super(le,ge,_e,Ie);this._allowedValues=Le}validate(le){return f(le,this.defaultValue,this._allowedValues)}}class _ extends g{constructor(le,ge,_e,Le,Ie,Ae,Oe=void 0){typeof Oe!="undefined"&&(Oe.type="string",Oe.enum=Ie,Oe.default=Le);super(le,ge,_e,Oe);this._allowedValues=Ie,this._convert=Ae}validate(le){return typeof le!="string"?this.defaultValue:this._allowedValues.indexOf(le)===-1?this.defaultValue:this._convert(le)}}function m(he){switch(he){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class h extends g{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[w.localize(0,null),w.localize(1,null),w.localize(2,null)],default:"auto",description:w.localize(3,null)})}validate(le){switch(le){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(le,ge,_e){return _e===0?le.accessibilitySupport:_e}}class S extends g{constructor(){const le={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",le,{"editor.comments.insertSpace":{type:"boolean",default:le.insertSpace,description:w.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:le.ignoreEmptyLines,description:w.localize(5,null)}})}validate(le){if(!le||typeof le!="object")return this.defaultValue;const ge=le;return{insertSpace:l(ge.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:l(ge.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function y(he){switch(he){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var E;(function(he){he[he.Line=1]="Line",he[he.Block=2]="Block",he[he.Underline=3]="Underline",he[he.LineThin=4]="LineThin",he[he.BlockOutline=5]="BlockOutline",he[he.UnderlineThin=6]="UnderlineThin"})(E=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function N(he){switch(he){case"line":return E.Line;case"block":return E.Block;case"underline":return E.Underline;case"line-thin":return E.LineThin;case"block-outline":return E.BlockOutline;case"underline-thin":return E.UnderlineThin}}class T extends t{constructor(){super(130)}compute(le,ge,_e){const Le=["monaco-editor"];return ge.get(35)&&Le.push(ge.get(35)),le.extraEditorClassName&&Le.push(le.extraEditorClassName),ge.get(68)==="default"?Le.push("mouse-default"):ge.get(68)==="copy"&&Le.push("mouse-copy"),ge.get(102)&&Le.push("showUnused"),ge.get(128)&&Le.push("showDeprecated"),Le.join(" ")}}class R extends d{constructor(){super(33,"emptySelectionClipboard",!0,{description:w.localize(6,null)})}compute(le,ge,_e){return _e&&le.emptySelectionClipboard}}class F extends g{constructor(){const le={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(37,"find",le,{"editor.find.cursorMoveOnType":{type:"boolean",default:le.cursorMoveOnType,description:w.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:le.seedSearchStringFromSelection,enumDescriptions:[w.localize(8,null),w.localize(9,null),w.localize(10,null)],description:w.localize(11,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:le.autoFindInSelection,enumDescriptions:[w.localize(12,null),w.localize(13,null),w.localize(14,null)],description:w.localize(15,null)},"editor.find.globalFindClipboard":{type:"boolean",default:le.globalFindClipboard,description:w.localize(16,null),included:C.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:le.addExtraSpaceOnTop,description:w.localize(17,null)},"editor.find.loop":{type:"boolean",default:le.loop,description:w.localize(18,null)}})}validate(le){if(!le||typeof le!="object")return this.defaultValue;const ge=le;return{cursorMoveOnType:l(ge.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof le.seedSearchStringFromSelection=="boolean"?le.seedSearchStringFromSelection?"always":"never":f(ge.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof le.autoFindInSelection=="boolean"?le.autoFindInSelection?"always":"never":f(ge.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:l(ge.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:l(ge.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:l(ge.loop,this.defaultValue.loop)}}}class O extends g{constructor(){super(47,"fontLigatures",O.OFF,{anyOf:[{type:"boolean",description:w.localize(19,null)},{type:"string",description:w.localize(20,null)}],description:w.localize(21,null),default:!1})}validate(le){return typeof le=="undefined"?this.defaultValue:typeof le=="string"?le==="false"?O.OFF:le==="true"?O.ON:le:Boolean(le)?O.ON:O.OFF}}e.EditorFontLigatures=O,O.OFF='"liga" off, "calt" off',O.ON='"liga" on, "calt" on';class D extends t{constructor(){super(46)}compute(le,ge,_e){return le.fontInfo}}class M extends r{constructor(){super(48,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:w.localize(22,null)})}validate(le){const ge=o.float(le,this.defaultValue);return ge===0?e.EDITOR_FONT_DEFAULTS.fontSize:o.clamp(ge,6,100)}compute(le,ge,_e){return le.fontInfo.fontSize}}class P extends g{constructor(){super(49,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:P.MINIMUM_VALUE,maximum:P.MAXIMUM_VALUE,errorMessage:w.localize(23,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:P.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:w.localize(24,null)})}validate(le){return le==="normal"||le==="bold"?le:String(s.clampedInt(le,e.EDITOR_FONT_DEFAULTS.fontWeight,P.MINIMUM_VALUE,P.MAXIMUM_VALUE))}}P.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],P.MINIMUM_VALUE=1,P.MAXIMUM_VALUE=1e3;class B extends g{constructor(){const le={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},ge={type:"string",enum:["peek","gotoAndPeek","goto"],default:le.multiple,enumDescriptions:[w.localize(25,null),w.localize(26,null),w.localize(27,null)]},_e=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(53,"gotoLocation",le,{"editor.gotoLocation.multiple":{deprecationMessage:w.localize(28,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:w.localize(29,null)},ge),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:w.localize(30,null)},ge),"editor.gotoLocation.multipleDeclarations":Object.assign({description:w.localize(31,null)},ge),"editor.gotoLocation.multipleImplementations":Object.assign({description:w.localize(32,null)},ge),"editor.gotoLocation.multipleReferences":Object.assign({description:w.localize(33,null)},ge),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:le.alternativeDefinitionCommand,enum:_e,description:w.localize(34,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:le.alternativeTypeDefinitionCommand,enum:_e,description:w.localize(35,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:le.alternativeDeclarationCommand,enum:_e,description:w.localize(36,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:le.alternativeImplementationCommand,enum:_e,description:w.localize(37,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:le.alternativeReferenceCommand,enum:_e,description:w.localize(38,null)}})}validate(le){var ge,_e,Le,Ie,Ae;if(!le||typeof le!="object")return this.defaultValue;const Oe=le;return{multiple:f(Oe.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(ge=Oe.multipleDefinitions)!==null&&ge!==void 0?ge:f(Oe.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(_e=Oe.multipleTypeDefinitions)!==null&&_e!==void 0?_e:f(Oe.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(Le=Oe.multipleDeclarations)!==null&&Le!==void 0?Le:f(Oe.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(Ie=Oe.multipleImplementations)!==null&&Ie!==void 0?Ie:f(Oe.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(Ae=Oe.multipleReferences)!==null&&Ae!==void 0?Ae:f(Oe.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:c.string(Oe.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:c.string(Oe.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:c.string(Oe.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:c.string(Oe.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:c.string(Oe.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class W extends g{constructor(){const le={enabled:!0,delay:300,sticky:!0,above:!0};super(55,"hover",le,{"editor.hover.enabled":{type:"boolean",default:le.enabled,description:w.localize(39,null)},"editor.hover.delay":{type:"number",default:le.delay,minimum:0,maximum:1e4,description:w.localize(40,null)},"editor.hover.sticky":{type:"boolean",default:le.sticky,description:w.localize(41,null)},"editor.hover.above":{type:"boolean",default:le.above,description:w.localize(42,null)}})}validate(le){if(!le||typeof le!="object")return this.defaultValue;const ge=le;return{enabled:l(ge.enabled,this.defaultValue.enabled),delay:s.clampedInt(ge.delay,this.defaultValue.delay,0,1e4),sticky:l(ge.sticky,this.defaultValue.sticky),above:l(ge.above,this.defaultValue.above)}}}class V extends t{constructor(){super(133)}compute(le,ge,_e){return V.computeLayout(ge,{memory:le.memory,outerWidth:le.outerWidth,outerHeight:le.outerHeight,isDominatedByLongLines:le.isDominatedByLongLines,lineHeight:le.fontInfo.lineHeight,viewLineCount:le.viewLineCount,lineNumbersDigitCount:le.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:le.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:le.fontInfo.maxDigitWidth,pixelRatio:le.pixelRatio})}static computeContainedMinimapLineCount(le){const ge=le.height/le.lineHeight,_e=le.scrollBeyondLastLine?ge-1:0,Le=(le.viewLineCount+_e)/(le.pixelRatio*le.height),Ie=Math.floor(le.viewLineCount/Le);return{typicalViewportLineCount:ge,extraLinesBeyondLastLine:_e,desiredRatio:Le,minimapLineCount:Ie}}static _computeMinimapLayout(le,ge){const _e=le.outerWidth,Le=le.outerHeight,Ie=le.pixelRatio;if(!le.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Ie*Le),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Le};const Ae=ge.stableMinimapLayoutInput,Oe=Ae&&le.outerHeight===Ae.outerHeight&&le.lineHeight===Ae.lineHeight&&le.typicalHalfwidthCharacterWidth===Ae.typicalHalfwidthCharacterWidth&&le.pixelRatio===Ae.pixelRatio&&le.scrollBeyondLastLine===Ae.scrollBeyondLastLine&&le.minimap.enabled===Ae.minimap.enabled&&le.minimap.side===Ae.minimap.side&&le.minimap.size===Ae.minimap.size&&le.minimap.showSlider===Ae.minimap.showSlider&&le.minimap.renderCharacters===Ae.minimap.renderCharacters&&le.minimap.maxColumn===Ae.minimap.maxColumn&&le.minimap.scale===Ae.minimap.scale&&le.verticalScrollbarWidth===Ae.verticalScrollbarWidth&&le.isViewportWrapping===Ae.isViewportWrapping,be=le.lineHeight,ve=le.typicalHalfwidthCharacterWidth,Ee=le.scrollBeyondLastLine,Re=le.minimap.renderCharacters;let Te=Ie>=2?Math.round(le.minimap.scale*2):le.minimap.scale;const Be=le.minimap.maxColumn,xe=le.minimap.size,qe=le.minimap.side,Ze=le.verticalScrollbarWidth,nt=le.viewLineCount,ot=le.remainingWidth,ze=le.isViewportWrapping,Ne=Re?2:3;let Fe=Math.floor(Ie*Le);const He=Fe/Ie;let Ve=!1,Je=!1,Qe=Ne*Te,Ye=Te/Ie,tt=1;if(xe==="fill"||xe==="fit"){const{typicalViewportLineCount:et,extraLinesBeyondLastLine:Ge,desiredRatio:it,minimapLineCount:st}=V.computeContainedMinimapLineCount({viewLineCount:nt,scrollBeyondLastLine:Ee,height:Le,lineHeight:be,pixelRatio:Ie});if(nt/st>1)Ve=!0,Je=!0,Te=1,Qe=1,Ye=Te/Ie;else{let ct=!1,ht=Te+1;if(xe==="fit"){const dt=Math.ceil((nt+Ge)*Qe);ze&&Oe&&ot<=ge.stableFitRemainingWidth?(ct=!0,ht=ge.stableFitMaxMinimapScale):ct=dt>Fe}if(xe==="fill"||ct){Ve=!0;const dt=Te;Qe=Math.min(be*Ie,Math.max(1,Math.floor(1/it))),ze&&Oe&&ot<=ge.stableFitRemainingWidth&&(ht=ge.stableFitMaxMinimapScale),Te=Math.min(ht,Math.max(1,Math.floor(Qe/Ne))),Te>dt&&(tt=Math.min(2,Te/dt)),Ye=Te/Ie/tt,Fe=Math.ceil(Math.max(et,nt+Ge)*Qe),ze?(ge.stableMinimapLayoutInput=le,ge.stableFitRemainingWidth=ot,ge.stableFitMaxMinimapScale=Te):(ge.stableMinimapLayoutInput=null,ge.stableFitRemainingWidth=0)}}}const $e=Math.floor(Be*Ye),je=Math.min($e,Math.max(0,Math.floor((ot-Ze-2)*Ye/(ve+Ye)))+e.MINIMAP_GUTTER_WIDTH);let Pe=Math.floor(Ie*je);const We=Pe/Ie;Pe=Math.floor(Pe*tt);const Ue=Re?1:2,Ke=qe==="left"?0:_e-je-Ze;return{renderMinimap:Ue,minimapLeft:Ke,minimapWidth:je,minimapHeightIsEditorHeight:Ve,minimapIsSampling:Je,minimapScale:Te,minimapLineHeight:Qe,minimapCanvasInnerWidth:Pe,minimapCanvasInnerHeight:Fe,minimapCanvasOuterWidth:We,minimapCanvasOuterHeight:He}}static computeLayout(le,ge){const _e=ge.outerWidth|0,Le=ge.outerHeight|0,Ie=ge.lineHeight|0,Ae=ge.lineNumbersDigitCount|0,Oe=ge.typicalHalfwidthCharacterWidth,be=ge.maxDigitWidth,ve=ge.pixelRatio,Ee=ge.viewLineCount,Re=le.get(125),Te=Re==="inherit"?le.get(124):Re,Be=Te==="inherit"?le.get(120):Te,xe=le.get(123),qe=le.get(2),Ze=ge.isDominatedByLongLines,nt=le.get(52),ot=le.get(62).renderType!==0,ze=le.get(63),Ne=le.get(96),Fe=le.get(67),He=le.get(94),Ve=He.verticalScrollbarSize,Je=He.verticalHasArrows,Qe=He.arrowSize,Ye=He.horizontalScrollbarSize,tt=le.get(60),$e=le.get(39),je=le.get(101)!=="never";let Pe;if(typeof tt=="string"&&/^\d+(\.\d+)?ch$/.test(tt)){const ft=parseFloat(tt.substr(0,tt.length-2));Pe=s.clampedInt(ft*Oe,0,0,1e3)}else Pe=s.clampedInt(tt,0,0,1e3);$e&&je&&(Pe+=16);let We=0;if(ot){const ft=Math.max(Ae,ze);We=Math.round(ft*be)}let Ue=0;nt&&(Ue=Ie);let Ke=0,et=Ke+Ue,Ge=et+We,it=Ge+Pe;const st=_e-Ue-We-Pe;let gt=!1,ct=!1,ht=-1;qe!==2&&(Te==="inherit"&&Ze?(gt=!0,ct=!0):Be==="on"||Be==="bounded"?ct=!0:Be==="wordWrapColumn"&&(ht=xe));const dt=V._computeMinimapLayout({outerWidth:_e,outerHeight:Le,lineHeight:Ie,typicalHalfwidthCharacterWidth:Oe,pixelRatio:ve,scrollBeyondLastLine:Ne,minimap:Fe,verticalScrollbarWidth:Ve,viewLineCount:Ee,remainingWidth:st,isViewportWrapping:ct},ge.memory||new u);dt.renderMinimap!==0&&dt.minimapLeft===0&&(Ke+=dt.minimapWidth,et+=dt.minimapWidth,Ge+=dt.minimapWidth,it+=dt.minimapWidth);const lt=st-dt.minimapWidth,pt=Math.max(1,Math.floor((lt-Ve-2)/Oe)),St=Je?Qe:0;return ct&&(ht=Math.max(1,pt),Be==="bounded"&&(ht=Math.min(ht,xe))),{width:_e,height:Le,glyphMarginLeft:Ke,glyphMarginWidth:Ue,lineNumbersLeft:et,lineNumbersWidth:We,decorationsLeft:Ge,decorationsWidth:Pe,contentLeft:it,contentWidth:lt,minimap:dt,viewportColumn:pt,isWordWrapMinified:gt,isViewportWrapping:ct,wrappingColumn:ht,verticalScrollbarWidth:Ve,horizontalScrollbarHeight:Ye,overviewRuler:{top:St,width:Ve,height:Le-2*St,right:0}}}}e.EditorLayoutInfoComputer=V;class A extends g{constructor(){const le={enabled:!0};super(59,"lightbulb",le,{"editor.lightbulb.enabled":{type:"boolean",default:le.enabled,description:w.localize(43,null)}})}validate(le){return!le||typeof le!="object"?this.defaultValue:{enabled:l(le.enabled,this.defaultValue.enabled)}}}class Q extends g{constructor(){const le={stickyScroll:{enabled:!1}};super(34,"experimental",le,{"editor.experimental.stickyScroll.enabled":{type:"boolean",default:le.stickyScroll.enabled,description:w.localize(44,null)}})}validate(le){var ge;return!le||typeof le!="object"?this.defaultValue:{stickyScroll:{enabled:l((ge=le.stickyScroll)===null||ge===void 0?void 0:ge.enabled,this.defaultValue.stickyScroll.enabled)}}}}class J extends g{constructor(){const le={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(129,"inlayHints",le,{"editor.inlayHints.enabled":{type:"string",default:le.enabled,description:w.localize(45,null),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[w.localize(46,null),w.localize(47,null),w.localize(48,null),w.localize(49,null)]},"editor.inlayHints.fontSize":{type:"number",default:le.fontSize,markdownDescription:w.localize(50,null,"`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:le.fontFamily,markdownDescription:w.localize(51,null,"`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:le.padding,description:w.localize(52,null)}})}validate(le){if(!le||typeof le!="object")return this.defaultValue;const ge=le;return typeof ge.enabled=="boolean"&&(ge.enabled=ge.enabled?"on":"off"),{enabled:f(ge.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:s.clampedInt(ge.fontSize,this.defaultValue.fontSize,0,100),fontFamily:c.string(ge.fontFamily,this.defaultValue.fontFamily),padding:l(ge.padding,this.defaultValue.padding)}}}class H extends o{constructor(){super(61,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,le=>o.clamp(le,0,150),{markdownDescription:w.localize(53,null)})}compute(le,ge,_e){return le.fontInfo.lineHeight}}class q extends g{constructor(){const le={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(67,"minimap",le,{"editor.minimap.enabled":{type:"boolean",default:le.enabled,description:w.localize(54,null)},"editor.minimap.autohide":{type:"boolean",default:le.autohide,description:w.localize(55,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[w.localize(56,null),w.localize(57,null),w.localize(58,null)],default:le.size,description:w.localize(59,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:le.side,description:w.localize(60,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:le.showSlider,description:w.localize(61,null)},"editor.minimap.scale":{type:"number",default:le.scale,minimum:1,maximum:3,enum:[1,2,3],description:w.localize(62,null)},"editor.minimap.renderCharacters":{type:"boolean",default:le.renderCharacters,description:w.localize(63,null)},"editor.minimap.maxColumn":{type:"number",default:le.maxColumn,description:w.localize(64,null)}})}validate(le){if(!le||typeof le!="object")return this.defaultValue;const ge=le;return{enabled:l(ge.enabled,this.defaultValue.enabled),autohide:l(ge.autohide,this.defaultValue.autohide),size:f(ge.size,this.defaultValue.size,["proportional","fill","fit"]),side:f(ge.side,this.defaultValue.side,["right","left"]),showSlider:f(ge.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:l(ge.renderCharacters,this.defaultValue.renderCharacters),scale:s.clampedInt(ge.scale,1,1,3),maxColumn:s.clampedInt(ge.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function Z(he){return he==="ctrlCmd"?C.isMacintosh?"metaKey":"ctrlKey":"altKey"}class ie extends g{constructor(){super(77,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:w.localize(65,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:w.localize(66,null)}})}validate(le){if(!le||typeof le!="object")return this.defaultValue;const ge=le;return{top:s.clampedInt(ge.top,0,0,1e3),bottom:s.clampedInt(ge.bottom,0,0,1e3)}}}class Y extends g{constructor(){const le={enabled:!0,cycle:!1};super(78,"parameterHints",le,{"editor.parameterHints.enabled":{type:"boolean",default:le.enabled,description:w.localize(67,null)},"editor.parameterHints.cycle":{type:"boolean",default:le.cycle,description:w.localize(68,null)}})}validate(le){if(!le||typeof le!="object")return this.defaultValue;const ge=le;return{enabled:l(ge.enabled,this.defaultValue.enabled),cycle:l(ge.cycle,this.defaultValue.cycle)}}}class te extends t{constructor(){super(131)}compute(le,ge,_e){return le.pixelRatio}}class de extends g{constructor(){const le={other:"on",comments:"off",strings:"off"},ge=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[w.localize(69,null),w.localize(70,null),w.localize(71,null)]}];super(81,"quickSuggestions",le,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:ge,default:le.strings,description:w.localize(72,null)},comments:{anyOf:ge,default:le.comments,description:w.localize(73,null)},other:{anyOf:ge,default:le.other,description:w.localize(74,null)}},default:le,markdownDescription:w.localize(75,null,"#editor.suggestOnTriggerCharacters#")});this.defaultValue=le}validate(le){if(typeof le=="boolean"){const ve=le?"on":"off";return{comments:ve,strings:ve,other:ve}}if(!le||typeof le!="object")return this.defaultValue;const{other:ge,comments:_e,strings:Le}=le,Ie=["on","inline","off"];let Ae,Oe,be;return typeof ge=="boolean"?Ae=ge?"on":"off":Ae=f(ge,this.defaultValue.other,Ie),typeof _e=="boolean"?Oe=_e?"on":"off":Oe=f(_e,this.defaultValue.comments,Ie),typeof Le=="boolean"?be=Le?"on":"off":be=f(Le,this.defaultValue.strings,Ie),{other:Ae,comments:Oe,strings:be}}}class x extends g{constructor(){super(62,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[w.localize(76,null),w.localize(77,null),w.localize(78,null),w.localize(79,null)],default:"on",description:w.localize(80,null)})}validate(le){let ge=this.defaultValue.renderType,_e=this.defaultValue.renderFn;return typeof le!="undefined"&&(typeof le=="function"?(ge=4,_e=le):le==="interval"?ge=3:le==="relative"?ge=2:le==="on"?ge=1:ge=0),{renderType:ge,renderFn:_e}}}function oe(he){const le=he.get(89);return le==="editable"?he.get(83):le!=="on"}e.filterValidationDecorations=oe;class ne extends g{constructor(){const le=[],ge={type:"number",description:w.localize(81,null)};super(93,"rulers",le,{type:"array",items:{anyOf:[ge,{type:["object"],properties:{column:ge,color:{type:"string",description:w.localize(82,null),format:"color-hex"}}}]},default:le,description:w.localize(83,null)})}validate(le){if(Array.isArray(le)){const ge=[];for(const _e of le)if(typeof _e=="number")ge.push({column:s.clampedInt(_e,0,0,1e4),color:null});else if(_e&&typeof _e=="object"){const Le=_e;ge.push({column:s.clampedInt(Le.column,0,0,1e4),color:Le.color})}return ge.sort((_e,Le)=>_e.column-Le.column),ge}return this.defaultValue}}function j(he,le){if(typeof he!="string")return le;switch(he){case"hidden":return 2;case"visible":return 3;default:return 1}}class se extends g{constructor(){const le={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(94,"scrollbar",le,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[w.localize(84,null),w.localize(85,null),w.localize(86,null)],default:"auto",description:w.localize(87,null)},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[w.localize(88,null),w.localize(89,null),w.localize(90,null)],default:"auto",description:w.localize(91,null)},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:le.verticalScrollbarSize,description:w.localize(92,null)},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:le.horizontalScrollbarSize,description:w.localize(93,null)},"editor.scrollbar.scrollByPage":{type:"boolean",default:le.scrollByPage,description:w.localize(94,null)}})}validate(le){if(!le||typeof le!="object")return this.defaultValue;const ge=le,_e=s.clampedInt(ge.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),Le=s.clampedInt(ge.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:s.clampedInt(ge.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:j(ge.vertical,this.defaultValue.vertical),horizontal:j(ge.horizontal,this.defaultValue.horizontal),useShadows:l(ge.useShadows,this.defaultValue.useShadows),verticalHasArrows:l(ge.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:l(ge.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:l(ge.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:l(ge.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:_e,horizontalSliderSize:s.clampedInt(ge.horizontalSliderSize,_e,0,1e3),verticalScrollbarSize:Le,verticalSliderSize:s.clampedInt(ge.verticalSliderSize,Le,0,1e3),scrollByPage:l(ge.scrollByPage,this.defaultValue.scrollByPage)}}}e.inUntrustedWorkspace="inUntrustedWorkspace",e.unicodeHighlightConfigKeys={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class z extends g{constructor(){const le={nonBasicASCII:e.inUntrustedWorkspace,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:e.inUntrustedWorkspace,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(115,"unicodeHighlight",le,{[e.unicodeHighlightConfigKeys.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:le.nonBasicASCII,description:w.localize(95,null)},[e.unicodeHighlightConfigKeys.invisibleCharacters]:{restricted:!0,type:"boolean",default:le.invisibleCharacters,description:w.localize(96,null)},[e.unicodeHighlightConfigKeys.ambiguousCharacters]:{restricted:!0,type:"boolean",default:le.ambiguousCharacters,description:w.localize(97,null)},[e.unicodeHighlightConfigKeys.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:le.includeComments,description:w.localize(98,null)},[e.unicodeHighlightConfigKeys.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:le.includeStrings,description:w.localize(99,null)},[e.unicodeHighlightConfigKeys.allowedCharacters]:{restricted:!0,type:"object",default:le.allowedCharacters,description:w.localize(100,null),additionalProperties:{type:"boolean"}},[e.unicodeHighlightConfigKeys.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:le.allowedLocales,description:w.localize(101,null)}})}applyUpdate(le,ge){let _e=!1;ge.allowedCharacters&&le&&(L.equals(le.allowedCharacters,ge.allowedCharacters)||(le=Object.assign(Object.assign({},le),{allowedCharacters:ge.allowedCharacters}),_e=!0)),ge.allowedLocales&&le&&(L.equals(le.allowedLocales,ge.allowedLocales)||(le=Object.assign(Object.assign({},le),{allowedLocales:ge.allowedLocales}),_e=!0));const Le=super.applyUpdate(le,ge);return _e?new n(Le.newValue,!0):Le}validate(le){if(!le||typeof le!="object")return this.defaultValue;const ge=le;return{nonBasicASCII:K(ge.nonBasicASCII,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),invisibleCharacters:l(ge.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:l(ge.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:K(ge.includeComments,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),includeStrings:K(ge.includeStrings,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),allowedCharacters:this.validateBooleanMap(le.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(le.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(le,ge){if(typeof le!="object"||!le)return ge;const _e={};for(const[Le,Ie]of Object.entries(le))Ie===!0&&(_e[Le]=!0);return _e}}class X extends g{constructor(){const le={enabled:!0,mode:"subwordSmart"};super(57,"inlineSuggest",le,{"editor.inlineSuggest.enabled":{type:"boolean",default:le.enabled,description:w.localize(102,null)}})}validate(le){if(!le||typeof le!="object")return this.defaultValue;const ge=le;return{enabled:l(ge.enabled,this.defaultValue.enabled),mode:f(ge.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}class G extends g{constructor(){const le={enabled:b.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:b.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(12,"bracketPairColorization",le,{"editor.bracketPairColorization.enabled":{type:"boolean",default:le.enabled,markdownDescription:w.localize(103,null,"`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:le.independentColorPoolPerBracketType,description:w.localize(104,null)}})}validate(le){if(!le||typeof le!="object")return this.defaultValue;const ge=le;return{enabled:l(ge.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:l(ge.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class U extends g{constructor(){const le={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",le,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[w.localize(105,null),w.localize(106,null),w.localize(107,null)],default:le.bracketPairs,description:w.localize(108,null)},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[w.localize(109,null),w.localize(110,null),w.localize(111,null)],default:le.bracketPairsHorizontal,description:w.localize(112,null)},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:le.highlightActiveBracketPair,description:w.localize(113,null)},"editor.guides.indentation":{type:"boolean",default:le.indentation,description:w.localize(114,null)},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[w.localize(115,null),w.localize(116,null),w.localize(117,null)],default:le.highlightActiveIndentation,description:w.localize(118,null)}})}validate(le){if(!le||typeof le!="object")return this.defaultValue;const ge=le;return{bracketPairs:K(ge.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:K(ge.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:l(ge.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:l(ge.indentation,this.defaultValue.indentation),highlightActiveIndentation:K(ge.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function K(he,le,ge){const _e=ge.indexOf(he);return _e===-1?le:ge[_e]}class ce extends g{constructor(){const le={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(108,"suggest",le,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[w.localize(119,null),w.localize(120,null)],default:le.insertMode,description:w.localize(121,null)},"editor.suggest.filterGraceful":{type:"boolean",default:le.filterGraceful,description:w.localize(122,null)},"editor.suggest.localityBonus":{type:"boolean",default:le.localityBonus,description:w.localize(123,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:le.shareSuggestSelections,markdownDescription:w.localize(124,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:le.snippetsPreventQuickSuggestions,description:w.localize(125,null)},"editor.suggest.showIcons":{type:"boolean",default:le.showIcons,description:w.localize(126,null)},"editor.suggest.showStatusBar":{type:"boolean",default:le.showStatusBar,description:w.localize(127,null)},"editor.suggest.preview":{type:"boolean",default:le.preview,description:w.localize(128,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:le.showInlineDetails,description:w.localize(129,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:w.localize(130,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:w.localize(131,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:w.localize(132,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:w.localize(133,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:w.localize(134,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:w.localize(135,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:w.localize(136,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:w.localize(137,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:w.localize(138,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:w.localize(139,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:w.localize(140,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:w.localize(141,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:w.localize(142,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:w.localize(143,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:w.localize(144,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:w.localize(145,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:w.localize(146,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:w.localize(147,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:w.localize(148,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:w.localize(149,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:w.localize(150,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:w.localize(151,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:w.localize(152,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:w.localize(153,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:w.localize(154,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:w.localize(155,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:w.localize(156,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:w.localize(157,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:w.localize(158,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:w.localize(159,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:w.localize(160,null)}})}validate(le){if(!le||typeof le!="object")return this.defaultValue;const ge=le;return{insertMode:f(ge.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:l(ge.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:l(ge.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:l(ge.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:l(ge.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:l(ge.showIcons,this.defaultValue.showIcons),showStatusBar:l(ge.showStatusBar,this.defaultValue.showStatusBar),preview:l(ge.preview,this.defaultValue.preview),previewMode:f(ge.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:l(ge.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:l(ge.showMethods,this.defaultValue.showMethods),showFunctions:l(ge.showFunctions,this.defaultValue.showFunctions),showConstructors:l(ge.showConstructors,this.defaultValue.showConstructors),showDeprecated:l(ge.showDeprecated,this.defaultValue.showDeprecated),showFields:l(ge.showFields,this.defaultValue.showFields),showVariables:l(ge.showVariables,this.defaultValue.showVariables),showClasses:l(ge.showClasses,this.defaultValue.showClasses),showStructs:l(ge.showStructs,this.defaultValue.showStructs),showInterfaces:l(ge.showInterfaces,this.defaultValue.showInterfaces),showModules:l(ge.showModules,this.defaultValue.showModules),showProperties:l(ge.showProperties,this.defaultValue.showProperties),showEvents:l(ge.showEvents,this.defaultValue.showEvents),showOperators:l(ge.showOperators,this.defaultValue.showOperators),showUnits:l(ge.showUnits,this.defaultValue.showUnits),showValues:l(ge.showValues,this.defaultValue.showValues),showConstants:l(ge.showConstants,this.defaultValue.showConstants),showEnums:l(ge.showEnums,this.defaultValue.showEnums),showEnumMembers:l(ge.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:l(ge.showKeywords,this.defaultValue.showKeywords),showWords:l(ge.showWords,this.defaultValue.showWords),showColors:l(ge.showColors,this.defaultValue.showColors),showFiles:l(ge.showFiles,this.defaultValue.showFiles),showReferences:l(ge.showReferences,this.defaultValue.showReferences),showFolders:l(ge.showFolders,this.defaultValue.showFolders),showTypeParameters:l(ge.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:l(ge.showSnippets,this.defaultValue.showSnippets),showUsers:l(ge.showUsers,this.defaultValue.showUsers),showIssues:l(ge.showIssues,this.defaultValue.showIssues)}}}class ee extends g{constructor(){super(104,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:w.localize(161,null),default:!0,type:"boolean"}})}validate(le){return!le||typeof le!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:l(le.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class ue extends t{constructor(){super(132)}compute(le,ge,_e){return ge.get(83)?!0:le.tabFocusMode}}function fe(he){switch(he){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class Ce extends t{constructor(){super(134)}compute(le,ge,_e){const Le=ge.get(133);return{isDominatedByLongLines:le.isDominatedByLongLines,isWordWrapMinified:Le.isWordWrapMinified,isViewportWrapping:Le.isViewportWrapping,wrappingColumn:Le.wrappingColumn}}}class we extends g{constructor(){const le={enabled:!0};super(32,"dropIntoEditor",le,{"editor.dropIntoEditor.enabled":{type:"boolean",default:le.enabled,markdownDescription:w.localize(162,null)}})}validate(le){return!le||typeof le!="object"?this.defaultValue:{enabled:l(le.enabled,this.defaultValue.enabled)}}}const ye="Consolas, 'Courier New', monospace",De="Menlo, Monaco, 'Courier New', monospace",Me="'Droid Sans Mono', 'monospace', monospace";e.EDITOR_FONT_DEFAULTS={fontFamily:C.isMacintosh?De:C.isLinux?Me:ye,fontWeight:"normal",fontSize:C.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.editorOptionsRegistry=[];function pe(he){return e.editorOptionsRegistry[he.id]=he,he}e.EditorOptions={acceptSuggestionOnCommitCharacter:pe(new d(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:w.localize(163,null)})),acceptSuggestionOnEnter:pe(new p(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",w.localize(164,null),""],markdownDescription:w.localize(165,null)})),accessibilitySupport:pe(new h),accessibilityPageSize:pe(new s(3,"accessibilityPageSize",10,1,1073741824,{description:w.localize(166,null)})),ariaLabel:pe(new c(4,"ariaLabel",w.localize(167,null))),autoClosingBrackets:pe(new p(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",w.localize(168,null),w.localize(169,null),""],description:w.localize(170,null)})),autoClosingDelete:pe(new p(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",w.localize(171,null),""],description:w.localize(172,null)})),autoClosingOvertype:pe(new p(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",w.localize(173,null),""],description:w.localize(174,null)})),autoClosingQuotes:pe(new p(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",w.localize(175,null),w.localize(176,null),""],description:w.localize(177,null)})),autoIndent:pe(new _(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],m,{enumDescriptions:[w.localize(178,null),w.localize(179,null),w.localize(180,null),w.localize(181,null),w.localize(182,null)],description:w.localize(183,null)})),automaticLayout:pe(new d(10,"automaticLayout",!1)),autoSurround:pe(new p(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[w.localize(184,null),w.localize(185,null),w.localize(186,null),""],description:w.localize(187,null)})),bracketPairColorization:pe(new G),bracketPairGuides:pe(new U),stickyTabStops:pe(new d(106,"stickyTabStops",!1,{description:w.localize(188,null)})),codeLens:pe(new d(14,"codeLens",!0,{description:w.localize(189,null)})),codeLensFontFamily:pe(new c(15,"codeLensFontFamily","",{description:w.localize(190,null)})),codeLensFontSize:pe(new s(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:w.localize(191,null)})),colorDecorators:pe(new d(17,"colorDecorators",!0,{description:w.localize(192,null)})),columnSelection:pe(new d(18,"columnSelection",!1,{description:w.localize(193,null)})),comments:pe(new S),contextmenu:pe(new d(20,"contextmenu",!0)),copyWithSyntaxHighlighting:pe(new d(21,"copyWithSyntaxHighlighting",!0,{description:w.localize(194,null)})),cursorBlinking:pe(new _(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],y,{description:w.localize(195,null)})),cursorSmoothCaretAnimation:pe(new d(23,"cursorSmoothCaretAnimation",!1,{description:w.localize(196,null)})),cursorStyle:pe(new _(24,"cursorStyle",E.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],N,{description:w.localize(197,null)})),cursorSurroundingLines:pe(new s(25,"cursorSurroundingLines",0,0,1073741824,{description:w.localize(198,null)})),cursorSurroundingLinesStyle:pe(new p(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[w.localize(199,null),w.localize(200,null)],description:w.localize(201,null)})),cursorWidth:pe(new s(27,"cursorWidth",0,0,1073741824,{markdownDescription:w.localize(202,null)})),disableLayerHinting:pe(new d(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:pe(new d(29,"disableMonospaceOptimizations",!1)),domReadOnly:pe(new d(30,"domReadOnly",!1)),dragAndDrop:pe(new d(31,"dragAndDrop",!0,{description:w.localize(203,null)})),emptySelectionClipboard:pe(new R),dropIntoEditor:pe(new we),experimental:pe(new Q),extraEditorClassName:pe(new c(35,"extraEditorClassName","")),fastScrollSensitivity:pe(new o(36,"fastScrollSensitivity",5,he=>he<=0?5:he,{markdownDescription:w.localize(204,null)})),find:pe(new F),fixedOverflowWidgets:pe(new d(38,"fixedOverflowWidgets",!1)),folding:pe(new d(39,"folding",!0,{description:w.localize(205,null)})),foldingStrategy:pe(new p(40,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[w.localize(206,null),w.localize(207,null)],description:w.localize(208,null)})),foldingHighlight:pe(new d(41,"foldingHighlight",!0,{description:w.localize(209,null)})),foldingImportsByDefault:pe(new d(42,"foldingImportsByDefault",!1,{description:w.localize(210,null)})),foldingMaximumRegions:pe(new s(43,"foldingMaximumRegions",5e3,10,65e3,{description:w.localize(211,null)})),unfoldOnClickAfterEndOfLine:pe(new d(44,"unfoldOnClickAfterEndOfLine",!1,{description:w.localize(212,null)})),fontFamily:pe(new c(45,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:w.localize(213,null)})),fontInfo:pe(new D),fontLigatures2:pe(new O),fontSize:pe(new M),fontWeight:pe(new P),formatOnPaste:pe(new d(50,"formatOnPaste",!1,{description:w.localize(214,null)})),formatOnType:pe(new d(51,"formatOnType",!1,{description:w.localize(215,null)})),glyphMargin:pe(new d(52,"glyphMargin",!0,{description:w.localize(216,null)})),gotoLocation:pe(new B),hideCursorInOverviewRuler:pe(new d(54,"hideCursorInOverviewRuler",!1,{description:w.localize(217,null)})),hover:pe(new W),inDiffEditor:pe(new d(56,"inDiffEditor",!1)),letterSpacing:pe(new o(58,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,he=>o.clamp(he,-5,20),{description:w.localize(218,null)})),lightbulb:pe(new A),lineDecorationsWidth:pe(new r(60,"lineDecorationsWidth",10)),lineHeight:pe(new H),lineNumbers:pe(new x),lineNumbersMinChars:pe(new s(63,"lineNumbersMinChars",5,1,300)),linkedEditing:pe(new d(64,"linkedEditing",!1,{description:w.localize(219,null)})),links:pe(new d(65,"links",!0,{description:w.localize(220,null)})),matchBrackets:pe(new p(66,"matchBrackets","always",["always","near","never"],{description:w.localize(221,null)})),minimap:pe(new q),mouseStyle:pe(new p(68,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:pe(new o(69,"mouseWheelScrollSensitivity",1,he=>he===0?1:he,{markdownDescription:w.localize(222,null)})),mouseWheelZoom:pe(new d(70,"mouseWheelZoom",!1,{markdownDescription:w.localize(223,null)})),multiCursorMergeOverlapping:pe(new d(71,"multiCursorMergeOverlapping",!0,{description:w.localize(224,null)})),multiCursorModifier:pe(new _(72,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],Z,{markdownEnumDescriptions:[w.localize(225,null),w.localize(226,null)],markdownDescription:w.localize(227,null)})),multiCursorPaste:pe(new p(73,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[w.localize(228,null),w.localize(229,null)],markdownDescription:w.localize(230,null)})),occurrencesHighlight:pe(new d(74,"occurrencesHighlight",!0,{description:w.localize(231,null)})),overviewRulerBorder:pe(new d(75,"overviewRulerBorder",!0,{description:w.localize(232,null)})),overviewRulerLanes:pe(new s(76,"overviewRulerLanes",3,0,3)),padding:pe(new ie),parameterHints:pe(new Y),peekWidgetDefaultFocus:pe(new p(79,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[w.localize(233,null),w.localize(234,null)],description:w.localize(235,null)})),definitionLinkOpensInPeek:pe(new d(80,"definitionLinkOpensInPeek",!1,{description:w.localize(236,null)})),quickSuggestions:pe(new de),quickSuggestionsDelay:pe(new s(82,"quickSuggestionsDelay",10,0,1073741824,{description:w.localize(237,null)})),readOnly:pe(new d(83,"readOnly",!1)),renameOnType:pe(new d(84,"renameOnType",!1,{description:w.localize(238,null),markdownDeprecationMessage:w.localize(239,null)})),renderControlCharacters:pe(new d(85,"renderControlCharacters",!0,{description:w.localize(240,null),restricted:!0})),renderFinalNewline:pe(new d(86,"renderFinalNewline",!0,{description:w.localize(241,null)})),renderLineHighlight:pe(new p(87,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",w.localize(242,null)],description:w.localize(243,null)})),renderLineHighlightOnlyWhenFocus:pe(new d(88,"renderLineHighlightOnlyWhenFocus",!1,{description:w.localize(244,null)})),renderValidationDecorations:pe(new p(89,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:pe(new p(90,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",w.localize(245,null),w.localize(246,null),w.localize(247,null),""],description:w.localize(248,null)})),revealHorizontalRightPadding:pe(new s(91,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:pe(new d(92,"roundedSelection",!0,{description:w.localize(249,null)})),rulers:pe(new ne),scrollbar:pe(new se),scrollBeyondLastColumn:pe(new s(95,"scrollBeyondLastColumn",4,0,1073741824,{description:w.localize(250,null)})),scrollBeyondLastLine:pe(new d(96,"scrollBeyondLastLine",!0,{description:w.localize(251,null)})),scrollPredominantAxis:pe(new d(97,"scrollPredominantAxis",!0,{description:w.localize(252,null)})),selectionClipboard:pe(new d(98,"selectionClipboard",!0,{description:w.localize(253,null),included:C.isLinux})),selectionHighlight:pe(new d(99,"selectionHighlight",!0,{description:w.localize(254,null)})),selectOnLineNumbers:pe(new d(100,"selectOnLineNumbers",!0)),showFoldingControls:pe(new p(101,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[w.localize(255,null),w.localize(256,null),w.localize(257,null)],description:w.localize(258,null)})),showUnused:pe(new d(102,"showUnused",!0,{description:w.localize(259,null)})),showDeprecated:pe(new d(128,"showDeprecated",!0,{description:w.localize(260,null)})),inlayHints:pe(new J),snippetSuggestions:pe(new p(103,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[w.localize(261,null),w.localize(262,null),w.localize(263,null),w.localize(264,null)],description:w.localize(265,null)})),smartSelect:pe(new ee),smoothScrolling:pe(new d(105,"smoothScrolling",!1,{description:w.localize(266,null)})),stopRenderingLineAfter:pe(new s(107,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:pe(new ce),inlineSuggest:pe(new X),suggestFontSize:pe(new s(109,"suggestFontSize",0,0,1e3,{markdownDescription:w.localize(267,null,"`0`","`#editor.fontSize#`")})),suggestLineHeight:pe(new s(110,"suggestLineHeight",0,0,1e3,{markdownDescription:w.localize(268,null,"`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:pe(new d(111,"suggestOnTriggerCharacters",!0,{description:w.localize(269,null)})),suggestSelection:pe(new p(112,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[w.localize(270,null),w.localize(271,null),w.localize(272,null)],description:w.localize(273,null)})),tabCompletion:pe(new p(113,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[w.localize(274,null),w.localize(275,null),w.localize(276,null)],description:w.localize(277,null)})),tabIndex:pe(new s(114,"tabIndex",0,-1,1073741824)),unicodeHighlight:pe(new z),unusualLineTerminators:pe(new p(116,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[w.localize(278,null),w.localize(279,null),w.localize(280,null)],description:w.localize(281,null)})),useShadowDOM:pe(new d(117,"useShadowDOM",!0)),useTabStops:pe(new d(118,"useTabStops",!0,{description:w.localize(282,null)})),wordSeparators:pe(new c(119,"wordSeparators",k.USUAL_WORD_SEPARATORS,{description:w.localize(283,null)})),wordWrap:pe(new p(120,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[w.localize(284,null),w.localize(285,null),w.localize(286,null),w.localize(287,null)],description:w.localize(288,null)})),wordWrapBreakAfterCharacters:pe(new c(121,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:pe(new c(122,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:pe(new s(123,"wordWrapColumn",80,1,1073741824,{markdownDescription:w.localize(289,null)})),wordWrapOverride1:pe(new p(124,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:pe(new p(125,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:pe(new _(126,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],fe,{enumDescriptions:[w.localize(290,null),w.localize(291,null),w.localize(292,null),w.localize(293,null)],description:w.localize(294,null)})),wrappingStrategy:pe(new p(127,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[w.localize(295,null),w.localize(296,null)],description:w.localize(297,null)})),editorClassName:pe(new T),pixelRatio:pe(new te),tabFocusMode:pe(new ue),layoutInfo:pe(new V),wrappingInfo:pe(new Ce)}}),define(re[532],ae([1,0,7,33,8,65,36,11,3,150]),function($,e,w,C,k,I,L,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=void 0;class g{constructor(t,r,l,d,a,s){this.top=t,this.left=r,this.width=l,this.height=d,this.textContent=a,this.textContentClassName=s}}class n{constructor(t){this._context=t;const r=this._context.configuration.options,l=r.get(46);this._cursorStyle=r.get(24),this._lineHeight=r.get(61),this._typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(r.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,C.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(`cursor ${u.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,I.applyFontInfo)(this._domNode,l),this._domNode.setDisplay("none"),this._position=new b.Position(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(t){const r=this._context.configuration.options,l=r.get(46);return this._cursorStyle=r.get(24),this._lineHeight=r.get(61),this._typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(r.get(27),this._typicalHalfwidthCharacterWidth),(0,I.applyFontInfo)(this._domNode,l),!0}onCursorPositionChanged(t){return this._position=t,!0}_getGraphemeAwarePosition(){const{lineNumber:t,column:r}=this._position,l=this._context.viewModel.getLineContent(t),[d,a]=k.getCharContainingOffset(l,r-1);return[new b.Position(t,d+1),l.substring(d,a)]}_prepareRender(t){let r="";const[l,d]=this._getGraphemeAwarePosition();if(this._cursorStyle===L.TextEditorCursorStyle.Line||this._cursorStyle===L.TextEditorCursorStyle.LineThin){const m=t.visibleRangeForPosition(l);if(!m||m.outsideRenderedLine)return null;let h;this._cursorStyle===L.TextEditorCursorStyle.Line?(h=w.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2),h>2&&(r=d)):h=w.computeScreenAwareSize(1);let S=m.left;h>=2&&S>=1&&(S-=1);const y=t.getVerticalOffsetForLineNumber(l.lineNumber)-t.bigNumbersDelta;return new g(y,S,h,this._lineHeight,r,"")}const a=t.linesVisibleRangesForRange(new v.Range(l.lineNumber,l.column,l.lineNumber,l.column+d.length),!1);if(!a||a.length===0)return null;const s=a[0];if(s.outsideRenderedLine||s.ranges.length===0)return null;const o=s.ranges[0],c=d==="	"?this._typicalHalfwidthCharacterWidth:o.width<1?this._typicalHalfwidthCharacterWidth:o.width;let f="";if(this._cursorStyle===L.TextEditorCursorStyle.Block){const m=this._context.viewModel.getViewLineData(l.lineNumber);r=d;const h=m.tokens.findTokenIndexAtOffset(l.column-1);f=m.tokens.getClassName(h)}let p=t.getVerticalOffsetForLineNumber(l.lineNumber)-t.bigNumbersDelta,_=this._lineHeight;return(this._cursorStyle===L.TextEditorCursorStyle.Underline||this._cursorStyle===L.TextEditorCursorStyle.UnderlineThin)&&(p+=this._lineHeight-2,_=2),new g(p,o.left,c,_,r,f)}prepareRender(t){this._renderData=this._prepareRender(t)}render(t){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${u.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=n}),define(re[207],ae([1,0,17,36,164]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const I=w.isMacintosh?1.5:1.35,L=8;class b{constructor(g){this._bareFontInfoBrand=void 0,this.pixelRatio=g.pixelRatio,this.fontFamily=String(g.fontFamily),this.fontWeight=String(g.fontWeight),this.fontSize=g.fontSize,this.fontFeatureSettings=g.fontFeatureSettings,this.lineHeight=g.lineHeight|0,this.letterSpacing=g.letterSpacing}static createFromValidatedSettings(g,n,i){const t=g.get(45),r=g.get(49),l=g.get(48),d=g.get(47),a=g.get(61),s=g.get(58);return b._create(t,r,l,d,a,s,n,i)}static _create(g,n,i,t,r,l,d,a){r===0?r=I*i:r<L&&(r=r*i),r=Math.round(r),r<L&&(r=L);const s=1+(a?0:k.EditorZoom.getZoomLevel()*.1);return i*=s,r*=s,new b({pixelRatio:d,fontFamily:g,fontWeight:n,fontSize:i,fontFeatureSettings:t,lineHeight:r,letterSpacing:l})}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const g=C.EDITOR_FONT_DEFAULTS.fontFamily,n=b._wrapInQuotes(this.fontFamily);return g&&this.fontFamily!==g?`${n}, ${g}`:n}static _wrapInQuotes(g){return/[,"']/.test(g)?g:/[+ ]/.test(g)?`"${g}"`:g}}e.BareFontInfo=b,e.SERIALIZED_FONT_INFO_VERSION=1;class v extends b{constructor(g,n){super(g);this._editorStylingBrand=void 0,this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=n,this.isMonospace=g.isMonospace,this.typicalHalfwidthCharacterWidth=g.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=g.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=g.canUseHalfwidthRightwardsArrow,this.spaceWidth=g.spaceWidth,this.middotWidth=g.middotWidth,this.wsmiddotWidth=g.wsmiddotWidth,this.maxDigitWidth=g.maxDigitWidth}equals(g){return this.fontFamily===g.fontFamily&&this.fontWeight===g.fontWeight&&this.fontSize===g.fontSize&&this.fontFeatureSettings===g.fontFeatureSettings&&this.lineHeight===g.lineHeight&&this.letterSpacing===g.letterSpacing&&this.typicalHalfwidthCharacterWidth===g.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===g.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===g.canUseHalfwidthRightwardsArrow&&this.spaceWidth===g.spaceWidth&&this.middotWidth===g.middotWidth&&this.wsmiddotWidth===g.wsmiddotWidth&&this.maxDigitWidth===g.maxDigitWidth}}e.FontInfo=v}),define(re[277],ae([1,0,41,6,2,400,36,207]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontMeasurements=void 0;class v extends k.Disposable{constructor(){super();this._onDidChange=this._register(new C.Emitter),this.onDidChange=this._onDidChange.event,this._cache=new u,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new u,this._onDidChange.fire()}_writeToCache(n,i){this._cache.put(n,i),!i.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const n=this._cache.getValues();let i=!1;for(const t of n)t.isTrusted||(i=!0,this._cache.remove(t));i&&this._onDidChange.fire()}readFontInfo(n){if(!this._cache.has(n)){let i=this._actualReadFontInfo(n);(i.typicalHalfwidthCharacterWidth<=2||i.typicalFullwidthCharacterWidth<=2||i.spaceWidth<=2||i.maxDigitWidth<=2)&&(i=new b.FontInfo({pixelRatio:w.PixelRatio.value,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFeatureSettings:i.fontFeatureSettings,lineHeight:i.lineHeight,letterSpacing:i.letterSpacing,isMonospace:i.isMonospace,typicalHalfwidthCharacterWidth:Math.max(i.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(i.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:i.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(i.spaceWidth,5),middotWidth:Math.max(i.middotWidth,5),wsmiddotWidth:Math.max(i.wsmiddotWidth,5),maxDigitWidth:Math.max(i.maxDigitWidth,5)},!1)),this._writeToCache(n,i)}return this._cache.get(n)}_createRequest(n,i,t,r){const l=new I.CharWidthRequest(n,i);return t.push(l),r==null||r.push(l),l}_actualReadFontInfo(n){const i=[],t=[],r=this._createRequest("n",0,i,t),l=this._createRequest("\uFF4D",0,i,null),d=this._createRequest(" ",0,i,t),a=this._createRequest("0",0,i,t),s=this._createRequest("1",0,i,t),o=this._createRequest("2",0,i,t),c=this._createRequest("3",0,i,t),f=this._createRequest("4",0,i,t),p=this._createRequest("5",0,i,t),_=this._createRequest("6",0,i,t),m=this._createRequest("7",0,i,t),h=this._createRequest("8",0,i,t),S=this._createRequest("9",0,i,t),y=this._createRequest("\u2192",0,i,t),E=this._createRequest("\uFFEB",0,i,null),N=this._createRequest("\xB7",0,i,t),T=this._createRequest(String.fromCharCode(11825),0,i,null),R="|/-_ilm%";for(let P=0,B=R.length;P<B;P++)this._createRequest(R.charAt(P),0,i,t),this._createRequest(R.charAt(P),1,i,t),this._createRequest(R.charAt(P),2,i,t);(0,I.readCharWidths)(n,i);const F=Math.max(a.width,s.width,o.width,c.width,f.width,p.width,_.width,m.width,h.width,S.width);let O=n.fontFeatureSettings===L.EditorFontLigatures.OFF;const D=t[0].width;for(let P=1,B=t.length;O&&P<B;P++){const W=D-t[P].width;if(W<-.001||W>.001){O=!1;break}}let M=!0;return O&&E.width!==D&&(M=!1),E.width>y.width&&(M=!1),new b.FontInfo({pixelRatio:w.PixelRatio.value,fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFeatureSettings:n.fontFeatureSettings,lineHeight:n.lineHeight,letterSpacing:n.letterSpacing,isMonospace:O,typicalHalfwidthCharacterWidth:r.width,typicalFullwidthCharacterWidth:l.width,canUseHalfwidthRightwardsArrow:M,spaceWidth:d.width,middotWidth:N.width,wsmiddotWidth:T.width,maxDigitWidth:F},!0)}}class u{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(n){const i=n.getId();return!!this._values[i]}get(n){const i=n.getId();return this._values[i]}put(n,i){const t=n.getId();this._keys[t]=n,this._values[t]=i}remove(n){const i=n.getId();delete this._keys[i],delete this._values[i]}getValues(){return Object.keys(this._keys).map(n=>this._values[n])}}e.FontMeasurements=new v}),define(re[278],ae([1,0,11,3,74,36]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isModelDecorationInString=e.isModelDecorationInComment=e.isModelDecorationVisible=e.ViewModelDecorations=void 0;class L{constructor(i,t,r,l,d){this.editorId=i,this.model=t,this.configuration=r,this._linesCollection=l,this._coordinatesConverter=d,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(i){const t=i.id;let r=this._decorationsCache[t];if(!r){const l=i.range,d=i.options;let a;if(d.isWholeLine){const s=this._coordinatesConverter.convertModelPositionToViewPosition(new w.Position(l.startLineNumber,1),0),o=this._coordinatesConverter.convertModelPositionToViewPosition(new w.Position(l.endLineNumber,this.model.getLineMaxColumn(l.endLineNumber)),1);a=new C.Range(s.lineNumber,s.column,o.lineNumber,o.column)}else a=this._coordinatesConverter.convertModelRangeToViewRange(l,1);r=new k.ViewModelDecoration(a,d),this._decorationsCache[t]=r}return r}getDecorationsViewportData(i){let t=this._cachedModelDecorationsResolver!==null;return t=t&&i.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(i),this._cachedModelDecorationsResolverViewRange=i),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(i){const t=new C.Range(i,this._linesCollection.getViewLineMinColumn(i),i,this._linesCollection.getViewLineMaxColumn(i));return this._getDecorationsInRange(t).inlineDecorations[0]}_getDecorationsInRange(i){const t=this._linesCollection.getDecorationsInRange(i,this.editorId,(0,I.filterValidationDecorations)(this.configuration.options)),r=i.startLineNumber,l=i.endLineNumber,d=[];let a=0;const s=[];for(let o=r;o<=l;o++)s[o-r]=[];for(let o=0,c=t.length;o<c;o++){const f=t[o],p=f.options;if(!b(this.model,f))continue;const _=this._getOrCreateViewModelDecoration(f),m=_.range;if(d[a++]=_,p.inlineClassName){const h=new k.InlineDecoration(m,p.inlineClassName,p.inlineClassNameAffectsLetterSpacing?3:0),S=Math.max(r,m.startLineNumber),y=Math.min(l,m.endLineNumber);for(let E=S;E<=y;E++)s[E-r].push(h)}if(p.beforeContentClassName&&r<=m.startLineNumber&&m.startLineNumber<=l){const h=new k.InlineDecoration(new C.Range(m.startLineNumber,m.startColumn,m.startLineNumber,m.startColumn),p.beforeContentClassName,1);s[m.startLineNumber-r].push(h)}if(p.afterContentClassName&&r<=m.endLineNumber&&m.endLineNumber<=l){const h=new k.InlineDecoration(new C.Range(m.endLineNumber,m.endColumn,m.endLineNumber,m.endColumn),p.afterContentClassName,2);s[m.endLineNumber-r].push(h)}}return{decorations:d,inlineDecorations:s}}}e.ViewModelDecorations=L;function b(n,i){return!(i.options.hideInCommentTokens&&v(n,i)||i.options.hideInStringTokens&&u(n,i))}e.isModelDecorationVisible=b;function v(n,i){return g(n,i.range,t=>t===1)}e.isModelDecorationInComment=v;function u(n,i){return g(n,i.range,t=>t===2)}e.isModelDecorationInString=u;function g(n,i,t){for(let r=i.startLineNumber;r<=i.endLineNumber;r++){const l=n.tokenization.getLineTokens(r),d=r===i.startLineNumber,a=r===i.endLineNumber;let s=d?l.findTokenIndexAtOffset(i.startColumn-1):0;for(;s<l.getCount()&&!(a&&l.getStartOffset(s)>i.endColumn-1);){if(!t(l.getStandardTokenType(s)))return!1;s++}}return!0}}),define(re[533],ae([4,5]),function($,e){return $.create("vs/editor/common/core/editorColorRegistry",e)}),define(re[534],ae([4,5]),function($,e){return $.create("vs/editor/common/editorContextKeys",e)}),define(re[535],ae([4,5]),function($,e){return $.create("vs/editor/common/languages/modesRegistry",e)}),define(re[536],ae([4,5]),function($,e){return $.create("vs/editor/common/model/editStack",e)}),define(re[279],ae([1,0,536,14,23,22,270,122,44]),function($,e,w,C,k,I,L,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.isEditStackElement=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0;function u(d){return d.toString()}class g{constructor(a,s,o,c,f,p,_){this.beforeVersionId=a,this.afterVersionId=s,this.beforeEOL=o,this.afterEOL=c,this.beforeCursorState=f,this.afterCursorState=p,this.changes=_}static create(a,s){const o=a.getAlternativeVersionId(),c=t(a);return new g(o,o,c,c,s,s,[])}append(a,s,o,c,f){s.length>0&&(this.changes=(0,L.compressConsecutiveTextChanges)(this.changes,s)),this.afterEOL=o,this.afterVersionId=c,this.afterCursorState=f}static _writeSelectionsSize(a){return 4+4*4*(a?a.length:0)}static _writeSelections(a,s,o){if(b.writeUInt32BE(a,s?s.length:0,o),o+=4,s)for(const c of s)b.writeUInt32BE(a,c.selectionStartLineNumber,o),o+=4,b.writeUInt32BE(a,c.selectionStartColumn,o),o+=4,b.writeUInt32BE(a,c.positionLineNumber,o),o+=4,b.writeUInt32BE(a,c.positionColumn,o),o+=4;return o}static _readSelections(a,s,o){const c=b.readUInt32BE(a,s);s+=4;for(let f=0;f<c;f++){const p=b.readUInt32BE(a,s);s+=4;const _=b.readUInt32BE(a,s);s+=4;const m=b.readUInt32BE(a,s);s+=4;const h=b.readUInt32BE(a,s);s+=4,o.push(new k.Selection(p,_,m,h))}return s}serialize(){let a=4+4+1+1+g._writeSelectionsSize(this.beforeCursorState)+g._writeSelectionsSize(this.afterCursorState)+4;for(const c of this.changes)a+=c.writeSize();const s=new Uint8Array(a);let o=0;b.writeUInt32BE(s,this.beforeVersionId,o),o+=4,b.writeUInt32BE(s,this.afterVersionId,o),o+=4,b.writeUInt8(s,this.beforeEOL,o),o+=1,b.writeUInt8(s,this.afterEOL,o),o+=1,o=g._writeSelections(s,this.beforeCursorState,o),o=g._writeSelections(s,this.afterCursorState,o),b.writeUInt32BE(s,this.changes.length,o),o+=4;for(const c of this.changes)o=c.write(s,o);return s.buffer}static deserialize(a){const s=new Uint8Array(a);let o=0;const c=b.readUInt32BE(s,o);o+=4;const f=b.readUInt32BE(s,o);o+=4;const p=b.readUInt8(s,o);o+=1;const _=b.readUInt8(s,o);o+=1;const m=[];o=g._readSelections(s,o,m);const h=[];o=g._readSelections(s,o,h);const S=b.readUInt32BE(s,o);o+=4;const y=[];for(let E=0;E<S;E++)o=L.TextChange.read(s,o,y);return new g(c,f,p,_,m,h,y)}}e.SingleModelEditStackData=g;class n{constructor(a,s,o,c){this.label=a,this.code=s,this.model=o,this._data=g.create(o,c)}get type(){return 0}get resource(){return I.URI.isUri(this.model)?this.model:this.model.uri}toString(){return(this._data instanceof g?this._data:g.deserialize(this._data)).changes.map(s=>s.toString()).join(", ")}matchesResource(a){return(I.URI.isUri(this.model)?this.model:this.model.uri).toString()===a.toString()}setModel(a){this.model=a}canAppend(a){return this.model===a&&this._data instanceof g}append(a,s,o,c,f){this._data instanceof g&&this._data.append(a,s,o,c,f)}close(){this._data instanceof g&&(this._data=this._data.serialize())}open(){this._data instanceof g||(this._data=g.deserialize(this._data))}undo(){if(I.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof g&&(this._data=this._data.serialize());const a=g.deserialize(this._data);this.model._applyUndo(a.changes,a.beforeEOL,a.beforeVersionId,a.beforeCursorState)}redo(){if(I.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof g&&(this._data=this._data.serialize());const a=g.deserialize(this._data);this.model._applyRedo(a.changes,a.afterEOL,a.afterVersionId,a.afterCursorState)}heapSize(){return this._data instanceof g&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=n;class i{constructor(a,s,o){this.label=a,this.code=s,this.type=1,this._isOpen=!0,this._editStackElementsArr=o.slice(0),this._editStackElementsMap=new Map;for(const c of this._editStackElementsArr){const f=u(c.resource);this._editStackElementsMap.set(f,c)}this._delegate=null}get resources(){return this._editStackElementsArr.map(a=>a.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(a){const s=u(a);return this._editStackElementsMap.has(s)}setModel(a){const s=u(I.URI.isUri(a)?a:a.uri);this._editStackElementsMap.has(s)&&this._editStackElementsMap.get(s).setModel(a)}canAppend(a){if(!this._isOpen)return!1;const s=u(a.uri);return this._editStackElementsMap.has(s)?this._editStackElementsMap.get(s).canAppend(a):!1}append(a,s,o,c,f){const p=u(a.uri);this._editStackElementsMap.get(p).append(a,s,o,c,f)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const a of this._editStackElementsArr)a.undo()}redo(){for(const a of this._editStackElementsArr)a.redo()}heapSize(a){const s=u(a);return this._editStackElementsMap.has(s)?this._editStackElementsMap.get(s).heapSize():0}split(){return this._editStackElementsArr}toString(){const a=[];for(const s of this._editStackElementsArr)a.push(`${(0,v.basename)(s.resource)}: ${s}`);return`{${a.join(", ")}}`}}e.MultiModelEditStackElement=i;function t(d){return d.getEOL()===`
`?0:1}function r(d){return d?d instanceof n||d instanceof i:!1}e.isEditStackElement=r;class l{constructor(a,s){this._model=a,this._undoRedoService=s}pushStackElement(){const a=this._undoRedoService.getLastElement(this._model.uri);r(a)&&a.close()}popStackElement(){const a=this._undoRedoService.getLastElement(this._model.uri);r(a)&&a.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(a){const s=this._undoRedoService.getLastElement(this._model.uri);if(r(s)&&s.canAppend(this._model))return s;const o=new n(w.localize(0,null),"undoredo.textBufferEdit",this._model,a);return this._undoRedoService.pushElement(o),o}pushEOL(a){const s=this._getOrCreateEditStackElement(null);this._model.setEOL(a),s.append(this._model,[],t(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(a,s,o){const c=this._getOrCreateEditStackElement(a),f=this._model.applyEdits(s,!0),p=l._computeCursorState(o,f),_=f.map((m,h)=>({index:h,textChange:m.textChange}));return _.sort((m,h)=>m.textChange.oldPosition===h.textChange.oldPosition?m.index-h.index:m.textChange.oldPosition-h.textChange.oldPosition),c.append(this._model,_.map(m=>m.textChange),t(this._model),this._model.getAlternativeVersionId(),p),p}static _computeCursorState(a,s){try{return a?a(s):null}catch(o){return(0,C.onUnexpectedError)(o),null}}}e.EditStack=l}),define(re[537],ae([4,5]),function($,e){return $.create("vs/editor/common/standaloneStrings",e)}),define(re[76],ae([1,0,537]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=e.AccessibilityHelpNLS=void 0;var C;(function(i){i.noSelection=w.localize(0,null),i.singleSelectionRange=w.localize(1,null),i.singleSelection=w.localize(2,null),i.multiSelectionRange=w.localize(3,null),i.multiSelection=w.localize(4,null),i.emergencyConfOn=w.localize(5,null),i.openingDocs=w.localize(6,null),i.readonlyDiffEditor=w.localize(7,null),i.editableDiffEditor=w.localize(8,null),i.readonlyEditor=w.localize(9,null),i.editableEditor=w.localize(10,null),i.changeConfigToOnMac=w.localize(11,null),i.changeConfigToOnWinLinux=w.localize(12,null),i.auto_on=w.localize(13,null),i.auto_off=w.localize(14,null),i.tabFocusModeOnMsg=w.localize(15,null),i.tabFocusModeOnMsgNoKb=w.localize(16,null),i.tabFocusModeOffMsg=w.localize(17,null),i.tabFocusModeOffMsgNoKb=w.localize(18,null),i.openDocMac=w.localize(19,null),i.openDocWinLinux=w.localize(20,null),i.outroMsg=w.localize(21,null),i.showAccessibilityHelpAction=w.localize(22,null)})(C=e.AccessibilityHelpNLS||(e.AccessibilityHelpNLS={}));var k;(function(i){i.inspectTokensAction=w.localize(23,null)})(k=e.InspectTokensNLS||(e.InspectTokensNLS={}));var I;(function(i){i.gotoLineActionLabel=w.localize(24,null)})(I=e.GoToLineNLS||(e.GoToLineNLS={}));var L;(function(i){i.helpQuickAccessActionLabel=w.localize(25,null)})(L=e.QuickHelpNLS||(e.QuickHelpNLS={}));var b;(function(i){i.quickCommandActionLabel=w.localize(26,null),i.quickCommandHelp=w.localize(27,null)})(b=e.QuickCommandNLS||(e.QuickCommandNLS={}));var v;(function(i){i.quickOutlineActionLabel=w.localize(28,null),i.quickOutlineByCategoryActionLabel=w.localize(29,null)})(v=e.QuickOutlineNLS||(e.QuickOutlineNLS={}));var u;(function(i){i.editorViewAccessibleLabel=w.localize(30,null),i.accessibilityHelpMessage=w.localize(31,null)})(u=e.StandaloneCodeEditorNLS||(e.StandaloneCodeEditorNLS={}));var g;(function(i){i.toggleHighContrast=w.localize(32,null)})(g=e.ToggleHighContrastNLS||(e.ToggleHighContrastNLS={}));var n;(function(i){i.bulkEditServiceSummary=w.localize(33,null)})(n=e.StandaloneServicesNLS||(e.StandaloneServicesNLS={}))}),define(re[538],ae([4,5]),function($,e){return $.create("vs/editor/contrib/anchorSelect/browser/anchorSelect",e)}),define(re[539],ae([4,5]),function($,e){return $.create("vs/editor/contrib/bracketMatching/browser/bracketMatching",e)}),define(re[540],ae([4,5]),function($,e){return $.create("vs/editor/contrib/caretOperations/browser/caretOperations",e)}),define(re[541],ae([4,5]),function($,e){return $.create("vs/editor/contrib/caretOperations/browser/transpose",e)}),define(re[542],ae([4,5]),function($,e){return $.create("vs/editor/contrib/clipboard/browser/clipboard",e)}),define(re[543],ae([4,5]),function($,e){return $.create("vs/editor/contrib/codeAction/browser/codeActionCommands",e)}),define(re[544],ae([4,5]),function($,e){return $.create("vs/editor/contrib/codeAction/browser/codeActionMenu",e)}),define(re[545],ae([4,5]),function($,e){return $.create("vs/editor/contrib/codeAction/browser/codeActionWidgetContribution",e)}),define(re[546],ae([4,5]),function($,e){return $.create("vs/editor/contrib/codeAction/browser/lightBulbWidget",e)}),define(re[547],ae([4,5]),function($,e){return $.create("vs/editor/contrib/codelens/browser/codelensController",e)}),define(re[548],ae([4,5]),function($,e){return $.create("vs/editor/contrib/colorPicker/browser/colorPickerWidget",e)}),define(re[549],ae([4,5]),function($,e){return $.create("vs/editor/contrib/comment/browser/comment",e)}),define(re[550],ae([4,5]),function($,e){return $.create("vs/editor/contrib/contextmenu/browser/contextmenu",e)}),define(re[551],ae([4,5]),function($,e){return $.create("vs/editor/contrib/copyPaste/browser/copyPasteContribution",e)}),define(re[552],ae([4,5]),function($,e){return $.create("vs/editor/contrib/cursorUndo/browser/cursorUndo",e)}),define(re[553],ae([4,5]),function($,e){return $.create("vs/editor/contrib/dropIntoEditor/browser/dropIntoEditorContribution",e)}),define(re[554],ae([4,5]),function($,e){return $.create("vs/editor/contrib/editorState/browser/keybindingCancellation",e)}),define(re[555],ae([4,5]),function($,e){return $.create("vs/editor/contrib/find/browser/findController",e)}),define(re[556],ae([4,5]),function($,e){return $.create("vs/editor/contrib/find/browser/findWidget",e)}),define(re[557],ae([4,5]),function($,e){return $.create("vs/editor/contrib/folding/browser/folding",e)}),define(re[558],ae([4,5]),function($,e){return $.create("vs/editor/contrib/folding/browser/foldingDecorations",e)}),define(re[559],ae([4,5]),function($,e){return $.create("vs/editor/contrib/fontZoom/browser/fontZoom",e)}),define(re[560],ae([4,5]),function($,e){return $.create("vs/editor/contrib/format/browser/format",e)}),define(re[561],ae([4,5]),function($,e){return $.create("vs/editor/contrib/format/browser/formatActions",e)}),define(re[562],ae([4,5]),function($,e){return $.create("vs/editor/contrib/gotoError/browser/gotoError",e)}),define(re[563],ae([4,5]),function($,e){return $.create("vs/editor/contrib/gotoError/browser/gotoErrorWidget",e)}),define(re[564],ae([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/browser/goToCommands",e)}),define(re[565],ae([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition",e)}),define(re[566],ae([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesController",e)}),define(re[567],ae([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesTree",e)}),define(re[568],ae([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget",e)}),define(re[569],ae([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/browser/referencesModel",e)}),define(re[137],ae([1,0,14,6,144,2,51,44,8,3,569]),function($,e,w,C,k,I,L,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class n{constructor(d,a,s,o){this.isProviderFirst=d,this.parent=a,this.link=s,this._rangeCallback=o,this.id=k.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var d,a;return(a=(d=this._range)!==null&&d!==void 0?d:this.link.targetSelectionRange)!==null&&a!==void 0?a:this.link.range}set range(d){this._range=d,this._rangeCallback(this)}get ariaMessage(){var d;const a=(d=this.parent.getPreview(this))===null||d===void 0?void 0:d.preview(this.range);return a?(0,g.localize)(1,null,(0,b.basename)(this.uri),this.range.startLineNumber,this.range.startColumn,a.value):(0,g.localize)(0,null,(0,b.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=n;class i{constructor(d){this._modelReference=d}dispose(){this._modelReference.dispose()}preview(d,a=8){const s=this._modelReference.object.textEditorModel;if(!s)return;const{startLineNumber:o,startColumn:c,endLineNumber:f,endColumn:p}=d,_=s.getWordUntilPosition({lineNumber:o,column:c-a}),m=new u.Range(o,_.startColumn,o,c),h=new u.Range(f,p,f,1073741824),S=s.getValueInRange(m).replace(/^\s+/,""),y=s.getValueInRange(d),E=s.getValueInRange(h).replace(/\s+$/,"");return{value:S+y+E,highlight:{start:S.length,end:S.length+y.length}}}}e.FilePreview=i;class t{constructor(d,a){this.parent=d,this.uri=a,this.children=[],this._previews=new L.ResourceMap}dispose(){(0,I.dispose)(this._previews.values()),this._previews.clear()}getPreview(d){return this._previews.get(d.uri)}get ariaMessage(){const d=this.children.length;return d===1?(0,g.localize)(2,null,(0,b.basename)(this.uri),this.uri.fsPath):(0,g.localize)(3,null,d,(0,b.basename)(this.uri),this.uri.fsPath)}resolve(d){return Se(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(const a of this.children)if(!this._previews.has(a.uri))try{const s=yield d.createModelReference(a.uri);this._previews.set(a.uri,new i(s))}catch(s){(0,w.onUnexpectedError)(s)}return this})}}e.FileReferences=t;class r{constructor(d,a){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new C.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=d,this._title=a;const[s]=d;d.sort(r._compareReferences);let o;for(const c of d)if((!o||!b.extUri.isEqual(o.uri,c.uri,!0))&&(o=new t(this,c.uri),this.groups.push(o)),o.children.length===0||r._compareReferences(c,o.children[o.children.length-1])!==0){const f=new n(s===c,o,c,p=>this._onDidChangeReferenceRange.fire(p));this.references.push(f),o.children.push(f)}}dispose(){(0,I.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new r(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,g.localize)(4,null):this.references.length===1?(0,g.localize)(5,null,this.references[0].uri.fsPath):this.groups.length===1?(0,g.localize)(6,null,this.references.length,this.groups[0].uri.fsPath):(0,g.localize)(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(d,a){const{parent:s}=d;let o=s.children.indexOf(d);const c=s.children.length,f=s.parent.groups.length;return f===1||a&&o+1<c||!a&&o>0?(a?o=(o+1)%c:o=(o+c-1)%c,s.children[o]):(o=s.parent.groups.indexOf(s),a?(o=(o+1)%f,s.parent.groups[o].children[0]):(o=(o+f-1)%f,s.parent.groups[o].children[s.parent.groups[o].children.length-1]))}nearestReference(d,a){const s=this.references.map((o,c)=>({idx:c,prefixLen:v.commonPrefixLength(o.uri.toString(),d.toString()),offsetDist:Math.abs(o.range.startLineNumber-a.lineNumber)*100+Math.abs(o.range.startColumn-a.column)})).sort((o,c)=>o.prefixLen>c.prefixLen?-1:o.prefixLen<c.prefixLen?1:o.offsetDist<c.offsetDist?-1:o.offsetDist>c.offsetDist?1:0)[0];if(s)return this.references[s.idx]}referenceAt(d,a){for(const s of this.references)if(s.uri.toString()===d.toString()&&u.Range.containsPosition(s.range,a))return s}firstReference(){for(const d of this.references)if(d.isProviderFirst)return d;return this.references[0]}static _compareReferences(d,a){return b.extUri.compare(d.uri,a.uri)||u.Range.compareRangesUsingStarts(d.range,a.range)}}e.ReferencesModel=r}),define(re[570],ae([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/browser/symbolNavigation",e)}),define(re[571],ae([4,5]),function($,e){return $.create("vs/editor/contrib/hover/browser/hover",e)}),define(re[572],ae([4,5]),function($,e){return $.create("vs/editor/contrib/hover/browser/markdownHoverParticipant",e)}),define(re[573],ae([4,5]),function($,e){return $.create("vs/editor/contrib/hover/browser/markerHoverParticipant",e)}),define(re[574],ae([4,5]),function($,e){return $.create("vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace",e)}),define(re[575],ae([4,5]),function($,e){return $.create("vs/editor/contrib/indentation/browser/indentation",e)}),define(re[576],ae([4,5]),function($,e){return $.create("vs/editor/contrib/inlayHints/browser/inlayHintsHover",e)}),define(re[577],ae([4,5]),function($,e){return $.create("vs/editor/contrib/inlineCompletions/browser/ghostTextController",e)}),define(re[578],ae([4,5]),function($,e){return $.create("vs/editor/contrib/inlineCompletions/browser/ghostTextHoverParticipant",e)}),define(re[579],ae([4,5]),function($,e){return $.create("vs/editor/contrib/lineSelection/browser/lineSelection",e)}),define(re[580],ae([4,5]),function($,e){return $.create("vs/editor/contrib/linesOperations/browser/linesOperations",e)}),define(re[581],ae([4,5]),function($,e){return $.create("vs/editor/contrib/linkedEditing/browser/linkedEditing",e)}),define(re[582],ae([4,5]),function($,e){return $.create("vs/editor/contrib/links/browser/links",e)}),define(re[583],ae([4,5]),function($,e){return $.create("vs/editor/contrib/message/browser/messageController",e)}),define(re[584],ae([4,5]),function($,e){return $.create("vs/editor/contrib/multicursor/browser/multicursor",e)}),define(re[585],ae([4,5]),function($,e){return $.create("vs/editor/contrib/parameterHints/browser/parameterHints",e)}),define(re[586],ae([4,5]),function($,e){return $.create("vs/editor/contrib/parameterHints/browser/parameterHintsWidget",e)}),define(re[587],ae([4,5]),function($,e){return $.create("vs/editor/contrib/peekView/browser/peekView",e)}),define(re[588],ae([4,5]),function($,e){return $.create("vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess",e)}),define(re[589],ae([4,5]),function($,e){return $.create("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess",e)}),define(re[590],ae([4,5]),function($,e){return $.create("vs/editor/contrib/readOnlyMessage/browser/contribution",e)}),define(re[591],ae([4,5]),function($,e){return $.create("vs/editor/contrib/rename/browser/rename",e)}),define(re[592],ae([4,5]),function($,e){return $.create("vs/editor/contrib/rename/browser/renameInputField",e)}),define(re[593],ae([4,5]),function($,e){return $.create("vs/editor/contrib/smartSelect/browser/smartSelect",e)}),define(re[594],ae([4,5]),function($,e){return $.create("vs/editor/contrib/snippet/browser/snippetController2",e)}),define(re[595],ae([4,5]),function($,e){return $.create("vs/editor/contrib/snippet/browser/snippetVariables",e)}),define(re[596],ae([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/browser/suggest",e)}),define(re[597],ae([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/browser/suggestController",e)}),define(re[598],ae([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/browser/suggestWidget",e)}),define(re[599],ae([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/browser/suggestWidgetDetails",e)}),define(re[600],ae([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/browser/suggestWidgetRenderer",e)}),define(re[601],ae([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/browser/suggestWidgetStatus",e)}),define(re[602],ae([4,5]),function($,e){return $.create("vs/editor/contrib/symbolIcons/browser/symbolIcons",e)}),define(re[603],ae([4,5]),function($,e){return $.create("vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode",e)}),define(re[604],ae([4,5]),function($,e){return $.create("vs/editor/contrib/tokenization/browser/tokenization",e)}),define(re[605],ae([4,5]),function($,e){return $.create("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter",e)}),define(re[606],ae([4,5]),function($,e){return $.create("vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators",e)}),define(re[607],ae([4,5]),function($,e){return $.create("vs/editor/contrib/wordHighlighter/browser/wordHighlighter",e)}),define(re[608],ae([4,5]),function($,e){return $.create("vs/editor/contrib/wordOperations/browser/wordOperations",e)}),define(re[609],ae([4,5]),function($,e){return $.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(re[610],ae([4,5]),function($,e){return $.create("vs/platform/actions/common/menuService",e)}),define(re[611],ae([4,5]),function($,e){return $.create("vs/platform/configuration/common/configurationRegistry",e)}),define(re[612],ae([4,5]),function($,e){return $.create("vs/platform/contextkey/browser/contextKeyService",e)}),define(re[613],ae([4,5]),function($,e){return $.create("vs/platform/contextkey/common/contextkeys",e)}),define(re[614],ae([4,5]),function($,e){return $.create("vs/platform/history/browser/contextScopedHistoryWidget",e)}),define(re[615],ae([4,5]),function($,e){return $.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(re[616],ae([4,5]),function($,e){return $.create("vs/platform/list/browser/listService",e)}),define(re[617],ae([4,5]),function($,e){return $.create("vs/platform/markers/common/markers",e)}),define(re[618],ae([4,5]),function($,e){return $.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(re[619],ae([4,5]),function($,e){return $.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(re[620],ae([4,5]),function($,e){return $.create("vs/platform/theme/common/colorRegistry",e)}),define(re[621],ae([4,5]),function($,e){return $.create("vs/platform/theme/common/iconRegistry",e)}),define(re[622],ae([4,5]),function($,e){return $.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(re[623],ae([4,5]),function($,e){return $.create("vs/platform/workspace/common/workspace",e)}),define(re[624],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenSource=void 0;var w;(function(C){C[C.API=0]="API",C[C.USER=1]="USER"})(w=e.EditorOpenSource||(e.EditorOpenSource={}))}),define(re[625],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifier=void 0;class w{constructor(k){this.value=k,this._lower=k.toLowerCase()}static toKey(k){return typeof k=="string"?k.toLowerCase():k._lower}}e.ExtensionIdentifier=w}),define(re[280],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var w;(function(C){C[C.FILE=0]="FILE",C[C.FOLDER=1]="FOLDER",C[C.ROOT_FOLDER=2]="ROOT_FOLDER"})(w=e.FileKind||(e.FileKind={}))}),define(re[626],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showHistoryKeybindingHint=void 0;function w(C){var k,I;return((k=C.lookupKeybinding("history.showPrevious"))===null||k===void 0?void 0:k.getElectronAccelerator())==="Up"&&((I=C.lookupKeybinding("history.showNext"))===null||I===void 0?void 0:I.getElectronAccelerator())==="Down"}e.showHistoryKeybindingHint=w}),define(re[208],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class w{constructor(k,I=[],L=!1){this.ctor=k,this.staticArguments=I,this.supportsDelayedInstantiation=L}}e.SyncDescriptor=w}),define(re[53],ae([1,0,208]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const C=[];function k(L,b,v){b instanceof w.SyncDescriptor||(b=new w.SyncDescriptor(b,[],v)),C.push([L,b])}e.registerSingleton=k;function I(){return C}e.getSingletonServiceDescriptors=I}),define(re[627],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class w{constructor(I){this.incoming=new Map,this.outgoing=new Map,this.data=I}}e.Node=w;class C{constructor(I){this._hashFn=I,this._nodes=new Map}roots(){const I=[];for(const L of this._nodes.values())L.outgoing.size===0&&I.push(L);return I}insertEdge(I,L){const b=this.lookupOrInsertNode(I),v=this.lookupOrInsertNode(L);b.outgoing.set(this._hashFn(L),v),v.incoming.set(this._hashFn(I),b)}removeNode(I){const L=this._hashFn(I);this._nodes.delete(L);for(const b of this._nodes.values())b.outgoing.delete(L),b.incoming.delete(L)}lookupOrInsertNode(I){const L=this._hashFn(I);let b=this._nodes.get(L);return b||(b=new w(I),this._nodes.set(L,b)),b}isEmpty(){return this._nodes.size===0}toString(){const I=[];for(const[L,b]of this._nodes)I.push(`${L}, (incoming)[${[...b.incoming.keys()].join(", ")}], (outgoing)[${[...b.outgoing.keys()].join(",")}]`);return I.join(`
`)}findCycleSlow(){for(const[I,L]of this._nodes){const b=new Set([I]),v=this._findCycle(L,b);if(v)return v}}_findCycle(I,L){for(const[b,v]of I.outgoing){if(L.has(b))return[...L,b].join(" -> ");L.add(b);const u=this._findCycle(v,L);if(u)return u;L.delete(b)}}}e.Graph=C}),define(re[9],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDecorator=e.IInstantiationService=e._util=void 0;var w;(function(I){I.serviceIds=new Map,I.DI_TARGET="$di$target",I.DI_DEPENDENCIES="$di$dependencies";function L(b){return b[I.DI_DEPENDENCIES]||[]}I.getServiceDependencies=L})(w=e._util||(e._util={})),e.IInstantiationService=k("instantiationService");function C(I,L,b){L[w.DI_TARGET]===L?L[w.DI_DEPENDENCIES].push({id:I,index:b}):(L[w.DI_DEPENDENCIES]=[{id:I,index:b}],L[w.DI_TARGET]=L)}function k(I){if(w.serviceIds.has(I))return w.serviceIds.get(I);const L=function(b,v,u){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");C(L,b,u)};return L.toString=()=>I,w.serviceIds.set(I,L),L}e.createDecorator=k}),define(re[138],ae([1,0,9,22,19]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=(0,w.createDecorator)("IWorkspaceEditService");class I{constructor(u){this.metadata=u}static convert(u){return u.edits.map(g=>{if(L.is(g))return L.lift(g);if(b.is(g))return b.lift(g);throw new Error("Unsupported edit")})}}e.ResourceEdit=I;class L extends I{constructor(u,g,n=void 0,i){super(i);this.resource=u,this.textEdit=g,this.versionId=n}static is(u){return u instanceof L?!0:(0,k.isObject)(u)&&C.URI.isUri(u.resource)&&(0,k.isObject)(u.textEdit)}static lift(u){return u instanceof L?u:new L(u.resource,u.textEdit,u.versionId,u.metadata)}}e.ResourceTextEdit=L;class b extends I{constructor(u,g,n={},i){super(i);this.oldResource=u,this.newResource=g,this.options=n}static is(u){return u instanceof b?!0:(0,k.isObject)(u)&&(Boolean(u.newResource)||Boolean(u.oldResource))}static lift(u){return u instanceof b?u:new b(u.oldResource,u.newResource,u.options,u.metadata)}}e.ResourceFileEdit=b}),define(re[29],ae([1,0,9]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=(0,w.createDecorator)("codeEditorService")}),define(re[37],ae([1,0,9]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageService=void 0,e.ILanguageService=(0,w.createDecorator)("languageService")}),define(re[92],ae([1,0,9]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=e.ID_EDITOR_WORKER_SERVICE=void 0,e.ID_EDITOR_WORKER_SERVICE="editorWorkerService",e.IEditorWorkerService=(0,w.createDecorator)(e.ID_EDITOR_WORKER_SERVICE)}),define(re[20],ae([1,0,9]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageFeaturesService=void 0,e.ILanguageFeaturesService=(0,w.createDecorator)("ILanguageFeaturesService")}),define(re[628],ae([1,0,504,20,53]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeaturesService=void 0;class I{constructor(){this.referenceProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.renameProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.codeActionProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.definitionProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.typeDefinitionProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.declarationProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.implementationProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.documentSymbolProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.inlayHintsProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.colorProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.codeLensProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.documentFormattingEditProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeFormattingEditProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.onTypeFormattingEditProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.signatureHelpProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.hoverProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.documentHighlightProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.selectionRangeProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.foldingRangeProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.linkProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.inlineCompletionsProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.completionProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.linkedEditingRangeProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.documentSemanticTokensProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.documentOnDropEditProvider=new w.LanguageFeatureRegistry(this._score.bind(this)),this.documentPasteEditProvider=new w.LanguageFeatureRegistry(this._score.bind(this))}_score(b){var v;return(v=this._notebookTypeResolver)===null||v===void 0?void 0:v.call(this,b)}}e.LanguageFeaturesService=I,(0,k.registerSingleton)(C.ILanguageFeaturesService,I,!0)}),define(re[209],ae([1,0,9]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=(0,w.createDecorator)("markerDecorationsService")}),define(re[50],ae([1,0,9]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModelService=void 0,e.IModelService=(0,w.createDecorator)("modelService")}),define(re[58],ae([1,0,9]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=(0,w.createDecorator)("textModelService")}),define(re[166],ae([1,0,9]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=(0,w.createDecorator)("textResourceConfigurationService"),e.ITextResourcePropertiesService=(0,w.createDecorator)("textResourcePropertiesService")}),define(re[115],ae([1,0,9]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=(0,w.createDecorator)("themeService")}),define(re[93],ae([1,0,9]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=(0,w.createDecorator)("clipboardService")}),define(re[26],ae([1,0,6,55,2,73,19,9]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NullCommandService=e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=(0,b.createDecorator)("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new w.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(v,u){if(!v)throw new Error("invalid command");if(typeof v=="string"){if(!u)throw new Error("invalid command");return this.registerCommand({id:v,handler:u})}if(v.description){const r=[];for(const d of v.description.args)r.push(d.constraint);const l=v.handler;v.handler=function(d,...a){return(0,L.validateConstraints)(a,r),l(d,...a)}}const{id:g}=v;let n=this._commands.get(g);n||(n=new I.LinkedList,this._commands.set(g,n));const i=n.unshift(v),t=(0,k.toDisposable)(()=>{i();const r=this._commands.get(g);(r==null?void 0:r.isEmpty())&&this._commands.delete(g)});return this._onDidRegisterCommand.fire(g),t}registerCommandAlias(v,u){return e.CommandsRegistry.registerCommand(v,(g,...n)=>g.get(e.ICommandService).executeCommand(u,...n))}getCommand(v){const u=this._commands.get(v);if(!(!u||u.isEmpty()))return C.Iterable.first(u)}getCommands(){const v=new Map;for(const u of this._commands.keys()){const g=this.getCommand(u);g&&v.set(u,g)}return v}},e.NullCommandService={_serviceBrand:void 0,onWillExecuteCommand:()=>k.Disposable.None,onDidExecuteCommand:()=>k.Disposable.None,executeCommand(){return Promise.resolve(void 0)}},e.CommandsRegistry.registerCommand("noop",()=>{})}),define(re[281],ae([1,0,21,14,22,50,26,19,509,3,20]),function($,e,w,C,k,I,L,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentRangeSemanticTokens=e.hasDocumentRangeSemanticTokensProvider=e.getDocumentSemanticTokens=e.hasDocumentSemanticTokensProvider=e.DocumentSemanticTokensResult=e.isSemanticTokensEdits=e.isSemanticTokens=void 0;function n(p){return p&&!!p.data}e.isSemanticTokens=n;function i(p){return p&&Array.isArray(p.edits)}e.isSemanticTokensEdits=i;class t{constructor(_,m,h){this.provider=_,this.tokens=m,this.error=h}}e.DocumentSemanticTokensResult=t;function r(p,_){return p.has(_)}e.hasDocumentSemanticTokensProvider=r;function l(p,_){const m=p.orderedGroups(_);return m.length>0?m[0]:[]}function d(p,_,m,h,S){return Se(this,void 0,void 0,function*(){const y=l(p,_),E=yield Promise.all(y.map(N=>Se(this,void 0,void 0,function*(){let T,R=null;try{T=yield N.provideDocumentSemanticTokens(_,N===m?h:null,S)}catch(F){R=F,T=null}return(!T||!n(T)&&!i(T))&&(T=null),new t(N,T,R)})));for(const N of E){if(N.error)throw N.error;if(N.tokens)return N}return E.length>0?E[0]:null})}e.getDocumentSemanticTokens=d;function a(p,_){const m=p.orderedGroups(_);return m.length>0?m[0]:null}class s{constructor(_,m){this.provider=_,this.tokens=m}}function o(p,_){return p.has(_)}e.hasDocumentRangeSemanticTokensProvider=o;function c(p,_){const m=p.orderedGroups(_);return m.length>0?m[0]:[]}function f(p,_,m,h){return Se(this,void 0,void 0,function*(){const S=c(p,_),y=yield Promise.all(S.map(E=>Se(this,void 0,void 0,function*(){let N;try{N=yield E.provideDocumentRangeSemanticTokens(_,m,h)}catch(T){(0,C.onUnexpectedExternalError)(T),N=null}return(!N||!n(N))&&(N=null),new s(E,N)})));for(const E of y)if(E.tokens)return E;return y.length>0?y[0]:null})}e.getDocumentRangeSemanticTokens=f,L.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",(p,..._)=>Se(void 0,void 0,void 0,function*(){const[m]=_;(0,b.assertType)(m instanceof k.URI);const h=p.get(I.IModelService).getModel(m);if(!h)return;const{documentSemanticTokensProvider:S}=p.get(g.ILanguageFeaturesService),y=a(S,h);return y?y[0].getLegend():p.get(L.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",m)})),L.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",(p,..._)=>Se(void 0,void 0,void 0,function*(){const[m]=_;(0,b.assertType)(m instanceof k.URI);const h=p.get(I.IModelService).getModel(m);if(!h)return;const{documentSemanticTokensProvider:S}=p.get(g.ILanguageFeaturesService);if(!r(S,h))return p.get(L.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",m,h.getFullModelRange());const y=yield d(S,h,null,null,w.CancellationToken.None);if(!y)return;const{provider:E,tokens:N}=y;if(!N||!n(N))return;const T=(0,v.encodeSemanticTokensDto)({id:0,type:"full",data:N.data});return N.resultId&&E.releaseDocumentSemanticTokens(N.resultId),T})),L.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",(p,..._)=>Se(void 0,void 0,void 0,function*(){const[m,h]=_;(0,b.assertType)(m instanceof k.URI);const S=p.get(I.IModelService).getModel(m);if(!S)return;const{documentRangeSemanticTokensProvider:y}=p.get(g.ILanguageFeaturesService),E=c(y,S);if(E.length===0)return;if(E.length===1)return E[0].getLegend();if(!h||!u.Range.isIRange(h))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),E[0].getLegend();const N=yield f(y,S,u.Range.lift(h),w.CancellationToken.None);if(!!N)return N.provider.getLegend()})),L.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",(p,..._)=>Se(void 0,void 0,void 0,function*(){const[m,h]=_;(0,b.assertType)(m instanceof k.URI),(0,b.assertType)(u.Range.isIRange(h));const S=p.get(I.IModelService).getModel(m);if(!S)return;const{documentRangeSemanticTokensProvider:y}=p.get(g.ILanguageFeaturesService),E=yield f(y,S,u.Range.lift(h),w.CancellationToken.None);if(!(!E||!E.tokens))return(0,v.encodeSemanticTokensDto)({id:0,type:"full",data:E.tokens.data})}))}),define(re[282],ae([1,0,21,14,2,19,22,50,26,20]),function($,e,w,C,k,I,L,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeLensModel=e.CodeLensModel=void 0;class g{constructor(){this.lenses=[],this._disposables=new k.DisposableStore}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(t,r){this._disposables.add(t);for(const l of t.lenses)this.lenses.push({symbol:l,provider:r})}}e.CodeLensModel=g;function n(i,t,r){return Se(this,void 0,void 0,function*(){const l=i.ordered(t),d=new Map,a=new g,s=l.map((o,c)=>Se(this,void 0,void 0,function*(){d.set(o,c);try{const f=yield Promise.resolve(o.provideCodeLenses(t,r));f&&a.add(f,o)}catch(f){(0,C.onUnexpectedExternalError)(f)}}));return yield Promise.all(s),a.lenses=a.lenses.sort((o,c)=>o.symbol.range.startLineNumber<c.symbol.range.startLineNumber?-1:o.symbol.range.startLineNumber>c.symbol.range.startLineNumber?1:d.get(o.provider)<d.get(c.provider)?-1:d.get(o.provider)>d.get(c.provider)?1:o.symbol.range.startColumn<c.symbol.range.startColumn?-1:o.symbol.range.startColumn>c.symbol.range.startColumn?1:0),a})}e.getCodeLensModel=n,v.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(i,...t){let[r,l]=t;(0,I.assertType)(L.URI.isUri(r)),(0,I.assertType)(typeof l=="number"||!l);const{codeLensProvider:d}=i.get(u.ILanguageFeaturesService),a=i.get(b.IModelService).getModel(r);if(!a)throw(0,C.illegalArgument)();const s=[],o=new k.DisposableStore;return n(d,a,w.CancellationToken.None).then(c=>{o.add(c);const f=[];for(const p of c.lenses)l==null||Boolean(p.symbol.command)?s.push(p.symbol):l-- >0&&p.provider.resolveCodeLens&&f.push(Promise.resolve(p.provider.resolveCodeLens(a,p.symbol,w.CancellationToken.None)).then(_=>s.push(_||p.symbol)));return Promise.all(f)}).then(()=>s).finally(()=>{setTimeout(()=>o.dispose(),100)})})}),define(re[283],ae([1,0,21,14,22,3,50,26,20]),function($,e,w,C,k,I,L,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColorPresentations=e.getColors=void 0;function u(n,i,t){const r=[],d=n.ordered(i).reverse().map(a=>Promise.resolve(a.provideDocumentColors(i,t)).then(s=>{if(Array.isArray(s))for(const o of s)r.push({colorInfo:o,provider:a})}));return Promise.all(d).then(()=>r)}e.getColors=u;function g(n,i,t,r){return Promise.resolve(t.provideColorPresentations(n,i,r))}e.getColorPresentations=g,b.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(n,...i){const[t]=i;if(!(t instanceof k.URI))throw(0,C.illegalArgument)();const{colorProvider:r}=n.get(v.ILanguageFeaturesService),l=n.get(L.IModelService).getModel(t);if(!l)throw(0,C.illegalArgument)();const d=[],s=r.ordered(l).reverse().map(o=>Promise.resolve(o.provideDocumentColors(l,w.CancellationToken.None)).then(c=>{if(Array.isArray(c))for(const f of c)d.push({range:f.range,color:[f.color.red,f.color.green,f.color.blue,f.color.alpha]})}));return Promise.all(s).then(()=>d)}),b.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(n,...i){const[t,r]=i,{uri:l,range:d}=r;if(!(l instanceof k.URI)||!Array.isArray(t)||t.length!==4||!I.Range.isIRange(d))throw(0,C.illegalArgument)();const[a,s,o,c]=t,{colorProvider:f}=n.get(v.ILanguageFeaturesService),p=n.get(L.IModelService).getModel(l);if(!p)throw(0,C.illegalArgument)();const _={range:d,color:{red:a,green:s,blue:o,alpha:c}},m=[],S=f.ordered(p).reverse().map(y=>Promise.resolve(y.provideColorPresentations(p,_,w.CancellationToken.None)).then(E=>{Array.isArray(E)&&m.push(...E)}));return Promise.all(S).then(()=>m)})}),define(re[629],ae([1,0,18,21,14,2,19,22,3,50,26,20]),function($,e,w,C,k,I,L,b,v,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLinks=e.LinksList=e.Link=void 0;class i{constructor(d,a){this._link=d,this._provider=a}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(d){return Se(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,d)).then(a=>(this._link=a||this._link,this._link.url?this.resolve(d):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}e.Link=i;class t{constructor(d){this._disposables=new I.DisposableStore;let a=[];for(const[s,o]of d){const c=s.links.map(f=>new i(f,o));a=t._union(a,c),(0,I.isDisposable)(s)&&this._disposables.add(s)}this.links=a}dispose(){this._disposables.dispose(),this.links.length=0}static _union(d,a){const s=[];let o,c,f,p;for(o=0,f=0,c=d.length,p=a.length;o<c&&f<p;){const _=d[o],m=a[f];if(v.Range.areIntersectingOrTouching(_.range,m.range)){o++;continue}v.Range.compareRangesUsingStarts(_.range,m.range)<0?(s.push(_),o++):(s.push(m),f++)}for(;o<c;o++)s.push(d[o]);for(;f<p;f++)s.push(a[f]);return s}}e.LinksList=t;function r(l,d,a){const s=[],o=l.ordered(d).reverse().map((c,f)=>Promise.resolve(c.provideLinks(d,a)).then(p=>{p&&(s[f]=[p,c])},k.onUnexpectedExternalError));return Promise.all(o).then(()=>{const c=new t((0,w.coalesce)(s));return a.isCancellationRequested?(c.dispose(),new t([])):c})}e.getLinks=r,g.CommandsRegistry.registerCommand("_executeLinkProvider",(l,...d)=>Se(void 0,void 0,void 0,function*(){let[a,s]=d;(0,L.assertType)(a instanceof b.URI),typeof s!="number"&&(s=0);const{linkProvider:o}=l.get(n.ILanguageFeaturesService),c=l.get(u.IModelService).getModel(a);if(!c)return[];const f=yield r(o,c,C.CancellationToken.None);if(!f)return[];for(let _=0;_<Math.min(s,f.links.length);_++)yield f.links[_].resolve(C.CancellationToken.None);const p=f.links.slice(0);return f.dispose(),p}))}),define(re[30],ae([1,0,9]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageTagSettingPlainKey=e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.IConfigurationService=void 0,e.IConfigurationService=(0,w.createDecorator)("configurationService");function C(u,g){const n=Object.create(null);for(const i in u)k(n,i,u[i],g);return n}e.toValuesTree=C;function k(u,g,n,i){const t=g.split("."),r=t.pop();let l=u;for(let d=0;d<t.length;d++){const a=t[d];let s=l[a];switch(typeof s){case"undefined":s=l[a]=Object.create(null);break;case"object":break;default:i(`Ignoring ${g} as ${t.slice(0,d+1).join(".")} is ${JSON.stringify(s)}`);return}l=s}if(typeof l=="object"&&l!==null)try{l[r]=n}catch{i(`Ignoring ${g} as ${t.join(".")} is ${JSON.stringify(l)}`)}else i(`Ignoring ${g} as ${t.join(".")} is ${JSON.stringify(l)}`)}e.addToValueTree=k;function I(u,g){const n=g.split(".");L(u,n)}e.removeFromValueTree=I;function L(u,g){const n=g.shift();if(g.length===0){delete u[n];return}if(Object.keys(u).indexOf(n)!==-1){const i=u[n];typeof i=="object"&&!Array.isArray(i)&&(L(i,g),Object.keys(i).length===0&&delete u[n])}}function b(u,g,n){function i(l,d){let a=l;for(const s of d){if(typeof a!="object"||a===null)return;a=a[s]}return a}const t=g.split("."),r=i(u,t);return typeof r=="undefined"?n:r}e.getConfigurationValue=b;function v(u){return u.replace(/[\[\]]/g,"")}e.getLanguageTagSettingPlainKey=v});var me=this&&this.__param||function($,e){return function(w,C){e(w,C,$)}};define(re[284],ae([1,0,28,136,252,30]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonarchTokenizer=void 0;const L=5;class b{constructor(a){this._maxCacheDepth=a,this._entries=Object.create(null)}static create(a,s){return this._INSTANCE.create(a,s)}create(a,s){if(a!==null&&a.depth>=this._maxCacheDepth)return new v(a,s);let o=v.getStackElementId(a);o.length>0&&(o+="|"),o+=s;let c=this._entries[o];return c||(c=new v(a,s),this._entries[o]=c,c)}}b._INSTANCE=new b(L);class v{constructor(a,s){this.parent=a,this.state=s,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(a){let s="";for(;a!==null;)s.length>0&&(s+="|"),s+=a.state,a=a.parent;return s}static _equals(a,s){for(;a!==null&&s!==null;){if(a===s)return!0;if(a.state!==s.state)return!1;a=a.parent,s=s.parent}return a===null&&s===null}equals(a){return v._equals(this,a)}push(a){return b.create(this,a)}pop(){return this.parent}popall(){let a=this;for(;a.parent;)a=a.parent;return a}switchTo(a){return b.create(this.parent,a)}}class u{constructor(a,s){this.languageId=a,this.state=s}equals(a){return this.languageId===a.languageId&&this.state.equals(a.state)}clone(){return this.state.clone()===this.state?this:new u(this.languageId,this.state)}}class g{constructor(a){this._maxCacheDepth=a,this._entries=Object.create(null)}static create(a,s){return this._INSTANCE.create(a,s)}create(a,s){if(s!==null)return new n(a,s);if(a!==null&&a.depth>=this._maxCacheDepth)return new n(a,s);const o=v.getStackElementId(a);let c=this._entries[o];return c||(c=new n(a,null),this._entries[o]=c,c)}}g._INSTANCE=new g(L);class n{constructor(a,s){this.stack=a,this.embeddedLanguageData=s}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:g.create(this.stack,this.embeddedLanguageData)}equals(a){return!(a instanceof n)||!this.stack.equals(a.stack)?!1:this.embeddedLanguageData===null&&a.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||a.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(a.embeddedLanguageData)}}class i{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(a){this._languageId=a}emit(a,s){this._lastTokenType===s&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=s,this._lastTokenLanguage=this._languageId,this._tokens.push(new w.Token(a,s,this._languageId)))}nestedLanguageTokenize(a,s,o,c){const f=o.languageId,p=o.state,_=w.TokenizationRegistry.get(f);if(!_)return this.enterLanguage(f),this.emit(c,""),p;const m=_.tokenize(a,s,p);if(c!==0)for(const h of m.tokens)this._tokens.push(new w.Token(h.offset+c,h.type,h.language));else this._tokens=this._tokens.concat(m.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,m.endState}finalize(a){return new w.TokenizationResult(this._tokens,a)}}class t{constructor(a,s){this._languageService=a,this._theme=s,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(a){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(a)}emit(a,s){const o=this._theme.match(this._currentLanguageId,s);this._lastTokenMetadata!==o&&(this._lastTokenMetadata=o,this._tokens.push(a),this._tokens.push(o))}static _merge(a,s,o){const c=a!==null?a.length:0,f=s.length,p=o!==null?o.length:0;if(c===0&&f===0&&p===0)return new Uint32Array(0);if(c===0&&f===0)return o;if(f===0&&p===0)return a;const _=new Uint32Array(c+f+p);a!==null&&_.set(a);for(let m=0;m<f;m++)_[c+m]=s[m];return o!==null&&_.set(o,c+f),_}nestedLanguageTokenize(a,s,o,c){const f=o.languageId,p=o.state,_=w.TokenizationRegistry.get(f);if(!_)return this.enterLanguage(f),this.emit(c,""),p;const m=_.tokenizeEncoded(a,s,p);if(c!==0)for(let h=0,S=m.tokens.length;h<S;h+=2)m.tokens[h]+=c;return this._prependTokens=t._merge(this._prependTokens,this._tokens,m.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,m.endState}finalize(a){return new w.EncodedTokenizationResult(t._merge(this._prependTokens,this._tokens,null),a)}}let r=class Di{constructor(a,s,o,c,f){this._configurationService=f,this._languageService=a,this._standaloneThemeService=s,this._languageId=o,this._lexer=c,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let p=!1;this._tokenizationRegistryListener=w.TokenizationRegistry.onDidChange(_=>{if(p)return;let m=!1;for(let h=0,S=_.changedLanguages.length;h<S;h++){const y=_.changedLanguages[h];if(this._embeddedLanguages[y]){m=!0;break}}m&&(p=!0,w.TokenizationRegistry.fire([this._languageId]),p=!1)}),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._configurationService.onDidChangeConfiguration(_=>{_.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const a=[];for(const s in this._embeddedLanguages){const o=w.TokenizationRegistry.get(s);if(o){if(o instanceof Di){const c=o.getLoadStatus();c.loaded===!1&&a.push(c.promise)}continue}w.TokenizationRegistry.isResolved(s)||a.push(w.TokenizationRegistry.getOrCreate(s))}return a.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(a).then(s=>{})}}getInitialState(){const a=b.create(null,this._lexer.start);return g.create(a,null)}tokenize(a,s,o){if(a.length>=this._maxTokenizationLineLength)return(0,C.nullTokenize)(this._languageId,o);const c=new i,f=this._tokenize(a,s,o,c);return c.finalize(f)}tokenizeEncoded(a,s,o){if(a.length>=this._maxTokenizationLineLength)return(0,C.nullTokenizeEncoded)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),o);const c=new t(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),f=this._tokenize(a,s,o,c);return c.finalize(f)}_tokenize(a,s,o,c){return o.embeddedLanguageData?this._nestedTokenize(a,s,o,0,c):this._myTokenize(a,s,o,0,c)}_findLeavingNestedLanguageOffset(a,s){let o=this._lexer.tokenizer[s.stack.state];if(!o&&(o=k.findRules(this._lexer,s.stack.state),!o))throw k.createError(this._lexer,"tokenizer state is not defined: "+s.stack.state);let c=-1,f=!1;for(const p of o){if(!k.isIAction(p.action)||p.action.nextEmbedded!=="@pop")continue;f=!0;let _=p.regex;const m=p.regex.source;if(m.substr(0,4)==="^(?:"&&m.substr(m.length-1,1)===")"){const S=(_.ignoreCase?"i":"")+(_.unicode?"u":"");_=new RegExp(m.substr(4,m.length-5),S)}const h=a.search(_);h===-1||h!==0&&p.matchOnlyAtLineStart||(c===-1||h<c)&&(c=h)}if(!f)throw k.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+s.stack.state);return c}_nestedTokenize(a,s,o,c,f){const p=this._findLeavingNestedLanguageOffset(a,o);if(p===-1){const h=f.nestedLanguageTokenize(a,s,o.embeddedLanguageData,c);return g.create(o.stack,new u(o.embeddedLanguageData.languageId,h))}const _=a.substring(0,p);_.length>0&&f.nestedLanguageTokenize(_,!1,o.embeddedLanguageData,c);const m=a.substring(p);return this._myTokenize(m,s,o,c+p,f)}_safeRuleName(a){return a?a.name:"(unknown)"}_myTokenize(a,s,o,c,f){f.enterLanguage(this._languageId);const p=a.length,_=s&&this._lexer.includeLF?a+`
`:a,m=_.length;let h=o.embeddedLanguageData,S=o.stack,y=0,E=null,N=!0;for(;N||y<m;){const T=y,R=S.depth,F=E?E.groups.length:0,O=S.state;let D=null,M=null,P=null,B=null,W=null;if(E){D=E.matches;const Q=E.groups.shift();M=Q.matched,P=Q.action,B=E.rule,E.groups.length===0&&(E=null)}else{if(!N&&y>=m)break;N=!1;let Q=this._lexer.tokenizer[O];if(!Q&&(Q=k.findRules(this._lexer,O),!Q))throw k.createError(this._lexer,"tokenizer state is not defined: "+O);const J=_.substr(y);for(const H of Q)if((y===0||!H.matchOnlyAtLineStart)&&(D=J.match(H.regex),D)){M=D[0],P=H.action;break}}if(D||(D=[""],M=""),P||(y<m&&(D=[_.charAt(y)],M=D[0]),P=this._lexer.defaultToken),M===null)break;for(y+=M.length;k.isFuzzyAction(P)&&k.isIAction(P)&&P.test;)P=P.test(M,D,O,y===m);let V=null;if(typeof P=="string"||Array.isArray(P))V=P;else if(P.group)V=P.group;else if(P.token!==null&&P.token!==void 0){if(P.tokenSubst?V=k.substituteMatches(this._lexer,P.token,M,D,O):V=P.token,P.nextEmbedded)if(P.nextEmbedded==="@pop"){if(!h)throw k.createError(this._lexer,"cannot pop embedded language if not inside one");h=null}else{if(h)throw k.createError(this._lexer,"cannot enter embedded language from within an embedded language");W=k.substituteMatches(this._lexer,P.nextEmbedded,M,D,O)}if(P.goBack&&(y=Math.max(0,y-P.goBack)),P.switchTo&&typeof P.switchTo=="string"){let Q=k.substituteMatches(this._lexer,P.switchTo,M,D,O);if(Q[0]==="@"&&(Q=Q.substr(1)),k.findRules(this._lexer,Q))S=S.switchTo(Q);else throw k.createError(this._lexer,"trying to switch to a state '"+Q+"' that is undefined in rule: "+this._safeRuleName(B))}else{if(P.transform&&typeof P.transform=="function")throw k.createError(this._lexer,"action.transform not supported");if(P.next)if(P.next==="@push"){if(S.depth>=this._lexer.maxStack)throw k.createError(this._lexer,"maximum tokenizer stack size reached: ["+S.state+","+S.parent.state+",...]");S=S.push(O)}else if(P.next==="@pop"){if(S.depth<=1)throw k.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(B));S=S.pop()}else if(P.next==="@popall")S=S.popall();else{let Q=k.substituteMatches(this._lexer,P.next,M,D,O);if(Q[0]==="@"&&(Q=Q.substr(1)),k.findRules(this._lexer,Q))S=S.push(Q);else throw k.createError(this._lexer,"trying to set a next state '"+Q+"' that is undefined in rule: "+this._safeRuleName(B))}}P.log&&typeof P.log=="string"&&k.log(this._lexer,this._lexer.languageId+": "+k.substituteMatches(this._lexer,P.log,M,D,O))}if(V===null)throw k.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(B));const A=Q=>{const J=this._languageService.getLanguageIdByLanguageName(Q)||this._languageService.getLanguageIdByMimeType(Q)||Q,H=this._getNestedEmbeddedLanguageData(J);if(y<m){const q=a.substr(y);return this._nestedTokenize(q,s,g.create(S,H),c+y,f)}else return g.create(S,H)};if(Array.isArray(V)){if(E&&E.groups.length>0)throw k.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(B));if(D.length!==V.length+1)throw k.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(B));let Q=0;for(let J=1;J<D.length;J++)Q+=D[J].length;if(Q!==M.length)throw k.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(B));E={rule:B,matches:D,groups:[]};for(let J=0;J<V.length;J++)E.groups[J]={action:V[J],matched:D[J+1]};y-=M.length;continue}else{if(V==="@rematch"&&(y-=M.length,M="",D=null,V="",W!==null))return A(W);if(M.length===0){if(m===0||R!==S.depth||O!==S.state||(E?E.groups.length:0)!==F)continue;throw k.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(B))}let Q=null;if(k.isString(V)&&V.indexOf("@brackets")===0){const J=V.substr("@brackets".length),H=l(this._lexer,M);if(!H)throw k.createError(this._lexer,"@brackets token returned but no bracket defined as: "+M);Q=k.sanitize(H.token+J)}else{const J=V===""?"":V+this._lexer.tokenPostfix;Q=k.sanitize(J)}T<p&&f.emit(T+c,Q)}if(W!==null)return A(W)}return g.create(S,h)}_getNestedEmbeddedLanguageData(a){if(!this._languageService.isRegisteredLanguageId(a))return new u(a,C.NullState);a!==this._languageId&&(w.TokenizationRegistry.getOrCreate(a),this._embeddedLanguages[a]=!0);const s=w.TokenizationRegistry.get(a);return s?new u(a,s.getInitialState()):new u(a,C.NullState)}};r=ke([me(4,I.IConfigurationService)],r),e.MonarchTokenizer=r;function l(d,a){if(!a)return null;a=k.fixCase(d,a);const s=d.brackets;for(const o of s){if(o.open===a)return{token:o.token,bracketType:1};if(o.close===a)return{token:o.token,bracketType:-1}}return null}}),define(re[630],ae([1,0,8,82,28,114,74,284]),function($,e,w,C,k,I,L,b){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const u=(v=window.trustedTypes)===null||v===void 0?void 0:v.createPolicy("standaloneColorizer",{createHTML:r=>r});class g{static colorizeElement(l,d,a,s){s=s||{};const o=s.theme||"vs",c=s.mimeType||a.getAttribute("lang")||a.getAttribute("data-lang");if(!c)return console.error("Mode not detected"),Promise.resolve();const f=d.getLanguageIdByMimeType(c)||c;l.setTheme(o);const p=a.firstChild?a.firstChild.nodeValue:"";a.className+=" "+o;const _=m=>{var h;const S=(h=u==null?void 0:u.createHTML(m))!==null&&h!==void 0?h:m;a.innerHTML=S};return this.colorize(d,p||"",f,s).then(_,m=>console.error(m))}static colorize(l,d,a,s){return Se(this,void 0,void 0,function*(){const o=l.languageIdCodec;let c=4;s&&typeof s.tabSize=="number"&&(c=s.tabSize),w.startsWithUTF8BOM(d)&&(d=d.substr(1));const f=w.splitLines(d);if(!l.isRegisteredLanguageId(a))return i(f,c,o);const p=yield k.TokenizationRegistry.getOrCreate(a);return p?n(f,c,p,o):i(f,c,o)})}static colorizeLine(l,d,a,s,o=4){const c=L.ViewLineRenderingData.isBasicASCII(l,d),f=L.ViewLineRenderingData.containsRTL(l,c,a);return(0,I.renderViewLine2)(new I.RenderLineInput(!1,!0,l,!1,c,f,0,s,[],o,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(l,d,a=4){const s=l.getLineContent(d);l.tokenization.forceTokenization(d);const c=l.tokenization.getLineTokens(d).inflate();return this.colorizeLine(s,l.mightContainNonBasicASCII(),l.mightContainRTL(),c,a)}}e.Colorizer=g;function n(r,l,d,a){return new Promise((s,o)=>{const c=()=>{const f=t(r,l,d,a);if(d instanceof b.MonarchTokenizer){const p=d.getLoadStatus();if(p.loaded===!1){p.promise.then(c,o);return}}s(f)};c()})}function i(r,l,d){let a=[];const s=(0<<11|1<<15|2<<24)>>>0,o=new Uint32Array(2);o[0]=0,o[1]=s;for(let c=0,f=r.length;c<f;c++){const p=r[c];o[0]=p.length;const _=new C.LineTokens(o,p,d),m=L.ViewLineRenderingData.isBasicASCII(p,!0),h=L.ViewLineRenderingData.containsRTL(p,m,!0),S=(0,I.renderViewLine2)(new I.RenderLineInput(!1,!0,p,!1,m,h,0,_,[],l,0,0,0,0,-1,"none",!1,!1,null));a=a.concat(S.html),a.push("<br/>")}return a.join("")}function t(r,l,d,a){let s=[],o=d.getInitialState();for(let c=0,f=r.length;c<f;c++){const p=r[c],_=d.tokenizeEncoded(p,!0,o);C.LineTokens.convertToEndOffset(_.tokens,p.length);const m=new C.LineTokens(_.tokens,p,a),h=L.ViewLineRenderingData.isBasicASCII(p,!0),S=L.ViewLineRenderingData.containsRTL(p,h,!0),y=(0,I.renderViewLine2)(new I.RenderLineInput(!1,!0,p,!1,h,S,0,m.inflate(),[],l,0,0,0,0,-1,"none",!1,!1,null));s=s.concat(y.html),s.push("<br/>"),o=_.endState}return s.join("")}}),define(re[285],ae([1,0,18,51,40,19,22,30]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.ConfigurationModel=void 0;class v{constructor(i={},t=[],r=[]){this._contents=i,this._keys=t,this._overrides=r,this.frozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(i){return i?(0,b.getConfigurationValue)(this.contents,i):this.contents}getOverrideValue(i,t){const r=this.getContentsForOverrideIdentifer(t);return r?i?(0,b.getConfigurationValue)(r,i):r:void 0}override(i){let t=this.overrideConfigurations.get(i);return t||(t=this.createOverrideConfigurationModel(i),this.overrideConfigurations.set(i,t)),t}merge(...i){const t=k.deepClone(this.contents),r=k.deepClone(this.overrides),l=[...this.keys];for(const d of i)if(!d.isEmpty()){this.mergeContents(t,d.contents);for(const a of d.overrides){const[s]=r.filter(o=>w.equals(o.identifiers,a.identifiers));s?(this.mergeContents(s.contents,a.contents),s.keys.push(...a.keys),s.keys=w.distinct(s.keys)):r.push(k.deepClone(a))}for(const a of d.keys)l.indexOf(a)===-1&&l.push(a)}return new v(t,l,r)}freeze(){return this.frozen=!0,this}createOverrideConfigurationModel(i){const t=this.getContentsForOverrideIdentifer(i);if(!t||typeof t!="object"||!Object.keys(t).length)return this;const r={};for(const l of w.distinct([...Object.keys(this.contents),...Object.keys(t)])){let d=this.contents[l];const a=t[l];a&&(typeof d=="object"&&typeof a=="object"?(d=k.deepClone(d),this.mergeContents(d,a)):d=a),r[l]=d}return new v(r,this.keys,this.overrides)}mergeContents(i,t){for(const r of Object.keys(t)){if(r in i&&I.isObject(i[r])&&I.isObject(t[r])){this.mergeContents(i[r],t[r]);continue}i[r]=k.deepClone(t[r])}}checkAndFreeze(i){return this.frozen&&!Object.isFrozen(i)?k.deepFreeze(i):i}getContentsForOverrideIdentifer(i){let t=null,r=null;const l=d=>{d&&(r?this.mergeContents(r,d):r=k.deepClone(d))};for(const d of this.overrides)w.equals(d.identifiers,[i])?t=d.contents:d.identifiers.includes(i)&&l(d.contents);return l(t),r}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(i,t){this.addKey(i),(0,b.addToValueTree)(this.contents,i,t,r=>{throw new Error(r)})}removeValue(i){this.removeKey(i)&&(0,b.removeFromValueTree)(this.contents,i)}addKey(i){let t=this.keys.length;for(let r=0;r<t;r++)i.indexOf(this.keys[r])===0&&(t=r);this.keys.splice(t,1,i)}removeKey(i){const t=this.keys.indexOf(i);return t!==-1?(this.keys.splice(t,1),!0):!1}}e.ConfigurationModel=v;class u{constructor(i,t,r,l,d=new v,a=new v,s=new C.ResourceMap,o=new v,c=new C.ResourceMap,f=!0){this._defaultConfiguration=i,this._policyConfiguration=t,this._applicationConfiguration=r,this._localUserConfiguration=l,this._remoteUserConfiguration=d,this._workspaceConfiguration=a,this._folderConfigurations=s,this._memoryConfiguration=o,this._memoryConfigurationByResource=c,this._freeze=f,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new C.ResourceMap,this._userConfiguration=null}getValue(i,t,r){return this.getConsolidatedConfigurationModel(i,t,r).getValue(i)}updateValue(i,t,r={}){let l;r.resource?(l=this._memoryConfigurationByResource.get(r.resource),l||(l=new v,this._memoryConfigurationByResource.set(r.resource,l))):l=this._memoryConfiguration,t===void 0?l.removeValue(i):l.setValue(i,t),r.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(i,t,r){const l=this.getConsolidatedConfigurationModel(i,t,r),d=this.getFolderConfigurationModelForResource(t.resource,r),a=t.resource?this._memoryConfigurationByResource.get(t.resource)||this._memoryConfiguration:this._memoryConfiguration,s=t.overrideIdentifier?this._defaultConfiguration.freeze().override(t.overrideIdentifier).getValue(i):this._defaultConfiguration.freeze().getValue(i),o=this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration.freeze().getValue(i),c=this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration.freeze().getValue(i),f=t.overrideIdentifier?this.userConfiguration.freeze().override(t.overrideIdentifier).getValue(i):this.userConfiguration.freeze().getValue(i),p=t.overrideIdentifier?this.localUserConfiguration.freeze().override(t.overrideIdentifier).getValue(i):this.localUserConfiguration.freeze().getValue(i),_=t.overrideIdentifier?this.remoteUserConfiguration.freeze().override(t.overrideIdentifier).getValue(i):this.remoteUserConfiguration.freeze().getValue(i),m=r?t.overrideIdentifier?this._workspaceConfiguration.freeze().override(t.overrideIdentifier).getValue(i):this._workspaceConfiguration.freeze().getValue(i):void 0,h=d?t.overrideIdentifier?d.freeze().override(t.overrideIdentifier).getValue(i):d.freeze().getValue(i):void 0,S=t.overrideIdentifier?a.override(t.overrideIdentifier).getValue(i):a.getValue(i),y=l.getValue(i),E=w.distinct(l.overrides.map(N=>N.identifiers).flat()).filter(N=>l.getOverrideValue(i,N)!==void 0);return{defaultValue:s,policyValue:o,applicationValue:c,userValue:f,userLocalValue:p,userRemoteValue:_,workspaceValue:m,workspaceFolderValue:h,memoryValue:S,value:y,default:s!==void 0?{value:this._defaultConfiguration.freeze().getValue(i),override:t.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(i,t.overrideIdentifier):void 0}:void 0,policy:o!==void 0?{value:o}:void 0,application:c!==void 0?{value:c,override:t.overrideIdentifier?this.applicationConfiguration.freeze().getOverrideValue(i,t.overrideIdentifier):void 0}:void 0,user:f!==void 0?{value:this.userConfiguration.freeze().getValue(i),override:t.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(i,t.overrideIdentifier):void 0}:void 0,userLocal:p!==void 0?{value:this.localUserConfiguration.freeze().getValue(i),override:t.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(i,t.overrideIdentifier):void 0}:void 0,userRemote:_!==void 0?{value:this.remoteUserConfiguration.freeze().getValue(i),override:t.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(i,t.overrideIdentifier):void 0}:void 0,workspace:m!==void 0?{value:this._workspaceConfiguration.freeze().getValue(i),override:t.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(i,t.overrideIdentifier):void 0}:void 0,workspaceFolder:h!==void 0?{value:d==null?void 0:d.freeze().getValue(i),override:t.overrideIdentifier?d==null?void 0:d.freeze().getOverrideValue(i,t.overrideIdentifier):void 0}:void 0,memory:S!==void 0?{value:a.getValue(i),override:t.overrideIdentifier?a.getOverrideValue(i,t.overrideIdentifier):void 0}:void 0,overrideIdentifiers:E.length?E:void 0}}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(i,t,r){let l=this.getConsolidatedConfigurationModelForResource(t,r);return t.overrideIdentifier&&(l=l.override(t.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(i)!==void 0&&(l=l.merge(this._policyConfiguration)),l}getConsolidatedConfigurationModelForResource({resource:i},t){let r=this.getWorkspaceConsolidatedConfiguration();if(t&&i){const l=t.getFolder(i);l&&(r=this.getFolderConsolidatedConfiguration(l.uri)||r);const d=this._memoryConfigurationByResource.get(i);d&&(r=r.merge(d))}return r}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(i){let t=this._foldersConsolidatedConfigurations.get(i);if(!t){const r=this.getWorkspaceConsolidatedConfiguration(),l=this._folderConfigurations.get(i);l?(t=r.merge(l),this._freeze&&(t=t.freeze()),this._foldersConsolidatedConfigurations.set(i,t)):t=r}return t}getFolderConfigurationModelForResource(i,t){if(t&&i){const r=t.getFolder(i);if(r)return this._folderConfigurations.get(r.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((i,t)=>{const{contents:r,overrides:l,keys:d}=this._folderConfigurations.get(t);return i.push([t,{contents:r,overrides:l,keys:d}]),i},[])}}static parse(i){const t=this.parseConfigurationModel(i.defaults),r=this.parseConfigurationModel(i.policy),l=this.parseConfigurationModel(i.application),d=this.parseConfigurationModel(i.user),a=this.parseConfigurationModel(i.workspace),s=i.folders.reduce((o,c)=>(o.set(L.URI.revive(c[0]),this.parseConfigurationModel(c[1])),o),new C.ResourceMap);return new u(t,r,l,d,new v,a,s,new v,new C.ResourceMap,!1)}static parseConfigurationModel(i){return new v(i.contents,i.keys,i.overrides).freeze()}}e.Configuration=u;class g{constructor(i,t,r,l){this.change=i,this.previous=t,this.currentConfiguraiton=r,this.currentWorkspace=l,this._previousConfiguration=void 0;const d=new Set;i.keys.forEach(s=>d.add(s)),i.overrides.forEach(([,s])=>s.forEach(o=>d.add(o))),this.affectedKeys=[...d.values()];const a=new v;this.affectedKeys.forEach(s=>a.setValue(s,{})),this.affectedKeysTree=a.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=u.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(i,t){var r;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,i)){if(t){const l=this.previousConfiguration?this.previousConfiguration.getValue(i,t,(r=this.previous)===null||r===void 0?void 0:r.workspace):void 0,d=this.currentConfiguraiton.getValue(i,t,this.currentWorkspace);return!k.equals(l,d)}return!0}return!1}doesAffectedKeysTreeContains(i,t){let r=(0,b.toValuesTree)({[t]:!0},()=>{}),l;for(;typeof r=="object"&&(l=Object.keys(r)[0]);){if(i=i[l],!i)return!1;r=r[l]}return!0}}e.ConfigurationChangeEvent=g}),define(re[16],ae([1,0,17,8,9]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.implies=e.SET_CONTEXT_COMMAND_ID=e.IContextKeyService=e.RawContextKey=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.expressionsAreEqualWithConstantSubstitution=e.ContextKeyExpr=void 0;const I=new Map;I.set("false",!1),I.set("true",!0),I.set("isMac",w.isMacintosh),I.set("isLinux",w.isLinux),I.set("isWindows",w.isWindows),I.set("isWeb",w.isWeb),I.set("isMacNative",w.isMacintosh&&!w.isWeb),I.set("isEdge",w.isEdge),I.set("isFirefox",w.isFirefox),I.set("isChrome",w.isChrome),I.set("isSafari",w.isSafari);const L=Object.prototype.hasOwnProperty;class b{static has(D){return i.create(D)}static equals(D,M){return t.create(D,M)}static regex(D,M){return _.create(D,M)}static not(D){return a.create(D)}static and(...D){return S.create(D,null)}static or(...D){return y.create(D,null,!0)}static deserialize(D,M=!1){if(!!D)return this._deserializeOrExpression(D,M)}static _deserializeOrExpression(D,M){const P=D.split("||");return y.create(P.map(B=>this._deserializeAndExpression(B,M)),null,!0)}static _deserializeAndExpression(D,M){const P=D.split("&&");return S.create(P.map(B=>this._deserializeOne(B,M)),null)}static _deserializeOne(D,M){if(D=D.trim(),D.indexOf("!=")>=0){const P=D.split("!=");return d.create(P[0].trim(),this._deserializeValue(P[1],M))}if(D.indexOf("==")>=0){const P=D.split("==");return t.create(P[0].trim(),this._deserializeValue(P[1],M))}if(D.indexOf("=~")>=0){const P=D.split("=~");return _.create(P[0].trim(),this._deserializeRegexValue(P[1],M))}if(D.indexOf(" not in ")>=0){const P=D.split(" not in ");return l.create(P[0].trim(),P[1].trim())}if(D.indexOf(" in ")>=0){const P=D.split(" in ");return r.create(P[0].trim(),P[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(D)){const P=D.split(">=");return c.create(P[0].trim(),P[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(D)){const P=D.split(">");return o.create(P[0].trim(),P[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(D)){const P=D.split("<=");return p.create(P[0].trim(),P[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(D)){const P=D.split("<");return f.create(P[0].trim(),P[1].trim())}return/^\!\s*/.test(D)?a.create(D.substr(1).trim()):i.create(D)}static _deserializeValue(D,M){if(D=D.trim(),D==="true")return!0;if(D==="false")return!1;const P=/^'([^']*)'$/.exec(D);return P?P[1].trim():D}static _deserializeRegexValue(D,M){if((0,C.isFalsyOrWhitespace)(D)){if(M)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}const P=D.indexOf("/"),B=D.lastIndexOf("/");if(P===B||P<0){if(M)throw new Error(`bad regexp-value '${D}', missing /-enclosure`);return console.warn(`bad regexp-value '${D}', missing /-enclosure`),null}const W=D.slice(P+1,B),V=D[B+1]==="i"?"i":"";try{return new RegExp(W,V)}catch(A){if(M)throw new Error(`bad regexp-value '${D}', parse error: ${A}`);return console.warn(`bad regexp-value '${D}', parse error: ${A}`),null}}}e.ContextKeyExpr=b;function v(O,D){const M=O?O.substituteConstants():void 0,P=D?D.substituteConstants():void 0;return!M&&!P?!0:!M||!P?!1:M.equals(P)}e.expressionsAreEqualWithConstantSubstitution=v;function u(O,D){return O.cmp(D)}class g{constructor(){this.type=0}cmp(D){return this.type-D.type}equals(D){return D.type===this.type}substituteConstants(){return this}evaluate(D){return!1}serialize(){return"false"}keys(){return[]}negate(){return n.INSTANCE}}e.ContextKeyFalseExpr=g,g.INSTANCE=new g;class n{constructor(){this.type=1}cmp(D){return this.type-D.type}equals(D){return D.type===this.type}substituteConstants(){return this}evaluate(D){return!0}serialize(){return"true"}keys(){return[]}negate(){return g.INSTANCE}}e.ContextKeyTrueExpr=n,n.INSTANCE=new n;class i{constructor(D,M){this.key=D,this.negated=M,this.type=2}static create(D,M=null){const P=I.get(D);return typeof P=="boolean"?P?n.INSTANCE:g.INSTANCE:new i(D,M)}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,D.key)}equals(D){return D.type===this.type?this.key===D.key:!1}substituteConstants(){const D=I.get(this.key);return typeof D=="boolean"?D?n.INSTANCE:g.INSTANCE:this}evaluate(D){return!!D.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=a.create(this.key,this)),this.negated}}e.ContextKeyDefinedExpr=i;class t{constructor(D,M,P){this.key=D,this.value=M,this.negated=P,this.type=4}static create(D,M,P=null){if(typeof M=="boolean")return M?i.create(D,P):a.create(D,P);const B=I.get(D);return typeof B=="boolean"?M===(B?"true":"false")?n.INSTANCE:g.INSTANCE:new t(D,M,P)}cmp(D){return D.type!==this.type?this.type-D.type:T(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}substituteConstants(){const D=I.get(this.key);if(typeof D=="boolean"){const M=D?"true":"false";return this.value===M?n.INSTANCE:g.INSTANCE}return this}evaluate(D){return D.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=d.create(this.key,this.value,this)),this.negated}}e.ContextKeyEqualsExpr=t;class r{constructor(D,M){this.key=D,this.valueKey=M,this.type=10,this.negated=null}static create(D,M){return new r(D,M)}cmp(D){return D.type!==this.type?this.type-D.type:T(this.key,this.valueKey,D.key,D.valueKey)}equals(D){return D.type===this.type?this.key===D.key&&this.valueKey===D.valueKey:!1}substituteConstants(){return this}evaluate(D){const M=D.getValue(this.valueKey),P=D.getValue(this.key);return Array.isArray(M)?M.includes(P):typeof P=="string"&&typeof M=="object"&&M!==null?L.call(M,P):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=l.create(this.key,this.valueKey)),this.negated}}e.ContextKeyInExpr=r;class l{constructor(D,M){this.key=D,this.valueKey=M,this.type=11,this._negated=r.create(D,M)}static create(D,M){return new l(D,M)}cmp(D){return D.type!==this.type?this.type-D.type:this._negated.cmp(D._negated)}equals(D){return D.type===this.type?this._negated.equals(D._negated):!1}substituteConstants(){return this}evaluate(D){return!this._negated.evaluate(D)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}e.ContextKeyNotInExpr=l;class d{constructor(D,M,P){this.key=D,this.value=M,this.negated=P,this.type=5}static create(D,M,P=null){if(typeof M=="boolean")return M?a.create(D,P):i.create(D,P);const B=I.get(D);return typeof B=="boolean"?M===(B?"true":"false")?g.INSTANCE:n.INSTANCE:new d(D,M,P)}cmp(D){return D.type!==this.type?this.type-D.type:T(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}substituteConstants(){const D=I.get(this.key);if(typeof D=="boolean"){const M=D?"true":"false";return this.value===M?g.INSTANCE:n.INSTANCE}return this}evaluate(D){return D.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=t.create(this.key,this.value,this)),this.negated}}e.ContextKeyNotEqualsExpr=d;class a{constructor(D,M){this.key=D,this.negated=M,this.type=3}static create(D,M=null){const P=I.get(D);return typeof P=="boolean"?P?g.INSTANCE:n.INSTANCE:new a(D,M)}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,D.key)}equals(D){return D.type===this.type?this.key===D.key:!1}substituteConstants(){const D=I.get(this.key);return typeof D=="boolean"?D?g.INSTANCE:n.INSTANCE:this}evaluate(D){return!D.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=i.create(this.key,this)),this.negated}}e.ContextKeyNotExpr=a;function s(O,D){if(typeof O=="string"){const M=parseFloat(O);isNaN(M)||(O=M)}return typeof O=="string"||typeof O=="number"?D(O):g.INSTANCE}class o{constructor(D,M,P){this.key=D,this.value=M,this.negated=P,this.type=12}static create(D,M,P=null){return s(M,B=>new o(D,B,P))}cmp(D){return D.type!==this.type?this.type-D.type:T(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}substituteConstants(){return this}evaluate(D){return typeof this.value=="string"?!1:parseFloat(D.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=p.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterExpr=o;class c{constructor(D,M,P){this.key=D,this.value=M,this.negated=P,this.type=13}static create(D,M,P=null){return s(M,B=>new c(D,B,P))}cmp(D){return D.type!==this.type?this.type-D.type:T(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}substituteConstants(){return this}evaluate(D){return typeof this.value=="string"?!1:parseFloat(D.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=f.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterEqualsExpr=c;class f{constructor(D,M,P){this.key=D,this.value=M,this.negated=P,this.type=14}static create(D,M,P=null){return s(M,B=>new f(D,B,P))}cmp(D){return D.type!==this.type?this.type-D.type:T(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}substituteConstants(){return this}evaluate(D){return typeof this.value=="string"?!1:parseFloat(D.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=c.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerExpr=f;class p{constructor(D,M,P){this.key=D,this.value=M,this.negated=P,this.type=15}static create(D,M,P=null){return s(M,B=>new p(D,B,P))}cmp(D){return D.type!==this.type?this.type-D.type:T(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}substituteConstants(){return this}evaluate(D){return typeof this.value=="string"?!1:parseFloat(D.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=o.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerEqualsExpr=p;class _{constructor(D,M){this.key=D,this.regexp=M,this.type=7,this.negated=null}static create(D,M){return new _(D,M)}cmp(D){if(D.type!==this.type)return this.type-D.type;if(this.key<D.key)return-1;if(this.key>D.key)return 1;const M=this.regexp?this.regexp.source:"",P=D.regexp?D.regexp.source:"";return M<P?-1:M>P?1:0}equals(D){if(D.type===this.type){const M=this.regexp?this.regexp.source:"",P=D.regexp?D.regexp.source:"";return this.key===D.key&&M===P}return!1}substituteConstants(){return this}evaluate(D){const M=D.getValue(this.key);return this.regexp?this.regexp.test(M):!1}serialize(){const D=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${D}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=m.create(this)),this.negated}}e.ContextKeyRegexExpr=_;class m{constructor(D){this._actual=D,this.type=8}static create(D){return new m(D)}cmp(D){return D.type!==this.type?this.type-D.type:this._actual.cmp(D._actual)}equals(D){return D.type===this.type?this._actual.equals(D._actual):!1}substituteConstants(){return this}evaluate(D){return!this._actual.evaluate(D)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=m;function h(O){let D=null;for(let M=0,P=O.length;M<P;M++){const B=O[M].substituteConstants();if(O[M]!==B&&D===null){D=[];for(let W=0;W<M;W++)D[W]=O[W]}D!==null&&(D[M]=B)}return D===null?O:D}class S{constructor(D,M){this.expr=D,this.negated=M,this.type=6}static create(D,M){return S._normalizeArr(D,M)}cmp(D){if(D.type!==this.type)return this.type-D.type;if(this.expr.length<D.expr.length)return-1;if(this.expr.length>D.expr.length)return 1;for(let M=0,P=this.expr.length;M<P;M++){const B=u(this.expr[M],D.expr[M]);if(B!==0)return B}return 0}equals(D){if(D.type===this.type){if(this.expr.length!==D.expr.length)return!1;for(let M=0,P=this.expr.length;M<P;M++)if(!this.expr[M].equals(D.expr[M]))return!1;return!0}return!1}substituteConstants(){const D=h(this.expr);return D===this.expr?this:S.create(D,this.negated)}evaluate(D){for(let M=0,P=this.expr.length;M<P;M++)if(!this.expr[M].evaluate(D))return!1;return!0}static _normalizeArr(D,M){const P=[];let B=!1;for(const W of D)if(!!W){if(W.type===1){B=!0;continue}if(W.type===0)return g.INSTANCE;if(W.type===6){P.push(...W.expr);continue}P.push(W)}if(P.length===0&&B)return n.INSTANCE;if(P.length!==0){if(P.length===1)return P[0];P.sort(u);for(let W=1;W<P.length;W++)P[W-1].equals(P[W])&&(P.splice(W,1),W--);if(P.length===1)return P[0];for(;P.length>1;){const W=P[P.length-1];if(W.type!==9)break;P.pop();const V=P.pop(),A=P.length===0,Q=y.create(W.expr.map(J=>S.create([J,V],null)),null,A);Q&&(P.push(Q),P.sort(u))}return P.length===1?P[0]:new S(P,M)}}serialize(){return this.expr.map(D=>D.serialize()).join(" && ")}keys(){const D=[];for(const M of this.expr)D.push(...M.keys());return D}negate(){if(!this.negated){const D=[];for(const M of this.expr)D.push(M.negate());this.negated=y.create(D,this,!0)}return this.negated}}class y{constructor(D,M){this.expr=D,this.negated=M,this.type=9}static create(D,M,P){return y._normalizeArr(D,M,P)}cmp(D){if(D.type!==this.type)return this.type-D.type;if(this.expr.length<D.expr.length)return-1;if(this.expr.length>D.expr.length)return 1;for(let M=0,P=this.expr.length;M<P;M++){const B=u(this.expr[M],D.expr[M]);if(B!==0)return B}return 0}equals(D){if(D.type===this.type){if(this.expr.length!==D.expr.length)return!1;for(let M=0,P=this.expr.length;M<P;M++)if(!this.expr[M].equals(D.expr[M]))return!1;return!0}return!1}substituteConstants(){const D=h(this.expr);return D===this.expr?this:y.create(D,this.negated,!1)}evaluate(D){for(let M=0,P=this.expr.length;M<P;M++)if(this.expr[M].evaluate(D))return!0;return!1}static _normalizeArr(D,M,P){let B=[],W=!1;if(D){for(let V=0,A=D.length;V<A;V++){const Q=D[V];if(!!Q){if(Q.type===0){W=!0;continue}if(Q.type===1)return n.INSTANCE;if(Q.type===9){B=B.concat(Q.expr);continue}B.push(Q)}}if(B.length===0&&W)return g.INSTANCE;B.sort(u)}if(B.length!==0){if(B.length===1)return B[0];for(let V=1;V<B.length;V++)B[V-1].equals(B[V])&&(B.splice(V,1),V--);if(B.length===1)return B[0];if(P){for(let V=0;V<B.length;V++)for(let A=V+1;A<B.length;A++)R(B[V],B[A])&&(B.splice(A,1),A--);if(B.length===1)return B[0]}return new y(B,M)}}serialize(){return this.expr.map(D=>D.serialize()).join(" || ")}keys(){const D=[];for(const M of this.expr)D.push(...M.keys());return D}negate(){if(!this.negated){const D=[];for(const M of this.expr)D.push(M.negate());for(;D.length>1;){const M=D.shift(),P=D.shift(),B=[];for(const V of F(M))for(const A of F(P))B.push(S.create([V,A],null));const W=D.length===0;D.unshift(y.create(B,null,W))}this.negated=D[0]}return this.negated}}class E extends i{constructor(D,M,P){super(D,null);this._defaultValue=M,typeof P=="object"?E._info.push(Object.assign(Object.assign({},P),{key:D})):P!==!0&&E._info.push({key:D,description:P,type:M!=null?typeof M:void 0})}static all(){return E._info.values()}bindTo(D){return D.createKey(this.key,this._defaultValue)}getValue(D){return D.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(D){return t.create(this.key,D)}}e.RawContextKey=E,E._info=[],e.IContextKeyService=(0,k.createDecorator)("contextKeyService"),e.SET_CONTEXT_COMMAND_ID="setContext";function N(O,D){return O<D?-1:O>D?1:0}function T(O,D,M,P){return O<M?-1:O>M?1:D<P?-1:D>P?1:0}function R(O,D){if(D.type===6&&O.type!==9&&O.type!==6){for(const B of D.expr)if(O.equals(B))return!0}const M=O.negate(),P=F(M).concat(F(D));P.sort(u);for(let B=0;B<P.length;B++){const V=P[B].negate();for(let A=B+1;A<P.length;A++){const Q=P[A];if(V.equals(Q))return!0}}return!1}e.implies=R;function F(O){return O.type===9?O.expr:[O]}}),define(re[24],ae([1,0,534,16]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var k;(function(I){I.editorSimpleInput=new C.RawContextKey("editorSimpleInput",!1,!0),I.editorTextFocus=new C.RawContextKey("editorTextFocus",!1,w.localize(0,null)),I.focus=new C.RawContextKey("editorFocus",!1,w.localize(1,null)),I.textInputFocus=new C.RawContextKey("textInputFocus",!1,w.localize(2,null)),I.readOnly=new C.RawContextKey("editorReadonly",!1,w.localize(3,null)),I.inDiffEditor=new C.RawContextKey("inDiffEditor",!1,w.localize(4,null)),I.columnSelection=new C.RawContextKey("editorColumnSelection",!1,w.localize(5,null)),I.writable=I.readOnly.toNegated(),I.hasNonEmptySelection=new C.RawContextKey("editorHasSelection",!1,w.localize(6,null)),I.hasOnlyEmptySelection=I.hasNonEmptySelection.toNegated(),I.hasMultipleSelections=new C.RawContextKey("editorHasMultipleSelections",!1,w.localize(7,null)),I.hasSingleSelection=I.hasMultipleSelections.toNegated(),I.tabMovesFocus=new C.RawContextKey("editorTabMovesFocus",!1,w.localize(8,null)),I.tabDoesNotMoveFocus=I.tabMovesFocus.toNegated(),I.isInWalkThroughSnippet=new C.RawContextKey("isInEmbeddedEditor",!1,!0),I.canUndo=new C.RawContextKey("canUndo",!1,!0),I.canRedo=new C.RawContextKey("canRedo",!1,!0),I.hoverVisible=new C.RawContextKey("editorHoverVisible",!1,w.localize(9,null)),I.inCompositeEditor=new C.RawContextKey("inCompositeEditor",void 0,w.localize(10,null)),I.notInCompositeEditor=I.inCompositeEditor.toNegated(),I.languageId=new C.RawContextKey("editorLangId","",w.localize(11,null)),I.hasCompletionItemProvider=new C.RawContextKey("editorHasCompletionItemProvider",!1,w.localize(12,null)),I.hasCodeActionsProvider=new C.RawContextKey("editorHasCodeActionsProvider",!1,w.localize(13,null)),I.hasCodeLensProvider=new C.RawContextKey("editorHasCodeLensProvider",!1,w.localize(14,null)),I.hasDefinitionProvider=new C.RawContextKey("editorHasDefinitionProvider",!1,w.localize(15,null)),I.hasDeclarationProvider=new C.RawContextKey("editorHasDeclarationProvider",!1,w.localize(16,null)),I.hasImplementationProvider=new C.RawContextKey("editorHasImplementationProvider",!1,w.localize(17,null)),I.hasTypeDefinitionProvider=new C.RawContextKey("editorHasTypeDefinitionProvider",!1,w.localize(18,null)),I.hasHoverProvider=new C.RawContextKey("editorHasHoverProvider",!1,w.localize(19,null)),I.hasDocumentHighlightProvider=new C.RawContextKey("editorHasDocumentHighlightProvider",!1,w.localize(20,null)),I.hasDocumentSymbolProvider=new C.RawContextKey("editorHasDocumentSymbolProvider",!1,w.localize(21,null)),I.hasReferenceProvider=new C.RawContextKey("editorHasReferenceProvider",!1,w.localize(22,null)),I.hasRenameProvider=new C.RawContextKey("editorHasRenameProvider",!1,w.localize(23,null)),I.hasSignatureHelpProvider=new C.RawContextKey("editorHasSignatureHelpProvider",!1,w.localize(24,null)),I.hasInlayHintsProvider=new C.RawContextKey("editorHasInlayHintsProvider",!1,w.localize(25,null)),I.hasDocumentFormattingProvider=new C.RawContextKey("editorHasDocumentFormattingProvider",!1,w.localize(26,null)),I.hasDocumentSelectionFormattingProvider=new C.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,w.localize(27,null)),I.hasMultipleDocumentFormattingProvider=new C.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,w.localize(28,null)),I.hasMultipleDocumentSelectionFormattingProvider=new C.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,w.localize(29,null))})(k=e.EditorContextKeys||(e.EditorContextKeys={}))}),define(re[210],ae([1,0,21,14,19,22,11,28,20,58,26,16]),function($,e,w,C,k,I,L,b,v,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSignatureHelp=e.Context=void 0,e.Context={Visible:new n.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new n.RawContextKey("parameterHintsMultipleSignatures",!1)};function i(t,r,l,d,a){return Se(this,void 0,void 0,function*(){const s=t.ordered(r);for(const o of s)try{const c=yield o.provideSignatureHelp(r,l,a,d);if(c)return c}catch(c){(0,C.onUnexpectedExternalError)(c)}})}e.provideSignatureHelp=i,g.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",(t,...r)=>Se(void 0,void 0,void 0,function*(){const[l,d,a]=r;(0,k.assertType)(I.URI.isUri(l)),(0,k.assertType)(L.Position.isIPosition(d)),(0,k.assertType)(typeof a=="string"||!a);const s=t.get(v.ILanguageFeaturesService),o=yield t.get(u.ITextModelService).createModelReference(l);try{const c=yield i(s.signatureHelpProvider,o.object.textEditorModel,L.Position.lift(d),{triggerKind:b.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:a},w.CancellationToken.None);return c?(setTimeout(()=>c.dispose(),0),c.value):void 0}finally{o.dispose()}}))}),define(re[631],ae([1,0,10,14,6,2,107,28,210]),function($,e,w,C,k,I,L,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var u;(function(i){i.Default={type:0};class t{constructor(d,a){this.request=d,this.previouslyActiveHints=a,this.type=2}}i.Pending=t;class r{constructor(d){this.hints=d,this.type=1}}i.Active=r})(u||(u={}));class g extends I.Disposable{constructor(t,r,l=g.DEFAULT_DELAY){super();this._onChangedHints=this._register(new k.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=u.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new I.MutableDisposable),this.triggerChars=new L.CharacterSet,this.retriggerChars=new L.CharacterSet,this.triggerId=0,this.editor=t,this.providers=r,this.throttledDelayer=new w.Delayer(l),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(d=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(d=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(d=>this.onCursorChange(d))),this._register(this.editor.onDidChangeModelContent(d=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(d=>this.onDidType(d))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(t){this._state.type===2&&this._state.request.cancel(),this._state=t}cancel(t=!1){this.state=u.Default,this.throttledDelayer.cancel(),t||this._onChangedHints.fire(void 0)}trigger(t,r){const l=this.editor.getModel();if(!l||!this.providers.has(l))return;const d=++this.triggerId;this._pendingTriggers.push(t),this.throttledDelayer.trigger(()=>this.doTrigger(d),r).catch(C.onUnexpectedError)}next(){if(this.state.type!==1)return;const t=this.state.hints.signatures.length,r=this.state.hints.activeSignature,l=r%t==t-1,d=this.editor.getOption(78).cycle;if((t<2||l)&&!d){this.cancel();return}this.updateActiveSignature(l&&d?0:r+1)}previous(){if(this.state.type!==1)return;const t=this.state.hints.signatures.length,r=this.state.hints.activeSignature,l=r===0,d=this.editor.getOption(78).cycle;if((t<2||l)&&!d){this.cancel();return}this.updateActiveSignature(l&&d?t-1:r-1)}updateActiveSignature(t){this.state.type===1&&(this.state=new u.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:t})),this._onChangedHints.fire(this.state.hints))}doTrigger(t){return Se(this,void 0,void 0,function*(){const r=this.state.type===1||this.state.type===2,l=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const d=this._pendingTriggers.reduce(n);this._pendingTriggers=[];const a={triggerKind:d.triggerKind,triggerCharacter:d.triggerCharacter,isRetrigger:r,activeSignatureHelp:l};if(!this.editor.hasModel())return!1;const s=this.editor.getModel(),o=this.editor.getPosition();this.state=new u.Pending((0,w.createCancelablePromise)(c=>(0,v.provideSignatureHelp)(this.providers,s,o,a,c)),l);try{const c=yield this.state.request;return t!==this.triggerId?(c==null||c.dispose(),!1):!c||!c.value.signatures||c.value.signatures.length===0?(c==null||c.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new u.Active(c.value),this._lastSignatureHelpResult.value=c,this._onChangedHints.fire(this.state.hints),!0)}catch(c){return t===this.triggerId&&(this.state=u.Default),(0,C.onUnexpectedError)(c),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new L.CharacterSet,this.retriggerChars=new L.CharacterSet;const t=this.editor.getModel();if(!!t)for(const r of this.providers.ordered(t)){for(const l of r.signatureHelpTriggerCharacters||[])this.triggerChars.add(l.charCodeAt(0)),this.retriggerChars.add(l.charCodeAt(0));for(const l of r.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(l.charCodeAt(0))}}onDidType(t){if(!this.triggerOnType)return;const r=t.length-1,l=t.charCodeAt(r);(this.triggerChars.has(l)||this.isTriggered&&this.retriggerChars.has(l))&&this.trigger({triggerKind:b.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:t.charAt(r)})}onCursorChange(t){t.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:b.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:b.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(78).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=g,g.DEFAULT_DELAY=120;function n(i,t){switch(t.triggerKind){case b.SignatureHelpTriggerKind.Invoke:return t;case b.SignatureHelpTriggerKind.ContentChange:return i;case b.SignatureHelpTriggerKind.TriggerCharacter:default:return t}}}),define(re[632],ae([1,0,16]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let C=class Vt{constructor(I,L){this._editor=I,this._index=0,this._ckOtherSuggestions=Vt.OtherSuggestions.bindTo(L)}dispose(){this.reset()}reset(){var I;this._ckOtherSuggestions.reset(),(I=this._listener)===null||I===void 0||I.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:I,index:L},b){if(I.items.length===0){this.reset();return}if(Vt._moveIndex(!0,I,L)===L){this.reset();return}this._acceptNext=b,this._model=I,this._index=L,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(I,L,b){let v=b;for(;v=(v+L.items.length+(I?1:-1))%L.items.length,!(v===b||!L.items[v].completion.additionalTextEdits););return v}next(){this._move(!0)}prev(){this._move(!1)}_move(I){if(!!this._model)try{this._ignore=!0,this._index=Vt._moveIndex(I,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};C.OtherSuggestions=new w.RawContextKey("hasOtherSuggestions",!1),C=ke([me(1,w.IContextKeyService)],C),e.SuggestAlternatives=C}),define(re[633],ae([1,0,16]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let C=class ki{constructor(I,L){this._editor=I,this._enabled=!1,this._ckAtEnd=ki.AtEnd.bindTo(L),this._configListener=this._editor.onDidChangeConfiguration(b=>b.hasChanged(113)&&this._update()),this._update()}dispose(){var I;this._configListener.dispose(),(I=this._selectionListener)===null||I===void 0||I.dispose(),this._ckAtEnd.reset()}_update(){const I=this._editor.getOption(113)==="on";if(this._enabled!==I)if(this._enabled=I,this._enabled){const L=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const b=this._editor.getModel(),v=this._editor.getSelection(),u=b.getWordAtPosition(v.getStartPosition());if(!u){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(u.endColumn===v.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(L),L()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};C.AtEnd=new w.RawContextKey("atEndOfWord",!1),C=ke([me(1,w.IContextKeyService)],C),e.WordContextKey=C}),define(re[77],ae([1,0,16,9]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=(0,C.createDecorator)("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new w.RawContextKey("accessibilityModeEnabled",!1)}),define(re[634],ae([1,0,41,18,6,2,40,17,267,277,401,268,36,164,207,77]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComputedEditorOptions=e.EditorConfiguration=void 0;let d=class extends I.Disposable{constructor(m,h,S,y){super();this._accessibilityService=y,this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new k.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new i.ComputeOptionsMemory,this.isSimpleWidget=m,this._containerObserver=this._register(new v.ElementSizeObserver(S,h.dimension)),this._rawOptions=p(h),this._validatedOptions=f.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register(t.EditorZoom.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(n.TabFocus.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(u.FontMeasurements.onDidChange(()=>this._recomputeOptions())),this._register(w.PixelRatio.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const m=this._computeOptions(),h=f.checkEquals(this.options,m);h!==null&&(this.options=m,this._onDidChangeFast.fire(h),this._onDidChange.fire(h))}_computeOptions(){const m=this._readEnvConfiguration(),h=r.BareFontInfo.createFromValidatedSettings(this._validatedOptions,m.pixelRatio,this.isSimpleWidget),S=this._readFontInfo(h),y={memory:this._computeOptionsMemory,outerWidth:m.outerWidth,outerHeight:m.outerHeight-this._reservedHeight,fontInfo:S,extraEditorClassName:m.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:m.emptySelectionClipboard,pixelRatio:m.pixelRatio,tabFocusMode:n.TabFocus.getTabFocusMode(),accessibilitySupport:m.accessibilitySupport};return f.computeOptions(this._validatedOptions,y)}_readEnvConfiguration(){return{extraEditorClassName:s(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:w.isWebKit||w.isFirefox,pixelRatio:w.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(m){return u.FontMeasurements.readFontInfo(m)}getRawOptions(){return this._rawOptions}updateOptions(m){const h=p(m);!f.applyUpdate(this._rawOptions,h)||(this._validatedOptions=f.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(m){this._containerObserver.observe(m)}setIsDominatedByLongLines(m){this._isDominatedByLongLines!==m&&(this._isDominatedByLongLines=m,this._recomputeOptions())}setModelLineCount(m){const h=a(m);this._lineNumbersDigitCount!==h&&(this._lineNumbersDigitCount=h,this._recomputeOptions())}setViewLineCount(m){this._viewLineCount!==m&&(this._viewLineCount=m,this._recomputeOptions())}setReservedHeight(m){this._reservedHeight!==m&&(this._reservedHeight=m,this._recomputeOptions())}};d=ke([me(3,l.IAccessibilityService)],d),e.EditorConfiguration=d;function a(_){let m=0;for(;_;)_=Math.floor(_/10),m++;return m||1}function s(){let _="";return!w.isSafari&&!w.isWebkitWebView&&(_+="no-user-select "),w.isSafari&&(_+="no-minimap-shadow ",_+="enable-user-select "),b.isMacintosh&&(_+="mac "),_}class o{constructor(){this._values=[]}_read(m){return this._values[m]}get(m){return this._values[m]}_write(m,h){this._values[m]=h}}class c{constructor(){this._values=[]}_read(m){if(m>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[m]}get(m){return this._read(m)}_write(m,h){this._values[m]=h}}e.ComputedEditorOptions=c;class f{static validateOptions(m){const h=new o;for(const S of i.editorOptionsRegistry){const y=S.name==="_never_"?void 0:m[S.name];h._write(S.id,S.validate(y))}return h}static computeOptions(m,h){const S=new c;for(const y of i.editorOptionsRegistry)S._write(y.id,y.compute(h,S,m._read(y.id)));return S}static _deepEquals(m,h){if(typeof m!="object"||typeof h!="object"||!m||!h)return m===h;if(Array.isArray(m)||Array.isArray(h))return Array.isArray(m)&&Array.isArray(h)?C.equals(m,h):!1;if(Object.keys(m).length!==Object.keys(h).length)return!1;for(const S in m)if(!f._deepEquals(m[S],h[S]))return!1;return!0}static checkEquals(m,h){const S=[];let y=!1;for(const E of i.editorOptionsRegistry){const N=!f._deepEquals(m._read(E.id),h._read(E.id));S[E.id]=N,N&&(y=!0)}return y?new i.ConfigurationChangedEvent(S):null}static applyUpdate(m,h){let S=!1;for(const y of i.editorOptionsRegistry)if(h.hasOwnProperty(y.name)){const E=y.applyUpdate(m[y.name],h[y.name]);m[y.name]=E.newValue,S=S||E.didChange}return S}}function p(_){const m=L.deepClone(_);return(0,g.migrateOptions)(m),m}}),define(re[635],ae([1,0,6,55,2,51,40,22,612,26,30,16]),function($,e,w,C,k,I,L,b,v,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setContext=e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0;const i="data-keybinding-context";class t{constructor(E,N){this._id=E,this._parent=N,this._value=Object.create(null),this._value._contextId=E}get value(){return Object.assign({},this._value)}setValue(E,N){return this._value[E]!==N?(this._value[E]=N,!0):!1}removeValue(E){return E in this._value?(delete this._value[E],!0):!1}getValue(E){const N=this._value[E];return typeof N=="undefined"&&this._parent?this._parent.getValue(E):N}}e.Context=t;class r extends t{constructor(){super(-1,null)}setValue(E,N){return!1}removeValue(E){return!1}getValue(E){}}r.INSTANCE=new r;class l extends t{constructor(E,N,T){super(E,null);this._configurationService=N,this._values=I.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(R=>{if(R.source===7){const F=Array.from(C.Iterable.map(this._values,([O])=>O));this._values.clear(),T.fire(new s(F))}else{const F=[];for(const O of R.affectedKeys){const D=`config.${O}`,M=this._values.findSuperstr(D);M!==void 0&&(F.push(...C.Iterable.map(M,([P])=>P)),this._values.deleteSuperstr(D)),this._values.has(D)&&(F.push(D),this._values.delete(D))}T.fire(new s(F))}})}dispose(){this._listener.dispose()}getValue(E){if(E.indexOf(l._keyPrefix)!==0)return super.getValue(E);if(this._values.has(E))return this._values.get(E);const N=E.substr(l._keyPrefix.length),T=this._configurationService.getValue(N);let R;switch(typeof T){case"number":case"boolean":case"string":R=T;break;default:Array.isArray(T)?R=JSON.stringify(T):R=T}return this._values.set(E,R),R}setValue(E,N){return super.setValue(E,N)}removeValue(E){return super.removeValue(E)}}l._keyPrefix="config.";class d{constructor(E,N,T){this._service=E,this._key=N,this._defaultValue=T,this.reset()}set(E){this._service.setContext(this._key,E)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class a{constructor(E){this.key=E}affectsSome(E){return E.has(this.key)}allKeysContainedIn(E){return this.affectsSome(E)}}class s{constructor(E){this.keys=E}affectsSome(E){for(const N of this.keys)if(E.has(N))return!0;return!1}allKeysContainedIn(E){return this.keys.every(N=>E.has(N))}}class o{constructor(E){this.events=E}affectsSome(E){for(const N of this.events)if(N.affectsSome(E))return!0;return!1}allKeysContainedIn(E){return this.events.every(N=>N.allKeysContainedIn(E))}}function c(y,E){return y.allKeysContainedIn(new Set(Object.keys(E)))}class f{constructor(E){this._onDidChangeContext=new w.PauseableEmitter({merge:N=>new o(N)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=E}createKey(E,N){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new d(this,E,N)}bufferChangeEvents(E){this._onDidChangeContext.pause();try{E()}finally{this._onDidChangeContext.resume()}}createScoped(E){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new _(this,E)}contextMatchesRules(E){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const N=this.getContextValuesContainer(this._myContextId);return E?E.evaluate(N):!0}getContextKeyValue(E){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(E)}setContext(E,N){if(this._isDisposed)return;const T=this.getContextValuesContainer(this._myContextId);!T||T.setValue(E,N)&&this._onDidChangeContext.fire(new a(E))}removeContext(E){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(E)&&this._onDidChangeContext.fire(new a(E))}getContext(E){return this._isDisposed?r.INSTANCE:this.getContextValuesContainer(m(E))}}e.AbstractContextKeyService=f;let p=class extends f{constructor(E){super(0);this._contexts=new Map,this._toDispose=new k.DisposableStore,this._lastContextId=0;const N=new l(this._myContextId,E,this._onDidChangeContext);this._contexts.set(this._myContextId,N),this._toDispose.add(N)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(E){return this._isDisposed?r.INSTANCE:this._contexts.get(E)||r.INSTANCE}createChildContext(E=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const N=++this._lastContextId;return this._contexts.set(N,new t(N,this.getContextValuesContainer(E))),N}disposeContext(E){this._isDisposed||this._contexts.delete(E)}};p=ke([me(0,g.IConfigurationService)],p),e.ContextKeyService=p;class _ extends f{constructor(E,N){super(E.createChildContext());if(this._parentChangeListener=new k.MutableDisposable,this._parent=E,this._updateParentChangeListener(),this._domNode=N,this._domNode.hasAttribute(i)){let T="";this._domNode.classList&&(T=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${T?": "+T:""}`)}this._domNode.setAttribute(i,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(E=>{const T=this._parent.getContextValuesContainer(this._myContextId).value;c(E,T)||this._onDidChangeContext.fire(E)})}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(i),this._isDisposed=!0)}getContextValuesContainer(E){return this._isDisposed?r.INSTANCE:this._parent.getContextValuesContainer(E)}createChildContext(E=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(E)}disposeContext(E){this._isDisposed||this._parent.disposeContext(E)}}function m(y){for(;y;){if(y.hasAttribute(i)){const E=y.getAttribute(i);return E?parseInt(E,10):NaN}y=y.parentElement}return 0}function h(y,E,N){y.get(n.IContextKeyService).createKey(String(E),S(N))}e.setContext=h;function S(y){return(0,L.cloneAndChange)(y,E=>{if(typeof E=="object"&&E.$mid===1)return b.URI.revive(E).toString();if(E instanceof b.URI)return E.toString()})}u.CommandsRegistry.registerCommand(n.SET_CONTEXT_COMMAND_ID,h),u.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...n.RawContextKey.all()].sort((y,E)=>y.key.localeCompare(E.key))},description:{description:(0,v.localize)(0,null),args:[]}}),u.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const y=[],E=new Set;for(const N of n.RawContextKey.all())E.has(N.key)||(E.add(N.key),y.push(N));y.sort((N,T)=>N.key.localeCompare(T.key)),console.log(JSON.stringify(y,void 0,2))})}),define(re[286],ae([1,0,17,613,16]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContext=e.InputFocusedContextKey=e.ProductQualityContext=e.IsDevelopmentContext=e.IsIOSContext=e.IsMacNativeContext=e.IsWebContext=e.IsWindowsContext=e.IsLinuxContext=e.IsMacContext=void 0,e.IsMacContext=new k.RawContextKey("isMac",w.isMacintosh,(0,C.localize)(0,null)),e.IsLinuxContext=new k.RawContextKey("isLinux",w.isLinux,(0,C.localize)(1,null)),e.IsWindowsContext=new k.RawContextKey("isWindows",w.isWindows,(0,C.localize)(2,null)),e.IsWebContext=new k.RawContextKey("isWeb",w.isWeb,(0,C.localize)(3,null)),e.IsMacNativeContext=new k.RawContextKey("isMacNative",w.isMacintosh&&!w.isWeb,(0,C.localize)(4,null)),e.IsIOSContext=new k.RawContextKey("isIOS",w.isIOS,(0,C.localize)(5,null)),e.IsDevelopmentContext=new k.RawContextKey("isDevelopment",!1,!0),e.ProductQualityContext=new k.RawContextKey("productQualityType","",(0,C.localize)(6,null)),e.InputFocusedContextKey="inputFocus",e.InputFocusedContext=new k.RawContextKey(e.InputFocusedContextKey,!1,(0,C.localize)(7,null))}),define(re[78],ae([1,0,9]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=(0,w.createDecorator)("contextViewService"),e.IContextMenuService=(0,w.createDecorator)("contextMenuService")}),define(re[139],ae([1,0,9]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=(0,w.createDecorator)("dialogService")}),define(re[167],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class w{constructor(...k){this._entries=new Map;for(const[I,L]of k)this.set(I,L)}set(k,I){const L=this._entries.get(k);return this._entries.set(k,I),L}get(k){return this._entries.get(k)}}e.ServiceCollection=w}),define(re[636],ae([1,0,10,14,208,627,9,167]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Trace=e.InstantiationService=void 0;const v=!1;class u extends Error{constructor(t){var r;super("cyclic dependency between services");this.message=(r=t.findCycleSlow())!==null&&r!==void 0?r:`UNABLE to detect cycle, dumping graph: 
${t.toString()}`}}class g{constructor(t=new b.ServiceCollection,r=!1,l){this._activeInstantiations=new Set,this._services=t,this._strict=r,this._parent=l,this._services.set(L.IInstantiationService,this)}createChild(t){return new g(t,this._strict,this)}invokeFunction(t,...r){const l=n.traceInvocation(t);let d=!1;try{return t({get:s=>{if(d)throw(0,C.illegalState)("service accessor is only valid during the invocation of its target method");const o=this._getOrCreateServiceInstance(s,l);if(!o)throw new Error(`[invokeFunction] unknown service '${s}'`);return o}},...r)}finally{d=!0,l.stop()}}createInstance(t,...r){let l,d;return t instanceof k.SyncDescriptor?(l=n.traceCreation(t.ctor),d=this._createInstance(t.ctor,t.staticArguments.concat(r),l)):(l=n.traceCreation(t),d=this._createInstance(t,r,l)),l.stop(),d}_createInstance(t,r=[],l){const d=L._util.getServiceDependencies(t).sort((o,c)=>o.index-c.index),a=[];for(const o of d){const c=this._getOrCreateServiceInstance(o.id,l);c||this._throwIfStrict(`[createInstance] ${t.name} depends on UNKNOWN service ${o.id}.`,!1),a.push(c)}const s=d.length>0?d[0].index:r.length;if(r.length!==s){console.trace(`[createInstance] First service dependency of ${t.name} at position ${s+1} conflicts with ${r.length} static arguments`);const o=s-r.length;o>0?r=r.concat(new Array(o)):r=r.slice(0,s)}return new t(...[...r,...a])}_setServiceInstance(t,r){if(this._services.get(t)instanceof k.SyncDescriptor)this._services.set(t,r);else if(this._parent)this._parent._setServiceInstance(t,r);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(t){const r=this._services.get(t);return!r&&this._parent?this._parent._getServiceInstanceOrDescriptor(t):r}_getOrCreateServiceInstance(t,r){const l=this._getServiceInstanceOrDescriptor(t);return l instanceof k.SyncDescriptor?this._safeCreateAndCacheServiceInstance(t,l,r.branch(t,!0)):(r.branch(t,!1),l)}_safeCreateAndCacheServiceInstance(t,r,l){if(this._activeInstantiations.has(t))throw new Error(`illegal state - RECURSIVELY instantiating service '${t}'`);this._activeInstantiations.add(t);try{return this._createAndCacheServiceInstance(t,r,l)}finally{this._activeInstantiations.delete(t)}}_createAndCacheServiceInstance(t,r,l){const d=new I.Graph(o=>o.id.toString());let a=0;const s=[{id:t,desc:r,_trace:l}];for(;s.length;){const o=s.pop();if(d.lookupOrInsertNode(o),a++>1e3)throw new u(d);for(const c of L._util.getServiceDependencies(o.desc.ctor)){const f=this._getServiceInstanceOrDescriptor(c.id);if(f||this._throwIfStrict(`[createInstance] ${t} depends on ${c.id} which is NOT registered.`,!0),f instanceof k.SyncDescriptor){const p={id:c.id,desc:f,_trace:o._trace.branch(c.id,!0)};d.insertEdge(o,p),s.push(p)}}}for(;;){const o=d.roots();if(o.length===0){if(!d.isEmpty())throw new u(d);break}for(const{data:c}of o){if(this._getServiceInstanceOrDescriptor(c.id)instanceof k.SyncDescriptor){const p=this._createServiceInstanceWithOwner(c.id,c.desc.ctor,c.desc.staticArguments,c.desc.supportsDelayedInstantiation,c._trace);this._setServiceInstance(c.id,p)}d.removeNode(c)}}return this._getServiceInstanceOrDescriptor(t)}_createServiceInstanceWithOwner(t,r,l=[],d,a){if(this._services.get(t)instanceof k.SyncDescriptor)return this._createServiceInstance(r,l,d,a);if(this._parent)return this._parent._createServiceInstanceWithOwner(t,r,l,d,a);throw new Error(`illegalState - creating UNKNOWN service instance ${r.name}`)}_createServiceInstance(t,r=[],l,d){if(l){const a=new w.IdleValue(()=>this._createInstance(t,r,d));return new Proxy(Object.create(null),{get(s,o){if(o in s)return s[o];const c=a.value;let f=c[o];return typeof f!="function"||(f=f.bind(c),s[o]=f),f},set(s,o,c){return a.value[o]=c,!0}})}else return this._createInstance(t,r,d)}_throwIfStrict(t,r){if(r&&console.warn(t),this._strict)throw new Error(t)}}e.InstantiationService=g;class n{constructor(t,r){this.type=t,this.name=r,this._start=Date.now(),this._dep=[]}static traceInvocation(t){return v?new n(1,t.name||t.toString().substring(0,42).replace(/\n/g,"")):n._None}static traceCreation(t){return v?new n(0,t.name):n._None}branch(t,r){const l=new n(2,t.toString());return this._dep.push([t,r,l]),l}stop(){const t=Date.now()-this._start;n._totals+=t;let r=!1;function l(a,s){const o=[],c=new Array(a+1).join("	");for(const[f,p,_]of s._dep)if(p&&_){r=!0,o.push(`${c}CREATES -> ${f}`);const m=l(a+1,_);m&&o.push(m)}else o.push(`${c}uses -> ${f}`);return o.join(`
`)}const d=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${l(1,this)}`,`DONE, took ${t.toFixed(2)}ms (grand total ${n._totals.toFixed(2)}ms)`];(t>2||r)&&console.log(d.join(`
`))}}e.Trace=n,n._None=new class extends n{constructor(){super(-1,null)}stop(){}branch(){return this}},n._totals=0}),define(re[637],ae([1,0,10,6,2,615]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;const L=/^(cursor|delete)/;class b extends k.Disposable{constructor(g,n,i,t,r){super();this._contextKeyService=g,this._commandService=n,this._telemetryService=i,this._notificationService=t,this._logService=r,this._onDidUpdateKeybindings=this._register(new C.Emitter),this._currentChord=null,this._currentChordChecker=new w.IntervalTimer,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=v.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new w.TimeoutTimer,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:C.Event.None}dispose(){super.dispose()}_log(g){this._logging&&this._logService.info(`[KeybindingService]: ${g}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(g,n){const i=this._getResolver().lookupPrimaryKeybinding(g,n||this._contextKeyService);if(!!i)return i.resolvedKeybinding}dispatchEvent(g,n){return this._dispatch(g,n)}softDispatch(g,n){this._log("/ Soft dispatching keyboard event");const i=this.resolveKeyboardEvent(g);if(i.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[t]=i.getDispatchParts();if(t===null)return this._log("\\ Keyboard event cannot be dispatched"),null;const r=this._contextKeyService.getContext(n),l=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(r,l,t)}_enterChordMode(g,n){this._currentChord={keypress:g,label:n},this._currentChordStatusMessage=this._notificationService.status(I.localize(0,null,n));const i=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-i>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(g,n){return this._doDispatch(this.resolveKeyboardEvent(g),n,!1)}_singleModifierDispatch(g,n){const i=this.resolveKeyboardEvent(g),[t]=i.getSingleModifierDispatchParts();if(t)return this._ignoreSingleModifiers.has(t)?(this._log(`+ Ignoring single modifier ${t} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=v.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=v.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${t}.`),this._currentSingleModifier=t,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):t===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${t} ${t}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(i,n,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${t}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[r]=i.getParts();return this._ignoreSingleModifiers=new v(r),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(g,n,i=!1){let t=!1;if(g.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let r=null,l=null;if(i){const[o]=g.getSingleModifierDispatchParts();r=o,l=o}else[r]=g.getDispatchParts(),l=this._currentChord?this._currentChord.keypress:null;if(r===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),t;const d=this._contextKeyService.getContext(n),a=g.getLabel(),s=this._getResolver().resolve(d,l,r);return this._logService.trace("KeybindingService#dispatch",a,s==null?void 0:s.commandId),s&&s.enterChord?(t=!0,this._enterChordMode(r,a),this._log("+ Entering chord mode..."),t):(this._currentChord&&(!s||!s.commandId)&&(this._log(`+ Leaving chord mode: Nothing bound to "${this._currentChord.label} ${a}".`),this._notificationService.status(I.localize(1,null,this._currentChord.label,a),{hideAfter:10*1e3}),t=!0),this._leaveChordMode(),s&&s.commandId&&(s.bubble||(t=!0),this._log(`+ Invoking command ${s.commandId}.`),typeof s.commandArgs=="undefined"?this._commandService.executeCommand(s.commandId).then(void 0,o=>this._notificationService.warn(o)):this._commandService.executeCommand(s.commandId,s.commandArgs).then(void 0,o=>this._notificationService.warn(o)),L.test(s.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:s.commandId,from:"keybinding"})),t)}mightProducePrintableCharacter(g){return g.ctrlKey||g.metaKey?!1:g.keyCode>=31&&g.keyCode<=56||g.keyCode>=21&&g.keyCode<=30}}e.AbstractKeybindingService=b;class v{constructor(g){this._ctrlKey=g?g.ctrlKey:!1,this._shiftKey=g?g.shiftKey:!1,this._altKey=g?g.altKey:!1,this._metaKey=g?g.metaKey:!1}has(g){switch(g){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}v.EMPTY=new v(null)}),define(re[638],ae([1,0,14,190,104]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class I extends k.ResolvedKeybinding{constructor(b,v){super();if(v.length===0)throw(0,w.illegalArgument)("parts");this._os=b,this._parts=v}getLabel(){return C.UILabelProvider.toLabel(this._os,this._parts,b=>this._getLabel(b))}getAriaLabel(){return C.AriaLabelProvider.toLabel(this._os,this._parts,b=>this._getAriaLabel(b))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:C.ElectronAcceleratorLabelProvider.toLabel(this._os,this._parts,b=>this._getElectronAccelerator(b))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(b=>this._getPart(b))}_getPart(b){return new k.ResolvedKeybindingPart(b.ctrlKey,b.shiftKey,b.altKey,b.metaKey,this._getLabel(b),this._getAriaLabel(b))}getDispatchParts(){return this._parts.map(b=>this._getDispatchPart(b))}getSingleModifierDispatchParts(){return this._parts.map(b=>this._getSingleModifierDispatchPart(b))}}e.BaseResolvedKeybinding=I}),define(re[42],ae([1,0,9]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=(0,w.createDecorator)("keybindingService")}),define(re[639],ae([1,0,16]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=void 0;class C{constructor(b,v,u){this._log=u,this._defaultKeybindings=b,this._defaultBoundCommands=new Map;for(const g of b){const n=g.command;n&&n.charAt(0)!=="-"&&this._defaultBoundCommands.set(n,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=C.handleRemovals([].concat(b).concat(v));for(let g=0,n=this._keybindings.length;g<n;g++){const i=this._keybindings[g];i.keypressParts.length!==0&&(i.when&&i.when.type===0||this._addKeyPress(i.keypressParts[0],i))}}static _isTargetedForRemoval(b,v,u,g){return!(v&&b.keypressParts[0]!==v||u&&b.keypressParts[1]!==u||g&&(!b.when||!(0,w.expressionsAreEqualWithConstantSubstitution)(g,b.when)))}static handleRemovals(b){const v=new Map;for(let g=0,n=b.length;g<n;g++){const i=b[g];if(i.command&&i.command.charAt(0)==="-"){const t=i.command.substring(1);v.has(t)?v.get(t).push(i):v.set(t,[i])}}if(v.size===0)return b;const u=[];for(let g=0,n=b.length;g<n;g++){const i=b[g];if(!i.command||i.command.length===0){u.push(i);continue}if(i.command.charAt(0)==="-")continue;const t=v.get(i.command);if(!t||!i.isDefault){u.push(i);continue}let r=!1;for(const l of t){const d=l.keypressParts[0],a=l.keypressParts[1],s=l.when;if(this._isTargetedForRemoval(i,d,a,s)){r=!0;break}}if(!r){u.push(i);continue}}return u}_addKeyPress(b,v){const u=this._map.get(b);if(typeof u=="undefined"){this._map.set(b,[v]),this._addToLookupMap(v);return}for(let g=u.length-1;g>=0;g--){const n=u[g];if(n.command===v.command)continue;const i=n.keypressParts.length>1,t=v.keypressParts.length>1;i&&t&&n.keypressParts[1]!==v.keypressParts[1]||C.whenIsEntirelyIncluded(n.when,v.when)&&this._removeFromLookupMap(n)}u.push(v),this._addToLookupMap(v)}_addToLookupMap(b){if(!b.command)return;let v=this._lookupMap.get(b.command);typeof v=="undefined"?(v=[b],this._lookupMap.set(b.command,v)):v.push(b)}_removeFromLookupMap(b){if(!b.command)return;const v=this._lookupMap.get(b.command);if(typeof v!="undefined"){for(let u=0,g=v.length;u<g;u++)if(v[u]===b){v.splice(u,1);return}}}static whenIsEntirelyIncluded(b,v){return!v||v.type===1?!0:!b||b.type===1?!1:(0,w.implies)(b,v)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(b,v){const u=this._lookupMap.get(b);if(typeof u=="undefined"||u.length===0)return null;if(u.length===1)return u[0];for(let g=u.length-1;g>=0;g--){const n=u[g];if(v.contextMatchesRules(n.when))return n}return u[u.length-1]}resolve(b,v,u){this._log(`| Resolving ${u}${v?` chorded from ${v}`:""}`);let g=null;if(v!==null){const i=this._map.get(v);if(typeof i=="undefined")return this._log("\\ No keybinding entries."),null;g=[];for(let t=0,r=i.length;t<r;t++){const l=i[t];l.keypressParts[1]===u&&g.push(l)}}else{const i=this._map.get(u);if(typeof i=="undefined")return this._log("\\ No keybinding entries."),null;g=i}const n=this._findCommand(b,g);return n?v===null&&n.keypressParts.length>1&&n.keypressParts[1]!==null?(this._log(`\\ From ${g.length} keybinding entries, matched chord, when: ${k(n.when)}, source: ${I(n)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${g.length} keybinding entries, matched ${n.command}, when: ${k(n.when)}, source: ${I(n)}.`),{enterChord:!1,leaveChord:n.keypressParts.length>1,commandId:n.command,commandArgs:n.commandArgs,bubble:n.bubble}):(this._log(`\\ From ${g.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(b,v){for(let u=v.length-1;u>=0;u--){const g=v[u];if(!!C._contextMatchesRules(b,g.when))return g}return null}static _contextMatchesRules(b,v){return v?v.evaluate(b):!0}}e.KeybindingResolver=C;function k(L){return L?`${L.serialize()}`:"no when condition"}function I(L){return L.extensionId?L.isBuiltinExtension?`built-in extension ${L.extensionId}`:`user extension ${L.extensionId}`:L.isDefault?"built-in":"user"}}),define(re[287],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeElementsAfterNulls=e.ResolvedKeybindingItem=void 0;class w{constructor(I,L,b,v,u,g,n){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=I,this.keypressParts=I?C(I.getDispatchParts()):[],I&&this.keypressParts.length===0&&(this.keypressParts=C(I.getSingleModifierDispatchParts())),this.bubble=L?L.charCodeAt(0)===94:!1,this.command=this.bubble?L.substr(1):L,this.commandArgs=b,this.when=v,this.isDefault=u,this.extensionId=g,this.isBuiltinExtension=n}}e.ResolvedKeybindingItem=w;function C(k){const I=[];for(let L=0,b=k.length;L<b;L++){const v=k[L];if(!v)return I;I.push(v)}return I}e.removeElementsAfterNulls=C}),define(re[640],ae([1,0,59,104,638,287]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class L extends k.BaseResolvedKeybinding{constructor(v,u){super(u,v.parts)}_keyCodeToUILabel(v){if(this._os===2)switch(v){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return w.KeyCodeUtils.toString(v)}_getLabel(v){return v.isDuplicateModifierCase()?"":this._keyCodeToUILabel(v.keyCode)}_getAriaLabel(v){return v.isDuplicateModifierCase()?"":w.KeyCodeUtils.toString(v.keyCode)}_getElectronAccelerator(v){return w.KeyCodeUtils.toElectronAccelerator(v.keyCode)}_getDispatchPart(v){return L.getDispatchStr(v)}static getDispatchStr(v){if(v.isModifierKey())return null;let u="";return v.ctrlKey&&(u+="ctrl+"),v.shiftKey&&(u+="shift+"),v.altKey&&(u+="alt+"),v.metaKey&&(u+="meta+"),u+=w.KeyCodeUtils.toString(v.keyCode),u}_getSingleModifierDispatchPart(v){return v.keyCode===5&&!v.shiftKey&&!v.altKey&&!v.metaKey?"ctrl":v.keyCode===4&&!v.ctrlKey&&!v.altKey&&!v.metaKey?"shift":v.keyCode===6&&!v.ctrlKey&&!v.shiftKey&&!v.metaKey?"alt":v.keyCode===57&&!v.ctrlKey&&!v.shiftKey&&!v.altKey?"meta":null}static _scanCodeToKeyCode(v){const u=w.IMMUTABLE_CODE_TO_KEY_CODE[v];if(u!==-1)return u;switch(v){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(v){if(!v)return null;if(v instanceof C.SimpleKeybinding)return v;const u=this._scanCodeToKeyCode(v.scanCode);return u===0?null:new C.SimpleKeybinding(v.ctrlKey,v.shiftKey,v.altKey,v.metaKey,u)}static resolveUserBinding(v,u){const g=(0,I.removeElementsAfterNulls)(v.map(n=>this._resolveSimpleUserBinding(n)));return g.length>0?[new L(new C.ChordKeybinding(g),u)]:[]}}e.USLayoutResolvedKeybinding=L}),define(re[140],ae([1,0,9]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,w.createDecorator)("labelService")}),define(re[116],ae([1,0,9]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=(0,w.createDecorator)("layoutService")}),define(re[288],ae([1,0,7,6,116,29,53]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScopedLayoutService=void 0;let b=class{constructor(g){this._codeEditorService=g,this.onDidLayout=C.Event.None,this.offset={top:0,quickPickTop:0}}get dimension(){return this._dimension||(this._dimension=w.getClientArea(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var g;(g=this._codeEditorService.getFocusedCodeEditor())===null||g===void 0||g.focus()}};b=ke([me(0,I.ICodeEditorService)],b);let v=class extends b{constructor(g,n){super(n);this._container=g}get hasContainer(){return!1}get container(){return this._container}};v=ke([me(1,I.ICodeEditorService)],v),e.EditorScopedLayoutService=v,(0,L.registerSingleton)(k.ILayoutService,b)}),define(re[641],ae([1,0,7,6,2,77,30,16,116]),function($,e,w,C,k,I,L,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let u=class extends k.Disposable{constructor(n,i,t){super();this._contextKeyService=n,this._layoutService=i,this._configurationService=t,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new C.Emitter,this._onDidChangeReducedMotion=new C.Emitter,this._accessibilityModeEnabledContext=I.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const r=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(d=>{d.affectsConfiguration("editor.accessibilitySupport")&&(r(),this._onDidChangeScreenReaderOptimized.fire()),d.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),r(),this._register(this.onDidChangeScreenReaderOptimized(()=>r()));const l=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=l.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(l)}initReducedMotionListeners(n){if(!this._layoutService.hasContainer)return;this._register((0,w.addDisposableListener)(n,"change",()=>{this._systemMotionReduced=n.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const i=()=>{const t=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",t),this._layoutService.container.classList.toggle("enable-motion",!t)};i(),this._register(this.onDidChangeReducedMotion(()=>i()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const n=this._configurationService.getValue("editor.accessibilitySupport");return n==="on"||n==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const n=this._configMotionReduced;return n==="on"||n==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};u=ke([me(0,b.IContextKeyService),me(1,v.ILayoutService),me(2,L.IConfigurationService)],u),e.AccessibilityService=u}),define(re[642],ae([1,0,254,2,116]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=void 0;let I=class extends C.Disposable{constructor(b){super();this.layoutService=b,this.currentViewDisposable=C.Disposable.None,this.container=b.hasContainer?b.container:null,this.contextView=this._register(new w.ContextView(this.container,1)),this.layout(),this._register(b.onDidLayout(()=>this.layout()))}setContainer(b,v){this.contextView.setContainer(b,v||1)}showContextView(b,v,u){v?(v!==this.container||this.shadowRoot!==u)&&(this.container=v,this.setContainer(v,u?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=u,this.contextView.show(b);const g=(0,C.toDisposable)(()=>{this.currentViewDisposable===g&&this.hideContextView()});return this.currentViewDisposable=g,g}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(b){this.contextView.hide(b)}};I=ke([me(0,k.ILayoutService)],I),e.ContextViewService=I}),define(re[69],ae([1,0,6,2,9]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=e.ConsoleLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.ILogService=(0,k.createDecorator)("logService");var I;(function(u){u[u.Trace=0]="Trace",u[u.Debug=1]="Debug",u[u.Info=2]="Info",u[u.Warning=3]="Warning",u[u.Error=4]="Error",u[u.Critical=5]="Critical",u[u.Off=6]="Off"})(I=e.LogLevel||(e.LogLevel={})),e.DEFAULT_LOG_LEVEL=I.Info;class L extends C.Disposable{constructor(){super(...arguments);this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new w.Emitter)}setLevel(g){this.level!==g&&(this.level=g,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}e.AbstractLogger=L;class b extends L{constructor(g=e.DEFAULT_LOG_LEVEL){super();this.setLevel(g)}trace(g,...n){this.getLevel()<=I.Trace&&console.log("%cTRACE","color: #888",g,...n)}debug(g,...n){this.getLevel()<=I.Debug&&console.log("%cDEBUG","background: #eee; color: #888",g,...n)}info(g,...n){this.getLevel()<=I.Info&&console.log("%c INFO","color: #33f",g,...n)}error(g,...n){this.getLevel()<=I.Error&&console.log("%c  ERR","color: #f33",g,...n)}dispose(){}}e.ConsoleLogger=b;class v extends C.Disposable{constructor(g){super();this.logger=g,this._register(g)}getLevel(){return this.logger.getLevel()}trace(g,...n){this.logger.trace(g,...n)}debug(g,...n){this.logger.debug(g,...n)}info(g,...n){this.logger.info(g,...n)}error(g,...n){this.logger.error(g,...n)}}e.LogService=v}),define(re[643],ae([1,0,41,7,10,2,116,69]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;let v=class extends I.Disposable{constructor(g,n){super();this.layoutService=g,this.logService=n,this.mapTextToType=new Map,this.findText="",this.resources=[],(w.isSafari||w.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const g=()=>{const n=new k.DeferredPromise;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=n,navigator.clipboard.write([new ClipboardItem({"text/plain":n.p})]).catch(i=>Se(this,void 0,void 0,function*(){(!(i instanceof Error)||i.name!=="NotAllowedError"||!n.isRejected)&&this.logService.error(i)}))};this.layoutService.hasContainer&&(this._register((0,C.addDisposableListener)(this.layoutService.container,"click",g)),this._register((0,C.addDisposableListener)(this.layoutService.container,"keydown",g)))}writeText(g,n){return Se(this,void 0,void 0,function*(){if(n){this.mapTextToType.set(n,g);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(g);try{return yield navigator.clipboard.writeText(g)}catch(r){console.error(r)}const i=document.activeElement,t=document.body.appendChild((0,C.$)("textarea",{"aria-hidden":!0}));t.style.height="1px",t.style.width="1px",t.style.position="absolute",t.value=g,t.focus(),t.select(),document.execCommand("copy"),i instanceof HTMLElement&&i.focus(),document.body.removeChild(t)})}readText(g){return Se(this,void 0,void 0,function*(){if(g)return this.mapTextToType.get(g)||"";try{return yield navigator.clipboard.readText()}catch(n){return console.error(n),""}})}readFindText(){return Se(this,void 0,void 0,function*(){return this.findText})}writeFindText(g){return Se(this,void 0,void 0,function*(){this.findText=g})}readResources(){return Se(this,void 0,void 0,function*(){return this.resources})}};v=ke([me(0,L.ILayoutService),me(1,b.ILogService)],v),e.BrowserClipboardService=v}),define(re[84],ae([1,0,81,617,9]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var I;(function(b){b[b.Hint=1]="Hint",b[b.Info=2]="Info",b[b.Warning=4]="Warning",b[b.Error=8]="Error"})(I=e.MarkerSeverity||(e.MarkerSeverity={})),function(b){function v(t,r){return r-t}b.compare=v;const u=Object.create(null);u[b.Error]=(0,C.localize)(0,null),u[b.Warning]=(0,C.localize)(1,null),u[b.Info]=(0,C.localize)(2,null);function g(t){return u[t]||""}b.toString=g;function n(t){switch(t){case w.default.Error:return b.Error;case w.default.Warning:return b.Warning;case w.default.Info:return b.Info;case w.default.Ignore:return b.Hint}}b.fromSeverity=n;function i(t){switch(t){case b.Error:return w.default.Error;case b.Warning:return w.default.Warning;case b.Info:return w.default.Info;case b.Hint:return w.default.Ignore}}b.toSeverity=i}(I=e.MarkerSeverity||(e.MarkerSeverity={}));var L;(function(b){const v="";function u(n){return g(n,!0)}b.makeKey=u;function g(n,i){const t=[v];return n.source?t.push(n.source.replace("\xA6","\\\xA6")):t.push(v),n.code?typeof n.code=="string"?t.push(n.code.replace("\xA6","\\\xA6")):t.push(n.code.value.replace("\xA6","\\\xA6")):t.push(v),n.severity!==void 0&&n.severity!==null?t.push(I.toString(n.severity)):t.push(v),n.message&&i?t.push(n.message.replace("\xA6","\\\xA6")):t.push(v),n.startLineNumber!==void 0&&n.startLineNumber!==null?t.push(n.startLineNumber.toString()):t.push(v),n.startColumn!==void 0&&n.startColumn!==null?t.push(n.startColumn.toString()):t.push(v),n.endLineNumber!==void 0&&n.endLineNumber!==null?t.push(n.endLineNumber.toString()):t.push(v),n.endColumn!==void 0&&n.endColumn!==null?t.push(n.endColumn.toString()):t.push(v),t.push(v),t.join("\xA6")}b.makeKeyOptionalMessage=g})(L=e.IMarkerData||(e.IMarkerData={})),e.IMarkerService=(0,k.createDecorator)("markerService")}),define(re[644],ae([1,0,18,6,2,73,8,22,3,53,9,84,30]),function($,e,w,C,k,I,L,b,v,u,g,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class t{constructor(a,s,o){this.marker=a,this.index=s,this.total=o}}e.MarkerCoordinate=t;let r=class{constructor(a,s,o){this._markerService=s,this._configService=o,this._onDidChange=new C.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new k.DisposableStore,this._markers=[],this._nextIdx=-1,b.URI.isUri(a)?this._resourceFilter=_=>_.toString()===a.toString():a&&(this._resourceFilter=a);const c=this._configService.getValue("problems.sortOrder"),f=(_,m)=>{let h=(0,L.compare)(_.resource.toString(),m.resource.toString());return h===0&&(c==="position"?h=v.Range.compareRangesUsingStarts(_,m)||n.MarkerSeverity.compare(_.severity,m.severity):h=n.MarkerSeverity.compare(_.severity,m.severity)||v.Range.compareRangesUsingStarts(_,m)),h},p=()=>{this._markers=this._markerService.read({resource:b.URI.isUri(a)?a:void 0,severities:n.MarkerSeverity.Error|n.MarkerSeverity.Warning|n.MarkerSeverity.Info}),typeof a=="function"&&(this._markers=this._markers.filter(_=>this._resourceFilter(_.resource))),this._markers.sort(f)};p(),this._dispoables.add(s.onMarkerChanged(_=>{(!this._resourceFilter||_.some(m=>this._resourceFilter(m)))&&(p(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(a){return!this._resourceFilter&&!a?!0:!this._resourceFilter||!a?!1:this._resourceFilter(a)}get selected(){const a=this._markers[this._nextIdx];return a&&new t(a,this._nextIdx+1,this._markers.length)}_initIdx(a,s,o){let c=!1,f=this._markers.findIndex(p=>p.resource.toString()===a.uri.toString());f<0&&(f=(0,w.binarySearch)(this._markers,{resource:a.uri},(p,_)=>(0,L.compare)(p.resource.toString(),_.resource.toString())),f<0&&(f=~f));for(let p=f;p<this._markers.length;p++){let _=v.Range.lift(this._markers[p]);if(_.isEmpty()){const m=a.getWordAtPosition(_.getStartPosition());m&&(_=new v.Range(_.startLineNumber,m.startColumn,_.startLineNumber,m.endColumn))}if(s&&(_.containsPosition(s)||s.isBeforeOrEqual(_.getStartPosition()))){this._nextIdx=p,c=!0;break}if(this._markers[p].resource.toString()!==a.uri.toString())break}c||(this._nextIdx=o?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(a,s,o){if(this._markers.length===0)return!1;const c=this._nextIdx;return this._nextIdx===-1?this._initIdx(s,o,a):a?this._nextIdx=(this._nextIdx+1)%this._markers.length:a||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),c!==this._nextIdx}find(a,s){let o=this._markers.findIndex(c=>c.resource.toString()===a.toString());if(!(o<0)){for(;o<this._markers.length;o++)if(v.Range.containsPosition(this._markers[o],s))return new t(this._markers[o],o+1,this._markers.length)}}};r=ke([me(1,n.IMarkerService),me(2,i.IConfigurationService)],r),e.MarkerList=r,e.IMarkerNavigationService=(0,g.createDecorator)("IMarkerNavigationService");let l=class{constructor(a,s){this._markerService=a,this._configService=s,this._provider=new I.LinkedList}getMarkerList(a){for(const s of this._provider){const o=s.getMarkerList(a);if(o)return o}return new r(a,this._markerService,this._configService)}};l=ke([me(0,n.IMarkerService),me(1,i.IConfigurationService)],l),(0,u.registerSingleton)(e.IMarkerNavigationService,l,!0)}),define(re[645],ae([1,0,18,6,55,51,52,22,84]),function($,e,w,C,k,I,L,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=void 0;class u{constructor(){this._byResource=new I.ResourceMap,this._byOwner=new Map}set(t,r,l){let d=this._byResource.get(t);d||(d=new Map,this._byResource.set(t,d)),d.set(r,l);let a=this._byOwner.get(r);a||(a=new I.ResourceMap,this._byOwner.set(r,a)),a.set(t,l)}get(t,r){const l=this._byResource.get(t);return l==null?void 0:l.get(r)}delete(t,r){let l=!1,d=!1;const a=this._byResource.get(t);a&&(l=a.delete(r));const s=this._byOwner.get(r);if(s&&(d=s.delete(t)),l!==d)throw new Error("illegal state");return l&&d}values(t){var r,l,d,a;return typeof t=="string"?(l=(r=this._byOwner.get(t))===null||r===void 0?void 0:r.values())!==null&&l!==void 0?l:k.Iterable.empty():b.URI.isUri(t)?(a=(d=this._byResource.get(t))===null||d===void 0?void 0:d.values())!==null&&a!==void 0?a:k.Iterable.empty():k.Iterable.map(k.Iterable.concat(...this._byOwner.values()),s=>s[1])}}class g{constructor(t){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new I.ResourceMap,this._service=t,this._subscription=t.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(t){for(const r of t){const l=this._data.get(r);l&&this._substract(l);const d=this._resourceStats(r);this._add(d),this._data.set(r,d)}}_resourceStats(t){const r={errors:0,warnings:0,infos:0,unknowns:0};if(t.scheme===L.Schemas.inMemory||t.scheme===L.Schemas.walkThrough||t.scheme===L.Schemas.walkThroughSnippet||t.scheme===L.Schemas.vscodeSourceControl)return r;for(const{severity:l}of this._service.read({resource:t}))l===v.MarkerSeverity.Error?r.errors+=1:l===v.MarkerSeverity.Warning?r.warnings+=1:l===v.MarkerSeverity.Info?r.infos+=1:r.unknowns+=1;return r}_substract(t){this.errors-=t.errors,this.warnings-=t.warnings,this.infos-=t.infos,this.unknowns-=t.unknowns}_add(t){this.errors+=t.errors,this.warnings+=t.warnings,this.infos+=t.infos,this.unknowns+=t.unknowns}}class n{constructor(){this._onMarkerChanged=new C.DebounceEmitter({delay:0,merge:n._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new u,this._stats=new g(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(t,r){for(const l of r||[])this.changeOne(t,l,[])}changeOne(t,r,l){if((0,w.isFalsyOrEmpty)(l))this._data.delete(r,t)&&this._onMarkerChanged.fire([r]);else{const d=[];for(const a of l){const s=n._toMarker(t,r,a);s&&d.push(s)}this._data.set(r,t,d),this._onMarkerChanged.fire([r])}}static _toMarker(t,r,l){let{code:d,severity:a,message:s,source:o,startLineNumber:c,startColumn:f,endLineNumber:p,endColumn:_,relatedInformation:m,tags:h}=l;if(!!s)return c=c>0?c:1,f=f>0?f:1,p=p>=c?p:c,_=_>0?_:f,{resource:r,owner:t,code:d,severity:a,message:s,source:o,startLineNumber:c,startColumn:f,endLineNumber:p,endColumn:_,relatedInformation:m,tags:h}}changeAll(t,r){const l=[],d=this._data.values(t);if(d)for(const a of d){const s=k.Iterable.first(a);s&&(l.push(s.resource),this._data.delete(s.resource,t))}if((0,w.isNonEmptyArray)(r)){const a=new I.ResourceMap;for(const{resource:s,marker:o}of r){const c=n._toMarker(t,s,o);if(!c)continue;const f=a.get(s);f?f.push(c):(a.set(s,[c]),l.push(s))}for(const[s,o]of a)this._data.set(s,t,o)}l.length>0&&this._onMarkerChanged.fire(l)}read(t=Object.create(null)){let{owner:r,resource:l,severities:d,take:a}=t;if((!a||a<0)&&(a=-1),r&&l){const s=this._data.get(l,r);if(s){const o=[];for(const c of s)if(n._accept(c,d)){const f=o.push(c);if(a>0&&f===a)break}return o}else return[]}else if(!r&&!l){const s=[];for(const o of this._data.values())for(const c of o)if(n._accept(c,d)){const f=s.push(c);if(a>0&&f===a)return s}return s}else{const s=this._data.values(l??r),o=[];for(const c of s)for(const f of c)if(n._accept(f,d)){const p=o.push(f);if(a>0&&p===a)return o}return o}}static _accept(t,r){return r===void 0||(r&t.severity)===t.severity}static _merge(t){const r=new I.ResourceMap;for(const l of t)for(const d of l)r.set(d,!0);return Array.from(r.keys())}}e.MarkerService=n}),define(re[39],ae([1,0,81,9]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=w.default,e.INotificationService=(0,C.createDecorator)("notificationService");class k{}e.NoOpNotification=k}),define(re[45],ae([1,0,2,8,22,9]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractSelection=e.matchesSomeScheme=e.matchesScheme=e.NullOpenerService=e.IOpenerService=void 0,e.IOpenerService=(0,I.createDecorator)("openerService"),e.NullOpenerService=Object.freeze({_serviceBrand:void 0,registerOpener(){return w.Disposable.None},registerValidator(){return w.Disposable.None},registerExternalUriResolver(){return w.Disposable.None},setDefaultExternalOpener(){},registerExternalOpener(){return w.Disposable.None},open(){return Se(this,void 0,void 0,function*(){return!1})},resolveExternalUri(u){return Se(this,void 0,void 0,function*(){return{resolved:u,dispose(){}}})}});function L(u,g){return k.URI.isUri(u)?(0,C.equalsIgnoreCase)(u.scheme,g):(0,C.startsWithIgnoreCase)(u,g+":")}e.matchesScheme=L;function b(u,...g){return g.some(n=>L(u,n))}e.matchesSomeScheme=b;function v(u){let g;const n=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(u.fragment);return n&&(g={startLineNumber:parseInt(n[1]),startColumn:n[2]?parseInt(n[2]):1,endLineNumber:n[4]?parseInt(n[4]):void 0,endColumn:n[4]?n[5]?parseInt(n[5]):1:void 0},u=u.with({fragment:""})),{selection:g,uri:u}}e.extractSelection=v}),define(re[646],ae([1,0,7,21,73,51,195,52,44,22,29,26,624,45]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let r=class{constructor(s){this._commandService=s}open(s,o){return Se(this,void 0,void 0,function*(){if(!(0,t.matchesScheme)(s,b.Schemas.command))return!1;if(!(o==null?void 0:o.allowCommands))return!0;typeof s=="string"&&(s=u.URI.parse(s));let c=[];try{c=(0,L.parse)(decodeURIComponent(s.query))}catch{try{c=(0,L.parse)(s.query)}catch{}}return Array.isArray(c)||(c=[c]),yield this._commandService.executeCommand(s.path,...c),!0})}};r=ke([me(0,n.ICommandService)],r);let l=class{constructor(s){this._editorService=s}open(s,o){return Se(this,void 0,void 0,function*(){typeof s=="string"&&(s=u.URI.parse(s));const{selection:c,uri:f}=(0,t.extractSelection)(s);return s=f,s.scheme===b.Schemas.file&&(s=(0,v.normalizePath)(s)),yield this._editorService.openCodeEditor({resource:s,options:Object.assign({selection:c,source:(o==null?void 0:o.fromUserGesture)?i.EditorOpenSource.USER:i.EditorOpenSource.API},o==null?void 0:o.editorOptions)},this._editorService.getFocusedCodeEditor(),o==null?void 0:o.openToSide),!0})}};l=ke([me(0,g.ICodeEditorService)],l);let d=class{constructor(s,o){this._openers=new k.LinkedList,this._validators=new k.LinkedList,this._resolvers=new k.LinkedList,this._resolvedUriTargets=new I.ResourceMap(c=>c.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new k.LinkedList,this._defaultExternalOpener={openExternal:c=>Se(this,void 0,void 0,function*(){return(0,t.matchesSomeScheme)(c,b.Schemas.http,b.Schemas.https)?w.windowOpenNoOpener(c):window.location.href=c,!0})},this._openers.push({open:(c,f)=>Se(this,void 0,void 0,function*(){return(f==null?void 0:f.openExternal)||(0,t.matchesSomeScheme)(c,b.Schemas.mailto,b.Schemas.http,b.Schemas.https,b.Schemas.vsls)?(yield this._doOpenExternal(c,f),!0):!1})}),this._openers.push(new r(o)),this._openers.push(new l(s))}registerOpener(s){return{dispose:this._openers.unshift(s)}}registerValidator(s){return{dispose:this._validators.push(s)}}registerExternalUriResolver(s){return{dispose:this._resolvers.push(s)}}setDefaultExternalOpener(s){this._defaultExternalOpener=s}registerExternalOpener(s){return{dispose:this._externalOpeners.push(s)}}open(s,o){var c;return Se(this,void 0,void 0,function*(){const f=typeof s=="string"?u.URI.parse(s):s,p=(c=this._resolvedUriTargets.get(f))!==null&&c!==void 0?c:s;for(const _ of this._validators)if(!(yield _.shouldOpen(p,o)))return!1;for(const _ of this._openers)if(yield _.open(s,o))return!0;return!1})}resolveExternalUri(s,o){return Se(this,void 0,void 0,function*(){for(const c of this._resolvers)try{const f=yield c.resolveExternalUri(s,o);if(f)return this._resolvedUriTargets.has(f.resolved)||this._resolvedUriTargets.set(f.resolved,s),f}catch{}throw new Error("Could not resolve external URI: "+s.toString())})}_doOpenExternal(s,o){return Se(this,void 0,void 0,function*(){const c=typeof s=="string"?u.URI.parse(s):s;let f;try{f=(yield this.resolveExternalUri(c,o)).resolved}catch{f=c}let p;if(typeof s=="string"&&c.toString()===f.toString()?p=s:p=encodeURI(f.toString(!0)),o==null?void 0:o.allowContributedOpeners){const _=typeof(o==null?void 0:o.allowContributedOpeners)=="string"?o==null?void 0:o.allowContributedOpeners:void 0;for(const m of this._externalOpeners)if(yield m.openExternal(p,{sourceUri:c,preferredOpenerId:_},C.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(p,{sourceUri:c},C.CancellationToken.None)})}dispose(){this._validators.clear()}};d=ke([me(0,g.ICodeEditorService),me(1,n.ICommandService)],d),e.OpenerService=d}),define(re[70],ae([1,0,105,51,124,53,9,69,45]),function($,e,w,C,k,I,L,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureDebounceService=e.ILanguageFeatureDebounceService=void 0,e.ILanguageFeatureDebounceService=(0,L.createDecorator)("ILanguageFeatureDebounceService");var u;(function(i){const t=new WeakMap;let r=0;function l(d){let a=t.get(d);return a===void 0&&(a=++r,t.set(d,a)),a}i.of=l})(u||(u={}));class g{constructor(t,r,l,d,a,s){this._logService=t,this._name=r,this._registry=l,this._default=d,this._min=a,this._max=s,this._cache=new C.LRUCache(50,.7)}_key(t){return t.id+this._registry.all(t).reduce((r,l)=>(0,w.doHash)(u.of(l),r),0)}get(t){const r=this._key(t),l=this._cache.get(r);return l?(0,k.clamp)(l.value,this._min,this._max):this.default()}update(t,r){const l=this._key(t);let d=this._cache.get(l);d||(d=new k.SlidingWindowAverage(6),this._cache.set(l,d));const a=(0,k.clamp)(d.update(r),this._min,this._max);return(0,v.matchesScheme)(t.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${t.uri.toString()} is ${a}ms`),a}_overall(){const t=new k.MovingAverage;for(const[,r]of this._cache)t.update(r.value);return t.value}default(){const t=this._overall()|0||this._default;return(0,k.clamp)(t,this._min,this._max)}}let n=class{constructor(t){this._logService=t,this._data=new Map}for(t,r,l){var d,a,s;const o=(d=l==null?void 0:l.min)!==null&&d!==void 0?d:50,c=(a=l==null?void 0:l.max)!==null&&a!==void 0?a:Math.pow(o,2),f=(s=l==null?void 0:l.key)!==null&&s!==void 0?s:void 0,p=`${u.of(t)},${o}${f?","+f:""}`;let _=this._data.get(p);return _||(_=new g(this._logService,r,t,this._overallAverage()|0||o*1.5,o,c),this._data.set(p,_)),_}_overallAverage(){const t=new k.MovingAverage;for(const r of this._data.values())t.update(r.default());return t.value}};n=ke([me(0,b.ILogService)],n),e.LanguageFeatureDebounceService=n,(0,I.registerSingleton)(e.ILanguageFeatureDebounceService,n,!0)}),define(re[168],ae([1,0,18,21,14,55,51,11,3,70,9,53,50,2,20]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModelService=e.IOutlineModelService=e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class l{remove(){var f;(f=this.parent)===null||f===void 0||f.children.delete(this.id)}static findId(f,p){let _;typeof f=="string"?_=`${p.id}/${f}`:(_=`${p.id}/${f.name}`,p.children.get(_)!==void 0&&(_=`${p.id}/${f.name}_${f.range.startLineNumber}_${f.range.startColumn}`));let m=_;for(let h=0;p.children.get(m)!==void 0;h++)m=`${_}_${h}`;return m}static empty(f){return f.children.size===0}}e.TreeElement=l;class d extends l{constructor(f,p,_){super();this.id=f,this.parent=p,this.symbol=_,this.children=new Map}}e.OutlineElement=d;class a extends l{constructor(f,p,_,m){super();this.id=f,this.parent=p,this.label=_,this.order=m,this.children=new Map}}e.OutlineGroup=a;class s extends l{constructor(f){super();this.uri=f,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(f,p,_){const m=new C.CancellationTokenSource(_),h=new s(p.uri),S=f.ordered(p),y=S.map((N,T)=>{var R;const F=l.findId(`provider_${T}`,h),O=new a(F,h,(R=N.displayName)!==null&&R!==void 0?R:"Unknown Outline Provider",T);return Promise.resolve(N.provideDocumentSymbols(p,m.token)).then(D=>{for(const M of D||[])s._makeOutlineElement(M,O);return O},D=>((0,k.onUnexpectedExternalError)(D),O)).then(D=>{l.empty(D)?D.remove():h._groups.set(F,D)})}),E=f.onDidChange(()=>{const N=f.ordered(p);(0,w.equals)(N,S)||m.cancel()});return Promise.all(y).then(()=>m.token.isCancellationRequested&&!_.isCancellationRequested?s.create(f,p,_):h._compact()).finally(()=>{E.dispose()})}static _makeOutlineElement(f,p){const _=l.findId(f,p),m=new d(_,p,f);if(f.children)for(const h of f.children)s._makeOutlineElement(h,m);p.children.set(m.id,m)}_compact(){let f=0;for(const[p,_]of this._groups)_.children.size===0?this._groups.delete(p):f+=1;if(f!==1)this.children=this._groups;else{const p=I.Iterable.first(this._groups.values());for(const[,_]of p.children)_.parent=this,this.children.set(_.id,_)}return this}getTopLevelSymbols(){const f=[];for(const p of this.children.values())p instanceof d?f.push(p.symbol):f.push(...I.Iterable.map(p.children.values(),_=>_.symbol));return f.sort((p,_)=>v.Range.compareRangesUsingStarts(p.range,_.range))}asListOfDocumentSymbols(){const f=this.getTopLevelSymbols(),p=[];return s._flattenDocumentSymbols(p,f,""),p.sort((_,m)=>b.Position.compare(v.Range.getStartPosition(_.range),v.Range.getStartPosition(m.range))||b.Position.compare(v.Range.getEndPosition(m.range),v.Range.getEndPosition(_.range)))}static _flattenDocumentSymbols(f,p,_){for(const m of p)f.push({kind:m.kind,tags:m.tags,name:m.name,detail:m.detail,containerName:m.containerName||_,range:m.range,selectionRange:m.selectionRange,children:void 0}),m.children&&s._flattenDocumentSymbols(f,m.children,m.name)}}e.OutlineModel=s,e.IOutlineModelService=(0,g.createDecorator)("IOutlineModelService");let o=class{constructor(f,p,_){this._languageFeaturesService=f,this._disposables=new t.DisposableStore,this._cache=new L.LRUCache(10,.7),this._debounceInformation=p.for(f.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(_.onModelRemoved(m=>{this._cache.delete(m.id)}))}dispose(){this._disposables.dispose()}getOrCreate(f,p){return Se(this,void 0,void 0,function*(){const _=this._languageFeaturesService.documentSymbolProvider,m=_.ordered(f);let h=this._cache.get(f.id);if(!h||h.versionId!==f.getVersionId()||!(0,w.equals)(h.provider,m)){const y=new C.CancellationTokenSource;h={versionId:f.getVersionId(),provider:m,promiseCnt:0,source:y,promise:s.create(_,f,y.token),model:void 0},this._cache.set(f.id,h);const E=Date.now();h.promise.then(N=>{h.model=N,this._debounceInformation.update(f,Date.now()-E)}).catch(N=>{this._cache.delete(f.id)})}if(h.model)return h.model;h.promiseCnt+=1;const S=p.onCancellationRequested(()=>{--h.promiseCnt==0&&(h.source.cancel(),this._cache.delete(f.id))});try{return yield h.promise}finally{S.dispose()}})}};o=ke([me(0,r.ILanguageFeaturesService),me(1,u.ILanguageFeatureDebounceService),me(2,i.IModelService)],o),e.OutlineModelService=o,(0,n.registerSingleton)(e.IOutlineModelService,o,!0)}),define(re[647],ae([1,0,21,19,22,58,168,26]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),b.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",function(v,...u){return Se(this,void 0,void 0,function*(){const[g]=u;(0,C.assertType)(k.URI.isUri(g));const n=v.get(L.IOutlineModelService),t=yield v.get(I.ITextModelService).createModelReference(g);try{return(yield n.getOrCreate(t.object.textEditorModel,w.CancellationToken.None)).getTopLevelSymbols()}finally{t.dispose()}})})}),define(re[71],ae([1,0,9]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=e.emptyProgressRunner=e.IProgressService=void 0,e.IProgressService=(0,w.createDecorator)("progressService"),e.emptyProgressRunner=Object.freeze({total(){},worked(){},done(){}});class C{constructor(I){this.callback=I}report(I){this._value=I,this.callback(this._value)}}e.Progress=C,C.None=Object.freeze({report(){}}),e.IEditorProgressService=(0,w.createDecorator)("editorProgressService")}),define(re[648],ae([1,0,10,21,2]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var I;(function(u){u[u.NO_ACTION=0]="NO_ACTION",u[u.CLOSE_PICKER=1]="CLOSE_PICKER",u[u.REFRESH_PICKER=2]="REFRESH_PICKER",u[u.REMOVE_ITEM=3]="REMOVE_ITEM"})(I=e.TriggerAction||(e.TriggerAction={}));function L(u){const g=u;return Array.isArray(g.items)}function b(u){const g=u;return!!g.picks&&g.additionalPicks instanceof Promise}class v extends k.Disposable{constructor(g,n){super();this.prefix=g,this.options=n}provide(g,n){var i;const t=new k.DisposableStore;g.canAcceptInBackground=!!((i=this.options)===null||i===void 0?void 0:i.canAcceptInBackground),g.matchOnLabel=g.matchOnDescription=g.matchOnDetail=g.sortByLabel=!1;let r;const l=t.add(new k.MutableDisposable),d=()=>Se(this,void 0,void 0,function*(){const a=l.value=new k.DisposableStore;r==null||r.dispose(!0),g.busy=!1,r=new C.CancellationTokenSource(n);const s=r.token,o=g.value.substr(this.prefix.length).trim(),c=this._getPicks(o,a,s),f=(p,_)=>{var m;let h,S;if(L(p)?(h=p.items,S=p.active):h=p,h.length===0){if(_)return!1;o.length>0&&((m=this.options)===null||m===void 0?void 0:m.noResultsPick)&&(h=[this.options.noResultsPick])}return g.items=h,S&&(g.activeItems=[S]),!0};if(c!==null)if(b(c)){let p=!1,_=!1;yield Promise.all([(()=>Se(this,void 0,void 0,function*(){yield(0,w.timeout)(v.FAST_PICKS_RACE_DELAY),!s.isCancellationRequested&&(_||(p=f(c.picks,!0)))}))(),(()=>Se(this,void 0,void 0,function*(){g.busy=!0;try{const m=yield c.additionalPicks;if(s.isCancellationRequested)return;let h,S;L(c.picks)?(h=c.picks.items,S=c.picks.active):h=c.picks;let y,E;if(L(m)?(y=m.items,E=m.active):y=m,y.length>0||!p){let N;if(!S&&!E){const T=g.activeItems[0];T&&h.indexOf(T)!==-1&&(N=T)}f({items:[...h,...y],active:S||E||N})}}finally{s.isCancellationRequested||(g.busy=!1),_=!0}}))()])}else if(!(c instanceof Promise))f(c);else{g.busy=!0;try{const p=yield c;if(s.isCancellationRequested)return;f(p)}finally{s.isCancellationRequested||(g.busy=!1)}}});return t.add(g.onDidChangeValue(()=>d())),d(),t.add(g.onDidAccept(a=>{const[s]=g.selectedItems;typeof(s==null?void 0:s.accept)=="function"&&(a.inBackground||g.hide(),s.accept(g.keyMods,a))})),t.add(g.onDidTriggerItemButton(({button:a,item:s})=>Se(this,void 0,void 0,function*(){var o,c;if(typeof s.trigger=="function"){const f=(c=(o=s.buttons)===null||o===void 0?void 0:o.indexOf(a))!==null&&c!==void 0?c:-1;if(f>=0){const p=s.trigger(f,g.keyMods),_=typeof p=="number"?p:yield p;if(n.isCancellationRequested)return;switch(_){case I.NO_ACTION:break;case I.CLOSE_PICKER:g.hide();break;case I.REFRESH_PICKER:d();break;case I.REMOVE_ITEM:{const m=g.items.indexOf(s);if(m!==-1){const h=g.items.slice(),S=h.splice(m,1),y=g.activeItems.filter(N=>N!==S[0]),E=g.keepScrollPosition;g.keepScrollPosition=!0,g.items=h,y&&(g.activeItems=y),g.keepScrollPosition=E}break}}}}}))),t}}e.PickerQuickAccessProvider=v,v.FAST_PICKS_RACE_DELAY=200});var ti=this&&this.__createBinding||(Object.create?function($,e,w,C){C===void 0&&(C=w);var k=Object.getOwnPropertyDescriptor(e,w);(!k||("get"in k?!e.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return e[w]}}),Object.defineProperty($,C,k)}:function($,e,w,C){C===void 0&&(C=w),$[C]=e[w]}),ii=this&&this.__exportStar||function($,e){for(var w in $)w!=="default"&&!Object.prototype.hasOwnProperty.call(e,w)&&ti(e,$,w)};define(re[85],ae([1,0,9,224]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=void 0,ii(C,e),e.IQuickInputService=(0,w.createDecorator)("quickInputService")}),define(re[34],ae([1,0,177,19]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class k{constructor(){this.data=new Map}add(L,b){w.ok(C.isString(L)),w.ok(C.isObject(b)),w.ok(!this.data.has(L),"There is already an extension with this id"),this.data.set(L,b)}as(L){return this.data.get(L)||null}}e.Registry=new k}),define(re[649],ae([1,0,123,195,22,45,34]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.createDraggedEditorInputFromRawResourcesData=e.extractEditorsDropData=e.CodeDataTransfers=void 0,e.CodeDataTransfers={EDITORS:"CodeEditors",FILES:"CodeFiles"};function b(g){var n;const i=[];if(g.dataTransfer&&g.dataTransfer.types.length>0){const t=g.dataTransfer.getData(e.CodeDataTransfers.EDITORS);if(t)try{i.push(...(0,C.parse)(t))}catch{}else try{const d=g.dataTransfer.getData(w.DataTransfers.RESOURCES);i.push(...v(d))}catch{}if((n=g.dataTransfer)===null||n===void 0?void 0:n.files)for(let d=0;d<g.dataTransfer.files.length;d++){const a=g.dataTransfer.files[d];if(a&&a.path)try{i.push({resource:k.URI.file(a.path),isExternal:!0,allowWorkspaceOpen:!0})}catch{}}const r=g.dataTransfer.getData(e.CodeDataTransfers.FILES);if(r)try{const d=JSON.parse(r);for(const a of d)i.push({resource:k.URI.file(a),isExternal:!0,allowWorkspaceOpen:!0})}catch{}const l=L.Registry.as(e.Extensions.DragAndDropContribution).getAll();for(const d of l){const a=g.dataTransfer.getData(d.dataFormatKey);if(a)try{i.push(...d.getEditorInputs(a))}catch{}}}return i}e.extractEditorsDropData=b;function v(g){const n=[];if(g){const i=JSON.parse(g);for(const t of i)if(t.indexOf(":")>0){const{selection:r,uri:l}=(0,I.extractSelection)(k.URI.parse(t));n.push({resource:l,options:{selection:r}})}}return n}e.createDraggedEditorInputFromRawResourcesData=v;class u{constructor(){this._contributions=new Map}getAll(){return this._contributions.values()}}e.Extensions={DragAndDropContribution:"workbench.contributions.dragAndDrop"},L.Registry.add(e.Extensions.DragAndDropContribution,new u)}),define(re[289],ae([1,0,123,18,178,97,22,649]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UriList=e.addExternalEditorsDropData=e.createFileDataTransferItemFromFile=e.toVSDataTransfer=void 0;function v(i){const t=new k.VSDataTransfer;for(const r of i.items){const l=r.type;if(r.kind==="string"){const d=new Promise(a=>r.getAsString(a));t.append(l,(0,k.createStringDataTransferItem)(d))}else if(r.kind==="file"){const d=r.getAsFile();d&&t.append(l,u(d))}}return t}e.toVSDataTransfer=v;function u(i){const t=i.path?L.URI.parse(i.path):void 0;return(0,k.createFileDataTransferItem)(i.name,t,()=>Se(this,void 0,void 0,function*(){return new Uint8Array(yield i.arrayBuffer())}))}e.createFileDataTransferItemFromFile=u;const g=Object.freeze([b.CodeDataTransfers.EDITORS,b.CodeDataTransfers.FILES,w.DataTransfers.RESOURCES]);function n(i,t,r=!1){var l;if(t.dataTransfer&&(r||!i.has(I.Mimes.uriList))){const d=(0,b.extractEditorsDropData)(t).filter(a=>a.resource).map(a=>a.resource.toString());for(const a of(l=t.dataTransfer)===null||l===void 0?void 0:l.items){const s=a.getAsFile();s&&d.push(s.path?L.URI.file(s.path).toString():s.name)}d.length&&i.replace(I.Mimes.uriList,(0,k.createStringDataTransferItem)(e.UriList.create(d)))}for(const d of g)i.delete(d)}e.addExternalEditorsDropData=n,e.UriList=Object.freeze({create:i=>(0,C.distinct)(i.map(t=>t.toString())).join(`\r
`),parse:i=>i.split(`\r
`).filter(t=>!t.startsWith("#"))})}),define(re[211],ae([1,0,6,34]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function k(b){return b.length>0&&b.charAt(b.length-1)==="#"?b.substring(0,b.length-1):b}class I{constructor(){this._onDidChangeSchema=new w.Emitter,this.schemasById={}}registerSchema(v,u){this.schemasById[k(v)]=u,this._onDidChangeSchema.fire(v)}notifySchemaChanged(v){this._onDidChangeSchema.fire(v)}}const L=new I;C.Registry.add(e.Extensions.JSONContribution,L)}),define(re[94],ae([1,0,18,6,19,611,30,211,34]),function($,e,w,C,k,I,L,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateProperty=e.getDefaultValue=e.overrideIdentifiersFromKey=e.OVERRIDE_PROPERTY_REGEX=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const u=v.Registry.as(b.Extensions.JSONContribution);class g{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new C.Emitter,this._onDidUpdateConfiguration=new C.Emitter,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:I.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},u.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(s,o=!0){this.registerConfigurations([s],o)}registerConfigurations(s,o=!0){const c=this.doRegisterConfigurations(s,o);u.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:c})}registerDefaultConfigurations(s){var o;const c=[],f=[];for(const{overrides:p,source:_}of s)for(const m in p)if(c.push(m),e.OVERRIDE_PROPERTY_REGEX.test(m)){const h=this.configurationDefaultsOverrides.get(m),S=(o=h==null?void 0:h.valuesSources)!==null&&o!==void 0?o:new Map;if(_)for(const T of Object.keys(p[m]))S.set(T,_);const y=Object.assign(Object.assign({},(h==null?void 0:h.value)||{}),p[m]);this.configurationDefaultsOverrides.set(m,{source:_,value:y,valuesSources:S});const E=(0,L.getLanguageTagSettingPlainKey)(m),N={type:"object",default:y,description:I.localize(1,null,E),$ref:e.resourceLanguageSettingsSchemaId,defaultDefaultValue:y,source:k.isString(_)?void 0:_,defaultValueSource:_};f.push(...t(m)),this.configurationProperties[m]=N,this.defaultLanguageConfigurationOverridesNode.properties[m]=N}else{this.configurationDefaultsOverrides.set(m,{value:p[m],source:_});const h=this.configurationProperties[m];h&&(this.updatePropertyDefaultValue(m,h),this.updateSchema(m,h))}this.registerOverrideIdentifiers(f),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:c,defaultsOverrides:!0})}registerOverrideIdentifiers(s){for(const o of s)this.overrideIdentifiers.add(o);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(s,o){const c=[];return s.forEach(f=>{c.push(...this.validateAndRegisterProperties(f,o,f.extensionInfo,f.restrictedProperties)),this.configurationContributors.push(f),this.registerJSONConfiguration(f)}),c}validateAndRegisterProperties(s,o=!0,c,f,p=3){var _;p=k.isUndefinedOrNull(s.scope)?p:s.scope;const m=[],h=s.properties;if(h)for(const y in h){const E=h[y];if(o&&d(y,E)){delete h[y];continue}if(E.source=c,E.defaultDefaultValue=h[y].default,this.updatePropertyDefaultValue(y,E),e.OVERRIDE_PROPERTY_REGEX.test(y)?E.scope=void 0:(E.scope=k.isUndefinedOrNull(E.scope)?p:E.scope,E.restricted=k.isUndefinedOrNull(E.restricted)?!!(f==null?void 0:f.includes(y)):E.restricted),h[y].hasOwnProperty("included")&&!h[y].included){this.excludedConfigurationProperties[y]=h[y],delete h[y];continue}else this.configurationProperties[y]=h[y],((_=h[y].policy)===null||_===void 0?void 0:_.name)&&this.policyConfigurations.set(h[y].policy.name,y);!h[y].deprecationMessage&&h[y].markdownDeprecationMessage&&(h[y].deprecationMessage=h[y].markdownDeprecationMessage),m.push(y)}const S=s.allOf;if(S)for(const y of S)m.push(...this.validateAndRegisterProperties(y,o,c,f,p));return m}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(s){const o=c=>{const f=c.properties;if(f)for(const _ in f)this.updateSchema(_,f[_]);const p=c.allOf;p==null||p.forEach(o)};o(s)}updateSchema(s,o){switch(e.allSettings.properties[s]=o,o.scope){case 1:e.applicationSettings.properties[s]=o;break;case 2:e.machineSettings.properties[s]=o;break;case 6:e.machineOverridableSettings.properties[s]=o;break;case 3:e.windowSettings.properties[s]=o;break;case 4:e.resourceSettings.properties[s]=o;break;case 5:e.resourceSettings.properties[s]=o,this.resourceLanguageSettingsSchema.properties[s]=o;break}}updateOverridePropertyPatternKey(){for(const s of this.overrideIdentifiers.values()){const o=`[${s}]`,c={type:"object",description:I.localize(2,null),errorMessage:I.localize(3,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(o,c),e.allSettings.properties[o]=c,e.applicationSettings.properties[o]=c,e.machineSettings.properties[o]=c,e.machineOverridableSettings.properties[o]=c,e.windowSettings.properties[o]=c,e.resourceSettings.properties[o]=c}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){const s={type:"object",description:I.localize(4,null),errorMessage:I.localize(5,null),$ref:e.resourceLanguageSettingsSchemaId};e.allSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.applicationSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.machineSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.machineOverridableSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.windowSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.resourceSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(s,o){const c=this.configurationDefaultsOverrides.get(s);let f=c==null?void 0:c.value,p=c==null?void 0:c.source;k.isUndefined(f)&&(f=o.defaultDefaultValue,p=void 0),k.isUndefined(f)&&(f=r(o.type)),o.default=f,o.defaultValueSource=p}}const n="\\[([^\\]]+)\\]",i=new RegExp(n,"g");e.OVERRIDE_PROPERTY_PATTERN=`^(${n})+$`,e.OVERRIDE_PROPERTY_REGEX=new RegExp(e.OVERRIDE_PROPERTY_PATTERN);function t(a){const s=[];if(e.OVERRIDE_PROPERTY_REGEX.test(a)){let o=i.exec(a);for(;o==null?void 0:o.length;){const c=o[1].trim();c&&s.push(c),o=i.exec(a)}}return(0,w.distinct)(s)}e.overrideIdentifiersFromKey=t;function r(a){switch(Array.isArray(a)?a[0]:a){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=r;const l=new g;v.Registry.add(e.Extensions.Configuration,l);function d(a,s){var o,c,f,p;return a.trim()?e.OVERRIDE_PROPERTY_REGEX.test(a)?I.localize(7,null,a):l.getConfigurationProperties()[a]!==void 0?I.localize(8,null,a):((o=s.policy)===null||o===void 0?void 0:o.name)&&l.getPolicyConfigurations().get((c=s.policy)===null||c===void 0?void 0:c.name)!==void 0?I.localize(9,null,a,(f=s.policy)===null||f===void 0?void 0:f.name,l.getPolicyConfigurations().get((p=s.policy)===null||p===void 0?void 0:p.name)):null:I.localize(6,null)}e.validateProperty=d}),define(re[212],ae([1,0,36,153,530,94,34]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDiffEditorConfigurationKey=e.isEditorConfigurationKey=e.editorConfigurationBaseNode=void 0,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:k.localize(0,null),scope:5});const b=Object.assign(Object.assign({},e.editorConfigurationBaseNode),{properties:{"editor.tabSize":{type:"number",default:C.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:k.localize(1,null)},"editor.insertSpaces":{type:"boolean",default:C.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:k.localize(2,null)},"editor.detectIndentation":{type:"boolean",default:C.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:k.localize(3,null)},"editor.trimAutoWhitespace":{type:"boolean",default:C.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:k.localize(4,null)},"editor.largeFileOptimizations":{type:"boolean",default:C.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:k.localize(5,null)},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:k.localize(6,null)},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[k.localize(7,null),k.localize(8,null),k.localize(9,null)],description:k.localize(10,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[k.localize(11,null),k.localize(12,null),k.localize(13,null)],default:"configuredByTheme",description:k.localize(14,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:k.localize(15,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:k.localize(16,null)},"editor.language.brackets":{type:["array","null"],default:null,description:k.localize(17,null),items:{type:"array",items:[{type:"string",description:k.localize(18,null)},{type:"string",description:k.localize(19,null)}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:k.localize(20,null),items:{type:"array",items:[{type:"string",description:k.localize(21,null)},{type:"string",description:k.localize(22,null)}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:k.localize(23,null)},"diffEditor.maxFileSize":{type:"number",default:50,description:k.localize(24,null)},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:k.localize(25,null)},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:!0,description:k.localize(26,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:k.localize(27,null)},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:k.localize(28,null)},"diffEditor.codeLens":{type:"boolean",default:!1,description:k.localize(29,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[k.localize(30,null),k.localize(31,null),k.localize(32,null)]}}});function v(r){return typeof r.type!="undefined"||typeof r.anyOf!="undefined"}for(const r of w.editorOptionsRegistry){const l=r.schema;if(typeof l!="undefined")if(v(l))b.properties[`editor.${r.name}`]=l;else for(const d in l)Object.hasOwnProperty.call(l,d)&&(b.properties[d]=l[d])}let u=null;function g(){return u===null&&(u=Object.create(null),Object.keys(b.properties).forEach(r=>{u[r]=!0})),u}function n(r){return g()[`editor.${r}`]||!1}e.isEditorConfigurationKey=n;function i(r){return g()[`diffEditor.${r}`]||!1}e.isDiffEditorConfigurationKey=i,L.Registry.as(I.Extensions.Configuration).registerConfiguration(b)}),define(re[72],ae([1,0,535,6,34,97,94]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_EXTENSION=e.PLAINTEXT_LANGUAGE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class b{constructor(){this._onDidChangeLanguages=new C.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(u){return this._languages.push(u),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let g=0,n=this._languages.length;g<n;g++)if(this._languages[g]===u){this._languages.splice(g,1);return}}}}getLanguages(){return this._languages}}e.EditorModesRegistry=b,e.ModesRegistry=new b,k.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_LANGUAGE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_LANGUAGE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[w.localize(0,null),"text"],mimetypes:[I.Mimes.text]}),k.Registry.as(L.Extensions.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])}),define(re[32],ae([1,0,6,2,8,128,98,110,415,505,416,419,203,9,30,37,53,72,418]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedLanguageConfiguration=e.LanguageConfigurationRegistry=e.LanguageConfigurationChangeEvent=e.getScopedLineTokens=e.getIndentationAtPosition=e.LanguageConfigurationService=e.ILanguageConfigurationService=e.LanguageConfigurationServiceChangeEvent=void 0;class o{constructor(D){this.languageId=D}affects(D){return this.languageId?this.languageId===D:!0}}e.LanguageConfigurationServiceChangeEvent=o,e.ILanguageConfigurationService=(0,t.createDecorator)("languageConfigurationService");let c=class extends C.Disposable{constructor(D,M){super();this.configurationService=D,this.languageService=M,this._registry=this._register(new R),this.onDidChangeEmitter=this._register(new w.Emitter),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const P=new Set(Object.values(p));this._register(this.configurationService.onDidChangeConfiguration(B=>{const W=B.change.keys.some(A=>P.has(A)),V=B.change.overrides.filter(([A,Q])=>Q.some(J=>P.has(J))).map(([A])=>A);if(W)this.configurations.clear(),this.onDidChangeEmitter.fire(new o(void 0));else for(const A of V)this.languageService.isRegisteredLanguageId(A)&&(this.configurations.delete(A),this.onDidChangeEmitter.fire(new o(A)))})),this._register(this._registry.onDidChange(B=>{this.configurations.delete(B.languageId),this.onDidChangeEmitter.fire(new o(B.languageId))}))}register(D,M,P){return this._registry.register(D,M,P)}getLanguageConfiguration(D){let M=this.configurations.get(D);return M||(M=f(D,this._registry,this.configurationService,this.languageService),this.configurations.set(D,M)),M}};c=ke([me(0,r.IConfigurationService),me(1,l.ILanguageService)],c),e.LanguageConfigurationService=c;function f(O,D,M,P){let B=D.getLanguageConfiguration(O);if(!B){if(!P.isRegisteredLanguageId(O))throw new Error(`Language id "${O}" is not configured nor known`);B=new F(O,{})}const W=_(B.languageId,M),V=E([B.underlyingConfig,W]);return new F(B.languageId,V)}const p={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function _(O,D){const M=D.getValue(p.brackets,{overrideIdentifier:O}),P=D.getValue(p.colorizedBracketPairs,{overrideIdentifier:O});return{brackets:m(M),colorizedBracketPairs:m(P)}}function m(O){if(!!Array.isArray(O))return O.map(D=>{if(!(!Array.isArray(D)||D.length!==2))return[D[0],D[1]]}).filter(D=>!!D)}function h(O,D,M){const P=O.getLineContent(D);let B=k.getLeadingWhitespace(P);return B.length>M-1&&(B=B.substring(0,M-1)),B}e.getIndentationAtPosition=h;function S(O,D,M){O.tokenization.forceTokenization(D);const P=O.tokenization.getLineTokens(D),B=typeof M=="undefined"?O.getLineMaxColumn(D)-1:M-1;return(0,b.createScopedLineTokens)(P,B)}e.getScopedLineTokens=S;class y{constructor(D){this.languageId=D,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(D,M){const P=new N(D,M,++this._order);return this._entries.push(P),this._resolved=null,(0,C.toDisposable)(()=>{for(let B=0;B<this._entries.length;B++)if(this._entries[B]===P){this._entries.splice(B,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const D=this._resolve();D&&(this._resolved=new F(this.languageId,D))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(N.cmp),E(this._entries.map(D=>D.configuration)))}}function E(O){let D={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const M of O)D={comments:M.comments||D.comments,brackets:M.brackets||D.brackets,wordPattern:M.wordPattern||D.wordPattern,indentationRules:M.indentationRules||D.indentationRules,onEnterRules:M.onEnterRules||D.onEnterRules,autoClosingPairs:M.autoClosingPairs||D.autoClosingPairs,surroundingPairs:M.surroundingPairs||D.surroundingPairs,autoCloseBefore:M.autoCloseBefore||D.autoCloseBefore,folding:M.folding||D.folding,colorizedBracketPairs:M.colorizedBracketPairs||D.colorizedBracketPairs,__electricCharacterSupport:M.__electricCharacterSupport||D.__electricCharacterSupport};return D}class N{constructor(D,M,P){this.configuration=D,this.priority=M,this.order=P}static cmp(D,M){return D.priority===M.priority?D.order-M.order:D.priority-M.priority}}class T{constructor(D){this.languageId=D}}e.LanguageConfigurationChangeEvent=T;class R extends C.Disposable{constructor(){super();this._entries=new Map,this._onDidChange=this._register(new w.Emitter),this.onDidChange=this._onDidChange.event,this._register(this.register(a.PLAINTEXT_LANGUAGE_ID,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(D,M,P=0){let B=this._entries.get(D);B||(B=new y(D),this._entries.set(D,B));const W=B.register(M,P);return this._onDidChange.fire(new T(D)),(0,C.toDisposable)(()=>{W.dispose(),this._onDidChange.fire(new T(D))})}getLanguageConfiguration(D){const M=this._entries.get(D);return(M==null?void 0:M.getResolvedConfiguration())||null}}e.LanguageConfigurationRegistry=R;class F{constructor(D,M){this.languageId=D,this.underlyingConfig=M,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new n.OnEnterSupport(this.underlyingConfig):null,this.comments=F._handleComments(this.underlyingConfig),this.characterPair=new v.CharacterPairSupport(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||I.DEFAULT_WORD_REGEXP,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new g.IndentRulesSupport(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new s.LanguageBracketsConfiguration(D,this.underlyingConfig)}getWordDefinition(){return(0,I.ensureValidWordDefinition)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new i.RichEditBrackets(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new u.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(D,M,P,B){return this._onEnterSupport?this._onEnterSupport.onEnter(D,M,P,B):null}getAutoClosingPairs(){return new L.AutoClosingPairs(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(){return this.characterPair.getAutoCloseBeforeSet()}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(D){const M=D.comments;if(!M)return null;const P={};if(M.lineComment&&(P.lineCommentToken=M.lineComment),M.blockComment){const[B,W]=M.blockComment;P.blockCommentStartToken=B,P.blockCommentEndToken=W}return P}}e.ResolvedLanguageConfiguration=F,(0,d.registerSingleton)(e.ILanguageConfigurationService,c)}),define(re[290],ae([1,0,10,2,265,497,3,32,513,50,166,8,18,69,57,14,20]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerService=void 0;const a=60*1e3,s=5*60*1e3;function o(y,E){const N=y.getModel(E);return!(!N||N.isTooLargeForSyncing())}let c=class extends C.Disposable{constructor(E,N,T,R,F){super();this._modelService=E,this._workerManager=this._register(new p(this._modelService,R)),this._logService=T,this._register(F.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(O,D)=>o(this._modelService,O.uri)?this._workerManager.withWorker().then(M=>M.computeLinks(O.uri)).then(M=>M&&{links:M}):Promise.resolve({links:[]})})),this._register(F.completionProvider.register("*",new f(this._workerManager,N,this._modelService,R)))}dispose(){super.dispose()}canComputeUnicodeHighlights(E){return o(this._modelService,E)}computedUnicodeHighlights(E,N,T){return this._workerManager.withWorker().then(R=>R.computedUnicodeHighlights(E,N,T))}computeDiff(E,N,T,R){return this._workerManager.withWorker().then(F=>F.computeDiff(E,N,T,R))}computeMoreMinimalEdits(E,N){if((0,i.isNonEmptyArray)(N)){if(!o(this._modelService,E))return Promise.resolve(N);const T=r.StopWatch.create(!0),R=this._workerManager.withWorker().then(F=>F.computeMoreMinimalEdits(E,N));return R.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",E.toString(!0),T.elapsed())),Promise.race([R,(0,w.timeout)(1e3).then(()=>N)])}else return Promise.resolve(void 0)}canNavigateValueSet(E){return o(this._modelService,E)}navigateValueSet(E,N,T){return this._workerManager.withWorker().then(R=>R.navigateValueSet(E,N,T))}canComputeWordRanges(E){return o(this._modelService,E)}computeWordRanges(E,N){return this._workerManager.withWorker().then(T=>T.computeWordRanges(E,N))}};c=ke([me(0,u.IModelService),me(1,g.ITextResourceConfigurationService),me(2,t.ILogService),me(3,b.ILanguageConfigurationService),me(4,d.ILanguageFeaturesService)],c),e.EditorWorkerService=c;class f{constructor(E,N,T,R){this.languageConfigurationService=R,this._debugDisplayName="wordbasedCompletions",this._workerManager=E,this._configurationService=N,this._modelService=T}provideCompletionItems(E,N){return Se(this,void 0,void 0,function*(){const T=this._configurationService.getValue(E.uri,N,"editor");if(!T.wordBasedSuggestions)return;const R=[];if(T.wordBasedSuggestionsMode==="currentDocument")o(this._modelService,E.uri)&&R.push(E.uri);else for(const W of this._modelService.getModels())!o(this._modelService,W.uri)||(W===E?R.unshift(W.uri):(T.wordBasedSuggestionsMode==="allDocuments"||W.getLanguageId()===E.getLanguageId())&&R.push(W.uri));if(R.length===0)return;const F=this.languageConfigurationService.getLanguageConfiguration(E.getLanguageId()).getWordDefinition(),O=E.getWordAtPosition(N),D=O?new L.Range(N.lineNumber,O.startColumn,N.lineNumber,O.endColumn):L.Range.fromPositions(N),M=D.setEndPosition(N.lineNumber,N.column),B=yield(yield this._workerManager.withWorker()).textualSuggest(R,O==null?void 0:O.word,F);if(!!B)return{duration:B.duration,suggestions:B.words.map(W=>({kind:18,label:W,insertText:W,range:{insert:M,replace:D}}))}})}}class p extends C.Disposable{constructor(E,N){super();this.languageConfigurationService=N,this._modelService=E,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new w.IntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(s/2)),this._register(this._modelService.onModelRemoved(R=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>s&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new S(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class _ extends C.Disposable{constructor(E,N,T){super();if(this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=E,this._modelService=N,!T){const R=new w.IntervalTimer;R.cancelAndSet(()=>this._checkStopModelSync(),Math.round(a/2)),this._register(R)}}dispose(){for(const E in this._syncedModels)(0,C.dispose)(this._syncedModels[E]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(E,N){for(const T of E){const R=T.toString();this._syncedModels[R]||this._beginModelSync(T,N),this._syncedModels[R]&&(this._syncedModelsLastUsedTime[R]=new Date().getTime())}}_checkStopModelSync(){const E=new Date().getTime(),N=[];for(const T in this._syncedModelsLastUsedTime)E-this._syncedModelsLastUsedTime[T]>a&&N.push(T);for(const T of N)this._stopModelSync(T)}_beginModelSync(E,N){const T=this._modelService.getModel(E);if(!T||!N&&T.isTooLargeForSyncing())return;const R=E.toString();this._proxy.acceptNewModel({url:T.uri.toString(),lines:T.getLinesContent(),EOL:T.getEOL(),versionId:T.getVersionId()});const F=new C.DisposableStore;F.add(T.onDidChangeContent(O=>{this._proxy.acceptModelChanged(R.toString(),O)})),F.add(T.onWillDispose(()=>{this._stopModelSync(R)})),F.add((0,C.toDisposable)(()=>{this._proxy.acceptRemovedModel(R)})),this._syncedModels[R]=F}_stopModelSync(E){const N=this._syncedModels[E];delete this._syncedModels[E],delete this._syncedModelsLastUsedTime[E],(0,C.dispose)(N)}}class m{constructor(E){this._instance=E,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class h{constructor(E){this._workerClient=E}fhr(E,N){return this._workerClient.fhr(E,N)}}e.EditorWorkerHost=h;class S extends C.Disposable{constructor(E,N,T,R){super();this.languageConfigurationService=R,this._disposed=!1,this._modelService=E,this._keepIdleModels=N,this._workerFactory=new I.DefaultWorkerFactory(T),this._worker=null,this._modelManager=null}fhr(E,N){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new k.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new h(this)))}catch(E){(0,k.logOnceWebWorkerWarning)(E),this._worker=new m(new v.EditorSimpleWorker(new h(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,E=>((0,k.logOnceWebWorkerWarning)(E),this._worker=new m(new v.EditorSimpleWorker(new h(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(E){return this._modelManager||(this._modelManager=this._register(new _(E,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(E,N=!1){return Se(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,l.canceled)()):this._getProxy().then(T=>(this._getOrCreateModelManager(T).ensureSyncedResources(E,N),T))})}computedUnicodeHighlights(E,N,T){return this._withSyncedResources([E]).then(R=>R.computeUnicodeHighlights(E.toString(),N,T))}computeDiff(E,N,T,R){return this._withSyncedResources([E,N],!0).then(F=>F.computeDiff(E.toString(),N.toString(),T,R))}computeMoreMinimalEdits(E,N){return this._withSyncedResources([E]).then(T=>T.computeMoreMinimalEdits(E.toString(),N))}computeLinks(E){return this._withSyncedResources([E]).then(N=>N.computeLinks(E.toString()))}textualSuggest(E,N,T){return Se(this,void 0,void 0,function*(){const R=yield this._withSyncedResources(E),F=T.source,O=(0,n.regExpFlags)(T);return R.textualSuggest(E.map(D=>D.toString()),N,F,O)})}computeWordRanges(E,N){return this._withSyncedResources([E]).then(T=>{const R=this._modelService.getModel(E);if(!R)return Promise.resolve(null);const F=this.languageConfigurationService.getLanguageConfiguration(R.getLanguageId()).getWordDefinition(),O=F.source,D=(0,n.regExpFlags)(F);return T.computeWordRanges(E.toString(),N,O,D)})}navigateValueSet(E,N,T){return this._withSyncedResources([E]).then(R=>{const F=this._modelService.getModel(E);if(!F)return null;const O=this.languageConfigurationService.getLanguageConfiguration(F.getLanguageId()).getWordDefinition(),D=O.source,M=(0,n.regExpFlags)(O);return R.navigateValueSet(E.toString(),N,T,D,M)})}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=S}),define(re[650],ae([1,0,290,19]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=void 0;function k(L,b,v){return new I(L,b,v)}e.createWebWorker=k;class I extends w.EditorWorkerClient{constructor(b,v,u){super(b,u.keepIdleModels||!1,u.label,v);this._foreignModuleId=u.moduleId,this._foreignModuleCreateData=u.createData||null,this._foreignModuleHost=u.host||null,this._foreignProxy=null}fhr(b,v){if(!this._foreignModuleHost||typeof this._foreignModuleHost[b]!="function")return Promise.reject(new Error("Missing method "+b+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[b].apply(this._foreignModuleHost,v))}catch(u){return Promise.reject(u)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(b=>{const v=this._foreignModuleHost?C.getAllMethodNames(this._foreignModuleHost):[];return b.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,v).then(u=>{this._foreignModuleCreateData=null;const g=(t,r)=>b.fmr(t,r),n=(t,r)=>function(){const l=Array.prototype.slice.call(arguments,0);return r(t,l)},i={};for(const t of u)i[t]=n(t,g);return i})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(b){return this._withSyncedResources(b).then(v=>this.getProxy())}}}),define(re[213],ae([1,0,8,98,110,32]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIndentMetadata=e.getIndentActionForType=e.getIndentForEnter=e.getGoodIndentForLine=e.getInheritIndentForLine=void 0;function L(i,t,r){const l=i.tokenization.getLanguageIdAtPosition(t,0);if(t>1){let d,a=-1;for(d=t-1;d>=1;d--){if(i.tokenization.getLanguageIdAtPosition(d,0)!==l)return a;const s=i.getLineContent(d);if(r.shouldIgnore(s)||/^\s+$/.test(s)||s===""){a=d;continue}return d}}return-1}function b(i,t,r,l=!0,d){if(i<4)return null;const a=d.getLanguageConfiguration(t.tokenization.getLanguageId()).indentRulesSupport;if(!a)return null;if(r<=1)return{indentation:"",action:null};const s=L(t,r,a);if(s<0)return null;if(s<1)return{indentation:"",action:null};const o=t.getLineContent(s);if(a.shouldIncrease(o)||a.shouldIndentNextLine(o))return{indentation:w.getLeadingWhitespace(o),action:C.IndentAction.Indent,line:s};if(a.shouldDecrease(o))return{indentation:w.getLeadingWhitespace(o),action:null,line:s};{if(s===1)return{indentation:w.getLeadingWhitespace(t.getLineContent(s)),action:null,line:s};const c=s-1,f=a.getIndentMetadata(t.getLineContent(c));if(!(f&(1|2))&&f&4){let p=0;for(let _=c-1;_>0;_--)if(!a.shouldIndentNextLine(t.getLineContent(_))){p=_;break}return{indentation:w.getLeadingWhitespace(t.getLineContent(p+1)),action:null,line:p+1}}if(l)return{indentation:w.getLeadingWhitespace(t.getLineContent(s)),action:null,line:s};for(let p=s;p>0;p--){const _=t.getLineContent(p);if(a.shouldIncrease(_))return{indentation:w.getLeadingWhitespace(_),action:C.IndentAction.Indent,line:p};if(a.shouldIndentNextLine(_)){let m=0;for(let h=p-1;h>0;h--)if(!a.shouldIndentNextLine(t.getLineContent(p))){m=h;break}return{indentation:w.getLeadingWhitespace(t.getLineContent(m+1)),action:null,line:m+1}}else if(a.shouldDecrease(_))return{indentation:w.getLeadingWhitespace(_),action:null,line:p}}return{indentation:w.getLeadingWhitespace(t.getLineContent(1)),action:null,line:1}}}e.getInheritIndentForLine=b;function v(i,t,r,l,d,a){if(i<4)return null;const s=a.getLanguageConfiguration(r);if(!s)return null;const o=a.getLanguageConfiguration(r).indentRulesSupport;if(!o)return null;const c=b(i,t,l,void 0,a),f=t.getLineContent(l);if(c){const p=c.line;if(p!==void 0){const _=s.onEnter(i,"",t.getLineContent(p),"");if(_){let m=w.getLeadingWhitespace(t.getLineContent(p));return _.removeText&&(m=m.substring(0,m.length-_.removeText)),_.indentAction===C.IndentAction.Indent||_.indentAction===C.IndentAction.IndentOutdent?m=d.shiftIndent(m):_.indentAction===C.IndentAction.Outdent&&(m=d.unshiftIndent(m)),o.shouldDecrease(f)&&(m=d.unshiftIndent(m)),_.appendText&&(m+=_.appendText),w.getLeadingWhitespace(m)}}return o.shouldDecrease(f)?c.action===C.IndentAction.Indent?c.indentation:d.unshiftIndent(c.indentation):c.action===C.IndentAction.Indent?d.shiftIndent(c.indentation):c.indentation}return null}e.getGoodIndentForLine=v;function u(i,t,r,l,d){if(i<4)return null;t.tokenization.forceTokenization(r.startLineNumber);const a=t.tokenization.getLineTokens(r.startLineNumber),s=(0,k.createScopedLineTokens)(a,r.startColumn-1),o=s.getLineContent();let c=!1,f;s.firstCharOffset>0&&a.getLanguageId(0)!==s.languageId?(c=!0,f=o.substr(0,r.startColumn-1-s.firstCharOffset)):f=a.getLineContent().substring(0,r.startColumn-1);let p;r.isEmpty()?p=o.substr(r.startColumn-1-s.firstCharOffset):p=(0,I.getScopedLineTokens)(t,r.endLineNumber,r.endColumn).getLineContent().substr(r.endColumn-1-s.firstCharOffset);const _=d.getLanguageConfiguration(s.languageId).indentRulesSupport;if(!_)return null;const m=f,h=w.getLeadingWhitespace(f),S={tokenization:{getLineTokens:T=>t.tokenization.getLineTokens(T),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(T,R)=>t.getLanguageIdAtPosition(T,R)},getLineContent:T=>T===r.startLineNumber?m:t.getLineContent(T)},y=w.getLeadingWhitespace(a.getLineContent()),E=b(i,S,r.startLineNumber+1,void 0,d);if(!E){const T=c?y:h;return{beforeEnter:T,afterEnter:T}}let N=c?y:E.indentation;return E.action===C.IndentAction.Indent&&(N=l.shiftIndent(N)),_.shouldDecrease(p)&&(N=l.unshiftIndent(N)),{beforeEnter:c?y:h,afterEnter:N}}e.getIndentForEnter=u;function g(i,t,r,l,d,a){if(i<4)return null;const s=(0,I.getScopedLineTokens)(t,r.startLineNumber,r.startColumn);if(s.firstCharOffset)return null;const o=a.getLanguageConfiguration(s.languageId).indentRulesSupport;if(!o)return null;const c=s.getLineContent(),f=c.substr(0,r.startColumn-1-s.firstCharOffset);let p;if(r.isEmpty()?p=c.substr(r.startColumn-1-s.firstCharOffset):p=(0,I.getScopedLineTokens)(t,r.endLineNumber,r.endColumn).getLineContent().substr(r.endColumn-1-s.firstCharOffset),!o.shouldDecrease(f+p)&&o.shouldDecrease(f+l+p)){const _=b(i,t,r.startLineNumber,!1,a);if(!_)return null;let m=_.indentation;return _.action!==C.IndentAction.Indent&&(m=d.unshiftIndent(m)),m}return null}e.getIndentActionForType=g;function n(i,t,r){const l=r.getLanguageConfiguration(i.getLanguageId()).indentRulesSupport;return!l||t<1||t>i.getLineCount()?null:l.getIndentMetadata(i.getLineContent(t))}e.getIndentMetadata=n}),define(re[214],ae([1,0,98,32]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnterAction=void 0;function k(I,L,b,v){const u=(0,C.getScopedLineTokens)(L,b.startLineNumber,b.startColumn),g=v.getLanguageConfiguration(u.languageId);if(!g)return null;const n=u.getLineContent(),i=n.substr(0,b.startColumn-1-u.firstCharOffset);let t;b.isEmpty()?t=n.substr(b.startColumn-1-u.firstCharOffset):t=(0,C.getScopedLineTokens)(L,b.endLineNumber,b.endColumn).getLineContent().substr(b.endColumn-1-u.firstCharOffset);let r="";if(b.startLineNumber>1&&u.firstCharOffset===0){const c=(0,C.getScopedLineTokens)(L,b.startLineNumber-1);c.languageId===u.languageId&&(r=c.getLineContent())}const l=g.onEnter(I,r,i,t);if(!l)return null;const d=l.indentAction;let a=l.appendText;const s=l.removeText||0;a?d===w.IndentAction.Indent&&(a="	"+a):d===w.IndentAction.Indent||d===w.IndentAction.IndentOutdent?a="	":a="";let o=(0,C.getIndentationAtPosition)(L,b.startLineNumber,b.startColumn);return s&&(o=o.substring(0,o.length-s)),{indentAction:d,appendText:a,removeText:s,indentation:o}}e.getEnterAction=k}),define(re[215],ae([1,0,8,66,3,23,214,32]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=e.cachedStringRepeat=void 0;const v=Object.create(null);function u(n,i){if(i<=0)return"";v[n]||(v[n]=["",n]);const t=v[n];for(let r=t.length;r<=i;r++)t[r]=t[r-1]+n;return t[i]}e.cachedStringRepeat=u;let g=class oi{constructor(i,t,r){this._languageConfigurationService=r,this._opts=t,this._selection=i,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(i,t,r,l,d){const a=C.CursorColumns.visibleColumnFromColumn(i,t,r);if(d){const s=u(" ",l),c=C.CursorColumns.prevIndentTabStop(a,l)/l;return u(s,c)}else{const s="	",c=C.CursorColumns.prevRenderTabStop(a,r)/r;return u(s,c)}}static shiftIndent(i,t,r,l,d){const a=C.CursorColumns.visibleColumnFromColumn(i,t,r);if(d){const s=u(" ",l),c=C.CursorColumns.nextIndentTabStop(a,l)/l;return u(s,c)}else{const s="	",c=C.CursorColumns.nextRenderTabStop(a,r)/r;return u(s,c)}}_addEditOperation(i,t,r){this._useLastEditRangeForCursorEndPosition?i.addTrackedEditOperation(t,r):i.addEditOperation(t,r)}getEditOperations(i,t){const r=this._selection.startLineNumber;let l=this._selection.endLineNumber;this._selection.endColumn===1&&r!==l&&(l=l-1);const{tabSize:d,indentSize:a,insertSpaces:s}=this._opts,o=r===l;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(i.getLineContent(r))&&(this._useLastEditRangeForCursorEndPosition=!0);let c=0,f=0;for(let p=r;p<=l;p++,c=f){f=0;const _=i.getLineContent(p);let m=w.firstNonWhitespaceIndex(_);if(this._opts.isUnshift&&(_.length===0||m===0)||!o&&!this._opts.isUnshift&&_.length===0)continue;if(m===-1&&(m=_.length),p>1&&C.CursorColumns.visibleColumnFromColumn(_,m+1,d)%a!=0&&i.tokenization.isCheapToTokenize(p-1)){const y=(0,L.getEnterAction)(this._opts.autoIndent,i,new k.Range(p-1,i.getLineMaxColumn(p-1),p-1,i.getLineMaxColumn(p-1)),this._languageConfigurationService);if(y){if(f=c,y.appendText)for(let E=0,N=y.appendText.length;E<N&&f<a&&y.appendText.charCodeAt(E)===32;E++)f++;y.removeText&&(f=Math.max(0,f-y.removeText));for(let E=0;E<f&&!(m===0||_.charCodeAt(m-1)!==32);E++)m--}}if(this._opts.isUnshift&&m===0)continue;let h;this._opts.isUnshift?h=oi.unshiftIndent(_,m+1,d,a,s):h=oi.shiftIndent(_,m+1,d,a,s),this._addEditOperation(t,new k.Range(p,1,p,m+1),h),p===r&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=m+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&i.getLineLength(r)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const c=s?u(" ",a):"	";for(let f=r;f<=l;f++){const p=i.getLineContent(f);let _=w.firstNonWhitespaceIndex(p);if(!(this._opts.isUnshift&&(p.length===0||_===0))&&!(!o&&!this._opts.isUnshift&&p.length===0)&&(_===-1&&(_=p.length),!(this._opts.isUnshift&&_===0)))if(this._opts.isUnshift){_=Math.min(_,a);for(let m=0;m<_;m++)if(p.charCodeAt(m)===9){_=m+1;break}this._addEditOperation(t,new k.Range(f,1,f,_+1),"")}else this._addEditOperation(t,new k.Range(f,1,f,1),c),f===r&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(i,t){if(this._useLastEditRangeForCursorEndPosition){const l=t.getInverseEditOperations()[0];return new I.Selection(l.range.endLineNumber,l.range.endColumn,l.range.endLineNumber,l.range.endColumn)}const r=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const l=this._selection.startColumn;return r.startColumn<=l?r:r.getDirection()===0?new I.Selection(r.startLineNumber,l,r.endLineNumber,r.endColumn):new I.Selection(r.endLineNumber,r.endColumn,r.startLineNumber,l)}return r}};g=ke([me(2,b.ILanguageConfigurationService)],g),e.ShiftCommand=g}),define(re[216],ae([1,0,14,8,108,215,407,61,127,3,11,98,32,110,213,214]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionOutcome=e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class d{static indent(m,h,S){if(h===null||S===null)return[];const y=[];for(let E=0,N=S.length;E<N;E++)y[E]=new I.ShiftCommand(S[E],{isUnshift:!1,tabSize:m.tabSize,indentSize:m.indentSize,insertSpaces:m.insertSpaces,useTabStops:m.useTabStops,autoIndent:m.autoIndent},m.languageConfigurationService);return y}static outdent(m,h,S){const y=[];for(let E=0,N=S.length;E<N;E++)y[E]=new I.ShiftCommand(S[E],{isUnshift:!0,tabSize:m.tabSize,indentSize:m.indentSize,insertSpaces:m.insertSpaces,useTabStops:m.useTabStops,autoIndent:m.autoIndent},m.languageConfigurationService);return y}static shiftIndent(m,h,S){return S=S||1,I.ShiftCommand.shiftIndent(h,h.length+S,m.tabSize,m.indentSize,m.insertSpaces)}static unshiftIndent(m,h,S){return S=S||1,I.ShiftCommand.unshiftIndent(h,h.length+S,m.tabSize,m.indentSize,m.insertSpaces)}static _distributedPaste(m,h,S,y){const E=[];for(let N=0,T=S.length;N<T;N++)E[N]=new k.ReplaceCommand(S[N],y[N]);return new b.EditOperationResult(0,E,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(m,h,S,y,E){const N=[];for(let T=0,R=S.length;T<R;T++){const F=S[T],O=F.getPosition();if(E&&!F.isEmpty()&&(E=!1),E&&y.indexOf(`
`)!==y.length-1&&(E=!1),E){const D=new u.Range(O.lineNumber,1,O.lineNumber,1);N[T]=new k.ReplaceCommandThatPreservesSelection(D,y,F,!0)}else N[T]=new k.ReplaceCommand(F,y)}return new b.EditOperationResult(0,N,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(m,h,S,y,E){if(y||h.length===1)return null;if(E&&E.length===h.length)return E;if(m.multiCursorPaste==="spread"){S.charCodeAt(S.length-1)===10&&(S=S.substr(0,S.length-1)),S.charCodeAt(S.length-1)===13&&(S=S.substr(0,S.length-1));const N=C.splitLines(S);if(N.length===h.length)return N}return null}static paste(m,h,S,y,E,N){const T=this._distributePasteToCursors(m,S,y,E,N);return T?(S=S.sort(u.Range.compareRangesUsingStarts),this._distributedPaste(m,h,S,T)):this._simplePaste(m,h,S,y,E)}static _goodIndentForLine(m,h,S){let y=null,E="";const N=(0,r.getInheritIndentForLine)(m.autoIndent,h,S,!1,m.languageConfigurationService);if(N)y=N.action,E=N.indentation;else if(S>1){let T;for(T=S-1;T>=1;T--){const O=h.getLineContent(T);if(C.lastNonWhitespaceIndex(O)>=0)break}if(T<1)return null;const R=h.getLineMaxColumn(T),F=(0,l.getEnterAction)(m.autoIndent,h,new u.Range(T,R,T,R),m.languageConfigurationService);F&&(E=F.indentation+F.appendText)}return y&&(y===n.IndentAction.Indent&&(E=d.shiftIndent(m,E)),y===n.IndentAction.Outdent&&(E=d.unshiftIndent(m,E)),E=m.normalizeIndentation(E)),E||null}static _replaceJumpToNextIndent(m,h,S,y){let E="";const N=S.getStartPosition();if(m.insertSpaces){const T=m.visibleColumnFromColumn(h,N),R=m.indentSize,F=R-T%R;for(let O=0;O<F;O++)E+=" "}else E="	";return new k.ReplaceCommand(S,E,y)}static tab(m,h,S){const y=[];for(let E=0,N=S.length;E<N;E++){const T=S[E];if(T.isEmpty()){const R=h.getLineContent(T.startLineNumber);if(/^\s*$/.test(R)&&h.tokenization.isCheapToTokenize(T.startLineNumber)){let F=this._goodIndentForLine(m,h,T.startLineNumber);F=F||"	";const O=m.normalizeIndentation(F);if(!R.startsWith(O)){y[E]=new k.ReplaceCommand(new u.Range(T.startLineNumber,1,T.startLineNumber,R.length+1),O,!0);continue}}y[E]=this._replaceJumpToNextIndent(m,h,T,!0)}else{if(T.startLineNumber===T.endLineNumber){const R=h.getLineMaxColumn(T.startLineNumber);if(T.startColumn!==1||T.endColumn!==R){y[E]=this._replaceJumpToNextIndent(m,h,T,!1);continue}}y[E]=new I.ShiftCommand(T,{isUnshift:!1,tabSize:m.tabSize,indentSize:m.indentSize,insertSpaces:m.insertSpaces,useTabStops:m.useTabStops,autoIndent:m.autoIndent},m.languageConfigurationService)}}return y}static compositionType(m,h,S,y,E,N,T,R){const F=y.map(O=>this._compositionType(S,O,E,N,T,R));return new b.EditOperationResult(4,F,{shouldPushStackElementBefore:c(m,4),shouldPushStackElementAfter:!1})}static _compositionType(m,h,S,y,E,N){if(!h.isEmpty())return null;const T=h.getPosition(),R=Math.max(1,T.column-y),F=Math.min(m.getLineMaxColumn(T.lineNumber),T.column+E),O=new u.Range(T.lineNumber,R,T.lineNumber,F);return m.getValueInRange(O)===S&&N===0?null:new k.ReplaceCommandWithOffsetCursorState(O,S,0,N)}static _typeCommand(m,h,S){return S?new k.ReplaceCommandWithoutChangingPosition(m,h,!0):new k.ReplaceCommand(m,h,!0)}static _enter(m,h,S,y){if(m.autoIndent===0)return d._typeCommand(y,`
`,S);if(!h.tokenization.isCheapToTokenize(y.getStartPosition().lineNumber)||m.autoIndent===1){const R=h.getLineContent(y.startLineNumber),F=C.getLeadingWhitespace(R).substring(0,y.startColumn-1);return d._typeCommand(y,`
`+m.normalizeIndentation(F),S)}const E=(0,l.getEnterAction)(m.autoIndent,h,y,m.languageConfigurationService);if(E){if(E.indentAction===n.IndentAction.None)return d._typeCommand(y,`
`+m.normalizeIndentation(E.indentation+E.appendText),S);if(E.indentAction===n.IndentAction.Indent)return d._typeCommand(y,`
`+m.normalizeIndentation(E.indentation+E.appendText),S);if(E.indentAction===n.IndentAction.IndentOutdent){const R=m.normalizeIndentation(E.indentation),F=m.normalizeIndentation(E.indentation+E.appendText),O=`
`+F+`
`+R;return S?new k.ReplaceCommandWithoutChangingPosition(y,O,!0):new k.ReplaceCommandWithOffsetCursorState(y,O,-1,F.length-R.length,!0)}else if(E.indentAction===n.IndentAction.Outdent){const R=d.unshiftIndent(m,E.indentation);return d._typeCommand(y,`
`+m.normalizeIndentation(R+E.appendText),S)}}const N=h.getLineContent(y.startLineNumber),T=C.getLeadingWhitespace(N).substring(0,y.startColumn-1);if(m.autoIndent>=4){const R=(0,r.getIndentForEnter)(m.autoIndent,h,y,{unshiftIndent:F=>d.unshiftIndent(m,F),shiftIndent:F=>d.shiftIndent(m,F),normalizeIndentation:F=>m.normalizeIndentation(F)},m.languageConfigurationService);if(R){let F=m.visibleColumnFromColumn(h,y.getEndPosition());const O=y.endColumn,D=h.getLineContent(y.endLineNumber),M=C.firstNonWhitespaceIndex(D);if(M>=0?y=y.setEndPosition(y.endLineNumber,Math.max(y.endColumn,M+1)):y=y.setEndPosition(y.endLineNumber,h.getLineMaxColumn(y.endLineNumber)),S)return new k.ReplaceCommandWithoutChangingPosition(y,`
`+m.normalizeIndentation(R.afterEnter),!0);{let P=0;return O<=M+1&&(m.insertSpaces||(F=Math.ceil(F/m.indentSize)),P=Math.min(F+1-m.normalizeIndentation(R.afterEnter).length-1,0)),new k.ReplaceCommandWithOffsetCursorState(y,`
`+m.normalizeIndentation(R.afterEnter),0,P,!0)}}}return d._typeCommand(y,`
`+m.normalizeIndentation(T),S)}static _isAutoIndentType(m,h,S){if(m.autoIndent<4)return!1;for(let y=0,E=S.length;y<E;y++)if(!h.tokenization.isCheapToTokenize(S[y].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(m,h,S,y){const E=(0,i.getIndentationAtPosition)(h,S.startLineNumber,S.startColumn),N=(0,r.getIndentActionForType)(m.autoIndent,h,S,y,{shiftIndent:T=>d.shiftIndent(m,T),unshiftIndent:T=>d.unshiftIndent(m,T)},m.languageConfigurationService);if(N===null)return null;if(N!==m.normalizeIndentation(E)){const T=h.getLineFirstNonWhitespaceColumn(S.startLineNumber);return T===0?d._typeCommand(new u.Range(S.startLineNumber,1,S.endLineNumber,S.endColumn),m.normalizeIndentation(N)+y,!1):d._typeCommand(new u.Range(S.startLineNumber,1,S.endLineNumber,S.endColumn),m.normalizeIndentation(N)+h.getLineContent(S.startLineNumber).substring(T-1,S.startColumn-1)+y,!1)}return null}static _isAutoClosingOvertype(m,h,S,y,E){if(m.autoClosingOvertype==="never"||!m.autoClosingPairs.autoClosingPairsCloseSingleChar.has(E))return!1;for(let N=0,T=S.length;N<T;N++){const R=S[N];if(!R.isEmpty())return!1;const F=R.getPosition(),O=h.getLineContent(F.lineNumber);if(O.charAt(F.column-1)!==E)return!1;const M=(0,b.isQuote)(E);if((F.column>2?O.charCodeAt(F.column-2):0)===92&&M)return!1;if(m.autoClosingOvertype==="auto"){let B=!1;for(let W=0,V=y.length;W<V;W++){const A=y[W];if(F.lineNumber===A.startLineNumber&&F.column===A.startColumn){B=!0;break}}if(!B)return!1}}return!0}static _runAutoClosingOvertype(m,h,S,y,E){const N=[];for(let T=0,R=y.length;T<R;T++){const O=y[T].getPosition(),D=new u.Range(O.lineNumber,O.column,O.lineNumber,O.column+1);N[T]=new k.ReplaceCommand(D,E)}return new b.EditOperationResult(4,N,{shouldPushStackElementBefore:c(m,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(m,h){const S=h.charAt(0),y=m.autoClosingPairs.autoClosingPairsOpenByStart.get(S)||[],E=m.autoClosingPairs.autoClosingPairsCloseByStart.get(S)||[],N=y.some(R=>h.startsWith(R.open)),T=E.some(R=>h.startsWith(R.close));return!N&&T}static _findAutoClosingPairOpen(m,h,S,y){const E=m.autoClosingPairs.autoClosingPairsOpenByEnd.get(y);if(!E)return null;let N=null;for(const T of E)if(N===null||T.open.length>N.open.length){let R=!0;for(const F of S)if(h.getValueInRange(new u.Range(F.lineNumber,F.column-T.open.length+1,F.lineNumber,F.column))+y!==T.open){R=!1;break}R&&(N=T)}return N}static _findContainedAutoClosingPair(m,h){if(h.open.length<=1)return null;const S=h.close.charAt(h.close.length-1),y=m.autoClosingPairs.autoClosingPairsCloseByEnd.get(S)||[];let E=null;for(const N of y)N.open!==h.open&&h.open.includes(N.open)&&h.close.endsWith(N.close)&&(!E||N.open.length>E.open.length)&&(E=N);return E}static _getAutoClosingPairClose(m,h,S,y,E){const N=(0,b.isQuote)(y),T=N?m.autoClosingQuotes:m.autoClosingBrackets,R=N?m.shouldAutoCloseBefore.quote:m.shouldAutoCloseBefore.bracket;if(T==="never")return null;for(const B of S)if(!B.isEmpty())return null;const F=S.map(B=>{const W=B.getPosition();return E?{lineNumber:W.lineNumber,beforeColumn:W.column-y.length,afterColumn:W.column}:{lineNumber:W.lineNumber,beforeColumn:W.column,afterColumn:W.column}}),O=this._findAutoClosingPairOpen(m,h,F.map(B=>new g.Position(B.lineNumber,B.beforeColumn)),y);if(!O)return null;const D=this._findContainedAutoClosingPair(m,O),M=D?D.close:"";let P=!0;for(const B of F){const{lineNumber:W,beforeColumn:V,afterColumn:A}=B,Q=h.getLineContent(W),J=Q.substring(0,V-1),H=Q.substring(A-1);if(H.startsWith(M)||(P=!1),H.length>0){const Y=H.charAt(0);if(!d._isBeforeClosingBrace(m,H)&&!R(Y))return null}if(O.open.length===1&&(y==="'"||y==='"')&&T!=="always"){const Y=(0,v.getMapForWordSeparators)(m.wordSeparators);if(J.length>0){const te=J.charCodeAt(J.length-1);if(Y.get(te)===0)return null}}if(!h.tokenization.isCheapToTokenize(W))return null;h.tokenization.forceTokenization(W);const q=h.tokenization.getLineTokens(W),Z=(0,t.createScopedLineTokens)(q,V-1);if(!O.shouldAutoClose(Z,V-Z.firstCharOffset))return null;const ie=O.findNeutralCharacter();if(ie){const Y=h.tokenization.getTokenTypeIfInsertingCharacter(W,V,ie);if(!O.isOK(Y))return null}}return P?O.close.substring(0,O.close.length-M.length):O.close}static _runAutoClosingOpenCharType(m,h,S,y,E,N,T){const R=[];for(let F=0,O=y.length;F<O;F++){const D=y[F];R[F]=new a(D,E,!N,T)}return new b.EditOperationResult(4,R,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(m,h){return(0,b.isQuote)(h)?m.autoSurround==="quotes"||m.autoSurround==="languageDefined":m.autoSurround==="brackets"||m.autoSurround==="languageDefined"}static _isSurroundSelectionType(m,h,S,y){if(!d._shouldSurroundChar(m,y)||!m.surroundingPairs.hasOwnProperty(y))return!1;const E=(0,b.isQuote)(y);for(const N of S){if(N.isEmpty())return!1;let T=!0;for(let R=N.startLineNumber;R<=N.endLineNumber;R++){const F=h.getLineContent(R),O=R===N.startLineNumber?N.startColumn-1:0,D=R===N.endLineNumber?N.endColumn-1:F.length,M=F.substring(O,D);if(/[^ \t]/.test(M)){T=!1;break}}if(T)return!1;if(E&&N.startLineNumber===N.endLineNumber&&N.startColumn+1===N.endColumn){const R=h.getValueInRange(N);if((0,b.isQuote)(R))return!1}}return!0}static _runSurroundSelectionType(m,h,S,y,E){const N=[];for(let T=0,R=y.length;T<R;T++){const F=y[T],O=h.surroundingPairs[E];N[T]=new L.SurroundSelectionCommand(F,E,O)}return new b.EditOperationResult(0,N,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(m,h,S){return!!(S.length===1&&h.tokenization.isCheapToTokenize(S[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(m,h,S,y,E){if(!h.electricChars.hasOwnProperty(E)||!y.isEmpty())return null;const N=y.getPosition();S.tokenization.forceTokenization(N.lineNumber);const T=S.tokenization.getLineTokens(N.lineNumber);let R;try{R=h.onElectricCharacter(E,T,N.column)}catch(F){return(0,w.onUnexpectedError)(F),null}if(!R)return null;if(R.matchOpenBracket){const F=(T.getLineContent()+E).lastIndexOf(R.matchOpenBracket)+1,O=S.bracketPairs.findMatchingBracketUp(R.matchOpenBracket,{lineNumber:N.lineNumber,column:F},500);if(O){if(O.startLineNumber===N.lineNumber)return null;const D=S.getLineContent(O.startLineNumber),M=C.getLeadingWhitespace(D),P=h.normalizeIndentation(M),B=S.getLineContent(N.lineNumber),W=S.getLineFirstNonWhitespaceColumn(N.lineNumber)||N.column,V=B.substring(W-1,N.column-1),A=P+V+E,Q=new u.Range(N.lineNumber,1,N.lineNumber,N.column),J=new k.ReplaceCommand(Q,A);return new b.EditOperationResult(o(A,m),[J],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(m,h,S,y,E,N){if(!y)return null;let T=null;for(const D of y)if(T===null)T=D.insertedText;else if(T!==D.insertedText)return null;if(!T||T.length!==1)return null;const R=T;let F=!1;for(const D of y)if(D.deletedText.length!==0){F=!0;break}if(F){if(!d._shouldSurroundChar(h,R)||!h.surroundingPairs.hasOwnProperty(R))return null;const D=(0,b.isQuote)(R);for(const B of y)if(B.deletedSelectionStart!==0||B.deletedSelectionEnd!==B.deletedText.length||/^[ \t]+$/.test(B.deletedText)||D&&(0,b.isQuote)(B.deletedText))return null;const M=[];for(const B of E){if(!B.isEmpty())return null;M.push(B.getPosition())}if(M.length!==y.length)return null;const P=[];for(let B=0,W=M.length;B<W;B++)P.push(new L.CompositionSurroundSelectionCommand(M[B],y[B].deletedText,R));return new b.EditOperationResult(4,P,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(h,S,E,N,R)){const D=E.map(M=>new k.ReplaceCommand(new u.Range(M.positionLineNumber,M.positionColumn,M.positionLineNumber,M.positionColumn+1),"",!1));return new b.EditOperationResult(4,D,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const O=this._getAutoClosingPairClose(h,S,E,R,!0);return O!==null?this._runAutoClosingOpenCharType(m,h,S,E,R,!0,O):null}static typeWithInterceptors(m,h,S,y,E,N,T){if(!m&&T===`
`){const O=[];for(let D=0,M=E.length;D<M;D++)O[D]=d._enter(S,y,!1,E[D]);return new b.EditOperationResult(4,O,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!m&&this._isAutoIndentType(S,y,E)){const O=[];let D=!1;for(let M=0,P=E.length;M<P;M++)if(O[M]=this._runAutoIndentType(S,y,E[M],T),!O[M]){D=!0;break}if(!D)return new b.EditOperationResult(4,O,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(S,y,E,N,T))return this._runAutoClosingOvertype(h,S,y,E,T);if(!m){const O=this._getAutoClosingPairClose(S,y,E,T,!1);if(O)return this._runAutoClosingOpenCharType(h,S,y,E,T,!1,O)}if(!m&&this._isSurroundSelectionType(S,y,E,T))return this._runSurroundSelectionType(h,S,y,E,T);if(!m&&this._isTypeInterceptorElectricChar(S,y,E)){const O=this._typeInterceptorElectricChar(h,S,y,E[0],T);if(O)return O}const R=[];for(let O=0,D=E.length;O<D;O++)R[O]=new k.ReplaceCommand(E[O],T);const F=o(T,h);return new b.EditOperationResult(F,R,{shouldPushStackElementBefore:c(h,F),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(m,h,S,y,E){const N=[];for(let R=0,F=y.length;R<F;R++)N[R]=new k.ReplaceCommand(y[R],E);const T=o(E,m);return new b.EditOperationResult(T,N,{shouldPushStackElementBefore:c(m,T),shouldPushStackElementAfter:!1})}static lineInsertBefore(m,h,S){if(h===null||S===null)return[];const y=[];for(let E=0,N=S.length;E<N;E++){let T=S[E].positionLineNumber;if(T===1)y[E]=new k.ReplaceCommandWithoutChangingPosition(new u.Range(1,1,1,1),`
`);else{T--;const R=h.getLineMaxColumn(T);y[E]=this._enter(m,h,!1,new u.Range(T,R,T,R))}}return y}static lineInsertAfter(m,h,S){if(h===null||S===null)return[];const y=[];for(let E=0,N=S.length;E<N;E++){const T=S[E].positionLineNumber,R=h.getLineMaxColumn(T);y[E]=this._enter(m,h,!1,new u.Range(T,R,T,R))}return y}static lineBreakInsert(m,h,S){const y=[];for(let E=0,N=S.length;E<N;E++)y[E]=this._enter(m,h,!0,S[E]);return y}}e.TypeOperations=d;class a extends k.ReplaceCommandWithOffsetCursorState{constructor(m,h,S,y){super(m,(S?h:"")+y,0,-y.length);this._openCharacter=h,this._closeCharacter=y,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(m,h){const y=h.getInverseEditOperations()[0].range;return this.closeCharacterRange=new u.Range(y.startLineNumber,y.endColumn-this._closeCharacter.length,y.endLineNumber,y.endColumn),this.enclosingRange=new u.Range(y.startLineNumber,y.endColumn-this._openCharacter.length-this._closeCharacter.length,y.endLineNumber,y.endColumn),super.computeCursorState(m,h)}}e.TypeWithAutoClosingCommand=a;class s{constructor(m,h,S,y,E,N){this.deletedText=m,this.deletedSelectionStart=h,this.deletedSelectionEnd=S,this.insertedText=y,this.insertedSelectionStart=E,this.insertedSelectionEnd=N}}e.CompositionOutcome=s;function o(_,m){return _===" "?m===5||m===6?6:5:4}function c(_,m){return p(_)&&!p(m)?!0:_===5?!1:f(_)!==f(m)}function f(_){return _===6||_===5?"space":_}function p(_){return _===4||_===5||_===6}}),define(re[291],ae([1,0,14,8,414,61,408,181,216,3,23,99,187,2,204]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorsController=void 0;class l extends t.Disposable{constructor(p,_,m,h){super();this._model=p,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=_,this._coordinatesConverter=m,this.context=new L.CursorContext(this._model,this._viewModel,this._coordinatesConverter,h),this._cursors=new k.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,t.dispose)(this._autoClosedActions),super.dispose()}updateConfiguration(p){this.context=new L.CursorContext(this._model,this._viewModel,this._coordinatesConverter,p),this._cursors.updateContext(this.context)}onLineMappingChanged(p){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(p,"viewModel",0,this.getCursorStates())}setHasFocus(p){this._hasFocus=p}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const p=this._cursors.getSelections();for(let _=0;_<this._autoClosedActions.length;_++){const m=this._autoClosedActions[_];m.isValid(p)||(m.dispose(),this._autoClosedActions.splice(_,1),_--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(p,_,m,h){let S=!1;h!==null&&h.length>l.MAX_CURSOR_COUNT&&(h=h.slice(0,l.MAX_CURSOR_COUNT),S=!0);const y=d.from(this._model,this);return this._cursors.setStates(h),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(p,_,m,y,S)}setCursorColumnSelectData(p){this._columnSelectData=p}revealPrimary(p,_,m,h,S,y){const E=this._cursors.getViewPositions();let N=null,T=null;E.length>1?T=this._cursors.getViewSelections():N=u.Range.fromPositions(E[0],E[0]),p.emitViewEvent(new i.ViewRevealRangeRequestEvent(_,m,N,T,h,S,y))}saveState(){const p=[],_=this._cursors.getSelections();for(let m=0,h=_.length;m<h;m++){const S=_[m];p.push({inSelectionMode:!S.isEmpty(),selectionStart:{lineNumber:S.selectionStartLineNumber,column:S.selectionStartColumn},position:{lineNumber:S.positionLineNumber,column:S.positionColumn}})}return p}restoreState(p,_){const m=[];for(let h=0,S=_.length;h<S;h++){const y=_[h];let E=1,N=1;y.position&&y.position.lineNumber&&(E=y.position.lineNumber),y.position&&y.position.column&&(N=y.position.column);let T=E,R=N;y.selectionStart&&y.selectionStart.lineNumber&&(T=y.selectionStart.lineNumber),y.selectionStart&&y.selectionStart.column&&(R=y.selectionStart.column),m.push({selectionStartLineNumber:T,selectionStartColumn:R,positionLineNumber:E,positionColumn:N})}this.setStates(p,"restoreState",0,I.CursorState.fromModelSelections(m)),this.revealPrimary(p,"restoreState",!1,0,!0,1)}onModelContentChanged(p,_){if(_ instanceof n.ModelInjectedTextChangedEvent){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(p,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const m=_.rawContentChangedEvent;if(this._knownModelVersionId=m.versionId,this._isHandling)return;const h=m.containsEvent(1);if(this._prevEditOperationType=0,h)this._cursors.dispose(),this._cursors=new k.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(p,"model",1,null,!1);else if(this._hasFocus&&m.resultingSelection&&m.resultingSelection.length>0){const S=I.CursorState.fromModelSelections(m.resultingSelection);this.setStates(p,"modelChange",m.isUndoing?5:m.isRedoing?6:2,S)&&this.revealPrimary(p,"modelChange",!1,0,!0,0)}else{const S=this._cursors.readSelectionFromMarkers();this.setStates(p,"modelChange",2,I.CursorState.fromModelSelections(S))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const p=this._cursors.getPrimaryCursor(),_=p.viewState.selectionStart.getStartPosition(),m=p.viewState.position;return{isReal:!1,fromViewLineNumber:_.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,_),toViewLineNumber:m.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,m)}}getSelections(){return this._cursors.getSelections()}setSelections(p,_,m,h){this.setStates(p,_,h,I.CursorState.fromModelSelections(m))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(p){this._prevEditOperationType=p}_pushAutoClosedAction(p,_){const m=[],h=[];for(let E=0,N=p.length;E<N;E++)m.push({range:p[E],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),h.push({range:_[E],options:{description:"auto-closed-enclosing",stickiness:1}});const S=this._model.deltaDecorations([],m),y=this._model.deltaDecorations([],h);this._autoClosedActions.push(new a(this._model,S,y))}_executeEditOperation(p){if(!p)return;p.shouldPushStackElementBefore&&this._model.pushStackElement();const _=s.executeCommands(this._model,this._cursors.getSelections(),p.commands);if(_){this._interpretCommandResult(_);const m=[],h=[];for(let S=0;S<p.commands.length;S++){const y=p.commands[S];y instanceof v.TypeWithAutoClosingCommand&&y.enclosingRange&&y.closeCharacterRange&&(m.push(y.closeCharacterRange),h.push(y.enclosingRange))}m.length>0&&this._pushAutoClosedAction(m,h),this._prevEditOperationType=p.type}p.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(p){(!p||p.length===0)&&(p=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(p),this._cursors.normalize()}_emitStateChangedIfNecessary(p,_,m,h,S){const y=d.from(this._model,this);if(y.equals(h))return!1;const E=this._cursors.getSelections(),N=this._cursors.getViewSelections();if(p.emitViewEvent(new i.ViewCursorStateChangedEvent(N,E)),!h||h.cursorState.length!==y.cursorState.length||y.cursorState.some((T,R)=>!T.modelState.equals(h.cursorState[R].modelState))){const T=h?h.cursorState.map(F=>F.modelState.selection):null,R=h?h.modelVersionId:0;p.emitOutgoingEvent(new r.CursorStateChangedEvent(T,E,R,y.modelVersionId,_||"keyboard",m,S))}return!0}_findAutoClosingPairs(p){if(!p.length)return null;const _=[];for(let m=0,h=p.length;m<h;m++){const S=p[m];if(!S.text||S.text.indexOf(`
`)>=0)return null;const y=S.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!y)return null;const E=y[1],N=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(E);if(!N||N.length!==1)return null;const T=N[0].open,R=S.text.length-y[2].length-1,F=S.text.lastIndexOf(T,R-1);if(F===-1)return null;_.push([F,R])}return _}executeEdits(p,_,m,h){let S=null;_==="snippet"&&(S=this._findAutoClosingPairs(m)),S&&(m[0]._isTracked=!0);const y=[],E=[],N=this._model.pushEditOperations(this.getSelections(),m,T=>{if(S)for(let F=0,O=S.length;F<O;F++){const[D,M]=S[F],P=T[F],B=P.range.startLineNumber,W=P.range.startColumn-1+D,V=P.range.startColumn-1+M;y.push(new u.Range(B,V+1,B,V+2)),E.push(new u.Range(B,W+1,B,V+2))}const R=h(T);return R&&(this._isHandling=!0),R});N&&(this._isHandling=!1,this.setSelections(p,_,N,0)),y.length>0&&this._pushAutoClosedAction(y,E)}_executeEdit(p,_,m,h=0){if(this.context.cursorConfig.readOnly)return;const S=d.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),p()}catch(y){(0,w.onUnexpectedError)(y)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(_,m,h,S,!1)&&this.revealPrimary(_,m,!1,0,!0,0)}getAutoClosedCharacters(){return a.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(p){this._compositionState=new c(this._model,this.getSelections())}endComposition(p,_){const m=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{_==="keyboard"&&this._executeEditOperation(v.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,m,this.getSelections(),this.getAutoClosedCharacters()))},p,_)}type(p,_,m){this._executeEdit(()=>{if(m==="keyboard"){const h=_.length;let S=0;for(;S<h;){const y=C.nextCharLength(_,S),E=_.substr(S,y);this._executeEditOperation(v.TypeOperations.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),E)),S+=y}}else this._executeEditOperation(v.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),_))},p,m)}compositionType(p,_,m,h,S,y){if(_.length===0&&m===0&&h===0){if(S!==0){const E=this.getSelections().map(N=>{const T=N.getPosition();return new g.Selection(T.lineNumber,T.column+S,T.lineNumber,T.column+S)});this.setSelections(p,y,E,0)}return}this._executeEdit(()=>{this._executeEditOperation(v.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),_,m,h,S))},p,y)}paste(p,_,m,h,S){this._executeEdit(()=>{this._executeEditOperation(v.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),_,m,h||[]))},p,S,4)}cut(p,_){this._executeEdit(()=>{this._executeEditOperation(b.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},p,_)}executeCommand(p,_,m){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new I.EditOperationResult(0,[_],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},p,m)}executeCommands(p,_,m){this._executeEdit(()=>{this._executeEditOperation(new I.EditOperationResult(0,_,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},p,m)}}e.CursorsController=l,l.MAX_CURSOR_COUNT=1e4;class d{constructor(p,_){this.modelVersionId=p,this.cursorState=_}static from(p,_){return new d(p.getVersionId(),_.getCursorStates())}equals(p){if(!p||this.modelVersionId!==p.modelVersionId||this.cursorState.length!==p.cursorState.length)return!1;for(let _=0,m=this.cursorState.length;_<m;_++)if(!this.cursorState[_].equals(p.cursorState[_]))return!1;return!0}}class a{constructor(p,_,m){this._model=p,this._autoClosedCharactersDecorations=_,this._autoClosedEnclosingDecorations=m}static getAllAutoClosedCharacters(p){let _=[];for(const m of p)_=_.concat(m.getAutoClosedCharactersRanges());return _}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const p=[];for(let _=0;_<this._autoClosedCharactersDecorations.length;_++){const m=this._model.getDecorationRange(this._autoClosedCharactersDecorations[_]);m&&p.push(m)}return p}isValid(p){const _=[];for(let m=0;m<this._autoClosedEnclosingDecorations.length;m++){const h=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[m]);if(h&&(_.push(h),h.startLineNumber!==h.endLineNumber))return!1}_.sort(u.Range.compareRangesUsingStarts),p.sort(u.Range.compareRangesUsingStarts);for(let m=0;m<p.length;m++)if(m>=_.length||!_[m].strictContainsRange(p[m]))return!1;return!0}}class s{static executeCommands(p,_,m){const h={model:p,selectionsBefore:_,trackedRanges:[],trackedRangesDirection:[]},S=this._innerExecuteCommands(h,m);for(let y=0,E=h.trackedRanges.length;y<E;y++)h.model._setTrackedRange(h.trackedRanges[y],null,0);return S}static _innerExecuteCommands(p,_){if(this._arrayIsEmpty(_))return null;const m=this._getEditOperations(p,_);if(m.operations.length===0)return null;const h=m.operations,S=this._getLoserCursorMap(h);if(S.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const y=[];for(let T=0,R=h.length;T<R;T++)S.hasOwnProperty(h[T].identifier.major.toString())||y.push(h[T]);m.hadTrackedEditOperation&&y.length>0&&(y[0]._isTracked=!0);let E=p.model.pushEditOperations(p.selectionsBefore,y,T=>{const R=[];for(let D=0;D<p.selectionsBefore.length;D++)R[D]=[];for(const D of T)!D.identifier||R[D.identifier.major].push(D);const F=(D,M)=>D.identifier.minor-M.identifier.minor,O=[];for(let D=0;D<p.selectionsBefore.length;D++)R[D].length>0?(R[D].sort(F),O[D]=_[D].computeCursorState(p.model,{getInverseEditOperations:()=>R[D],getTrackedSelection:M=>{const P=parseInt(M,10),B=p.model._getTrackedRange(p.trackedRanges[P]);return p.trackedRangesDirection[P]===0?new g.Selection(B.startLineNumber,B.startColumn,B.endLineNumber,B.endColumn):new g.Selection(B.endLineNumber,B.endColumn,B.startLineNumber,B.startColumn)}})):O[D]=p.selectionsBefore[D];return O});E||(E=p.selectionsBefore);const N=[];for(const T in S)S.hasOwnProperty(T)&&N.push(parseInt(T,10));N.sort((T,R)=>R-T);for(const T of N)E.splice(T,1);return E}static _arrayIsEmpty(p){for(let _=0,m=p.length;_<m;_++)if(p[_])return!1;return!0}static _getEditOperations(p,_){let m=[],h=!1;for(let S=0,y=_.length;S<y;S++){const E=_[S];if(E){const N=this._getEditOperationsFromCommand(p,S,E);m=m.concat(N.operations),h=h||N.hadTrackedEditOperation}}return{operations:m,hadTrackedEditOperation:h}}static _getEditOperationsFromCommand(p,_,m){const h=[];let S=0;const y=(F,O,D=!1)=>{u.Range.isEmpty(F)&&O===""||h.push({identifier:{major:_,minor:S++},range:F,text:O,forceMoveMarkers:D,isAutoWhitespaceEdit:m.insertsAutoWhitespace})};let E=!1;const R={addEditOperation:y,addTrackedEditOperation:(F,O,D)=>{E=!0,y(F,O,D)},trackSelection:(F,O)=>{const D=g.Selection.liftSelection(F);let M;if(D.isEmpty())if(typeof O=="boolean")O?M=2:M=3;else{const W=p.model.getLineMaxColumn(D.startLineNumber);D.startColumn===W?M=2:M=3}else M=1;const P=p.trackedRanges.length,B=p.model._setTrackedRange(null,D,M);return p.trackedRanges[P]=B,p.trackedRangesDirection[P]=D.getDirection(),P.toString()}};try{m.getEditOperations(p.model,R)}catch(F){return(0,w.onUnexpectedError)(F),{operations:[],hadTrackedEditOperation:!1}}return{operations:h,hadTrackedEditOperation:E}}static _getLoserCursorMap(p){p=p.slice(0),p.sort((m,h)=>-u.Range.compareRangesUsingEnds(m.range,h.range));const _={};for(let m=1;m<p.length;m++){const h=p[m-1],S=p[m];if(u.Range.getStartPosition(h.range).isBefore(u.Range.getEndPosition(S.range))){let y;h.identifier.major>S.identifier.major?y=h.identifier.major:y=S.identifier.major,_[y.toString()]=!0;for(let E=0;E<p.length;E++)p[E].identifier.major===y&&(p.splice(E,1),E<m&&m--,E--);m>0&&m--}}return _}}class o{constructor(p,_,m){this.text=p,this.startSelection=_,this.endSelection=m}}class c{constructor(p,_){this._original=c._capture(p,_)}static _capture(p,_){const m=[];for(const h of _){if(h.startLineNumber!==h.endLineNumber)return null;m.push(new o(p.getLineContent(h.startLineNumber),h.startColumn-1,h.endColumn-1))}return m}deduceOutcome(p,_){if(!this._original)return null;const m=c._capture(p,_);if(!m||this._original.length!==m.length)return null;const h=[];for(let S=0,y=this._original.length;S<y;S++)h.push(c._deduceOutcome(this._original[S],m[S]));return h}static _deduceOutcome(p,_){const m=Math.min(p.startSelection,_.startSelection,C.commonPrefixLength(p.text,_.text)),h=Math.min(p.text.length-p.endSelection,_.text.length-_.endSelection,C.commonSuffixLength(p.text,_.text)),S=p.text.substring(m,p.text.length-h),y=_.text.substring(m,_.text.length-h);return new v.CompositionOutcome(S,p.startSelection-m,p.endSelection-m,y,_.startSelection-m,_.endSelection-m)}}}),define(re[651],ae([1,0,52,44,72,280]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cssEscape=e.getIconClasses=void 0;const L=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function b(g,n,i,t){const r=t===I.FileKind.ROOT_FOLDER?["rootfolder-icon"]:t===I.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(i){let l;if(i.scheme===w.Schemas.data)l=C.DataUri.parseMetaData(i).get(C.DataUri.META_DATA_LABEL);else{const d=i.path.match(L);d?(l=u(d[2].toLowerCase()),d[1]&&r.push(`${u(d[1].toLowerCase())}-name-dir-icon`)):l=u(i.authority.toLowerCase())}if(t===I.FileKind.FOLDER)r.push(`${l}-name-folder-icon`);else{if(l){if(r.push(`${l}-name-file-icon`),r.push("name-file-icon"),l.length<=255){const a=l.split(".");for(let s=1;s<a.length;s++)r.push(`${a.slice(s).join(".")}-ext-file-icon`)}r.push("ext-file-icon")}const d=v(g,n,i);d&&r.push(`${u(d)}-lang-file-icon`)}}return r}e.getIconClasses=b;function v(g,n,i){if(!i)return null;let t=null;if(i.scheme===w.Schemas.data){const l=C.DataUri.parseMetaData(i).get(C.DataUri.META_DATA_MIME);l&&(t=n.getLanguageIdByMimeType(l))}else{const r=g.getModel(i);r&&(t=r.getLanguageId())}return t&&t!==k.PLAINTEXT_LANGUAGE_ID?t:n.guessLanguageIdByFilepathOrFirstLine(i)}function u(g){return g.replace(/[\11\12\14\15\40]/g,"/")}e.cssEscape=u}),define(re[652],ae([1,0,253,97,52,90,44,8,72]),function($,e,w,C,k,I,L,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageIds=e.clearPlatformLanguageAssociations=e.registerPlatformLanguageAssociation=void 0;let u=[],g=[],n=[];function i(c,f=!1){t(c,!1,f)}e.registerPlatformLanguageAssociation=i;function t(c,f,p){const _=r(c,f);u.push(_),_.userConfigured?n.push(_):g.push(_),p&&!_.userConfigured&&u.forEach(m=>{m.mime===_.mime||m.userConfigured||(_.extension&&m.extension===_.extension&&console.warn(`Overwriting extension <<${_.extension}>> to now point to mime <<${_.mime}>>`),_.filename&&m.filename===_.filename&&console.warn(`Overwriting filename <<${_.filename}>> to now point to mime <<${_.mime}>>`),_.filepattern&&m.filepattern===_.filepattern&&console.warn(`Overwriting filepattern <<${_.filepattern}>> to now point to mime <<${_.mime}>>`),_.firstline&&m.firstline===_.firstline&&console.warn(`Overwriting firstline <<${_.firstline}>> to now point to mime <<${_.mime}>>`))})}function r(c,f){return{id:c.id,mime:c.mime,filename:c.filename,extension:c.extension,filepattern:c.filepattern,firstline:c.firstline,userConfigured:f,filenameLowercase:c.filename?c.filename.toLowerCase():void 0,extensionLowercase:c.extension?c.extension.toLowerCase():void 0,filepatternLowercase:c.filepattern?(0,w.parse)(c.filepattern.toLowerCase()):void 0,filepatternOnPath:c.filepattern?c.filepattern.indexOf(I.posix.sep)>=0:!1}}function l(){u=u.filter(c=>c.userConfigured),g=[]}e.clearPlatformLanguageAssociations=l;function d(c,f){return a(c,f).map(p=>p.id)}e.getLanguageIds=d;function a(c,f){let p;if(c)switch(c.scheme){case k.Schemas.file:p=c.fsPath;break;case k.Schemas.data:{p=L.DataUri.parseMetaData(c).get(L.DataUri.META_DATA_LABEL);break}case k.Schemas.vscodeNotebookCell:p=void 0;break;default:p=c.path}if(!p)return[{id:"unknown",mime:C.Mimes.unknown}];p=p.toLowerCase();const _=(0,I.basename)(p),m=s(p,_,n);if(m)return[m,{id:v.PLAINTEXT_LANGUAGE_ID,mime:C.Mimes.text}];const h=s(p,_,g);if(h)return[h,{id:v.PLAINTEXT_LANGUAGE_ID,mime:C.Mimes.text}];if(f){const S=o(f);if(S)return[S,{id:v.PLAINTEXT_LANGUAGE_ID,mime:C.Mimes.text}]}return[{id:"unknown",mime:C.Mimes.unknown}]}function s(c,f,p){var _;let m,h,S;for(let y=p.length-1;y>=0;y--){const E=p[y];if(f===E.filenameLowercase){m=E;break}if(E.filepattern&&(!h||E.filepattern.length>h.filepattern.length)){const N=E.filepatternOnPath?c:f;((_=E.filepatternLowercase)===null||_===void 0?void 0:_.call(E,N))&&(h=E)}E.extension&&(!S||E.extension.length>S.extension.length)&&f.endsWith(E.extensionLowercase)&&(S=E)}if(m)return m;if(h)return h;if(S)return S}function o(c){if((0,b.startsWithUTF8BOM)(c)&&(c=c.substr(1)),c.length>0)for(let f=u.length-1;f>=0;f--){const p=u[f];if(!p.firstline)continue;const _=c.match(p.firstline);if(_&&_.length>0)return p}}}),define(re[653],ae([1,0,14,6,2,8,652,72,94,34]),function($,e,w,C,k,I,L,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=e.LanguageIdCodec=void 0;const g=Object.prototype.hasOwnProperty,n="vs.editor.nullLanguage";class i{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(n,0),this._register(b.PLAINTEXT_LANGUAGE_ID,1),this._nextLanguageId=2}_register(l,d){this._languageIdToLanguage[d]=l,this._languageToLanguageId.set(l,d)}register(l){if(this._languageToLanguageId.has(l))return;const d=this._nextLanguageId++;this._register(l,d)}encodeLanguageId(l){return this._languageToLanguageId.get(l)||0}decodeLanguageId(l){return this._languageIdToLanguage[l]||n}}e.LanguageIdCodec=i;class t extends k.Disposable{constructor(l=!0,d=!1){super();this._onDidChange=this._register(new C.Emitter),this.onDidChange=this._onDidChange.event,t.instanceCount++,this._warnOnOverwrite=d,this.languageIdCodec=new i,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},l&&(this._initializeFromRegistry(),this._register(b.ModesRegistry.onDidChangeLanguages(a=>{this._initializeFromRegistry()})))}dispose(){t.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,L.clearPlatformLanguageAssociations)();const l=[].concat(b.ModesRegistry.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(l)}_registerLanguages(l){for(const d of l)this._registerLanguage(d);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(d=>{const a=this._languages[d];a.name&&(this._nameMap[a.name]=a.identifier),a.aliases.forEach(s=>{this._lowercaseNameMap[s.toLowerCase()]=a.identifier}),a.mimetypes.forEach(s=>{this._mimeTypesMap[s]=a.identifier})}),u.Registry.as(v.Extensions.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(l){const d=l.id;let a;g.call(this._languages,d)?a=this._languages[d]:(this.languageIdCodec.register(d),a={identifier:d,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[d]=a),this._mergeLanguage(a,l)}_mergeLanguage(l,d){const a=d.id;let s=null;if(Array.isArray(d.mimetypes)&&d.mimetypes.length>0&&(l.mimetypes.push(...d.mimetypes),s=d.mimetypes[0]),s||(s=`text/x-${a}`,l.mimetypes.push(s)),Array.isArray(d.extensions)){d.configuration?l.extensions=d.extensions.concat(l.extensions):l.extensions=l.extensions.concat(d.extensions);for(const f of d.extensions)(0,L.registerPlatformLanguageAssociation)({id:a,mime:s,extension:f},this._warnOnOverwrite)}if(Array.isArray(d.filenames))for(const f of d.filenames)(0,L.registerPlatformLanguageAssociation)({id:a,mime:s,filename:f},this._warnOnOverwrite),l.filenames.push(f);if(Array.isArray(d.filenamePatterns))for(const f of d.filenamePatterns)(0,L.registerPlatformLanguageAssociation)({id:a,mime:s,filepattern:f},this._warnOnOverwrite);if(typeof d.firstLine=="string"&&d.firstLine.length>0){let f=d.firstLine;f.charAt(0)!=="^"&&(f="^"+f);try{const p=new RegExp(f);(0,I.regExpLeadsToEndlessLoop)(p)||(0,L.registerPlatformLanguageAssociation)({id:a,mime:s,firstline:p},this._warnOnOverwrite)}catch(p){(0,w.onUnexpectedError)(p)}}l.aliases.push(a);let o=null;if(typeof d.aliases!="undefined"&&Array.isArray(d.aliases)&&(d.aliases.length===0?o=[null]:o=d.aliases),o!==null)for(const f of o)!f||f.length===0||l.aliases.push(f);const c=o!==null&&o.length>0;if(!(c&&o[0]===null)){const f=(c?o[0]:null)||a;(c||!l.name)&&(l.name=f)}d.configuration&&l.configurationFiles.push(d.configuration),d.icon&&l.icons.push(d.icon)}isRegisteredLanguageId(l){return l?g.call(this._languages,l):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(l){const d=l.toLowerCase();return g.call(this._lowercaseNameMap,d)?this._lowercaseNameMap[d]:null}getLanguageIdByMimeType(l){return l&&g.call(this._mimeTypesMap,l)?this._mimeTypesMap[l]:null}guessLanguageIdByFilepathOrFirstLine(l,d){return!l&&!d?[]:(0,L.getLanguageIds)(l,d)}}e.LanguagesRegistry=t,t.instanceCount=0}),define(re[654],ae([1,0,6,2,653,18,28,72]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageService=void 0;class v extends C.Disposable{constructor(n=!1){super();this._onDidEncounterLanguage=this._register(new w.Emitter),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new w.Emitter({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,v.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new k.LanguagesRegistry(!0,n)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){v.instanceCount--,super.dispose()}isRegisteredLanguageId(n){return this._registry.isRegisteredLanguageId(n)}getLanguageIdByLanguageName(n){return this._registry.getLanguageIdByLanguageName(n)}getLanguageIdByMimeType(n){return this._registry.getLanguageIdByMimeType(n)}guessLanguageIdByFilepathOrFirstLine(n,i){const t=this._registry.guessLanguageIdByFilepathOrFirstLine(n,i);return(0,I.firstOrDefault)(t,null)}createById(n){return new u(this.onDidChange,()=>this._createAndGetLanguageIdentifier(n))}createByFilepathOrFirstLine(n,i){return new u(this.onDidChange,()=>{const t=this.guessLanguageIdByFilepathOrFirstLine(n,i);return this._createAndGetLanguageIdentifier(t)})}_createAndGetLanguageIdentifier(n){return(!n||!this.isRegisteredLanguageId(n))&&(n=b.PLAINTEXT_LANGUAGE_ID),this._encounteredLanguages.has(n)||(this._encounteredLanguages.add(n),L.TokenizationRegistry.getOrCreate(n),this._onDidEncounterLanguage.fire(n)),n}}e.LanguageService=v,v.instanceCount=0;class u{constructor(n,i){this._onDidChangeLanguages=n,this._selector=i,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new w.Emitter({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var n;const i=this._selector();i!==this.languageId&&(this.languageId=i,(n=this._emitter)===null||n===void 0||n.fire(this.languageId))}}}),define(re[655],ae([1,0,212,545,94,34]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),I.Registry.as(k.Extensions.Configuration).registerConfiguration(Object.assign(Object.assign({},w.editorConfigurationBaseNode),{properties:{"editor.experimental.useCustomCodeActionMenu":{type:"boolean",tags:["experimental"],scope:5,description:C.localize(0,null),default:!1}}}))}),define(re[656],ae([1,0,8,215,3,23,98,32,248,213,214]),function($,e,w,C,k,I,L,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;let n=class{constructor(t,r,l,d){this._languageConfigurationService=d,this._selection=t,this._isMovingDown=r,this._autoIndent=l,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(t,r){const l=t.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===l){this._selectionId=r.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=r.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let d=this._selection;d.startLineNumber<d.endLineNumber&&d.endColumn===1&&(this._moveEndPositionDown=!0,d=d.setEndPosition(d.endLineNumber-1,t.getLineMaxColumn(d.endLineNumber-1)));const{tabSize:a,indentSize:s,insertSpaces:o}=t.getOptions(),c=this.buildIndentConverter(a,s,o),f={tokenization:{getLineTokens:p=>t.tokenization.getLineTokens(p),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(p,_)=>t.getLanguageIdAtPosition(p,_)},getLineContent:null};if(d.startLineNumber===d.endLineNumber&&t.getLineMaxColumn(d.startLineNumber)===1){const p=d.startLineNumber,_=this._isMovingDown?p+1:p-1;t.getLineMaxColumn(_)===1?r.addEditOperation(new k.Range(1,1,1,1),null):(r.addEditOperation(new k.Range(p,1,p,1),t.getLineContent(_)),r.addEditOperation(new k.Range(_,1,_,t.getLineMaxColumn(_)),null)),d=new I.Selection(_,1,_,1)}else{let p,_;if(this._isMovingDown){p=d.endLineNumber+1,_=t.getLineContent(p),r.addEditOperation(new k.Range(p-1,t.getLineMaxColumn(p-1),p,t.getLineMaxColumn(p)),null);let m=_;if(this.shouldAutoIndent(t,d)){const h=this.matchEnterRule(t,c,a,p,d.startLineNumber-1);if(h!==null){const y=w.getLeadingWhitespace(t.getLineContent(p)),E=h+v.getSpaceCnt(y,a);m=v.generateIndent(E,a,o)+this.trimLeft(_)}else{f.getLineContent=E=>E===d.startLineNumber?t.getLineContent(p):t.getLineContent(E);const y=(0,u.getGoodIndentForLine)(this._autoIndent,f,t.getLanguageIdAtPosition(p,1),d.startLineNumber,c,this._languageConfigurationService);if(y!==null){const E=w.getLeadingWhitespace(t.getLineContent(p)),N=v.getSpaceCnt(y,a),T=v.getSpaceCnt(E,a);N!==T&&(m=v.generateIndent(N,a,o)+this.trimLeft(_))}}r.addEditOperation(new k.Range(d.startLineNumber,1,d.startLineNumber,1),m+`
`);const S=this.matchEnterRuleMovingDown(t,c,a,d.startLineNumber,p,m);if(S!==null)S!==0&&this.getIndentEditsOfMovingBlock(t,r,d,a,o,S);else{f.getLineContent=E=>E===d.startLineNumber?m:E>=d.startLineNumber+1&&E<=d.endLineNumber+1?t.getLineContent(E-1):t.getLineContent(E);const y=(0,u.getGoodIndentForLine)(this._autoIndent,f,t.getLanguageIdAtPosition(p,1),d.startLineNumber+1,c,this._languageConfigurationService);if(y!==null){const E=w.getLeadingWhitespace(t.getLineContent(d.startLineNumber)),N=v.getSpaceCnt(y,a),T=v.getSpaceCnt(E,a);if(N!==T){const R=N-T;this.getIndentEditsOfMovingBlock(t,r,d,a,o,R)}}}}else r.addEditOperation(new k.Range(d.startLineNumber,1,d.startLineNumber,1),m+`
`)}else if(p=d.startLineNumber-1,_=t.getLineContent(p),r.addEditOperation(new k.Range(p,1,p+1,1),null),r.addEditOperation(new k.Range(d.endLineNumber,t.getLineMaxColumn(d.endLineNumber),d.endLineNumber,t.getLineMaxColumn(d.endLineNumber)),`
`+_),this.shouldAutoIndent(t,d)){f.getLineContent=h=>h===p?t.getLineContent(d.startLineNumber):t.getLineContent(h);const m=this.matchEnterRule(t,c,a,d.startLineNumber,d.startLineNumber-2);if(m!==null)m!==0&&this.getIndentEditsOfMovingBlock(t,r,d,a,o,m);else{const h=(0,u.getGoodIndentForLine)(this._autoIndent,f,t.getLanguageIdAtPosition(d.startLineNumber,1),p,c,this._languageConfigurationService);if(h!==null){const S=w.getLeadingWhitespace(t.getLineContent(d.startLineNumber)),y=v.getSpaceCnt(h,a),E=v.getSpaceCnt(S,a);if(y!==E){const N=y-E;this.getIndentEditsOfMovingBlock(t,r,d,a,o,N)}}}}}this._selectionId=r.trackSelection(d)}buildIndentConverter(t,r,l){return{shiftIndent:d=>C.ShiftCommand.shiftIndent(d,d.length+1,t,r,l),unshiftIndent:d=>C.ShiftCommand.unshiftIndent(d,d.length+1,t,r,l)}}parseEnterResult(t,r,l,d,a){if(a){let s=a.indentation;a.indentAction===L.IndentAction.None||a.indentAction===L.IndentAction.Indent?s=a.indentation+a.appendText:a.indentAction===L.IndentAction.IndentOutdent?s=a.indentation:a.indentAction===L.IndentAction.Outdent&&(s=r.unshiftIndent(a.indentation)+a.appendText);const o=t.getLineContent(d);if(this.trimLeft(o).indexOf(this.trimLeft(s))>=0){const c=w.getLeadingWhitespace(t.getLineContent(d));let f=w.getLeadingWhitespace(s);const p=(0,u.getIndentMetadata)(t,d,this._languageConfigurationService);p!==null&&p&2&&(f=r.unshiftIndent(f));const _=v.getSpaceCnt(f,l),m=v.getSpaceCnt(c,l);return _-m}}return null}matchEnterRuleMovingDown(t,r,l,d,a,s){if(w.lastNonWhitespaceIndex(s)>=0){const o=t.getLineMaxColumn(a),c=(0,g.getEnterAction)(this._autoIndent,t,new k.Range(a,o,a,o),this._languageConfigurationService);return this.parseEnterResult(t,r,l,d,c)}else{let o=d-1;for(;o>=1;){const p=t.getLineContent(o);if(w.lastNonWhitespaceIndex(p)>=0)break;o--}if(o<1||d>t.getLineCount())return null;const c=t.getLineMaxColumn(o),f=(0,g.getEnterAction)(this._autoIndent,t,new k.Range(o,c,o,c),this._languageConfigurationService);return this.parseEnterResult(t,r,l,d,f)}}matchEnterRule(t,r,l,d,a,s){let o=a;for(;o>=1;){let p;if(o===a&&s!==void 0?p=s:p=t.getLineContent(o),w.lastNonWhitespaceIndex(p)>=0)break;o--}if(o<1||d>t.getLineCount())return null;const c=t.getLineMaxColumn(o),f=(0,g.getEnterAction)(this._autoIndent,t,new k.Range(o,c,o,c),this._languageConfigurationService);return this.parseEnterResult(t,r,l,d,f)}trimLeft(t){return t.replace(/^\s+/,"")}shouldAutoIndent(t,r){if(this._autoIndent<4||!t.tokenization.isCheapToTokenize(r.startLineNumber))return!1;const l=t.getLanguageIdAtPosition(r.startLineNumber,1),d=t.getLanguageIdAtPosition(r.endLineNumber,1);return!(l!==d||this._languageConfigurationService.getLanguageConfiguration(l).indentRulesSupport===null)}getIndentEditsOfMovingBlock(t,r,l,d,a,s){for(let o=l.startLineNumber;o<=l.endLineNumber;o++){const c=t.getLineContent(o),f=w.getLeadingWhitespace(c),_=v.getSpaceCnt(f,d)+s,m=v.generateIndent(_,d,a);m!==f&&(r.addEditOperation(new k.Range(o,1,o,f.length+1),m),o===l.endLineNumber&&l.endColumn<=f.length+1&&m===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(t,r){let l=r.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(l=l.setEndPosition(l.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&l.startLineNumber<l.endLineNumber&&(l=l.setEndPosition(l.endLineNumber,2)),l}};n=ke([me(3,b.ILanguageConfigurationService)],n),e.MoveLinesCommand=n}),define(re[117],ae([1,0,496,45,37,14,272,6,2,65,72]),function($,e,w,C,k,I,L,b,v,u,g){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownRenderer=void 0;let i=class Ni{constructor(r,l,d){this._options=r,this._languageService=l,this._openerService=d,this._onDidRenderAsync=new b.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(r,l,d){if(!r)return{element:document.createElement("span"),dispose:()=>{}};const a=new v.DisposableStore;return{element:a.add((0,w.renderMarkdown)(r,Object.assign(Object.assign({},this._getRenderOptions(r,a)),l),d)).element,dispose:()=>a.dispose()}}_getRenderOptions(r,l){return{codeBlockRenderer:(d,a)=>Se(this,void 0,void 0,function*(){var s,o,c;let f;d?f=this._languageService.getLanguageIdByLanguageName(d):this._options.editor&&(f=(s=this._options.editor.getModel())===null||s===void 0?void 0:s.getLanguageId()),f||(f=g.PLAINTEXT_LANGUAGE_ID);const p=yield(0,L.tokenizeToString)(this._languageService,a,f),_=document.createElement("span");if(_.innerHTML=(c=(o=Ni._ttpTokenizer)===null||o===void 0?void 0:o.createHTML(p))!==null&&c!==void 0?c:p,this._options.editor){const m=this._options.editor.getOption(46);(0,u.applyFontInfo)(_,m)}else this._options.codeBlockFontFamily&&(_.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(_.style.fontSize=this._options.codeBlockFontSize),_}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:d=>this._openerService.open(d,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:r.isTrusted}).catch(I.onUnexpectedError),disposables:l}}}};i._ttpTokenizer=(n=window.trustedTypes)===null||n===void 0?void 0:n.createPolicy("tokenizeToString",{createHTML(t){return t}}),i=ke([me(1,k.ILanguageService),me(2,C.IOpenerService)],i),e.MarkdownRenderer=i}),define(re[657],ae([1,0,7,18,64,2,117,275,45,260]),function($,e,w,C,k,I,L,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginHoverWidget=void 0;const g=w.$;class n extends I.Disposable{constructor(r,l,d=v.NullOpenerService){super();this._renderDisposeables=this._register(new I.DisposableStore),this._editor=r,this._isVisible=!1,this._messages=[],this._hover=this._register(new u.HoverWidget),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new L.MarkdownRenderer({editor:this._editor},l,d)),this._computer=new i(this._editor),this._hoverOperation=this._register(new b.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(a=>{this._withResult(a.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(a=>{a.hasChanged(46)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return n.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(l=>this._editor.applyFontInfo(l))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(r){this._computer.lineNumber!==r&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=r,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),!!this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(r){this._messages=r,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(r,l){this._renderDisposeables.clear();const d=document.createDocumentFragment();for(const a of l){const s=g("div.hover-row.markdown-hover"),o=w.append(s,g("div.hover-contents")),c=this._renderDisposeables.add(this._markdownRenderer.render(a.value));o.appendChild(c.element),d.appendChild(s)}this._updateContents(d),this._showAt(r)}_updateContents(r){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(r),this._updateFont()}_showAt(r){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const l=this._editor.getLayoutInfo(),d=this._editor.getTopForLineNumber(r),a=this._editor.getScrollTop(),s=this._editor.getOption(61),o=this._hover.containerDomNode.clientHeight,c=d-a-(o-s)/2;this._hover.containerDomNode.style.left=`${l.glyphMarginLeft+l.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(c),0)}px`}}e.MarginHoverWidget=n,n.ID="editor.contrib.modesGlyphHoverWidget";class i{constructor(r){this._editor=r,this._lineNumber=-1}get lineNumber(){return this._lineNumber}set lineNumber(r){this._lineNumber=r}computeSync(){const r=a=>({value:a}),l=this._editor.getLineDecorations(this._lineNumber),d=[];if(!l)return d;for(const a of l){if(!a.options.glyphMarginClassName)continue;const s=a.options.glyphMarginHoverMessage;!s||(0,k.isEmptyMarkdownString)(s)||d.push(...(0,C.asArray)(s).map(r))}return d}}}),define(re[292],ae([1,0,7,75,27,6,64,2,117,258,599,9]),function($,e,w,C,k,I,L,b,v,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=e.canExpandCompletionItem=void 0;function i(l){return!!l&&Boolean(l.completion.documentation||l.completion.detail&&l.completion.detail!==l.completion.label)}e.canExpandCompletionItem=i;let t=class{constructor(d,a){this._editor=d,this._onDidClose=new I.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new I.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new b.DisposableStore,this._renderDisposeable=new b.DisposableStore,this._borderWidth=1,this._size=new w.Dimension(330,0),this.domNode=w.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=a.createInstance(v.MarkdownRenderer,{editor:d}),this._body=w.$(".body"),this._scrollbar=new C.DomScrollableElement(this._body,{alwaysConsumeMouseWheel:!0}),w.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=w.append(this._body,w.$(".header")),this._close=w.append(this._header,w.$("span"+k.Codicon.close.cssSelector)),this._close.title=g.localize(0,null),this._type=w.append(this._header,w.$("p.type")),this._docs=w.append(this._body,w.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(46)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const d=this._editor.getOptions(),a=d.get(46),s=a.getMassagedFontFamily(),o=d.get(109)||a.fontSize,c=d.get(110)||a.lineHeight,f=a.fontWeight,p=`${o}px`,_=`${c}px`;this.domNode.style.fontSize=p,this.domNode.style.lineHeight=`${c/o}`,this.domNode.style.fontWeight=f,this.domNode.style.fontFeatureSettings=a.fontFeatureSettings,this._type.style.fontFamily=s,this._close.style.height=_,this._close.style.width=_}getLayoutInfo(){const d=this._editor.getOption(110)||this._editor.getOption(46).lineHeight,a=this._borderWidth,s=a*2;return{lineHeight:d,borderWidth:a,borderHeight:s,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=g.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(d,a){var s,o;this._renderDisposeable.clear();let{detail:c,documentation:f}=d.completion;if(a){let p="";p+=`score: ${d.score[0]}
`,p+=`prefix: ${(s=d.word)!==null&&s!==void 0?s:"(no prefix)"}
`,p+=`word: ${d.completion.filterText?d.completion.filterText+" (filterText)":d.textLabel}
`,p+=`distance: ${d.distance} (localityBonus-setting)
`,p+=`index: ${d.idx}, based on ${d.completion.sortText&&`sortText: "${d.completion.sortText}"`||"label"}
`,p+=`commit_chars: ${(o=d.completion.commitCharacters)===null||o===void 0?void 0:o.join("")}
`,f=new L.MarkdownString().appendCodeblock("empty",p),c=`Provider: ${d.provider._debugDisplayName}`}if(!a&&!i(d)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),c){const p=c.length>1e5?`${c.substr(0,1e5)}\u2026`:c;this._type.textContent=p,this._type.title=p,w.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(p))}else w.clearNode(this._type),this._type.title="",w.hide(this._type),this.domNode.classList.add("no-type");if(w.clearNode(this._docs),typeof f=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=f;else if(f){this._docs.classList.add("markdown-docs"),w.clearNode(this._docs);const p=this._markdownRenderer.render(f);this._docs.appendChild(p.element),this._renderDisposeable.add(p),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=p=>{p.preventDefault(),p.stopPropagation()},this._close.onclick=p=>{p.preventDefault(),p.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(d,a){const s=new w.Dimension(d,a);w.Dimension.equals(s,this._size)||(this._size=s,w.size(this.domNode,d,a)),this._scrollbar.scanDomNode()}scrollDown(d=8){this._body.scrollTop+=d}scrollUp(d=8){this._body.scrollTop-=d}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(d){this._borderWidth=d}get borderWidth(){return this._borderWidth}};t=ke([me(1,n.IInstantiationService)],t),e.SuggestDetailsWidget=t;class r{constructor(d,a){this.widget=d,this._editor=a,this._disposables=new b.DisposableStore,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new u.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(d.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let s,o,c=0,f=0;this._disposables.add(this._resizable.onDidWillResize(()=>{s=this._topLeft,o=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(p=>{if(s&&o){this.widget.layout(p.dimension.width,p.dimension.height);let _=!1;p.west&&(f=o.width-p.dimension.width,_=!0),p.north&&(c=o.height-p.dimension.height,_=!0),_&&this._applyTopLeft({top:s.top+c,left:s.left+f})}p.done&&(s=void 0,o=void 0,c=0,f=0,this._userSize=p.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var p;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(p=this._userSize)!==null&&p!==void 0?p:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(d=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),d&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(d,a){var s;const o=d.getBoundingClientRect();this._anchorBox=o,this._preferAlignAtTop=a,this._placeAtAnchor(this._anchorBox,(s=this._userSize)!==null&&s!==void 0?s:this.widget.size,a)}_placeAtAnchor(d,a,s){var o;const c=w.getClientArea(document.body),f=this.widget.getLayoutInfo(),p=new w.Dimension(220,2*f.lineHeight),_=d.top,m=function(){const D=c.width-(d.left+d.width+f.borderWidth+f.horizontalPadding),M=-f.borderWidth+d.left+d.width,P=new w.Dimension(D,c.height-d.top-f.borderHeight-f.verticalPadding),B=P.with(void 0,d.top+d.height-f.borderHeight-f.verticalPadding);return{top:_,left:M,fit:D-a.width,maxSizeTop:P,maxSizeBottom:B,minSize:p.with(Math.min(D,p.width))}}(),h=function(){const D=d.left-f.borderWidth-f.horizontalPadding,M=Math.max(f.horizontalPadding,d.left-a.width-f.borderWidth),P=new w.Dimension(D,c.height-d.top-f.borderHeight-f.verticalPadding),B=P.with(void 0,d.top+d.height-f.borderHeight-f.verticalPadding);return{top:_,left:M,fit:D-a.width,maxSizeTop:P,maxSizeBottom:B,minSize:p.with(Math.min(D,p.width))}}(),S=function(){const D=d.left,M=-f.borderWidth+d.top+d.height,P=new w.Dimension(d.width-f.borderHeight,c.height-d.top-d.height-f.verticalPadding);return{top:M,left:D,fit:P.height-a.height,maxSizeBottom:P,maxSizeTop:P,minSize:p.with(P.width)}}(),y=[m,h,S],E=(o=y.find(D=>D.fit>=0))!==null&&o!==void 0?o:y.sort((D,M)=>M.fit-D.fit)[0],N=d.top+d.height-f.borderHeight;let T,R=a.height;const F=Math.max(E.maxSizeTop.height,E.maxSizeBottom.height);R>F&&(R=F);let O;s?R<=E.maxSizeTop.height?(T=!0,O=E.maxSizeTop):(T=!1,O=E.maxSizeBottom):R<=E.maxSizeBottom.height?(T=!1,O=E.maxSizeBottom):(T=!0,O=E.maxSizeTop),this._applyTopLeft({left:E.left,top:T?E.top:N-R}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!T,E===m,T,E!==m),this._resizable.minSize=E.minSize,this._resizable.maxSize=O,this._resizable.layout(R,Math.min(O.width,a.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(d){this._topLeft=d,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}e.SuggestDetailsOverlay=r}),define(re[658],ae([1,0,30,285,94,34]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultConfigurationModel=void 0;class L extends C.ConfigurationModel{constructor(v={}){const u=I.Registry.as(k.Extensions.Configuration).getConfigurationProperties(),g=Object.keys(u),n=Object.create(null),i=[];for(const t in u){const r=v[t],l=r!==void 0?r:u[t].default;(0,w.addToValueTree)(n,t,l,d=>console.error(`Conflict in default settings: ${d}`))}for(const t of Object.keys(n))k.OVERRIDE_PROPERTY_REGEX.test(t)&&i.push({identifiers:(0,k.overrideIdentifiersFromKey)(t),keys:Object.keys(n[t]),contents:(0,w.toValuesTree)(n[t],r=>console.error(`Conflict in default settings file: ${r}`))});super(n,g,i)}}e.DefaultConfigurationModel=L}),define(re[101],ae([1,0,104,17,26,34]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class L{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(u){if(C.OS===1){if(u&&u.win)return u.win}else if(C.OS===2){if(u&&u.mac)return u.mac}else if(u&&u.linux)return u.linux;return u}registerKeybindingRule(u){const g=L.bindToCurrentPlatform(u);if(g&&g.primary){const n=(0,w.createKeybinding)(g.primary,C.OS);n&&this._registerDefaultKeybinding(n,u.id,u.args,u.weight,0,u.when)}if(g&&Array.isArray(g.secondary))for(let n=0,i=g.secondary.length;n<i;n++){const t=g.secondary[n],r=(0,w.createKeybinding)(t,C.OS);r&&this._registerDefaultKeybinding(r,u.id,u.args,u.weight,-n-1,u.when)}}registerCommandAndKeybindingRule(u){this.registerKeybindingRule(u),k.CommandsRegistry.registerCommand(u)}static _mightProduceChar(u){return u>=21&&u<=30||u>=31&&u<=56?!0:u===80||u===81||u===82||u===83||u===84||u===85||u===86||u===110||u===111||u===87||u===88||u===89||u===90||u===91||u===92}_assertNoCtrlAlt(u,g){u.ctrlKey&&u.altKey&&!u.metaKey&&L._mightProduceChar(u.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",u," for ",g)}_registerDefaultKeybinding(u,g,n,i,t,r){C.OS===1&&this._assertNoCtrlAlt(u.parts[0],g),this._coreKeybindings.push({keybinding:u.parts,command:g,commandArgs:n,when:r,weight1:i,weight2:t,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(b)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new L,e.Extensions={EditorModes:"platform.keybindingsRegistry"},I.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function b(v,u){if(v.weight1!==u.weight1)return v.weight1-u.weight1;if(v.command&&u.command){if(v.command<u.command)return-1;if(v.command>u.command)return 1}return v.weight2-u.weight2}}),define(re[293],ae([1,0,263,493,16,101,614,2]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.registerAndCreateHistoryNavigationContext=e.historyNavigationVisible=void 0,e.historyNavigationVisible=new k.RawContextKey("suggestWidgetVisible",!1,(0,L.localize)(0,null));const v="historyNavigationWidgetFocus",u="historyNavigationForwardsEnabled",g="historyNavigationBackwardsEnabled";let n;const i=[];function t(d,a){if(i.includes(a))throw new Error("Cannot register the same widget multiple times");i.push(a);const s=new b.DisposableStore,o=s.add(d.createScoped(a.element)),c=new k.RawContextKey(v,!1).bindTo(o),f=new k.RawContextKey(u,!0).bindTo(o),p=new k.RawContextKey(g,!0).bindTo(o),_=()=>{c.set(!0),n=a},m=()=>{c.set(!1),n===a&&(n=void 0)};return a.element===document.activeElement&&_(),s.add(a.onDidFocus(()=>_())),s.add(a.onDidBlur(()=>m())),s.add((0,b.toDisposable)(()=>{i.splice(i.indexOf(a),1),m()})),{scopedContextKeyService:o,historyNavigationForwardsEnablement:f,historyNavigationBackwardsEnablement:p,dispose(){s.dispose()}}}e.registerAndCreateHistoryNavigationContext=t;let r=class extends w.FindInput{constructor(a,s,o,c,f=!1){super(a,s,f,o);this._register(t(c,this.inputBox))}};r=ke([me(3,k.IContextKeyService)],r),e.ContextScopedFindInput=r;let l=class extends C.ReplaceInput{constructor(a,s,o,c,f=!1){super(a,s,f,o);this._register(t(c,this.inputBox))}};l=ke([me(3,k.IContextKeyService)],l),e.ContextScopedReplaceInput=l,I.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:k.ContextKeyExpr.and(k.ContextKeyExpr.has(v),k.ContextKeyExpr.equals(g,!0),e.historyNavigationVisible.isEqualTo(!1)),primary:16,secondary:[512|16],handler:d=>{n&&n.showPreviousValue()}}),I.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:k.ContextKeyExpr.and(k.ContextKeyExpr.has(v),k.ContextKeyExpr.equals(u,!0),e.historyNavigationVisible.isEqualTo(!1)),primary:18,secondary:[512|18],handler:d=>{n&&n.showNextValue()}})}),define(re[118],ae([1,0,18,2,34]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var I;(function(b){b[b.PRESERVE=0]="PRESERVE",b[b.LAST=1]="LAST"})(I=e.DefaultQuickAccessFilterValue||(e.DefaultQuickAccessFilterValue={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class L{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(v){return v.prefix.length===0?this.defaultProvider=v:this.providers.push(v),this.providers.sort((u,g)=>g.prefix.length-u.prefix.length),(0,C.toDisposable)(()=>{this.providers.splice(this.providers.indexOf(v),1),this.defaultProvider===v&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,w.coalesce)([this.defaultProvider,...this.providers])}getQuickAccessProvider(v){return v&&this.providers.find(g=>v.startsWith(g.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=L,k.Registry.add(e.Extensions.Quickaccess,new L)}),define(re[659],ae([1,0,619,34,2,42,118,85]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let v=class Ht{constructor(g,n){this.quickInputService=g,this.keybindingService=n,this.registry=C.Registry.as(L.Extensions.Quickaccess)}provide(g){const n=new k.DisposableStore;return n.add(g.onDidAccept(()=>{const[i]=g.selectedItems;i&&this.quickInputService.quickAccess.show(i.prefix,{preserveValue:!0})})),n.add(g.onDidChangeValue(i=>{const t=this.registry.getQuickAccessProvider(i.substr(Ht.PREFIX.length));t&&t.prefix&&t.prefix!==Ht.PREFIX&&this.quickInputService.quickAccess.show(t.prefix,{preserveValue:!0})})),g.items=this.getQuickAccessProviders(),n}getQuickAccessProviders(){const g=[];for(const n of this.registry.getQuickAccessProviders().sort((i,t)=>i.prefix.localeCompare(t.prefix)))if(n.prefix!==Ht.PREFIX)for(const i of n.helpEntries){const t=i.prefix||n.prefix,r=t||"\u2026";g.push({prefix:t,label:r,keybinding:i.commandId?this.keybindingService.lookupKeybinding(i.commandId):void 0,ariaLabel:(0,w.localize)(0,null,r,i.description),description:i.description})}return g}};v.PREFIX="?",v=ke([me(0,b.IQuickInputService),me(1,I.IKeybindingService)],v),e.HelpQuickAccessProvider=v}),define(re[660],ae([1,0,34,118,76,659]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),w.Registry.as(C.Extensions.Quickaccess).registerQuickAccessProvider({ctor:I.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:k.QuickHelpNLS.helpQuickAccessActionLabel}]})}),define(re[661],ae([1,0,10,21,96,2,9,118,85,34]),function($,e,w,C,k,I,L,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let g=class extends I.Disposable{constructor(i,t){super();this.quickInputService=i,this.instantiationService=t,this.registry=u.Registry.as(b.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(i="",t){this.doShowOrPick(i,!1,t)}doShowOrPick(i,t,r){var l;const[d,a]=this.getOrInstantiateProvider(i),s=this.visibleQuickAccess,o=s==null?void 0:s.descriptor;if(s&&a&&o===a){i!==a.prefix&&!(r==null?void 0:r.preserveValue)&&(s.picker.value=i),this.adjustValueSelection(s.picker,a,r);return}if(a&&!(r==null?void 0:r.preserveValue)){let m;if(s&&o&&o!==a){const h=s.value.substr(o.prefix.length);h&&(m=`${a.prefix}${h}`)}if(!m){const h=d==null?void 0:d.defaultFilterValue;h===b.DefaultQuickAccessFilterValue.LAST?m=this.lastAcceptedPickerValues.get(a):typeof h=="string"&&(m=`${a.prefix}${h}`)}typeof m=="string"&&(i=m)}const c=new I.DisposableStore,f=c.add(this.quickInputService.createQuickPick());f.value=i,this.adjustValueSelection(f,a,r),f.placeholder=a==null?void 0:a.placeholder,f.quickNavigate=r==null?void 0:r.quickNavigateConfiguration,f.hideInput=!!f.quickNavigate&&!s,(typeof(r==null?void 0:r.itemActivation)=="number"||(r==null?void 0:r.quickNavigateConfiguration))&&(f.itemActivation=(l=r==null?void 0:r.itemActivation)!==null&&l!==void 0?l:v.ItemActivation.SECOND),f.contextKey=a==null?void 0:a.contextKey,f.filterValue=m=>m.substring(a?a.prefix.length:0),(a==null?void 0:a.placeholder)&&(f.ariaLabel=a==null?void 0:a.placeholder);let p;t&&(p=new w.DeferredPromise,c.add((0,k.once)(f.onWillAccept)(m=>{m.veto(),f.hide()}))),c.add(this.registerPickerListeners(f,d,a,i));const _=c.add(new C.CancellationTokenSource);if(d&&c.add(d.provide(f,_.token)),(0,k.once)(f.onDidHide)(()=>{f.selectedItems.length===0&&_.cancel(),c.dispose(),p==null||p.complete(f.selectedItems.slice(0))}),f.show(),t)return p==null?void 0:p.p}adjustValueSelection(i,t,r){var l;let d;(r==null?void 0:r.preserveValue)?d=[i.value.length,i.value.length]:d=[(l=t==null?void 0:t.prefix.length)!==null&&l!==void 0?l:0,i.value.length],i.valueSelection=d}registerPickerListeners(i,t,r,l){const d=new I.DisposableStore,a=this.visibleQuickAccess={picker:i,descriptor:r,value:l};return d.add((0,I.toDisposable)(()=>{a===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),d.add(i.onDidChangeValue(s=>{const[o]=this.getOrInstantiateProvider(s);o!==t?this.show(s,{preserveValue:!0}):a.value=s})),r&&d.add(i.onDidAccept(()=>{this.lastAcceptedPickerValues.set(r,i.value)})),d}getOrInstantiateProvider(i){const t=this.registry.getQuickAccessProvider(i);if(!t)return[void 0,void 0];let r=this.mapProviderToDescriptor.get(t);return r||(r=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,r)),[r,t]}};g=ke([me(0,v.IQuickInputService),me(1,L.IInstantiationService)],g),e.QuickAccessController=g}),define(re[79],ae([1,0,6,2,19,499,9]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.WillSaveStateReason=e.IStorageService=void 0;const b="__$__targetStorageMarker";e.IStorageService=(0,L.createDecorator)("storageService");var v;(function(n){n[n.NONE=0]="NONE",n[n.SHUTDOWN=1]="SHUTDOWN"})(v=e.WillSaveStateReason||(e.WillSaveStateReason={}));class u extends C.Disposable{constructor(i={flushInterval:u.DEFAULT_FLUSH_INTERVAL}){super();this.options=i,this._onDidChangeValue=this._register(new w.PauseableEmitter),this.onDidChangeValue=this._onDidChangeValue.event,this._onDidChangeTarget=this._register(new w.PauseableEmitter),this._onWillSaveState=this._register(new w.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}emitDidChangeValue(i,t){if(t===b){switch(i){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:i})}else this._onDidChangeValue.fire({scope:i,key:t,target:this.getKeyTargets(i)[t]})}get(i,t,r){var l;return(l=this.getStorage(t))===null||l===void 0?void 0:l.get(i,r)}getBoolean(i,t,r){var l;return(l=this.getStorage(t))===null||l===void 0?void 0:l.getBoolean(i,r)}getNumber(i,t,r){var l;return(l=this.getStorage(t))===null||l===void 0?void 0:l.getNumber(i,r)}store(i,t,r,l){if((0,k.isUndefinedOrNull)(t)){this.remove(i,r);return}this.withPausedEmitters(()=>{var d;this.updateKeyTarget(i,r,l),(d=this.getStorage(r))===null||d===void 0||d.set(i,t)})}remove(i,t){this.withPausedEmitters(()=>{var r;this.updateKeyTarget(i,t,void 0),(r=this.getStorage(t))===null||r===void 0||r.delete(i)})}withPausedEmitters(i){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{i()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(i,t,r){var l,d;const a=this.getKeyTargets(t);typeof r=="number"?a[i]!==r&&(a[i]=r,(l=this.getStorage(t))===null||l===void 0||l.set(b,JSON.stringify(a))):typeof a[i]=="number"&&(delete a[i],(d=this.getStorage(t))===null||d===void 0||d.set(b,JSON.stringify(a)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(i){switch(i){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(i){const t=this.get(b,i);if(t)try{return JSON.parse(t)}catch{}return Object.create(null)}}e.AbstractStorageService=u,u.DEFAULT_FLUSH_INTERVAL=60*1e3;class g extends u{constructor(){super();this.applicationStorage=this._register(new I.Storage(new I.InMemoryStorageDatabase)),this.profileStorage=this._register(new I.Storage(new I.InMemoryStorageDatabase)),this.workspaceStorage=this._register(new I.Storage(new I.InMemoryStorageDatabase)),this._register(this.workspaceStorage.onDidChangeStorage(i=>this.emitDidChangeValue(1,i))),this._register(this.profileStorage.onDidChangeStorage(i=>this.emitDidChangeValue(0,i))),this._register(this.applicationStorage.onDidChangeStorage(i=>this.emitDidChangeValue(-1,i)))}getStorage(i){switch(i){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}e.InMemoryStorageService=g}),define(re[662],ae([1,0,10,96,51,3,282,53,9,79]),function($,e,w,C,k,I,L,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=(0,v.createDecorator)("ICodeLensCache");class g{constructor(t,r){this.lineCount=t,this.data=r}}let n=class{constructor(t){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new k.LRUCache(20,.75);const r="codelens/cache";(0,w.runWhenIdle)(()=>t.remove(r,1));const l="codelens/cache2",d=t.get(l,1,"{}");this._deserialize(d),(0,C.once)(t.onWillSaveState)(a=>{a.reason===u.WillSaveStateReason.SHUTDOWN&&t.store(l,this._serialize(),1,1)})}put(t,r){const l=r.lenses.map(s=>{var o;return{range:s.symbol.range,command:s.symbol.command&&{id:"",title:(o=s.symbol.command)===null||o===void 0?void 0:o.title}}}),d=new L.CodeLensModel;d.add({lenses:l,dispose:()=>{}},this._fakeProvider);const a=new g(t.getLineCount(),d);this._cache.set(t.uri.toString(),a)}get(t){const r=this._cache.get(t.uri.toString());return r&&r.lineCount===t.getLineCount()?r.data:void 0}delete(t){this._cache.delete(t.uri.toString())}_serialize(){const t=Object.create(null);for(const[r,l]of this._cache){const d=new Set;for(const a of l.data.lenses)d.add(a.symbol.range.startLineNumber);t[r]={lineCount:l.lineCount,lines:[...d.values()]}}return JSON.stringify(t)}_deserialize(t){try{const r=JSON.parse(t);for(const l in r){const d=r[l],a=[];for(const o of d.lines)a.push({range:new I.Range(o,1,o,11)});const s=new L.CodeLensModel;s.add({lenses:a,dispose(){}},this._fakeProvider),this._cache.set(l,new g(d.lineCount,s))}}catch{}}};n=ke([me(0,u.IStorageService)],n),e.CodeLensCache=n,(0,b.registerSingleton)(e.ICodeLensCache,n)}),define(re[294],ae([1,0,10,2,51,28,30,53,9,79]),function($,e,w,C,k,I,L,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class g{constructor(d){this.name=d}select(d,a,s){if(s.length===0)return 0;const o=s[0].score[0];for(let c=0;c<s.length;c++){const{score:f,completion:p}=s[c];if(f[0]!==o)break;if(p.preselect)return c}return 0}}e.Memory=g;class n extends g{constructor(){super("first")}memorize(d,a,s){}toJSON(){}fromJSON(){}}e.NoMemory=n;class i extends g{constructor(){super("recentlyUsed");this._cache=new k.LRUCache(300,.66),this._seq=0}memorize(d,a,s){const o=`${d.getLanguageId()}/${s.textLabel}`;this._cache.set(o,{touch:this._seq++,type:s.completion.kind,insertText:s.completion.insertText})}select(d,a,s){if(s.length===0)return 0;const o=d.getLineContent(a.lineNumber).substr(a.column-10,a.column-1);if(/\s$/.test(o))return super.select(d,a,s);const c=s[0].score[0];let f=-1,p=-1,_=-1;for(let m=0;m<s.length&&s[m].score[0]===c;m++){const h=`${d.getLanguageId()}/${s[m].textLabel}`,S=this._cache.peek(h);if(S&&S.touch>_&&S.type===s[m].completion.kind&&S.insertText===s[m].completion.insertText&&(_=S.touch,p=m),s[m].completion.preselect&&f===-1)return f=m}return p!==-1?p:f!==-1?f:0}toJSON(){return this._cache.toJSON()}fromJSON(d){this._cache.clear();const a=0;for(const[s,o]of d)o.touch=a,o.type=typeof o.type=="number"?o.type:I.CompletionItemKinds.fromString(o.type),this._cache.set(s,o);this._seq=this._cache.size}}e.LRUMemory=i;class t extends g{constructor(){super("recentlyUsedByPrefix");this._trie=k.TernarySearchTree.forStrings(),this._seq=0}memorize(d,a,s){const{word:o}=d.getWordUntilPosition(a),c=`${d.getLanguageId()}/${o}`;this._trie.set(c,{type:s.completion.kind,insertText:s.completion.insertText,touch:this._seq++})}select(d,a,s){const{word:o}=d.getWordUntilPosition(a);if(!o)return super.select(d,a,s);const c=`${d.getLanguageId()}/${o}`;let f=this._trie.get(c);if(f||(f=this._trie.findSubstr(c)),f)for(let p=0;p<s.length;p++){const{kind:_,insertText:m}=s[p].completion;if(_===f.type&&m===f.insertText)return p}return super.select(d,a,s)}toJSON(){const d=[];return this._trie.forEach((a,s)=>d.push([s,a])),d.sort((a,s)=>-(a[1].touch-s[1].touch)).forEach((a,s)=>a[1].touch=s),d.slice(0,200)}fromJSON(d){if(this._trie.clear(),d.length>0){this._seq=d[0][1].touch+1;for(const[a,s]of d)s.type=typeof s.type=="number"?s.type:I.CompletionItemKinds.fromString(s.type),this._trie.set(a,s)}}}e.PrefixMemory=t;let r=class Ut{constructor(d,a){this._storageService=d,this._configService=a,this._disposables=new C.DisposableStore,this._persistSoon=new w.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(d.onWillSaveState(s=>{s.reason===u.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(d,a,s){this._withStrategy(d,a).memorize(d,a,s),this._persistSoon.schedule()}select(d,a,s){return this._withStrategy(d,a).select(d,a,s)}_withStrategy(d,a){var s;const o=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:d.getLanguageIdAtPosition(a.lineNumber,a.column),resource:d.uri});if(((s=this._strategy)===null||s===void 0?void 0:s.name)!==o){this._saveState();const c=Ut._strategyCtors.get(o)||n;this._strategy=new c;try{const p=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,_=this._storageService.get(`${Ut._storagePrefix}/${o}`,p);_&&this._strategy.fromJSON(JSON.parse(_))}catch{}}return this._strategy}_saveState(){if(this._strategy){const a=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,s=JSON.stringify(this._strategy);this._storageService.store(`${Ut._storagePrefix}/${this._strategy.name}`,s,a,1)}}};r._strategyCtors=new Map([["recentlyUsedByPrefix",t],["recentlyUsed",i],["first",n]]),r._storagePrefix="suggest/memories",r=ke([me(0,u.IStorageService),me(1,L.IConfigurationService)],r),e.SuggestMemoryService=r,e.ISuggestMemoryService=(0,v.createDecorator)("ISuggestMemories"),(0,b.registerSingleton)(e.ISuggestMemoryService,r,!0)}),define(re[86],ae([1,0,9]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=(0,w.createDecorator)("telemetryService")}),define(re[663],ae([1,0,472,14,63,2,51,81,19,618,26,30,139,9,42,648,79,86]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let s=class Kt extends l.PickerQuickAccessProvider{constructor(f,p,_,m,h,S){super(Kt.PREFIX,f);this.instantiationService=p,this.keybindingService=_,this.commandService=m,this.telemetryService=h,this.dialogService=S,this.commandsHistory=this._register(this.instantiationService.createInstance(o)),this.options=f}_getPicks(f,p,_){return Se(this,void 0,void 0,function*(){const m=yield this.getCommandPicks(p,_);if(_.isCancellationRequested)return[];const h=[];for(const N of m){const T=(0,v.withNullAsUndefined)(Kt.WORD_FILTER(f,N.label)),R=N.commandAlias?(0,v.withNullAsUndefined)(Kt.WORD_FILTER(f,N.commandAlias)):void 0;T||R?(N.highlights={label:T,detail:this.options.showAlias?R:void 0},h.push(N)):f===N.commandId&&h.push(N)}const S=new Map;for(const N of h){const T=S.get(N.label);T?(N.description=N.commandId,T.description=T.commandId):S.set(N.label,N)}h.sort((N,T)=>{const R=this.commandsHistory.peek(N.commandId),F=this.commandsHistory.peek(T.commandId);return R&&F?R>F?-1:1:R?-1:F?1:N.label.localeCompare(T.label)});const y=[];let E=!1;for(let N=0;N<h.length;N++){const T=h[N],R=this.keybindingService.lookupKeybinding(T.commandId),F=R?(0,u.localize)(0,null,T.label,R.getAriaLabel()):T.label;N===0&&this.commandsHistory.peek(T.commandId)&&(y.push({type:"separator",label:(0,u.localize)(1,null)}),E=!0),N!==0&&E&&!this.commandsHistory.peek(T.commandId)&&(y.push({type:"separator",label:(0,u.localize)(2,null)}),E=!1),y.push(Object.assign(Object.assign({},T),{ariaLabel:F,detail:this.options.showAlias&&T.commandAlias!==T.label?T.commandAlias:void 0,keybinding:R,accept:()=>Se(this,void 0,void 0,function*(){this.commandsHistory.push(T.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:T.commandId,from:"quick open"});try{yield this.commandService.executeCommand(T.commandId)}catch(O){(0,C.isCancellationError)(O)||this.dialogService.show(b.default.Error,(0,u.localize)(3,null,T.label,(0,w.toErrorMessage)(O)))}})}))}return y})}};s.PREFIX=">",s.WORD_FILTER=(0,k.or)(k.matchesPrefix,k.matchesWords,k.matchesContiguousSubString),s=ke([me(1,t.IInstantiationService),me(2,r.IKeybindingService),me(3,g.ICommandService),me(4,a.ITelemetryService),me(5,i.IDialogService)],s),e.AbstractCommandsQuickAccessProvider=s;let o=class rt extends I.Disposable{constructor(f,p){super();this.storageService=f,this.configurationService=p,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=rt.getConfiguredCommandHistoryLength(this.configurationService),rt.cache&&rt.cache.limit!==this.configuredCommandsHistoryLength&&(rt.cache.limit=this.configuredCommandsHistoryLength,rt.saveState(this.storageService))}load(){const f=this.storageService.get(rt.PREF_KEY_CACHE,0);let p;if(f)try{p=JSON.parse(f)}catch{}const _=rt.cache=new L.LRUCache(this.configuredCommandsHistoryLength,1);if(p){let m;p.usesLRU?m=p.entries:m=p.entries.sort((h,S)=>h.value-S.value),m.forEach(h=>_.set(h.key,h.value))}rt.counter=this.storageService.getNumber(rt.PREF_KEY_COUNTER,0,rt.counter)}push(f){!rt.cache||(rt.cache.set(f,rt.counter++),rt.saveState(this.storageService))}peek(f){var p;return(p=rt.cache)===null||p===void 0?void 0:p.peek(f)}static saveState(f){if(!rt.cache)return;const p={usesLRU:!0,entries:[]};rt.cache.forEach((_,m)=>p.entries.push({key:m,value:_})),f.store(rt.PREF_KEY_CACHE,JSON.stringify(p),0,0),f.store(rt.PREF_KEY_COUNTER,rt.counter,0,0)}static getConfiguredCommandHistoryLength(f){var p,_;const h=(_=(p=f.getValue().workbench)===null||p===void 0?void 0:p.commandPalette)===null||_===void 0?void 0:_.history;return typeof h=="number"?h:rt.DEFAULT_COMMANDS_HISTORY_LENGTH}};o.DEFAULT_COMMANDS_HISTORY_LENGTH=50,o.PREF_KEY_CACHE="commandPalette.mru.cache",o.PREF_KEY_COUNTER="commandPalette.mru.counter",o.counter=1,o=ke([me(0,d.IStorageService),me(1,n.IConfigurationService)],o),e.CommandsHistory=o}),define(re[664],ae([1,0,106,663]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class k extends C.AbstractCommandsQuickAccessProvider{constructor(L,b,v,u,g,n){super(L,b,v,u,g,n)}getCodeEditorCommandPicks(){const L=this.activeTextEditorControl;if(!L)return[];const b=[];for(const v of L.getSupportedActions())b.push({commandId:v.id,commandAlias:v.alias,label:(0,w.stripIcons)(v.label)||v.id});return b}}e.AbstractEditorCommandsQuickAccessProvider=k}),define(re[25],ae([1,0,10,31,6,19,620,211,34]),function($,e,w,C,k,I,L,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.resolveColorValue=e.ifDefinedThenElse=e.oneOf=e.transparent=e.lighten=e.darken=e.executeTransform=e.chartsPurple=e.chartsGreen=e.chartsOrange=e.chartsYellow=e.chartsBlue=e.chartsRed=e.chartsLines=e.chartsForeground=e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapForegroundOpacity=e.minimapBackground=e.minimapWarning=e.minimapError=e.minimapSelection=e.minimapSelectionOccurrenceHighlight=e.minimapFindMatch=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.overviewRulerCommonContentForeground=e.overviewRulerIncomingContentForeground=e.overviewRulerCurrentContentForeground=e.mergeBorder=e.mergeCommonContentBackground=e.mergeCommonHeaderBackground=e.mergeIncomingContentBackground=e.mergeIncomingHeaderBackground=e.mergeCurrentContentBackground=e.mergeCurrentHeaderBackground=e.breadcrumbsPickerBackground=e.breadcrumbsActiveSelectionForeground=e.breadcrumbsFocusForeground=e.breadcrumbsBackground=e.breadcrumbsForeground=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.toolbarActiveBackground=e.toolbarHoverOutline=e.toolbarHoverBackground=e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=e.quickInputListFocusBackground=e.quickInputListFocusIconForeground=e.quickInputListFocusForeground=e._deprecatedQuickInputListFocusBackground=e.listDeemphasizedForeground=e.tableOddRowsBackgroundColor=e.tableColumnsBorder=e.treeIndentGuidesStroke=e.listFilterMatchHighlightBorder=e.listFilterMatchHighlight=e.listFilterWidgetShadow=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listWarningForeground=e.listErrorForeground=e.listInvalidItemForeground=e.listFocusHighlightForeground=e.listHighlightForeground=e.listDropBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionIconForeground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionIconForeground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusAndSelectionOutline=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffOverviewRulerRemoved=e.diffOverviewRulerInserted=e.diffRemovedLineGutter=e.diffInsertedLineGutter=e.diffRemovedLine=e.diffInsertedLine=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlayHintParameterBackground=e.editorInlayHintParameterForeground=e.editorInlayHintTypeBackground=e.editorInlayHintTypeForeground=e.editorInlayHintBackground=e.editorInlayHintForeground=e.editorActiveLinkForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.searchEditorFindMatchBorder=e.searchEditorFindMatch=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorStickyScrollHoverBackground=e.editorStickyScrollBackground=e.editorForeground=e.editorBackground=e.sashHoverBorder=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.buttonSecondaryHoverBackground=e.buttonSecondaryBackground=e.buttonSecondaryForeground=e.buttonBorder=e.buttonHoverBackground=e.buttonBackground=e.buttonSeparator=e.buttonForeground=e.checkboxBorder=e.checkboxForeground=e.checkboxBackground=e.selectBorder=e.selectForeground=e.selectListBackground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputPlaceholderForeground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionHoverBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=e.widgetShadow=e.textCodeBlockBackground=e.textBlockQuoteBorder=e.textBlockQuoteBackground=e.textPreformatForeground=e.textLinkActiveForeground=e.textLinkForeground=e.textSeparatorForeground=e.selectionBackground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.descriptionForeground=e.errorForeground=e.disabledForeground=e.foreground=e.registerColor=e.Extensions=e.asCssVariableName=void 0;function u(T){return`--vscode-${T.replace(/\./g,"-")}`}e.asCssVariableName=u,e.Extensions={ColorContribution:"base.contributions.colors"};class g{constructor(){this._onDidChangeSchema=new k.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(R,F,O,D=!1,M){const P={id:R,description:O,defaults:F,needsTransparency:D,deprecationMessage:M};this.colorsById[R]=P;const B={type:"string",description:O,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return M&&(B.deprecationMessage=M),this.colorSchema.properties[R]=B,this.colorReferenceSchema.enum.push(R),this.colorReferenceSchema.enumDescriptions.push(O),this._onDidChangeSchema.fire(),R}getColors(){return Object.keys(this.colorsById).map(R=>this.colorsById[R])}resolveDefaultColor(R,F){const O=this.colorsById[R];if(O&&O.defaults){const D=O.defaults[F.type];return y(D,F)}}getColorSchema(){return this.colorSchema}toString(){const R=(F,O)=>{const D=F.indexOf(".")===-1?0:1,M=O.indexOf(".")===-1?0:1;return D!==M?D-M:F.localeCompare(O)};return Object.keys(this.colorsById).sort(R).map(F=>`- \`${F}\`: ${this.colorsById[F].description}`).join(`
`)}}const n=new g;v.Registry.add(e.Extensions.ColorContribution,n);function i(T){return T===null||typeof T.hcLight=="undefined"&&(T.hcDark===null||typeof T.hcDark=="string"?T.hcLight=T.hcDark:T.hcLight=T.light),T}function t(T,R,F,O,D){return n.registerColor(T,i(R),F,O,D)}e.registerColor=t,e.foreground=t("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},L.localize(0,null)),e.disabledForeground=t("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},L.localize(1,null)),e.errorForeground=t("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},L.localize(2,null)),e.descriptionForeground=t("descriptionForeground",{light:"#717171",dark:_(e.foreground,.7),hcDark:_(e.foreground,.7),hcLight:_(e.foreground,.7)},L.localize(3,null)),e.iconForeground=t("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},L.localize(4,null)),e.focusBorder=t("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#0F4A85"},L.localize(5,null)),e.contrastBorder=t("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},L.localize(6,null)),e.activeContrastBorder=t("contrastActiveBorder",{light:null,dark:null,hcDark:e.focusBorder,hcLight:e.focusBorder},L.localize(7,null)),e.selectionBackground=t("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},L.localize(8,null)),e.textSeparatorForeground=t("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:C.Color.black,hcLight:"#292929"},L.localize(9,null)),e.textLinkForeground=t("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},L.localize(10,null)),e.textLinkActiveForeground=t("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},L.localize(11,null)),e.textPreformatForeground=t("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},L.localize(12,null)),e.textBlockQuoteBackground=t("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},L.localize(13,null)),e.textBlockQuoteBorder=t("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:C.Color.white,hcLight:"#292929"},L.localize(14,null)),e.textCodeBlockBackground=t("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:C.Color.black,hcLight:"#F2F2F2"},L.localize(15,null)),e.widgetShadow=t("widget.shadow",{dark:_(C.Color.black,.36),light:_(C.Color.black,.16),hcDark:null,hcLight:null},L.localize(16,null)),e.inputBackground=t("input.background",{dark:"#3C3C3C",light:C.Color.white,hcDark:C.Color.black,hcLight:C.Color.white},L.localize(17,null)),e.inputForeground=t("input.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},L.localize(18,null)),e.inputBorder=t("input.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(19,null)),e.inputActiveOptionBorder=t("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(20,null)),e.inputActiveOptionHoverBackground=t("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},L.localize(21,null)),e.inputActiveOptionBackground=t("inputOption.activeBackground",{dark:_(e.focusBorder,.4),light:_(e.focusBorder,.2),hcDark:C.Color.transparent,hcLight:C.Color.transparent},L.localize(22,null)),e.inputActiveOptionForeground=t("inputOption.activeForeground",{dark:C.Color.white,light:C.Color.black,hcDark:null,hcLight:e.foreground},L.localize(23,null)),e.inputPlaceholderForeground=t("input.placeholderForeground",{light:_(e.foreground,.5),dark:_(e.foreground,.5),hcDark:_(e.foreground,.7),hcLight:_(e.foreground,.7)},L.localize(24,null)),e.inputValidationInfoBackground=t("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:C.Color.black,hcLight:C.Color.white},L.localize(25,null)),e.inputValidationInfoForeground=t("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},L.localize(26,null)),e.inputValidationInfoBorder=t("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(27,null)),e.inputValidationWarningBackground=t("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:C.Color.black,hcLight:C.Color.white},L.localize(28,null)),e.inputValidationWarningForeground=t("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},L.localize(29,null)),e.inputValidationWarningBorder=t("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(30,null)),e.inputValidationErrorBackground=t("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:C.Color.black,hcLight:C.Color.white},L.localize(31,null)),e.inputValidationErrorForeground=t("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},L.localize(32,null)),e.inputValidationErrorBorder=t("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(33,null)),e.selectBackground=t("dropdown.background",{dark:"#3C3C3C",light:C.Color.white,hcDark:C.Color.black,hcLight:C.Color.white},L.localize(34,null)),e.selectListBackground=t("dropdown.listBackground",{dark:null,light:null,hcDark:C.Color.black,hcLight:C.Color.white},L.localize(35,null)),e.selectForeground=t("dropdown.foreground",{dark:"#F0F0F0",light:null,hcDark:C.Color.white,hcLight:e.foreground},L.localize(36,null)),e.selectBorder=t("dropdown.border",{dark:e.selectBackground,light:"#CECECE",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(37,null)),e.checkboxBackground=t("checkbox.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},L.localize(38,null)),e.checkboxForeground=t("checkbox.foreground",{dark:e.selectForeground,light:e.selectForeground,hcDark:e.selectForeground,hcLight:e.selectForeground},L.localize(39,null)),e.checkboxBorder=t("checkbox.border",{dark:e.selectBorder,light:e.selectBorder,hcDark:e.selectBorder,hcLight:e.selectBorder},L.localize(40,null)),e.buttonForeground=t("button.foreground",{dark:C.Color.white,light:C.Color.white,hcDark:C.Color.white,hcLight:C.Color.white},L.localize(41,null)),e.buttonSeparator=t("button.separator",{dark:_(e.buttonForeground,.4),light:_(e.buttonForeground,.4),hcDark:_(e.buttonForeground,.4),hcLight:_(e.buttonForeground,.4)},L.localize(42,null)),e.buttonBackground=t("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},L.localize(43,null)),e.buttonHoverBackground=t("button.hoverBackground",{dark:p(e.buttonBackground,.2),light:f(e.buttonBackground,.2),hcDark:null,hcLight:null},L.localize(44,null)),e.buttonBorder=t("button.border",{dark:e.contrastBorder,light:e.contrastBorder,hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(45,null)),e.buttonSecondaryForeground=t("button.secondaryForeground",{dark:C.Color.white,light:C.Color.white,hcDark:C.Color.white,hcLight:e.foreground},L.localize(46,null)),e.buttonSecondaryBackground=t("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:C.Color.white},L.localize(47,null)),e.buttonSecondaryHoverBackground=t("button.secondaryHoverBackground",{dark:p(e.buttonSecondaryBackground,.2),light:f(e.buttonSecondaryBackground,.2),hcDark:null,hcLight:null},L.localize(48,null)),e.badgeBackground=t("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:C.Color.black,hcLight:"#0F4A85"},L.localize(49,null)),e.badgeForeground=t("badge.foreground",{dark:C.Color.white,light:"#333",hcDark:C.Color.white,hcLight:C.Color.white},L.localize(50,null)),e.scrollbarShadow=t("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},L.localize(51,null)),e.scrollbarSliderBackground=t("scrollbarSlider.background",{dark:C.Color.fromHex("#797979").transparent(.4),light:C.Color.fromHex("#646464").transparent(.4),hcDark:_(e.contrastBorder,.6),hcLight:_(e.contrastBorder,.4)},L.localize(52,null)),e.scrollbarSliderHoverBackground=t("scrollbarSlider.hoverBackground",{dark:C.Color.fromHex("#646464").transparent(.7),light:C.Color.fromHex("#646464").transparent(.7),hcDark:_(e.contrastBorder,.8),hcLight:_(e.contrastBorder,.8)},L.localize(53,null)),e.scrollbarSliderActiveBackground=t("scrollbarSlider.activeBackground",{dark:C.Color.fromHex("#BFBFBF").transparent(.4),light:C.Color.fromHex("#000000").transparent(.6),hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(54,null)),e.progressBarBackground=t("progressBar.background",{dark:C.Color.fromHex("#0E70C0"),light:C.Color.fromHex("#0E70C0"),hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(55,null)),e.editorErrorBackground=t("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(56,null),!0),e.editorErrorForeground=t("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},L.localize(57,null)),e.editorErrorBorder=t("editorError.border",{dark:null,light:null,hcDark:C.Color.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},L.localize(58,null)),e.editorWarningBackground=t("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(59,null),!0),e.editorWarningForeground=t("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD37",hcLight:"#895503"},L.localize(60,null)),e.editorWarningBorder=t("editorWarning.border",{dark:null,light:null,hcDark:C.Color.fromHex("#FFCC00").transparent(.8),hcLight:"#"},L.localize(61,null)),e.editorInfoBackground=t("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(62,null),!0),e.editorInfoForeground=t("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},L.localize(63,null)),e.editorInfoBorder=t("editorInfo.border",{dark:null,light:null,hcDark:C.Color.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},L.localize(64,null)),e.editorHintForeground=t("editorHint.foreground",{dark:C.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},L.localize(65,null)),e.editorHintBorder=t("editorHint.border",{dark:null,light:null,hcDark:C.Color.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},L.localize(66,null)),e.sashHoverBorder=t("sash.hoverBorder",{dark:e.focusBorder,light:e.focusBorder,hcDark:e.focusBorder,hcLight:e.focusBorder},L.localize(67,null)),e.editorBackground=t("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:C.Color.black,hcLight:C.Color.white},L.localize(68,null)),e.editorForeground=t("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:C.Color.white,hcLight:e.foreground},L.localize(69,null)),e.editorStickyScrollBackground=t("editorStickyScroll.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},L.localize(70,null)),e.editorStickyScrollHoverBackground=t("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:C.Color.fromHex("#0F4A85").transparent(.1)},L.localize(71,null)),e.editorWidgetBackground=t("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:C.Color.white},L.localize(72,null)),e.editorWidgetForeground=t("editorWidget.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},L.localize(73,null)),e.editorWidgetBorder=t("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(74,null)),e.editorWidgetResizeBorder=t("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},L.localize(75,null)),e.quickInputBackground=t("quickInput.background",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},L.localize(76,null)),e.quickInputForeground=t("quickInput.foreground",{dark:e.editorWidgetForeground,light:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},L.localize(77,null)),e.quickInputTitleBackground=t("quickInputTitle.background",{dark:new C.Color(new C.RGBA(255,255,255,.105)),light:new C.Color(new C.RGBA(0,0,0,.06)),hcDark:"#000000",hcLight:C.Color.white},L.localize(78,null)),e.pickerGroupForeground=t("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:C.Color.white,hcLight:"#0F4A85"},L.localize(79,null)),e.pickerGroupBorder=t("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:C.Color.white,hcLight:"#0F4A85"},L.localize(80,null)),e.keybindingLabelBackground=t("keybindingLabel.background",{dark:new C.Color(new C.RGBA(128,128,128,.17)),light:new C.Color(new C.RGBA(221,221,221,.4)),hcDark:C.Color.transparent,hcLight:C.Color.transparent},L.localize(81,null)),e.keybindingLabelForeground=t("keybindingLabel.foreground",{dark:C.Color.fromHex("#CCCCCC"),light:C.Color.fromHex("#555555"),hcDark:C.Color.white,hcLight:e.foreground},L.localize(82,null)),e.keybindingLabelBorder=t("keybindingLabel.border",{dark:new C.Color(new C.RGBA(51,51,51,.6)),light:new C.Color(new C.RGBA(204,204,204,.4)),hcDark:new C.Color(new C.RGBA(111,195,223)),hcLight:e.contrastBorder},L.localize(83,null)),e.keybindingLabelBottomBorder=t("keybindingLabel.bottomBorder",{dark:new C.Color(new C.RGBA(68,68,68,.6)),light:new C.Color(new C.RGBA(187,187,187,.4)),hcDark:new C.Color(new C.RGBA(111,195,223)),hcLight:e.foreground},L.localize(84,null)),e.editorSelectionBackground=t("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},L.localize(85,null)),e.editorSelectionForeground=t("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:C.Color.white},L.localize(86,null)),e.editorInactiveSelection=t("editor.inactiveSelectionBackground",{light:_(e.editorSelectionBackground,.5),dark:_(e.editorSelectionBackground,.5),hcDark:_(e.editorSelectionBackground,.7),hcLight:_(e.editorSelectionBackground,.5)},L.localize(87,null),!0),e.editorSelectionHighlight=t("editor.selectionHighlightBackground",{light:S(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:S(e.editorSelectionBackground,e.editorBackground,.3,.6),hcDark:null,hcLight:null},L.localize(88,null),!0),e.editorSelectionHighlightBorder=t("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(89,null)),e.editorFindMatch=t("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},L.localize(90,null)),e.editorFindMatchHighlight=t("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},L.localize(91,null),!0),e.editorFindRangeHighlight=t("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},L.localize(92,null),!0),e.editorFindMatchBorder=t("editor.findMatchBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(93,null)),e.editorFindMatchHighlightBorder=t("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(94,null)),e.editorFindRangeHighlightBorder=t("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:_(e.activeContrastBorder,.4),hcLight:_(e.activeContrastBorder,.4)},L.localize(95,null),!0),e.searchEditorFindMatch=t("searchEditor.findMatchBackground",{light:_(e.editorFindMatchHighlight,.66),dark:_(e.editorFindMatchHighlight,.66),hcDark:e.editorFindMatchHighlight,hcLight:e.editorFindMatchHighlight},L.localize(96,null)),e.searchEditorFindMatchBorder=t("searchEditor.findMatchBorder",{light:_(e.editorFindMatchHighlightBorder,.66),dark:_(e.editorFindMatchHighlightBorder,.66),hcDark:e.editorFindMatchHighlightBorder,hcLight:e.editorFindMatchHighlightBorder},L.localize(97,null)),e.editorHoverHighlight=t("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},L.localize(98,null),!0),e.editorHoverBackground=t("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},L.localize(99,null)),e.editorHoverForeground=t("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},L.localize(100,null)),e.editorHoverBorder=t("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hcDark:e.editorWidgetBorder,hcLight:e.editorWidgetBorder},L.localize(101,null)),e.editorHoverStatusBarBackground=t("editorHoverWidget.statusBarBackground",{dark:p(e.editorHoverBackground,.2),light:f(e.editorHoverBackground,.05),hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},L.localize(102,null)),e.editorActiveLinkForeground=t("editorLink.activeForeground",{dark:"#4E94CE",light:C.Color.blue,hcDark:C.Color.cyan,hcLight:"#292929"},L.localize(103,null)),e.editorInlayHintForeground=t("editorInlayHint.foreground",{dark:_(e.badgeForeground,.8),light:_(e.badgeForeground,.8),hcDark:e.badgeForeground,hcLight:e.badgeForeground},L.localize(104,null)),e.editorInlayHintBackground=t("editorInlayHint.background",{dark:_(e.badgeBackground,.6),light:_(e.badgeBackground,.3),hcDark:e.badgeBackground,hcLight:e.badgeBackground},L.localize(105,null)),e.editorInlayHintTypeForeground=t("editorInlayHint.typeForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},L.localize(106,null)),e.editorInlayHintTypeBackground=t("editorInlayHint.typeBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},L.localize(107,null)),e.editorInlayHintParameterForeground=t("editorInlayHint.parameterForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},L.localize(108,null)),e.editorInlayHintParameterBackground=t("editorInlayHint.parameterBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},L.localize(109,null)),e.editorLightBulbForeground=t("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},L.localize(110,null)),e.editorLightBulbAutoFixForeground=t("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},L.localize(111,null)),e.defaultInsertColor=new C.Color(new C.RGBA(155,185,85,.2)),e.defaultRemoveColor=new C.Color(new C.RGBA(255,0,0,.2)),e.diffInserted=t("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c66",hcDark:null,hcLight:null},L.localize(112,null),!0),e.diffRemoved=t("diffEditor.removedTextBackground",{dark:"#ff000066",light:"#ff00004d",hcDark:null,hcLight:null},L.localize(113,null),!0),e.diffInsertedLine=t("diffEditor.insertedLineBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hcDark:null,hcLight:null},L.localize(114,null),!0),e.diffRemovedLine=t("diffEditor.removedLineBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hcDark:null,hcLight:null},L.localize(115,null),!0),e.diffInsertedLineGutter=t("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(116,null)),e.diffRemovedLineGutter=t("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(117,null)),e.diffOverviewRulerInserted=t("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(118,null)),e.diffOverviewRulerRemoved=t("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(119,null)),e.diffInsertedOutline=t("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},L.localize(120,null)),e.diffRemovedOutline=t("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},L.localize(121,null)),e.diffBorder=t("diffEditor.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(122,null)),e.diffDiagonalFill=t("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},L.localize(123,null)),e.listFocusBackground=t("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(124,null)),e.listFocusForeground=t("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(125,null)),e.listFocusOutline=t("list.focusOutline",{dark:e.focusBorder,light:e.focusBorder,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(126,null)),e.listFocusAndSelectionOutline=t("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(127,null)),e.listActiveSelectionBackground=t("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:C.Color.fromHex("#0F4A85").transparent(.1)},L.localize(128,null)),e.listActiveSelectionForeground=t("list.activeSelectionForeground",{dark:C.Color.white,light:C.Color.white,hcDark:null,hcLight:null},L.localize(129,null)),e.listActiveSelectionIconForeground=t("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(130,null)),e.listInactiveSelectionBackground=t("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:C.Color.fromHex("#0F4A85").transparent(.1)},L.localize(131,null)),e.listInactiveSelectionForeground=t("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(132,null)),e.listInactiveSelectionIconForeground=t("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(133,null)),e.listInactiveFocusBackground=t("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(134,null)),e.listInactiveFocusOutline=t("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(135,null)),e.listHoverBackground=t("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:C.Color.fromHex("#0F4A85").transparent(.1)},L.localize(136,null)),e.listHoverForeground=t("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(137,null)),e.listDropBackground=t("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},L.localize(138,null)),e.listHighlightForeground=t("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:e.focusBorder,hcLight:e.focusBorder},L.localize(139,null)),e.listFocusHighlightForeground=t("list.focusHighlightForeground",{dark:e.listHighlightForeground,light:h(e.listActiveSelectionBackground,e.listHighlightForeground,"#BBE7FF"),hcDark:e.listHighlightForeground,hcLight:e.listHighlightForeground},L.localize(140,null)),e.listInvalidItemForeground=t("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},L.localize(141,null)),e.listErrorForeground=t("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},L.localize(142,null)),e.listWarningForeground=t("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},L.localize(143,null)),e.listFilterWidgetBackground=t("listFilterWidget.background",{light:f(e.editorWidgetBackground,0),dark:p(e.editorWidgetBackground,0),hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},L.localize(144,null)),e.listFilterWidgetOutline=t("listFilterWidget.outline",{dark:C.Color.transparent,light:C.Color.transparent,hcDark:"#f38518",hcLight:"#007ACC"},L.localize(145,null)),e.listFilterWidgetNoMatchesOutline=t("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(146,null)),e.listFilterWidgetShadow=t("listFilterWidget.shadow",{dark:e.widgetShadow,light:e.widgetShadow,hcDark:e.widgetShadow,hcLight:e.widgetShadow},L.localize(147,null)),e.listFilterMatchHighlight=t("list.filterMatchBackground",{dark:e.editorFindMatchHighlight,light:e.editorFindMatchHighlight,hcDark:null,hcLight:null},L.localize(148,null)),e.listFilterMatchHighlightBorder=t("list.filterMatchBorder",{dark:e.editorFindMatchHighlightBorder,light:e.editorFindMatchHighlightBorder,hcDark:e.contrastBorder,hcLight:e.activeContrastBorder},L.localize(149,null)),e.treeIndentGuidesStroke=t("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},L.localize(150,null)),e.tableColumnsBorder=t("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},L.localize(151,null)),e.tableOddRowsBackgroundColor=t("tree.tableOddRowsBackground",{dark:_(e.foreground,.04),light:_(e.foreground,.04),hcDark:null,hcLight:null},L.localize(152,null)),e.listDeemphasizedForeground=t("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},L.localize(153,null)),e._deprecatedQuickInputListFocusBackground=t("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,L.localize(154,null)),e.quickInputListFocusForeground=t("quickInputList.focusForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hcDark:e.listActiveSelectionForeground,hcLight:e.listActiveSelectionForeground},L.localize(155,null)),e.quickInputListFocusIconForeground=t("quickInputList.focusIconForeground",{dark:e.listActiveSelectionIconForeground,light:e.listActiveSelectionIconForeground,hcDark:e.listActiveSelectionIconForeground,hcLight:e.listActiveSelectionIconForeground},L.localize(156,null)),e.quickInputListFocusBackground=t("quickInputList.focusBackground",{dark:m(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),light:m(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),hcDark:null,hcLight:null},L.localize(157,null)),e.menuBorder=t("menu.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(158,null)),e.menuForeground=t("menu.foreground",{dark:e.selectForeground,light:e.foreground,hcDark:e.selectForeground,hcLight:e.selectForeground},L.localize(159,null)),e.menuBackground=t("menu.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},L.localize(160,null)),e.menuSelectionForeground=t("menu.selectionForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hcDark:e.listActiveSelectionForeground,hcLight:e.listActiveSelectionForeground},L.localize(161,null)),e.menuSelectionBackground=t("menu.selectionBackground",{dark:e.listActiveSelectionBackground,light:e.listActiveSelectionBackground,hcDark:e.listActiveSelectionBackground,hcLight:e.listActiveSelectionBackground},L.localize(162,null)),e.menuSelectionBorder=t("menu.selectionBorder",{dark:null,light:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(163,null)),e.menuSeparatorBackground=t("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(164,null)),e.toolbarHoverBackground=t("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},L.localize(165,null)),e.toolbarHoverOutline=t("toolbar.hoverOutline",{dark:null,light:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(166,null)),e.toolbarActiveBackground=t("toolbar.activeBackground",{dark:p(e.toolbarHoverBackground,.1),light:f(e.toolbarHoverBackground,.1),hcDark:null,hcLight:null},L.localize(167,null)),e.snippetTabstopHighlightBackground=t("editor.snippetTabstopHighlightBackground",{dark:new C.Color(new C.RGBA(124,124,124,.3)),light:new C.Color(new C.RGBA(10,50,100,.2)),hcDark:new C.Color(new C.RGBA(124,124,124,.3)),hcLight:new C.Color(new C.RGBA(10,50,100,.2))},L.localize(168,null)),e.snippetTabstopHighlightBorder=t("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(169,null)),e.snippetFinalTabstopHighlightBackground=t("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(170,null)),e.snippetFinalTabstopHighlightBorder=t("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new C.Color(new C.RGBA(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},L.localize(171,null)),e.breadcrumbsForeground=t("breadcrumb.foreground",{light:_(e.foreground,.8),dark:_(e.foreground,.8),hcDark:_(e.foreground,.8),hcLight:_(e.foreground,.8)},L.localize(172,null)),e.breadcrumbsBackground=t("breadcrumb.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},L.localize(173,null)),e.breadcrumbsFocusForeground=t("breadcrumb.focusForeground",{light:f(e.foreground,.2),dark:p(e.foreground,.1),hcDark:p(e.foreground,.1),hcLight:p(e.foreground,.1)},L.localize(174,null)),e.breadcrumbsActiveSelectionForeground=t("breadcrumb.activeSelectionForeground",{light:f(e.foreground,.2),dark:p(e.foreground,.1),hcDark:p(e.foreground,.1),hcLight:p(e.foreground,.1)},L.localize(175,null)),e.breadcrumbsPickerBackground=t("breadcrumbPicker.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},L.localize(176,null));const r=.5,l=C.Color.fromHex("#40C8AE").transparent(r),d=C.Color.fromHex("#40A6FF").transparent(r),a=C.Color.fromHex("#606060").transparent(.4),s=.4,o=1;e.mergeCurrentHeaderBackground=t("merge.currentHeaderBackground",{dark:l,light:l,hcDark:null,hcLight:null},L.localize(177,null),!0),e.mergeCurrentContentBackground=t("merge.currentContentBackground",{dark:_(e.mergeCurrentHeaderBackground,s),light:_(e.mergeCurrentHeaderBackground,s),hcDark:_(e.mergeCurrentHeaderBackground,s),hcLight:_(e.mergeCurrentHeaderBackground,s)},L.localize(178,null),!0),e.mergeIncomingHeaderBackground=t("merge.incomingHeaderBackground",{dark:d,light:d,hcDark:null,hcLight:null},L.localize(179,null),!0),e.mergeIncomingContentBackground=t("merge.incomingContentBackground",{dark:_(e.mergeIncomingHeaderBackground,s),light:_(e.mergeIncomingHeaderBackground,s),hcDark:_(e.mergeIncomingHeaderBackground,s),hcLight:_(e.mergeIncomingHeaderBackground,s)},L.localize(180,null),!0),e.mergeCommonHeaderBackground=t("merge.commonHeaderBackground",{dark:a,light:a,hcDark:null,hcLight:null},L.localize(181,null),!0),e.mergeCommonContentBackground=t("merge.commonContentBackground",{dark:_(e.mergeCommonHeaderBackground,s),light:_(e.mergeCommonHeaderBackground,s),hcDark:_(e.mergeCommonHeaderBackground,s),hcLight:_(e.mergeCommonHeaderBackground,s)},L.localize(182,null),!0),e.mergeBorder=t("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},L.localize(183,null)),e.overviewRulerCurrentContentForeground=t("editorOverviewRuler.currentContentForeground",{dark:_(e.mergeCurrentHeaderBackground,o),light:_(e.mergeCurrentHeaderBackground,o),hcDark:e.mergeBorder,hcLight:e.mergeBorder},L.localize(184,null)),e.overviewRulerIncomingContentForeground=t("editorOverviewRuler.incomingContentForeground",{dark:_(e.mergeIncomingHeaderBackground,o),light:_(e.mergeIncomingHeaderBackground,o),hcDark:e.mergeBorder,hcLight:e.mergeBorder},L.localize(185,null)),e.overviewRulerCommonContentForeground=t("editorOverviewRuler.commonContentForeground",{dark:_(e.mergeCommonHeaderBackground,o),light:_(e.mergeCommonHeaderBackground,o),hcDark:e.mergeBorder,hcLight:e.mergeBorder},L.localize(186,null)),e.overviewRulerFindMatchForeground=t("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},L.localize(187,null),!0),e.overviewRulerSelectionHighlightForeground=t("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},L.localize(188,null),!0),e.minimapFindMatch=t("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},L.localize(189,null),!0),e.minimapSelectionOccurrenceHighlight=t("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},L.localize(190,null),!0),e.minimapSelection=t("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},L.localize(191,null),!0),e.minimapError=t("minimap.errorHighlight",{dark:new C.Color(new C.RGBA(255,18,18,.7)),light:new C.Color(new C.RGBA(255,18,18,.7)),hcDark:new C.Color(new C.RGBA(255,50,50,1)),hcLight:"#B5200D"},L.localize(192,null)),e.minimapWarning=t("minimap.warningHighlight",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningBorder,hcLight:e.editorWarningBorder},L.localize(193,null)),e.minimapBackground=t("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(194,null)),e.minimapForegroundOpacity=t("minimap.foregroundOpacity",{dark:C.Color.fromHex("#000f"),light:C.Color.fromHex("#000f"),hcDark:C.Color.fromHex("#000f"),hcLight:C.Color.fromHex("#000f")},L.localize(195,null)),e.minimapSliderBackground=t("minimapSlider.background",{light:_(e.scrollbarSliderBackground,.5),dark:_(e.scrollbarSliderBackground,.5),hcDark:_(e.scrollbarSliderBackground,.5),hcLight:_(e.scrollbarSliderBackground,.5)},L.localize(196,null)),e.minimapSliderHoverBackground=t("minimapSlider.hoverBackground",{light:_(e.scrollbarSliderHoverBackground,.5),dark:_(e.scrollbarSliderHoverBackground,.5),hcDark:_(e.scrollbarSliderHoverBackground,.5),hcLight:_(e.scrollbarSliderHoverBackground,.5)},L.localize(197,null)),e.minimapSliderActiveBackground=t("minimapSlider.activeBackground",{light:_(e.scrollbarSliderActiveBackground,.5),dark:_(e.scrollbarSliderActiveBackground,.5),hcDark:_(e.scrollbarSliderActiveBackground,.5),hcLight:_(e.scrollbarSliderActiveBackground,.5)},L.localize(198,null)),e.problemsErrorIconForeground=t("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},L.localize(199,null)),e.problemsWarningIconForeground=t("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},L.localize(200,null)),e.problemsInfoIconForeground=t("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},L.localize(201,null)),e.chartsForeground=t("charts.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},L.localize(202,null)),e.chartsLines=t("charts.lines",{dark:_(e.foreground,.5),light:_(e.foreground,.5),hcDark:_(e.foreground,.5),hcLight:_(e.foreground,.5)},L.localize(203,null)),e.chartsRed=t("charts.red",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},L.localize(204,null)),e.chartsBlue=t("charts.blue",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},L.localize(205,null)),e.chartsYellow=t("charts.yellow",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},L.localize(206,null)),e.chartsOrange=t("charts.orange",{dark:e.minimapFindMatch,light:e.minimapFindMatch,hcDark:e.minimapFindMatch,hcLight:e.minimapFindMatch},L.localize(207,null)),e.chartsGreen=t("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},L.localize(208,null)),e.chartsPurple=t("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},L.localize(209,null));function c(T,R){var F,O,D;switch(T.op){case 0:return(F=y(T.value,R))===null||F===void 0?void 0:F.darken(T.factor);case 1:return(O=y(T.value,R))===null||O===void 0?void 0:O.lighten(T.factor);case 2:return(D=y(T.value,R))===null||D===void 0?void 0:D.transparent(T.factor);case 3:for(const M of T.values){const P=y(M,R);if(P)return P}return;case 5:return y(R.defines(T.if)?T.then:T.else,R);case 4:{const M=y(T.value,R);if(!M)return;const P=y(T.background,R);return P?M.isDarkerThan(P)?C.Color.getLighterColor(M,P,T.factor).transparent(T.transparency):C.Color.getDarkerColor(M,P,T.factor).transparent(T.transparency):M.transparent(T.factor*T.transparency)}default:throw(0,I.assertNever)(T)}}e.executeTransform=c;function f(T,R){return{op:0,value:T,factor:R}}e.darken=f;function p(T,R){return{op:1,value:T,factor:R}}e.lighten=p;function _(T,R){return{op:2,value:T,factor:R}}e.transparent=_;function m(...T){return{op:3,values:T}}e.oneOf=m;function h(T,R,F){return{op:5,if:T,then:R,else:F}}e.ifDefinedThenElse=h;function S(T,R,F,O){return{op:4,value:T,background:R,factor:F,transparency:O}}function y(T,R){if(T!==null){if(typeof T=="string")return T[0]==="#"?C.Color.fromHex(T):R.getColor(T);if(T instanceof C.Color)return T;if(typeof T=="object")return c(T,R)}}e.resolveColorValue=y,e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";const E=v.Registry.as(b.Extensions.JSONContribution);E.registerSchema(e.workbenchColorsSchemaId,n.getColorSchema());const N=new w.RunOnceScheduler(()=>E.notifySchemaChanged(e.workbenchColorsSchemaId),200);n.onDidChangeSchema(()=>{N.isScheduled()||N.schedule()})}),define(re[141],ae([1,0,7,132,67,10,2,25]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicCssRules=e.GlobalEditorPointerMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.createCoordinatesRelativeToEditor=e.createEditorPagePosition=e.CoordinatesRelativeToEditor=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0;class v{constructor(p,_){this.x=p,this.y=_,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new u(this.x-w.StandardWindow.scrollX,this.y-w.StandardWindow.scrollY)}}e.PageCoordinates=v;class u{constructor(p,_){this.clientX=p,this.clientY=_,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new v(this.clientX+w.StandardWindow.scrollX,this.clientY+w.StandardWindow.scrollY)}}e.ClientCoordinates=u;class g{constructor(p,_,m,h){this.x=p,this.y=_,this.width=m,this.height=h,this._editorPagePositionBrand=void 0}}e.EditorPagePosition=g;class n{constructor(p,_){this.x=p,this.y=_,this._positionRelativeToEditorBrand=void 0}}e.CoordinatesRelativeToEditor=n;function i(f){const p=w.getDomNodePagePosition(f);return new g(p.left,p.top,p.width,p.height)}e.createEditorPagePosition=i;function t(f,p,_){const m=p.width/f.offsetWidth,h=p.height/f.offsetHeight,S=(_.x-p.x)/m,y=(_.y-p.y)/h;return new n(S,y)}e.createCoordinatesRelativeToEditor=t;class r extends k.StandardMouseEvent{constructor(p,_,m){super(p);this._editorMouseEventBrand=void 0,this.isFromPointerCapture=_,this.pos=new v(this.posx,this.posy),this.editorPos=i(m),this.relativePos=t(m,this.editorPos,this.pos)}}e.EditorMouseEvent=r;class l{constructor(p){this._editorViewDomNode=p}_create(p){return new r(p,!1,this._editorViewDomNode)}onContextMenu(p,_){return w.addDisposableListener(p,"contextmenu",m=>{_(this._create(m))})}onMouseUp(p,_){return w.addDisposableListener(p,"mouseup",m=>{_(this._create(m))})}onMouseDown(p,_){return w.addDisposableListener(p,w.EventType.MOUSE_DOWN,m=>{_(this._create(m))})}onPointerDown(p,_){return w.addDisposableListener(p,w.EventType.POINTER_DOWN,m=>{_(this._create(m),m.pointerId)})}onMouseLeave(p,_){return w.addDisposableListener(p,w.EventType.MOUSE_LEAVE,m=>{_(this._create(m))})}onMouseMove(p,_){return w.addDisposableListener(p,"mousemove",m=>_(this._create(m)))}}e.EditorMouseEventFactory=l;class d{constructor(p){this._editorViewDomNode=p}_create(p){return new r(p,!1,this._editorViewDomNode)}onPointerUp(p,_){return w.addDisposableListener(p,"pointerup",m=>{_(this._create(m))})}onPointerDown(p,_){return w.addDisposableListener(p,w.EventType.POINTER_DOWN,m=>{_(this._create(m),m.pointerId)})}onPointerLeave(p,_){return w.addDisposableListener(p,w.EventType.POINTER_LEAVE,m=>{_(this._create(m))})}onPointerMove(p,_){return w.addDisposableListener(p,"pointermove",m=>_(this._create(m)))}}e.EditorPointerEventFactory=d;class a extends L.Disposable{constructor(p){super();this._editorViewDomNode=p,this._globalPointerMoveMonitor=this._register(new C.GlobalPointerMoveMonitor),this._keydownListener=null}startMonitoring(p,_,m,h,S){this._keydownListener=w.addStandardDisposableListener(document,"keydown",y=>{y.toKeybinding().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,y.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(p,_,m,y=>{h(new r(y,!0,this._editorViewDomNode))},y=>{this._keydownListener.dispose(),S(y)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}e.GlobalEditorPointerMoveMonitor=a;class s{constructor(p){this._editor=p,this._instanceId=++s._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new I.RunOnceScheduler(()=>this.garbageCollect(),1e3)}createClassNameRef(p){const _=this.getOrCreateRule(p);return _.increaseRefCount(),{className:_.className,dispose:()=>{_.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(p){const _=this.computeUniqueKey(p);let m=this._rules.get(_);if(!m){const h=this._counter++;m=new o(_,`dyn-rule-${this._instanceId}-${h}`,w.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,p),this._rules.set(_,m)}return m}computeUniqueKey(p){return JSON.stringify(p)}garbageCollect(){for(const p of this._rules.values())p.hasReferences()||(this._rules.delete(p.key),p.dispose())}}e.DynamicCssRules=s,s._idPool=0;class o{constructor(p,_,m,h){this.key=p,this.className=_,this.properties=h,this._referenceCount=0,this._styleElement=w.createStyleSheet(m),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(p,_){let m=`.${p} {`;for(const h in _){const S=_[h];let y;typeof S=="object"?y=`var(${(0,b.asCssVariableName)(S.id)})`:y=S,m+=`
	${c(h)}: ${y};`}return m+=`
}`,m}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function c(f){return f.replace(/(^[A-Z])/,([p])=>p.toLowerCase()).replace(/([A-Z])/g,([p])=>`-${p.toLowerCase()}`)}}),define(re[142],ae([1,0,25]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attachMenuStyler=e.defaultMenuStyles=e.defaultListStyles=e.attachListStyler=e.attachBadgeStyler=e.attachStyler=e.computeStyles=void 0;function C(v,u){const g=Object.create(null);for(const n in u){const i=u[n];i&&(g[n]=(0,w.resolveColorValue)(i,v))}return g}e.computeStyles=C;function k(v,u,g){function n(){const i=C(v.getColorTheme(),u);typeof g=="function"?g(i):g.style(i)}return n(),v.onDidColorThemeChange(n)}e.attachStyler=k;function I(v,u,g){return k(u,{badgeBackground:(g==null?void 0:g.badgeBackground)||w.badgeBackground,badgeForeground:(g==null?void 0:g.badgeForeground)||w.badgeForeground,badgeBorder:w.contrastBorder},v)}e.attachBadgeStyler=I;function L(v,u,g){return k(u,Object.assign(Object.assign({},e.defaultListStyles),g||{}),v)}e.attachListStyler=L,e.defaultListStyles={listFocusBackground:w.listFocusBackground,listFocusForeground:w.listFocusForeground,listFocusOutline:w.listFocusOutline,listActiveSelectionBackground:w.listActiveSelectionBackground,listActiveSelectionForeground:w.listActiveSelectionForeground,listActiveSelectionIconForeground:w.listActiveSelectionIconForeground,listFocusAndSelectionOutline:w.listFocusAndSelectionOutline,listFocusAndSelectionBackground:w.listActiveSelectionBackground,listFocusAndSelectionForeground:w.listActiveSelectionForeground,listInactiveSelectionBackground:w.listInactiveSelectionBackground,listInactiveSelectionIconForeground:w.listInactiveSelectionIconForeground,listInactiveSelectionForeground:w.listInactiveSelectionForeground,listInactiveFocusBackground:w.listInactiveFocusBackground,listInactiveFocusOutline:w.listInactiveFocusOutline,listHoverBackground:w.listHoverBackground,listHoverForeground:w.listHoverForeground,listDropBackground:w.listDropBackground,listSelectionOutline:w.activeContrastBorder,listHoverOutline:w.activeContrastBorder,listFilterWidgetBackground:w.listFilterWidgetBackground,listFilterWidgetOutline:w.listFilterWidgetOutline,listFilterWidgetNoMatchesOutline:w.listFilterWidgetNoMatchesOutline,listFilterWidgetShadow:w.listFilterWidgetShadow,treeIndentGuidesStroke:w.treeIndentGuidesStroke,tableColumnsBorder:w.tableColumnsBorder,tableOddRowsBackgroundColor:w.tableOddRowsBackgroundColor,inputActiveOptionBorder:w.inputActiveOptionBorder,inputActiveOptionForeground:w.inputActiveOptionForeground,inputActiveOptionBackground:w.inputActiveOptionBackground,inputBackground:w.inputBackground,inputForeground:w.inputForeground,inputBorder:w.inputBorder,inputValidationInfoBackground:w.inputValidationInfoBackground,inputValidationInfoForeground:w.inputValidationInfoForeground,inputValidationInfoBorder:w.inputValidationInfoBorder,inputValidationWarningBackground:w.inputValidationWarningBackground,inputValidationWarningForeground:w.inputValidationWarningForeground,inputValidationWarningBorder:w.inputValidationWarningBorder,inputValidationErrorBackground:w.inputValidationErrorBackground,inputValidationErrorForeground:w.inputValidationErrorForeground,inputValidationErrorBorder:w.inputValidationErrorBorder},e.defaultMenuStyles={shadowColor:w.widgetShadow,borderColor:w.menuBorder,foregroundColor:w.menuForeground,backgroundColor:w.menuBackground,selectionForegroundColor:w.menuSelectionForeground,selectionBackgroundColor:w.menuSelectionBackground,selectionBorderColor:w.menuSelectionBorder,separatorColor:w.menuSeparatorBackground,scrollbarShadow:w.scrollbarShadow,scrollbarSliderBackground:w.scrollbarSliderBackground,scrollbarSliderHoverBackground:w.scrollbarSliderHoverBackground,scrollbarSliderActiveBackground:w.scrollbarSliderActiveBackground};function b(v,u,g){return k(u,Object.assign(Object.assign({},e.defaultMenuStyles),g),v)}e.attachMenuStyler=b}),define(re[665],ae([1,0,7,67,491,43,14,2,142]),function($,e,w,C,k,I,L,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class u{constructor(n,i,t,r,l){this.contextViewService=n,this.telemetryService=i,this.notificationService=t,this.keybindingService=r,this.themeService=l,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(n){this.options=n}showContextMenu(n){const i=n.getActions();if(!i.length)return;this.focusToReturn=document.activeElement;let t;const r=(0,w.isHTMLElement)(n.domForShadowRoot)?n.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>n.getAnchor(),canRelayout:!1,anchorAlignment:n.anchorAlignment,anchorAxisAlignment:n.anchorAxisAlignment,render:l=>{const d=n.getMenuClassName?n.getMenuClassName():"";d&&(l.className+=" "+d),this.options.blockMouse&&(this.block=l.appendChild((0,w.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,w.addDisposableListener)(this.block,w.EventType.MOUSE_DOWN,o=>o.stopPropagation()));const a=new b.DisposableStore,s=n.actionRunner||new I.ActionRunner;return s.onBeforeRun(this.onActionRun,this,a),s.onDidRun(this.onDidActionRun,this,a),t=new k.Menu(l,i,{actionViewItemProvider:n.getActionViewItem,context:n.getActionsContext?n.getActionsContext():null,actionRunner:s,getKeyBinding:n.getKeyBinding?n.getKeyBinding:o=>this.keybindingService.lookupKeybinding(o.id)}),a.add((0,v.attachMenuStyler)(t,this.themeService)),t.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,a),t.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,a),a.add((0,w.addDisposableListener)(window,w.EventType.BLUR,()=>this.contextViewService.hideContextView(!0))),a.add((0,w.addDisposableListener)(window,w.EventType.MOUSE_DOWN,o=>{if(o.defaultPrevented)return;const c=new C.StandardMouseEvent(o);let f=c.target;if(!c.rightButton){for(;f;){if(f===l)return;f=f.parentElement}this.contextViewService.hideContextView(!0)}})),(0,b.combinedDisposable)(a,t)},focus:()=>{t==null||t.focus(!!n.autoSelectFirstItem)},onHide:l=>{var d;(d=n.onHide)===null||d===void 0||d.call(n,!!l),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},r,!!r)}onActionRun(n){this.telemetryService.publicLog2("workbenchActionExecuted",{id:n.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(n){n.error&&!(0,L.isCancellationError)(n.error)&&this.notificationService.error(n.error)}}e.ContextMenuHandler=u}),define(re[56],ae([1,0]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDark=e.isHighContrast=e.ColorScheme=void 0;var w;(function(I){I.DARK="dark",I.LIGHT="light",I.HIGH_CONTRAST_DARK="hcDark",I.HIGH_CONTRAST_LIGHT="hcLight"})(w=e.ColorScheme||(e.ColorScheme={}));function C(I){return I===w.HIGH_CONTRAST_DARK||I===w.HIGH_CONTRAST_LIGHT}e.isHighContrast=C;function k(I){return I===w.DARK||I===w.HIGH_CONTRAST_DARK}e.isDark=k}),define(re[295],ae([1,0,41,33,17,402,125,130,114,56,36]),function($,e,w,C,k,I,L,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLine=e.ViewLineOptions=e.DomReadingContext=void 0;const n=function(){return k.isNative?!0:!(k.isLinux||w.isFirefox||w.isSafari)}();let i=!0;class t{constructor(_,m){this._domNode=_,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=m}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const _=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=_.left,this._clientRectScale=_.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}}e.DomReadingContext=t;class r{constructor(_,m){this.themeType=m;const h=_.options,S=h.get(46);this.renderWhitespace=h.get(90),this.renderControlCharacters=h.get(85),this.spaceWidth=S.spaceWidth,this.middotWidth=S.middotWidth,this.wsmiddotWidth=S.wsmiddotWidth,this.useMonospaceOptimizations=S.isMonospace&&!h.get(29),this.canUseHalfwidthRightwardsArrow=S.canUseHalfwidthRightwardsArrow,this.lineHeight=h.get(61),this.stopRenderingLineAfter=h.get(107),this.fontLigatures=h.get(47)}equals(_){return this.themeType===_.themeType&&this.renderWhitespace===_.renderWhitespace&&this.renderControlCharacters===_.renderControlCharacters&&this.spaceWidth===_.spaceWidth&&this.middotWidth===_.middotWidth&&this.wsmiddotWidth===_.wsmiddotWidth&&this.useMonospaceOptimizations===_.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===_.canUseHalfwidthRightwardsArrow&&this.lineHeight===_.lineHeight&&this.stopRenderingLineAfter===_.stopRenderingLineAfter&&this.fontLigatures===_.fontLigatures}}e.ViewLineOptions=r;class l{constructor(_){this._options=_,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(_){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,C.createFastDomNode)(_);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(_){this._isMaybeInvalid=!0,this._options=_}onSelectionChanged(){return(0,u.isHighContrast)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(_,m,h,S){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const y=h.getViewLineRenderingData(_),E=this._options,N=b.LineDecoration.filter(y.inlineDecorations,_,y.minColumn,y.maxColumn);let T=null;if((0,u.isHighContrast)(E.themeType)||this._options.renderWhitespace==="selection"){const D=h.selections;for(const M of D){if(M.endLineNumber<_||M.startLineNumber>_)continue;const P=M.startLineNumber===_?M.startColumn:y.minColumn,B=M.endLineNumber===_?M.endColumn:y.maxColumn;P<B&&((0,u.isHighContrast)(E.themeType)||this._options.renderWhitespace!=="selection"?N.push(new b.LineDecoration(P,B,"inline-selected-text",0)):(T||(T=[]),T.push(new v.LineRange(P-1,B-1))))}}const R=new v.RenderLineInput(E.useMonospaceOptimizations,E.canUseHalfwidthRightwardsArrow,y.content,y.continuesWithWrappedLine,y.isBasicASCII,y.containsRTL,y.minColumn-1,y.tokens,N,y.tabSize,y.startVisibleColumn,E.spaceWidth,E.middotWidth,E.wsmiddotWidth,E.stopRenderingLineAfter,E.renderWhitespace,E.renderControlCharacters,E.fontLigatures!==g.EditorFontLigatures.OFF,T);if(this._renderedViewLine&&this._renderedViewLine.input.equals(R))return!1;S.appendASCIIString('<div style="top:'),S.appendASCIIString(String(m)),S.appendASCIIString("px;height:"),S.appendASCIIString(String(this._options.lineHeight)),S.appendASCIIString('px;" class="'),S.appendASCIIString(l.CLASS_NAME),S.appendASCIIString('">');const F=(0,v.renderViewLine)(R,S);S.appendASCIIString("</div>");let O=null;return i&&n&&y.isBasicASCII&&E.useMonospaceOptimizations&&F.containsForeignElements===0&&y.content.length<300&&R.lineTokens.getCount()<100&&(O=new d(this._renderedViewLine?this._renderedViewLine.domNode:null,R,F.characterMapping)),O||(O=o(this._renderedViewLine?this._renderedViewLine.domNode:null,R,F.characterMapping,F.containsRTL,F.containsForeignElements)),this._renderedViewLine=O,!0}layoutLine(_,m){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(m),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof d:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof d?this._renderedViewLine.monospaceAssumptionsAreValid():i}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof d&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(_,m,h,S){if(!this._renderedViewLine)return null;m=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,m)),h=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,h));const y=this._renderedViewLine.input.stopRenderingLineAfter;let E=!1;y!==-1&&m>y+1&&h>y+1&&(E=!0),y!==-1&&m>y+1&&(m=y+1),y!==-1&&h>y+1&&(h=y+1);const N=this._renderedViewLine.getVisibleRangesForRange(_,m,h,S);return N&&N.length>0?new L.VisibleRanges(E,N):null}getColumnOfNodeOffset(_,m,h){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(_,m,h):1}}e.ViewLine=l,l.CLASS_NAME="view-line";class d{constructor(_,m,h){this.domNode=_,this.input=m,this._characterMapping=h,this._charWidth=m.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return i;const _=this.getWidth(),m=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(_-m)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),i=!1),i}toSlowRenderedLine(){return o(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(_,m,h,S){const y=this._getCharPosition(m),E=this._getCharPosition(h);return[new L.FloatHorizontalRange(y,E-y)]}_getCharPosition(_){const m=this._characterMapping.getHorizontalOffset(_);return this._charWidth*m}getColumnOfNodeOffset(_,m,h){const S=m.textContent.length;let y=-1;for(;m;)m=m.previousSibling,y++;return this._characterMapping.getColumn(new v.DomPosition(y,h),S)}}class a{constructor(_,m,h,S,y){if(this.domNode=_,this.input=m,this._characterMapping=h,this._isWhitespaceOnly=/^\s*$/.test(m.lineContent),this._containsForeignElements=y,this._cachedWidth=-1,this._pixelOffsetCache=null,!S||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let E=0,N=this._characterMapping.length;E<=N;E++)this._pixelOffsetCache[E]=-1}}_getReadingTarget(_){return _.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(_,m,h,S){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const y=this._readPixelOffset(this.domNode,_,m,S);if(y===-1)return null;const E=this._readPixelOffset(this.domNode,_,h,S);return E===-1?null:[new L.FloatHorizontalRange(y,E-y)]}return this._readVisibleRangesForRange(this.domNode,_,m,h,S)}_readVisibleRangesForRange(_,m,h,S,y){if(h===S){const E=this._readPixelOffset(_,m,h,y);return E===-1?null:[new L.FloatHorizontalRange(E,0)]}else return this._readRawVisibleRangesForRange(_,h,S,y)}_readPixelOffset(_,m,h,S){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const y=this._getReadingTarget(_);return y.firstChild?y.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const y=this._pixelOffsetCache[h];if(y!==-1)return y;const E=this._actualReadPixelOffset(_,m,h,S);return this._pixelOffsetCache[h]=E,E}return this._actualReadPixelOffset(_,m,h,S)}_actualReadPixelOffset(_,m,h,S){if(this._characterMapping.length===0){const T=I.RangeUtil.readHorizontalRanges(this._getReadingTarget(_),0,0,0,0,S.clientRectDeltaLeft,S.clientRectScale,S.endNode);return!T||T.length===0?-1:T[0].left}if(h===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const y=this._characterMapping.getDomPosition(h),E=I.RangeUtil.readHorizontalRanges(this._getReadingTarget(_),y.partIndex,y.charIndex,y.partIndex,y.charIndex,S.clientRectDeltaLeft,S.clientRectScale,S.endNode);if(!E||E.length===0)return-1;const N=E[0].left;if(this.input.isBasicASCII){const T=this._characterMapping.getHorizontalOffset(h),R=Math.round(this.input.spaceWidth*T);if(Math.abs(R-N)<=1)return R}return N}_readRawVisibleRangesForRange(_,m,h,S){if(m===1&&h===this._characterMapping.length)return[new L.FloatHorizontalRange(0,this.getWidth())];const y=this._characterMapping.getDomPosition(m),E=this._characterMapping.getDomPosition(h);return I.RangeUtil.readHorizontalRanges(this._getReadingTarget(_),y.partIndex,y.charIndex,E.partIndex,E.charIndex,S.clientRectDeltaLeft,S.clientRectScale,S.endNode)}getColumnOfNodeOffset(_,m,h){const S=m.textContent.length;let y=-1;for(;m;)m=m.previousSibling,y++;return this._characterMapping.getColumn(new v.DomPosition(y,h),S)}}class s extends a{_readVisibleRangesForRange(_,m,h,S,y){const E=super._readVisibleRangesForRange(_,m,h,S,y);if(!E||E.length===0||h===S||h===1&&S===this._characterMapping.length)return E;if(!this.input.containsRTL){const N=this._readPixelOffset(_,m,S,y);if(N!==-1){const T=E[E.length-1];T.left<N&&(T.width=N-T.left)}}return E}}const o=function(){return w.isWebKit?c:f}();function c(p,_,m,h,S){return new s(p,_,m,h,S)}function f(p,_,m,h,S){return new a(p,_,m,h,S)}}),define(re[296],ae([1,0,141,47,295,11,3,66,7,233]),function($,e,w,C,k,I,L,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shadowCaretRangeFromPoint=e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class g{constructor(h=null){this.hitTarget=h,this.type=0}}class n{constructor(h,S,y){this.position=h,this.spanNode=S,this.injectedText=y,this.type=1}}var i;(function(m){function h(S,y,E){const N=S.getPositionFromDOMInfo(y,E);return N?new n(N,y,null):new g(y)}m.createFromDOMInfo=h})(i||(i={}));class t{constructor(h,S){this.lastViewCursorsRenderData=h,this.lastTextareaPosition=S}}e.PointerHandlerLastRenderData=t;class r{static _deduceRage(h,S=null){return!S&&h?new L.Range(h.lineNumber,h.column,h.lineNumber,h.column):S??null}static createUnknown(h,S,y){return{type:0,element:h,mouseColumn:S,position:y,range:this._deduceRage(y)}}static createTextarea(h,S){return{type:1,element:h,mouseColumn:S,position:null,range:null}}static createMargin(h,S,y,E,N,T){return{type:h,element:S,mouseColumn:y,position:E,range:N,detail:T}}static createViewZone(h,S,y,E,N){return{type:h,element:S,mouseColumn:y,position:E,range:this._deduceRage(E),detail:N}}static createContentText(h,S,y,E,N){return{type:6,element:h,mouseColumn:S,position:y,range:this._deduceRage(y,E),detail:N}}static createContentEmpty(h,S,y,E){return{type:7,element:h,mouseColumn:S,position:y,range:this._deduceRage(y),detail:E}}static createContentWidget(h,S,y){return{type:9,element:h,mouseColumn:S,position:null,range:null,detail:y}}static createScrollbar(h,S,y){return{type:11,element:h,mouseColumn:S,position:y,range:this._deduceRage(y)}}static createOverlayWidget(h,S,y){return{type:12,element:h,mouseColumn:S,position:null,range:null,detail:y}}static createOutsideEditor(h,S){return{type:13,element:null,mouseColumn:h,position:S,range:this._deduceRage(S)}}static _typeToString(h){return h===1?"TEXTAREA":h===2?"GUTTER_GLYPH_MARGIN":h===3?"GUTTER_LINE_NUMBERS":h===4?"GUTTER_LINE_DECORATIONS":h===5?"GUTTER_VIEW_ZONE":h===6?"CONTENT_TEXT":h===7?"CONTENT_EMPTY":h===8?"CONTENT_VIEW_ZONE":h===9?"CONTENT_WIDGET":h===10?"OVERVIEW_RULER":h===11?"SCROLLBAR":h===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(h){return this._typeToString(h.type)+": "+h.position+" - "+h.range+" - "+JSON.stringify(h.detail)}}e.MouseTarget=r;class l{static isTextArea(h){return h.length===2&&h[0]===3&&h[1]===6}static isChildOfViewLines(h){return h.length>=4&&h[0]===3&&h[3]===7}static isStrictChildOfViewLines(h){return h.length>4&&h[0]===3&&h[3]===7}static isChildOfScrollableElement(h){return h.length>=2&&h[0]===3&&h[1]===5}static isChildOfMinimap(h){return h.length>=2&&h[0]===3&&h[1]===8}static isChildOfContentWidgets(h){return h.length>=4&&h[0]===3&&h[3]===1}static isChildOfOverflowingContentWidgets(h){return h.length>=1&&h[0]===2}static isChildOfOverlayWidgets(h){return h.length>=2&&h[0]===3&&h[1]===4}}class d{constructor(h,S,y){this.viewModel=h.viewModel;const E=h.configuration.options;this.layoutInfo=E.get(133),this.viewDomNode=S.viewDomNode,this.lineHeight=E.get(61),this.stickyTabStops=E.get(106),this.typicalHalfwidthCharacterWidth=E.get(46).typicalHalfwidthCharacterWidth,this.lastRenderData=y,this._context=h,this._viewHelper=S}getZoneAtCoord(h){return d.getZoneAtCoord(this._context,h)}static getZoneAtCoord(h,S){const y=h.viewLayout.getWhitespaceAtVerticalOffset(S);if(y){const E=y.verticalOffset+y.height/2,N=h.viewModel.getLineCount();let T=null,R,F=null;return y.afterLineNumber!==N&&(F=new I.Position(y.afterLineNumber+1,1)),y.afterLineNumber>0&&(T=new I.Position(y.afterLineNumber,h.viewModel.getLineMaxColumn(y.afterLineNumber))),F===null?R=T:T===null?R=F:S<E?R=T:R=F,{viewZoneId:y.id,afterLineNumber:y.afterLineNumber,positionBefore:T,positionAfter:F,position:R}}return null}getFullLineRangeAtCoord(h){if(this._context.viewLayout.isAfterLines(h)){const E=this._context.viewModel.getLineCount(),N=this._context.viewModel.getLineMaxColumn(E);return{range:new L.Range(E,N,E,N),isAfterLines:!0}}const S=this._context.viewLayout.getLineNumberAtVerticalOffset(h),y=this._context.viewModel.getLineMaxColumn(S);return{range:new L.Range(S,1,S,y),isAfterLines:!1}}getLineNumberAtVerticalOffset(h){return this._context.viewLayout.getLineNumberAtVerticalOffset(h)}isAfterLines(h){return this._context.viewLayout.isAfterLines(h)}isInTopPadding(h){return this._context.viewLayout.isInTopPadding(h)}isInBottomPadding(h){return this._context.viewLayout.isInBottomPadding(h)}getVerticalOffsetForLineNumber(h){return this._context.viewLayout.getVerticalOffsetForLineNumber(h)}findAttribute(h,S){return d._findAttribute(h,S,this._viewHelper.viewDomNode)}static _findAttribute(h,S,y){for(;h&&h!==document.body;){if(h.hasAttribute&&h.hasAttribute(S))return h.getAttribute(S);if(h===y)return null;h=h.parentNode}return null}getLineWidth(h){return this._viewHelper.getLineWidth(h)}visibleRangeForPosition(h,S){return this._viewHelper.visibleRangeForPosition(h,S)}getPositionFromDOMInfo(h,S){return this._viewHelper.getPositionFromDOMInfo(h,S)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=d;class a{constructor(h,S,y,E){this.editorPos=S,this.pos=y,this.relativePos=E,this.mouseVerticalOffset=Math.max(0,h.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=h.getCurrentScrollLeft()+this.relativePos.x-h.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<h.layoutInfo.contentLeft&&this.relativePos.x>=h.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,f._getMouseColumn(this.mouseContentHorizontalOffset,h.typicalHalfwidthCharacterWidth))}}class s extends a{constructor(h,S,y,E,N){super(h,S,y,E);this._ctx=h,N?(this.target=N,this.targetPath=C.PartFingerprints.collect(N,h.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(h=null){return h&&h.column<this._ctx.viewModel.getLineMaxColumn(h.lineNumber)?b.CursorColumns.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(h.lineNumber),h.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(h=null){return r.createUnknown(this.target,this._getMouseColumn(h),h)}fulfillTextarea(){return r.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(h,S,y,E){return r.createMargin(h,this.target,this._getMouseColumn(S),S,y,E)}fulfillViewZone(h,S,y){return r.createViewZone(h,this.target,this._getMouseColumn(S),S,y)}fulfillContentText(h,S,y){return r.createContentText(this.target,this._getMouseColumn(h),h,S,y)}fulfillContentEmpty(h,S){return r.createContentEmpty(this.target,this._getMouseColumn(h),h,S)}fulfillContentWidget(h){return r.createContentWidget(this.target,this._getMouseColumn(),h)}fulfillScrollbar(h){return r.createScrollbar(this.target,this._getMouseColumn(h),h)}fulfillOverlayWidget(h){return r.createOverlayWidget(this.target,this._getMouseColumn(),h)}withTarget(h){return new s(this._ctx,this.editorPos,this.pos,this.relativePos,h)}}const o={isAfterLines:!0};function c(m){return{isAfterLines:!1,horizontalDistanceToText:m}}class f{constructor(h,S){this._context=h,this._viewHelper=S}mouseTargetIsWidget(h){const S=h.target,y=C.PartFingerprints.collect(S,this._viewHelper.viewDomNode);return!!(l.isChildOfContentWidgets(y)||l.isChildOfOverflowingContentWidgets(y)||l.isChildOfOverlayWidgets(y))}createMouseTarget(h,S,y,E,N){const T=new d(this._context,this._viewHelper,h),R=new s(T,S,y,E,N);try{return f._createMouseTarget(T,R,!1)}catch{return R.fulfillUnknown()}}static _createMouseTarget(h,S,y){if(S.target===null){if(y)return S.fulfillUnknown();const T=f._doHitTest(h,S);return T.type===1?f.createMouseTargetFromHitTestPosition(h,S,T.spanNode,T.position,T.injectedText):this._createMouseTarget(h,S.withTarget(T.hitTarget),!0)}const E=S;let N=null;return N=N||f._hitTestContentWidget(h,E),N=N||f._hitTestOverlayWidget(h,E),N=N||f._hitTestMinimap(h,E),N=N||f._hitTestScrollbarSlider(h,E),N=N||f._hitTestViewZone(h,E),N=N||f._hitTestMargin(h,E),N=N||f._hitTestViewCursor(h,E),N=N||f._hitTestTextArea(h,E),N=N||f._hitTestViewLines(h,E,y),N=N||f._hitTestScrollbar(h,E),N||S.fulfillUnknown()}static _hitTestContentWidget(h,S){if(l.isChildOfContentWidgets(S.targetPath)||l.isChildOfOverflowingContentWidgets(S.targetPath)){const y=h.findAttribute(S.target,"widgetId");return y?S.fulfillContentWidget(y):S.fulfillUnknown()}return null}static _hitTestOverlayWidget(h,S){if(l.isChildOfOverlayWidgets(S.targetPath)){const y=h.findAttribute(S.target,"widgetId");return y?S.fulfillOverlayWidget(y):S.fulfillUnknown()}return null}static _hitTestViewCursor(h,S){if(S.target){const y=h.lastRenderData.lastViewCursorsRenderData;for(const E of y)if(S.target===E.domNode)return S.fulfillContentText(E.position,null,{mightBeForeignElement:!1,injectedText:null})}if(S.isInContentArea){const y=h.lastRenderData.lastViewCursorsRenderData,E=S.mouseContentHorizontalOffset,N=S.mouseVerticalOffset;for(const T of y){if(E<T.contentLeft||E>T.contentLeft+T.width)continue;const R=h.getVerticalOffsetForLineNumber(T.position.lineNumber);if(R<=N&&N<=R+T.height)return S.fulfillContentText(T.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(h,S){const y=h.getZoneAtCoord(S.mouseVerticalOffset);if(y){const E=S.isInContentArea?8:5;return S.fulfillViewZone(E,y.position,y)}return null}static _hitTestTextArea(h,S){return l.isTextArea(S.targetPath)?h.lastRenderData.lastTextareaPosition?S.fulfillContentText(h.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):S.fulfillTextarea():null}static _hitTestMargin(h,S){if(S.isInMarginArea){const y=h.getFullLineRangeAtCoord(S.mouseVerticalOffset),E=y.range.getStartPosition();let N=Math.abs(S.relativePos.x);const T={isAfterLines:y.isAfterLines,glyphMarginLeft:h.layoutInfo.glyphMarginLeft,glyphMarginWidth:h.layoutInfo.glyphMarginWidth,lineNumbersWidth:h.layoutInfo.lineNumbersWidth,offsetX:N};return N-=h.layoutInfo.glyphMarginLeft,N<=h.layoutInfo.glyphMarginWidth?S.fulfillMargin(2,E,y.range,T):(N-=h.layoutInfo.glyphMarginWidth,N<=h.layoutInfo.lineNumbersWidth?S.fulfillMargin(3,E,y.range,T):(N-=h.layoutInfo.lineNumbersWidth,S.fulfillMargin(4,E,y.range,T)))}return null}static _hitTestViewLines(h,S,y){if(!l.isChildOfViewLines(S.targetPath))return null;if(h.isInTopPadding(S.mouseVerticalOffset))return S.fulfillContentEmpty(new I.Position(1,1),o);if(h.isAfterLines(S.mouseVerticalOffset)||h.isInBottomPadding(S.mouseVerticalOffset)){const N=h.viewModel.getLineCount(),T=h.viewModel.getLineMaxColumn(N);return S.fulfillContentEmpty(new I.Position(N,T),o)}if(y){if(l.isStrictChildOfViewLines(S.targetPath)){const N=h.getLineNumberAtVerticalOffset(S.mouseVerticalOffset);if(h.viewModel.getLineLength(N)===0){const R=h.getLineWidth(N),F=c(S.mouseContentHorizontalOffset-R);return S.fulfillContentEmpty(new I.Position(N,1),F)}const T=h.getLineWidth(N);if(S.mouseContentHorizontalOffset>=T){const R=c(S.mouseContentHorizontalOffset-T),F=new I.Position(N,h.viewModel.getLineMaxColumn(N));return S.fulfillContentEmpty(F,R)}}return S.fulfillUnknown()}const E=f._doHitTest(h,S);return E.type===1?f.createMouseTargetFromHitTestPosition(h,S,E.spanNode,E.position,E.injectedText):this._createMouseTarget(h,S.withTarget(E.hitTarget),!0)}static _hitTestMinimap(h,S){if(l.isChildOfMinimap(S.targetPath)){const y=h.getLineNumberAtVerticalOffset(S.mouseVerticalOffset),E=h.viewModel.getLineMaxColumn(y);return S.fulfillScrollbar(new I.Position(y,E))}return null}static _hitTestScrollbarSlider(h,S){if(l.isChildOfScrollableElement(S.targetPath)&&S.target&&S.target.nodeType===1){const y=S.target.className;if(y&&/\b(slider|scrollbar)\b/.test(y)){const E=h.getLineNumberAtVerticalOffset(S.mouseVerticalOffset),N=h.viewModel.getLineMaxColumn(E);return S.fulfillScrollbar(new I.Position(E,N))}}return null}static _hitTestScrollbar(h,S){if(l.isChildOfScrollableElement(S.targetPath)){const y=h.getLineNumberAtVerticalOffset(S.mouseVerticalOffset),E=h.viewModel.getLineMaxColumn(y);return S.fulfillScrollbar(new I.Position(y,E))}return null}getMouseColumn(h){const S=this._context.configuration.options,y=S.get(133),E=this._context.viewLayout.getCurrentScrollLeft()+h.x-y.contentLeft;return f._getMouseColumn(E,S.get(46).typicalHalfwidthCharacterWidth)}static _getMouseColumn(h,S){return h<0?1:Math.round(h/S)+1}static createMouseTargetFromHitTestPosition(h,S,y,E,N){const T=E.lineNumber,R=E.column,F=h.getLineWidth(T);if(S.mouseContentHorizontalOffset>F){const A=c(S.mouseContentHorizontalOffset-F);return S.fulfillContentEmpty(E,A)}const O=h.visibleRangeForPosition(T,R);if(!O)return S.fulfillUnknown(E);const D=O.left;if(S.mouseContentHorizontalOffset===D)return S.fulfillContentText(E,null,{mightBeForeignElement:!!N,injectedText:N});const M=[];if(M.push({offset:O.left,column:R}),R>1){const A=h.visibleRangeForPosition(T,R-1);A&&M.push({offset:A.left,column:R-1})}const P=h.viewModel.getLineMaxColumn(T);if(R<P){const A=h.visibleRangeForPosition(T,R+1);A&&M.push({offset:A.left,column:R+1})}M.sort((A,Q)=>A.offset-Q.offset);const B=S.pos.toClientCoordinates(),W=y.getBoundingClientRect(),V=W.left<=B.clientX&&B.clientX<=W.right;for(let A=1;A<M.length;A++){const Q=M[A-1],J=M[A];if(Q.offset<=S.mouseContentHorizontalOffset&&S.mouseContentHorizontalOffset<=J.offset){const H=new L.Range(T,Q.column,T,J.column),q=Math.abs(Q.offset-S.mouseContentHorizontalOffset),Z=Math.abs(J.offset-S.mouseContentHorizontalOffset),ie=q<Z?new I.Position(T,Q.column):new I.Position(T,J.column);return S.fulfillContentText(ie,H,{mightBeForeignElement:!V||!!N,injectedText:N})}}return S.fulfillContentText(E,null,{mightBeForeignElement:!V||!!N,injectedText:N})}static _doHitTestWithCaretRangeFromPoint(h,S){const y=h.getLineNumberAtVerticalOffset(S.mouseVerticalOffset),N=h.getVerticalOffsetForLineNumber(y)+Math.floor(h.lineHeight/2);let T=S.pos.y+(N-S.mouseVerticalOffset);T<=S.editorPos.y&&(T=S.editorPos.y+1),T>=S.editorPos.y+S.editorPos.height&&(T=S.editorPos.y+S.editorPos.height-1);const R=new w.PageCoordinates(S.pos.x,T),F=this._actualDoHitTestWithCaretRangeFromPoint(h,R.toClientCoordinates());return F.type===1?F:this._actualDoHitTestWithCaretRangeFromPoint(h,S.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(h,S){const y=v.getShadowRoot(h.viewDomNode);let E;if(y?typeof y.caretRangeFromPoint=="undefined"?E=p(y,S.clientX,S.clientY):E=y.caretRangeFromPoint(S.clientX,S.clientY):E=document.caretRangeFromPoint(S.clientX,S.clientY),!E||!E.startContainer)return new g;const N=E.startContainer;if(N.nodeType===N.TEXT_NODE){const T=N.parentNode,R=T?T.parentNode:null,F=R?R.parentNode:null;return(F&&F.nodeType===F.ELEMENT_NODE?F.className:null)===k.ViewLine.CLASS_NAME?i.createFromDOMInfo(h,T,E.startOffset):new g(N.parentNode)}else if(N.nodeType===N.ELEMENT_NODE){const T=N.parentNode,R=T?T.parentNode:null;return(R&&R.nodeType===R.ELEMENT_NODE?R.className:null)===k.ViewLine.CLASS_NAME?i.createFromDOMInfo(h,N,N.textContent.length):new g(N)}return new g}static _doHitTestWithCaretPositionFromPoint(h,S){const y=document.caretPositionFromPoint(S.clientX,S.clientY);if(y.offsetNode.nodeType===y.offsetNode.TEXT_NODE){const E=y.offsetNode.parentNode,N=E?E.parentNode:null,T=N?N.parentNode:null;return(T&&T.nodeType===T.ELEMENT_NODE?T.className:null)===k.ViewLine.CLASS_NAME?i.createFromDOMInfo(h,y.offsetNode.parentNode,y.offset):new g(y.offsetNode.parentNode)}if(y.offsetNode.nodeType===y.offsetNode.ELEMENT_NODE){const E=y.offsetNode.parentNode,N=E&&E.nodeType===E.ELEMENT_NODE?E.className:null,T=E?E.parentNode:null,R=T&&T.nodeType===T.ELEMENT_NODE?T.className:null;if(N===k.ViewLine.CLASS_NAME){const F=y.offsetNode.childNodes[Math.min(y.offset,y.offsetNode.childNodes.length-1)];if(F)return i.createFromDOMInfo(h,F,0)}else if(R===k.ViewLine.CLASS_NAME)return i.createFromDOMInfo(h,y.offsetNode,0)}return new g(y.offsetNode)}static _snapToSoftTabBoundary(h,S){const y=S.getLineContent(h.lineNumber),{tabSize:E}=S.model.getOptions(),N=u.AtomicTabMoveOperations.atomicPosition(y,h.column-1,E,2);return N!==-1?new I.Position(h.lineNumber,N+1):h}static _doHitTest(h,S){let y=new g;if(typeof document.caretRangeFromPoint=="function"?y=this._doHitTestWithCaretRangeFromPoint(h,S):document.caretPositionFromPoint&&(y=this._doHitTestWithCaretPositionFromPoint(h,S.pos.toClientCoordinates())),y.type===1){const E=h.viewModel.getInjectedTextAt(y.position),N=h.viewModel.normalizePosition(y.position,2);(E||!N.equals(y.position))&&(y=new n(N,y.spanNode,E))}return y.type===1&&h.stickyTabStops&&(y=new n(this._snapToSoftTabBoundary(y.position,h.viewModel),y.spanNode,y.injectedText)),y}}e.MouseTargetFactory=f;function p(m,h,S){const y=document.createRange();let E=m.elementFromPoint(h,S);if(E!==null){for(;E&&E.firstChild&&E.firstChild.nodeType!==E.firstChild.TEXT_NODE&&E.lastChild&&E.lastChild.firstChild;)E=E.lastChild;const N=E.getBoundingClientRect(),T=window.getComputedStyle(E,null).getPropertyValue("font"),R=E.innerText;let F=N.left,O=0,D;if(h>N.left+N.width)O=R.length;else{const M=_.getInstance();for(let P=0;P<R.length+1;P++){if(D=M.getCharWidth(R.charAt(P),T)/2,F+=D,h<F){O=P;break}F+=D}}y.setStart(E.firstChild,O),y.setEnd(E.firstChild,O)}return y}e.shadowCaretRangeFromPoint=p;class _{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return _._INSTANCE||(_._INSTANCE=new _),_._INSTANCE}getCharWidth(h,S){const y=h+S;if(this._cache[y])return this._cache[y];const E=this._canvas.getContext("2d");E.font=S;const T=E.measureText(h).width;return this._cache[y]=T,T}}_._INSTANCE=null}),define(re[666],ae([1,0,7,67,10,2,17,296,141,164,11,23,129]),function($,e,w,C,k,I,L,b,v,u,g,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=void 0;class t extends i.ViewEventHandler{constructor(a,s,o){super();this._mouseLeaveMonitor=null,this._context=a,this.viewController=s,this.viewHelper=o,this.mouseTargetFactory=new b.MouseTargetFactory(this._context,o),this._mouseDownOperation=this._register(new r(this._context,this.viewController,this.viewHelper,(_,m)=>this._createMouseTarget(_,m),_=>this._getMouseColumn(_))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(133).height;const c=new v.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(c.onContextMenu(this.viewHelper.viewDomNode,_=>this._onContextMenu(_,!0))),this._register(c.onMouseMove(this.viewHelper.viewDomNode,_=>{this._onMouseMove(_),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=w.addDisposableListener(document,"mousemove",m=>{this.viewHelper.viewDomNode.contains(m.target)||this._onMouseLeave(new v.EditorMouseEvent(m,!1,this.viewHelper.viewDomNode))}))})),this._register(c.onMouseUp(this.viewHelper.viewDomNode,_=>this._onMouseUp(_))),this._register(c.onMouseLeave(this.viewHelper.viewDomNode,_=>this._onMouseLeave(_)));let f=0;this._register(c.onPointerDown(this.viewHelper.viewDomNode,(_,m)=>{f=m})),this._register(w.addDisposableListener(this.viewHelper.viewDomNode,w.EventType.POINTER_UP,_=>{this._mouseDownOperation.onPointerUp()})),this._register(c.onMouseDown(this.viewHelper.viewDomNode,_=>this._onMouseDown(_,f)));const p=_=>{if(this.viewController.emitMouseWheel(_),!this._context.configuration.options.get(70))return;const m=new C.StandardWheelEvent(_);if(L.isMacintosh?(_.metaKey||_.ctrlKey)&&!_.shiftKey&&!_.altKey:_.ctrlKey&&!_.metaKey&&!_.shiftKey&&!_.altKey){const S=u.EditorZoom.getZoomLevel(),y=m.deltaY>0?1:-1;u.EditorZoom.setZoomLevel(S+y),m.preventDefault(),m.stopPropagation()}};this._register(w.addDisposableListener(this.viewHelper.viewDomNode,w.EventType.MOUSE_WHEEL,p,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(a){if(a.hasChanged(133)){const s=this._context.configuration.options.get(133).height;this._height!==s&&(this._height=s,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(a){return this._mouseDownOperation.onCursorStateChanged(a),!1}onFocusChanged(a){return!1}onScrollChanged(a){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(a,s){const c=new v.ClientCoordinates(a,s).toPageCoordinates(),f=(0,v.createEditorPagePosition)(this.viewHelper.viewDomNode);if(c.y<f.y||c.y>f.y+f.height||c.x<f.x||c.x>f.x+f.width)return null;const p=(0,v.createCoordinatesRelativeToEditor)(this.viewHelper.viewDomNode,f,c);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),f,c,p,null)}_createMouseTarget(a,s){let o=a.target;if(!this.viewHelper.viewDomNode.contains(o)){const c=w.getShadowRoot(this.viewHelper.viewDomNode);c&&(o=c.elementsFromPoint(a.posx,a.posy).find(f=>this.viewHelper.viewDomNode.contains(f)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),a.editorPos,a.pos,a.relativePos,s?o:null)}_getMouseColumn(a){return this.mouseTargetFactory.getMouseColumn(a.relativePos)}_onContextMenu(a,s){this.viewController.emitContextMenu({event:a,target:this._createMouseTarget(a,s)})}_onMouseMove(a){this.mouseTargetFactory.mouseTargetIsWidget(a)||a.preventDefault(),!(this._mouseDownOperation.isActive()||a.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:a,target:this._createMouseTarget(a,!0)})}_onMouseLeave(a){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:a,target:null})}_onMouseUp(a){this.viewController.emitMouseUp({event:a,target:this._createMouseTarget(a,!0)})}_onMouseDown(a,s){const o=this._createMouseTarget(a,!0),c=o.type===6||o.type===7,f=o.type===2||o.type===3||o.type===4,p=o.type===3,_=this._context.configuration.options.get(100),m=o.type===8||o.type===5,h=o.type===9;let S=a.leftButton||a.middleButton;L.isMacintosh&&a.leftButton&&a.ctrlKey&&(S=!1);const y=()=>{a.preventDefault(),this.viewHelper.focusTextArea()};if(S&&(c||p&&_))y(),this._mouseDownOperation.start(o.type,a,s);else if(f)a.preventDefault();else if(m){const E=o.detail;S&&this.viewHelper.shouldSuppressMouseDownOnViewZone(E.viewZoneId)&&(y(),this._mouseDownOperation.start(o.type,a,s),a.preventDefault())}else h&&this.viewHelper.shouldSuppressMouseDownOnWidget(o.detail)&&(y(),a.preventDefault());this.viewController.emitMouseDown({event:a,target:o})}}e.MouseHandler=t;class r extends I.Disposable{constructor(a,s,o,c,f){super();this._context=a,this._viewController=s,this._viewHelper=o,this._createMouseTarget=c,this._getMouseColumn=f,this._mouseMoveMonitor=this._register(new v.GlobalEditorPointerMoveMonitor(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new k.TimeoutTimer),this._mouseState=new l,this._currentSelection=new n.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(a){this._lastMouseEvent=a,this._mouseState.setModifiers(a);const s=this._findMousePosition(a,!1);!s||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:a,target:s}):this._dispatchMouse(s,!0))}start(a,s,o){this._lastMouseEvent=s,this._mouseState.setStartedOnLineNumbers(a===3),this._mouseState.setStartButtons(s),this._mouseState.setModifiers(s);const c=this._findMousePosition(s,!0);if(!c||!c.position)return;this._mouseState.trySetCount(s.detail,c.position),s.detail=this._mouseState.count;const f=this._context.configuration.options;if(!f.get(83)&&f.get(31)&&!f.get(18)&&!this._mouseState.altKey&&s.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&c.type===6&&c.position&&this._currentSelection.containsPosition(c.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,o,s.buttons,p=>this._onMouseDownThenMove(p),p=>{const _=this._findMousePosition(this._lastMouseEvent,!1);p&&p instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:_?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(c,s.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,o,s.buttons,p=>this._onMouseDownThenMove(p),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const a=this._findMousePosition(this._lastMouseEvent,!1);!a||this._mouseState.isDragAndDrop||this._dispatchMouse(a,!0)},10)}onCursorStateChanged(a){this._currentSelection=a.selections[0]}_getPositionOutsideEditor(a){const s=a.editorPos,o=this._context.viewModel,c=this._context.viewLayout,f=this._getMouseColumn(a);if(a.posy<s.y){const _=Math.max(c.getCurrentScrollTop()-(s.y-a.posy),0),m=b.HitTestContext.getZoneAtCoord(this._context,_);if(m){const S=this._helpPositionJumpOverViewZone(m);if(S)return b.MouseTarget.createOutsideEditor(f,S)}const h=c.getLineNumberAtVerticalOffset(_);return b.MouseTarget.createOutsideEditor(f,new g.Position(h,1))}if(a.posy>s.y+s.height){const _=c.getCurrentScrollTop()+a.relativePos.y,m=b.HitTestContext.getZoneAtCoord(this._context,_);if(m){const S=this._helpPositionJumpOverViewZone(m);if(S)return b.MouseTarget.createOutsideEditor(f,S)}const h=c.getLineNumberAtVerticalOffset(_);return b.MouseTarget.createOutsideEditor(f,new g.Position(h,o.getLineMaxColumn(h)))}const p=c.getLineNumberAtVerticalOffset(c.getCurrentScrollTop()+a.relativePos.y);return a.posx<s.x?b.MouseTarget.createOutsideEditor(f,new g.Position(p,1)):a.posx>s.x+s.width?b.MouseTarget.createOutsideEditor(f,new g.Position(p,o.getLineMaxColumn(p))):null}_findMousePosition(a,s){const o=this._getPositionOutsideEditor(a);if(o)return o;const c=this._createMouseTarget(a,s);if(!c.position)return null;if(c.type===8||c.type===5){const p=this._helpPositionJumpOverViewZone(c.detail);if(p)return b.MouseTarget.createViewZone(c.type,c.element,c.mouseColumn,p,c.detail)}return c}_helpPositionJumpOverViewZone(a){const s=new g.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),o=a.positionBefore,c=a.positionAfter;return o&&c?o.isBefore(s)?o:c:null}_dispatchMouse(a,s){!a.position||this._viewController.dispatchMouse({position:a.position,mouseColumn:a.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:s,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:a.type===6&&a.detail.injectedText!==null})}}class l{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(a){this._altKey=a.altKey,this._ctrlKey=a.ctrlKey,this._metaKey=a.metaKey,this._shiftKey=a.shiftKey}setStartButtons(a){this._leftButton=a.leftButton,this._middleButton=a.middleButton}setStartedOnLineNumbers(a){this._startedOnLineNumbers=a}trySetCount(a,s){const o=new Date().getTime();o-this._lastSetMouseDownCountTime>l.CLEAR_MOUSE_DOWN_COUNT_TIME&&(a=1),this._lastSetMouseDownCountTime=o,a>this._lastMouseDownCount+1&&(a=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(s)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=s,this._lastMouseDownCount=Math.min(a,this._lastMouseDownPositionEqualCount)}}l.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(re[667],ae([1,0,7,17,62,2,666,141,192,201]),function($,e,w,C,k,I,L,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class g extends L.MouseHandler{constructor(r,l,d){super(r,l,d);this._register(k.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(w.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Tap,s=>this.onTap(s))),this._register(w.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Change,s=>this.onChange(s))),this._register(w.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Contextmenu,s=>this._onContextMenu(new b.EditorMouseEvent(s,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(w.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",s=>{const o=s.pointerType;if(o==="mouse"){this._lastPointerType="mouse";return}else o==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const a=new b.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(a.onPointerMove(this.viewHelper.viewDomNode,s=>this._onMouseMove(s))),this._register(a.onPointerUp(this.viewHelper.viewDomNode,s=>this._onMouseUp(s))),this._register(a.onPointerLeave(this.viewHelper.viewDomNode,s=>this._onMouseLeave(s))),this._register(a.onPointerDown(this.viewHelper.viewDomNode,(s,o)=>this._onMouseDown(s,o)))}onTap(r){if(!r.initialTarget||!this.viewHelper.linesContentDomNode.contains(r.initialTarget))return;r.preventDefault(),this.viewHelper.focusTextArea();const l=this._createMouseTarget(new b.EditorMouseEvent(r,!1,this.viewHelper.viewDomNode),!1);l.position&&this.viewController.dispatchMouse({position:l.position,mouseColumn:l.position.column,startedOnLineNumbers:!1,mouseDownCount:r.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:l.type===6&&l.detail.injectedText!==null})}onChange(r){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-r.translationX,-r.translationY)}_onMouseDown(r,l){r.browserEvent.pointerType!=="touch"&&super._onMouseDown(r,l)}}e.PointerEventHandler=g;class n extends L.MouseHandler{constructor(r,l,d){super(r,l,d);this._register(k.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(w.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Tap,a=>this.onTap(a))),this._register(w.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Change,a=>this.onChange(a))),this._register(w.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Contextmenu,a=>this._onContextMenu(new b.EditorMouseEvent(a,!1,this.viewHelper.viewDomNode),!1)))}onTap(r){r.preventDefault(),this.viewHelper.focusTextArea();const l=this._createMouseTarget(new b.EditorMouseEvent(r,!1,this.viewHelper.viewDomNode),!1);if(l.position){const d=document.createEvent("CustomEvent");d.initEvent(u.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(d),this.viewController.moveTo(l.position)}}onChange(r){this._context.viewModel.viewLayout.deltaScrollNow(-r.translationX,-r.translationY)}}class i extends I.Disposable{constructor(r,l,d){super();C.isIOS&&v.BrowserFeatures.pointerEvents?this.handler=this._register(new g(r,l,d)):window.TouchEvent?this.handler=this._register(new n(r,l,d)):this.handler=this._register(new L.MouseHandler(r,l,d))}getTargetAtClientPoint(r,l){return this.handler.getTargetAtClientPoint(r,l)}}e.PointerHandler=i}),define(re[668],ae([1,0,17,10,65,202,47,295,11,3,125,150,359]),function($,e,w,C,k,I,L,b,v,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class i{constructor(){this._currentVisibleRange=new u.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(a){this._currentVisibleRange=a}}class t{constructor(a,s,o,c,f,p,_){this.minimalReveal=a,this.lineNumber=s,this.startColumn=o,this.endColumn=c,this.startScrollTop=f,this.stopScrollTop=p,this.scrollType=_,this.type="range",this.minLineNumber=s,this.maxLineNumber=s}}class r{constructor(a,s,o,c,f){this.minimalReveal=a,this.selections=s,this.startScrollTop=o,this.stopScrollTop=c,this.scrollType=f,this.type="selections";let p=s[0].startLineNumber,_=s[0].endLineNumber;for(let m=1,h=s.length;m<h;m++){const S=s[m];p=Math.min(p,S.startLineNumber),_=Math.max(_,S.endLineNumber)}this.minLineNumber=p,this.maxLineNumber=_}}class l extends L.ViewPart{constructor(a,s){super(a);this._linesContent=s,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new I.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const o=this._context.configuration,c=this._context.configuration.options,f=c.get(46),p=c.get(134),_=c.get(133);this._lineHeight=c.get(61),this._typicalHalfwidthCharacterWidth=f.typicalHalfwidthCharacterWidth,this._isViewportWrapping=p.isViewportWrapping,this._revealHorizontalRightPadding=c.get(91),this._horizontalScrollbarHeight=_.horizontalScrollbarHeight,this._cursorSurroundingLines=c.get(25),this._cursorSurroundingLinesStyle=c.get(26),this._canUseLayerHinting=!c.get(28),this._viewLineOptions=new b.ViewLineOptions(o,this._context.theme.type),L.PartFingerprints.write(this.domNode,7),this.domNode.setClassName(`view-lines ${n.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),(0,k.applyFontInfo)(this.domNode,f),this._maxLineWidth=0,this._asyncUpdateLineWidths=new C.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new C.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new i,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new b.ViewLine(this._viewLineOptions)}onConfigurationChanged(a){this._visibleLines.onConfigurationChanged(a),a.hasChanged(134)&&(this._maxLineWidth=0);const s=this._context.configuration.options,o=s.get(46),c=s.get(134),f=s.get(133);return this._lineHeight=s.get(61),this._typicalHalfwidthCharacterWidth=o.typicalHalfwidthCharacterWidth,this._isViewportWrapping=c.isViewportWrapping,this._revealHorizontalRightPadding=s.get(91),this._horizontalScrollbarHeight=f.horizontalScrollbarHeight,this._cursorSurroundingLines=s.get(25),this._cursorSurroundingLinesStyle=s.get(26),this._canUseLayerHinting=!s.get(28),(0,k.applyFontInfo)(this.domNode,o),this._onOptionsMaybeChanged(),a.hasChanged(133)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const a=this._context.configuration,s=new b.ViewLineOptions(a,this._context.theme.type);if(!this._viewLineOptions.equals(s)){this._viewLineOptions=s;const o=this._visibleLines.getStartLineNumber(),c=this._visibleLines.getEndLineNumber();for(let f=o;f<=c;f++)this._visibleLines.getVisibleLine(f).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(a){const s=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();let c=!1;for(let f=s;f<=o;f++)c=this._visibleLines.getVisibleLine(f).onSelectionChanged()||c;return c}onDecorationsChanged(a){{const s=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let c=s;c<=o;c++)this._visibleLines.getVisibleLine(c).onDecorationsChanged()}return!0}onFlushed(a){const s=this._visibleLines.onFlushed(a);return this._maxLineWidth=0,s}onLinesChanged(a){return this._visibleLines.onLinesChanged(a)}onLinesDeleted(a){return this._visibleLines.onLinesDeleted(a)}onLinesInserted(a){return this._visibleLines.onLinesInserted(a)}onRevealRangeRequest(a){const s=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),a.source,a.minimalReveal,a.range,a.selections,a.verticalType);if(s===-1)return!1;let o=this._context.viewLayout.validateScrollPosition({scrollTop:s});a.revealHorizontal?a.range&&a.range.startLineNumber!==a.range.endLineNumber?o={scrollTop:o.scrollTop,scrollLeft:0}:a.range?this._horizontalRevealRequest=new t(a.minimalReveal,a.range.startLineNumber,a.range.startColumn,a.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),o.scrollTop,a.scrollType):a.selections&&a.selections.length>0&&(this._horizontalRevealRequest=new r(a.minimalReveal,a.selections,this._context.viewLayout.getCurrentScrollTop(),o.scrollTop,a.scrollType)):this._horizontalRevealRequest=null;const f=Math.abs(this._context.viewLayout.getCurrentScrollTop()-o.scrollTop)<=this._lineHeight?1:a.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(o,f),!0}onScrollChanged(a){if(this._horizontalRevealRequest&&a.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&a.scrollTopChanged){const s=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),o=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(a.scrollTop<s||a.scrollTop>o)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(a.scrollWidth),this._visibleLines.onScrollChanged(a)||!0}onTokensChanged(a){return this._visibleLines.onTokensChanged(a)}onZonesChanged(a){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(a)}onThemeChanged(a){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(a,s){const o=this._getViewLineDomNode(a);if(o===null)return null;const c=this._getLineNumberFor(o);if(c===-1||c<1||c>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(c)===1)return new v.Position(c,1);const f=this._visibleLines.getStartLineNumber(),p=this._visibleLines.getEndLineNumber();if(c<f||c>p)return null;let _=this._visibleLines.getVisibleLine(c).getColumnOfNodeOffset(c,a,s);const m=this._context.viewModel.getLineMinColumn(c);return _<m&&(_=m),new v.Position(c,_)}_getViewLineDomNode(a){for(;a&&a.nodeType===1;){if(a.className===b.ViewLine.CLASS_NAME)return a;a=a.parentElement}return null}_getLineNumberFor(a){const s=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let c=s;c<=o;c++){const f=this._visibleLines.getVisibleLine(c);if(a===f.getDomNode())return c}return-1}getLineWidth(a){const s=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();return a<s||a>o?-1:this._visibleLines.getVisibleLine(a).getWidth()}linesVisibleRangesForRange(a,s){if(this.shouldRender())return null;const o=a.endLineNumber,c=u.Range.intersectRanges(a,this._lastRenderedData.getCurrentVisibleRange());if(!c)return null;const f=[];let p=0;const _=new b.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let m=0;s&&(m=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new v.Position(c.startLineNumber,1)).lineNumber);const h=this._visibleLines.getStartLineNumber(),S=this._visibleLines.getEndLineNumber();for(let y=c.startLineNumber;y<=c.endLineNumber;y++){if(y<h||y>S)continue;const E=y===c.startLineNumber?c.startColumn:1,N=y===c.endLineNumber?c.endColumn:this._context.viewModel.getLineMaxColumn(y),T=this._visibleLines.getVisibleLine(y).getVisibleRangesForRange(y,E,N,_);if(!!T){if(s&&y<o){const R=m;m=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new v.Position(y+1,1)).lineNumber,R!==m&&(T.ranges[T.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}f[p++]=new g.LineVisibleRanges(T.outsideRenderedLine,y,g.HorizontalRange.from(T.ranges))}}return p===0?null:f}_visibleRangesForLineRange(a,s,o){return this.shouldRender()||a<this._visibleLines.getStartLineNumber()||a>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(a).getVisibleRangesForRange(a,s,o,new b.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(a){const s=this._visibleRangesForLineRange(a.lineNumber,a.column,a.column);return s?new g.HorizontalPosition(s.outsideRenderedLine,s.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(a){const s=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();let c=1,f=!0;for(let p=s;p<=o;p++){const _=this._visibleLines.getVisibleLine(p);if(a&&!_.getWidthIsFast()){f=!1;continue}c=Math.max(c,_.getWidth())}return f&&s===1&&o===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(c),f}_checkMonospaceFontAssumptions(){let a=-1,s=-1;const o=this._visibleLines.getStartLineNumber(),c=this._visibleLines.getEndLineNumber();for(let f=o;f<=c;f++){const p=this._visibleLines.getVisibleLine(f);if(p.needsMonospaceFontCheck()){const _=p.getWidth();_>s&&(s=_,a=f)}}if(a!==-1&&!this._visibleLines.getVisibleLine(a).monospaceAssumptionsAreValid())for(let f=o;f<=c;f++)this._visibleLines.getVisibleLine(f).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(a){if(this._visibleLines.renderLines(a),this._lastRenderedData.setCurrentVisibleRange(a.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const o=this._horizontalRevealRequest;if(a.startLineNumber<=o.minLineNumber&&o.maxLineNumber<=a.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const c=this._computeScrollLeftToReveal(o);c&&(this._isViewportWrapping||this._ensureMaxLineWidth(c.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:c.scrollLeft},o.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),w.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const o=this._visibleLines.getStartLineNumber(),c=this._visibleLines.getEndLineNumber();for(let f=o;f<=c;f++)if(this._visibleLines.getVisibleLine(f).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const s=this._context.viewLayout.getCurrentScrollTop()-a.bigNumbersDelta;this._linesContent.setTop(-s),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(a){const s=Math.ceil(a);this._maxLineWidth<s&&(this._maxLineWidth=s,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(a,s,o,c,f,p){const _=a.top,m=a.height,h=_+m;let S,y,E;if(f&&f.length>0){let R=f[0].startLineNumber,F=f[0].endLineNumber;for(let O=1,D=f.length;O<D;O++){const M=f[O];R=Math.min(R,M.startLineNumber),F=Math.max(F,M.endLineNumber)}S=!1,y=this._context.viewLayout.getVerticalOffsetForLineNumber(R),E=this._context.viewLayout.getVerticalOffsetForLineNumber(F)+this._lineHeight}else if(c)S=!0,y=this._context.viewLayout.getVerticalOffsetForLineNumber(c.startLineNumber),E=this._context.viewLayout.getVerticalOffsetForLineNumber(c.endLineNumber)+this._lineHeight;else return-1;if((s==="mouse"||o)&&this._cursorSurroundingLinesStyle==="default")o||(y-=this._lineHeight);else{const R=Math.min(m/this._lineHeight/2,this._cursorSurroundingLines);y-=R*this._lineHeight,E+=Math.max(0,R-1)*this._lineHeight}(p===0||p===4)&&(E+=o?this._horizontalScrollbarHeight:this._lineHeight);let T;if(E-y>m){if(!S)return-1;T=y}else if(p===5||p===6)if(p===6&&_<=y&&E<=h)T=_;else{const R=Math.max(5*this._lineHeight,m*.2),F=y-R,O=E-m;T=Math.max(O,F)}else if(p===1||p===2)if(p===2&&_<=y&&E<=h)T=_;else{const R=(y+E)/2;T=Math.max(0,R-m/2)}else T=this._computeMinimumScrolling(_,h,y,E,p===3,p===4);return T}_computeScrollLeftToReveal(a){const s=this._context.viewLayout.getCurrentViewport(),o=s.left,c=o+s.width;let f=1073741824,p=0;if(a.type==="range"){const m=this._visibleRangesForLineRange(a.lineNumber,a.startColumn,a.endColumn);if(!m)return null;for(const h of m.ranges)f=Math.min(f,Math.round(h.left)),p=Math.max(p,Math.round(h.left+h.width))}else for(const m of a.selections){if(m.startLineNumber!==m.endLineNumber)return null;const h=this._visibleRangesForLineRange(m.startLineNumber,m.startColumn,m.endColumn);if(!h)return null;for(const S of h.ranges)f=Math.min(f,Math.round(S.left)),p=Math.max(p,Math.round(S.left+S.width))}return a.minimalReveal||(f=Math.max(0,f-l.HORIZONTAL_EXTRA_PX),p+=this._revealHorizontalRightPadding),a.type==="selections"&&p-f>s.width?null:{scrollLeft:this._computeMinimumScrolling(o,c,f,p),maxHorizontalOffset:p}}_computeMinimumScrolling(a,s,o,c,f,p){a=a|0,s=s|0,o=o|0,c=c|0,f=!!f,p=!!p;const _=s-a;if(c-o<_){if(f)return o;if(p)return Math.max(0,c-_);if(o<a)return o;if(c>s)return Math.max(0,c-_)}else return o;return a}}e.ViewLines=l,l.HORIZONTAL_EXTRA_PX=30}),define(re[15],ae([1,0,27,6,2,9,34,56]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.ThemeIcon=e.themeColorFromId=e.ThemeColor=e.IThemeService=void 0,e.IThemeService=(0,I.createDecorator)("themeService");var v;(function(d){function a(s){return s&&typeof s=="object"&&typeof s.id=="string"}d.isThemeColor=a})(v=e.ThemeColor||(e.ThemeColor={}));function u(d){return{id:d}}e.themeColorFromId=u;var g;(function(d){function a(h){return h&&typeof h=="object"&&typeof h.id=="string"&&(typeof h.color=="undefined"||v.isThemeColor(h.color))}d.isThemeIcon=a;const s=new RegExp(`^\\$\\((${w.CSSIcon.iconNameExpression}(?:${w.CSSIcon.iconModifierExpression})?)\\)$`);function o(h){const S=s.exec(h);if(!S)return;const[,y]=S;return{id:y}}d.fromString=o;function c(h){return{id:h}}d.fromId=c;function f(h,S){let y=h.id;const E=y.lastIndexOf("~");return E!==-1&&(y=y.substring(0,E)),S&&(y=`${y}~${S}`),{id:y}}d.modify=f;function p(h){const S=h.id.lastIndexOf("~");if(S!==-1)return h.id.substring(S+1)}d.getModifier=p;function _(h,S){var y,E;return h.id===S.id&&((y=h.color)===null||y===void 0?void 0:y.id)===((E=S.color)===null||E===void 0?void 0:E.id)}d.isEqual=_;function m(h,S){return{id:h.id,color:S?u(S):void 0}}d.asThemeIcon=m,d.asClassNameArray=w.CSSIcon.asClassNameArray,d.asClassName=w.CSSIcon.asClassName,d.asCSSSelector=w.CSSIcon.asCSSSelector})(g=e.ThemeIcon||(e.ThemeIcon={}));function n(d){switch(d){case b.ColorScheme.DARK:return"vs-dark";case b.ColorScheme.HIGH_CONTRAST_DARK:return"hc-black";case b.ColorScheme.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}e.getThemeTypeSelector=n,e.Extensions={ThemingContribution:"base.contributions.theming"};class i{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new C.Emitter}onColorThemeChange(a){return this.themingParticipants.push(a),this.onThemingParticipantAddedEmitter.fire(a),(0,k.toDisposable)(()=>{const s=this.themingParticipants.indexOf(a);this.themingParticipants.splice(s,1)})}getThemingParticipants(){return this.themingParticipants}}const t=new i;L.Registry.add(e.Extensions.ThemingContribution,t);function r(d){return t.onColorThemeChange(d)}e.registerThemingParticipant=r;class l extends k.Disposable{constructor(a){super();this.themeService=a,this.theme=a.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(s=>this.onThemeChange(s)))}onThemeChange(a){this.theme=a,this.updateStyles()}updateStyles(){}}e.Themable=l}),define(re[669],ae([1,0,6,2,73,15]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalStyleSheet=e.AbstractCodeEditorService=void 0;let L=class extends C.Disposable{constructor(u){super();this._themeService=u,this._onCodeEditorAdd=this._register(new w.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new w.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new w.Emitter),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new w.Emitter),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new k.LinkedList,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(u){this._codeEditors[u.getId()]=u,this._onCodeEditorAdd.fire(u)}removeCodeEditor(u){delete this._codeEditors[u.getId()]&&this._onCodeEditorRemove.fire(u)}listCodeEditors(){return Object.keys(this._codeEditors).map(u=>this._codeEditors[u])}addDiffEditor(u){this._diffEditors[u.getId()]=u,this._onDiffEditorAdd.fire(u)}removeDiffEditor(u){delete this._diffEditors[u.getId()]&&this._onDiffEditorRemove.fire(u)}listDiffEditors(){return Object.keys(this._diffEditors).map(u=>this._diffEditors[u])}getFocusedCodeEditor(){let u=null;const g=this.listCodeEditors();for(const n of g){if(n.hasTextFocus())return n;n.hasWidgetFocus()&&(u=n)}return u}removeDecorationType(u){const g=this._decorationOptionProviders.get(u);g&&(g.refCount--,g.refCount<=0&&(this._decorationOptionProviders.delete(u),g.dispose(),this.listCodeEditors().forEach(n=>n.removeDecorationsByType(u))))}setModelProperty(u,g,n){const i=u.toString();let t;this._modelProperties.has(i)?t=this._modelProperties.get(i):(t=new Map,this._modelProperties.set(i,t)),t.set(g,n)}getModelProperty(u,g){const n=u.toString();if(this._modelProperties.has(n))return this._modelProperties.get(n).get(g)}openCodeEditor(u,g,n){return Se(this,void 0,void 0,function*(){for(const i of this._codeEditorOpenHandlers){const t=yield i(u,g,n);if(t!==null)return t}return null})}registerCodeEditorOpenHandler(u){const g=this._codeEditorOpenHandlers.unshift(u);return(0,C.toDisposable)(g)}};L=ke([me(0,I.IThemeService)],L),e.AbstractCodeEditorService=L;class b{constructor(u){this._styleSheet=u}}e.GlobalStyleSheet=b}),define(re[670],ae([1,0,7,33,75,47,15,25]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class v extends I.ViewPart{constructor(g,n,i,t){super(g);const r=this._context.configuration.options,l=r.get(94),d=r.get(69),a=r.get(36),s=r.get(97),o={listenOnDomNode:i.domNode,className:"editor-scrollable "+(0,L.getThemeTypeSelector)(g.theme.type),useShadows:!1,lazyRender:!0,vertical:l.vertical,horizontal:l.horizontal,verticalHasArrows:l.verticalHasArrows,horizontalHasArrows:l.horizontalHasArrows,verticalScrollbarSize:l.verticalScrollbarSize,verticalSliderSize:l.verticalSliderSize,horizontalScrollbarSize:l.horizontalScrollbarSize,horizontalSliderSize:l.horizontalSliderSize,handleMouseWheel:l.handleMouseWheel,alwaysConsumeMouseWheel:l.alwaysConsumeMouseWheel,arrowSize:l.arrowSize,mouseWheelScrollSensitivity:d,fastScrollSensitivity:a,scrollPredominantAxis:s,scrollByPage:l.scrollByPage};this.scrollbar=this._register(new k.SmoothScrollableElement(n.domNode,o,this._context.viewLayout.getScrollable())),I.PartFingerprints.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,C.createFastDomNode)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const c=(f,p,_)=>{const m={};if(p){const h=f.scrollTop;h&&(m.scrollTop=this._context.viewLayout.getCurrentScrollTop()+h,f.scrollTop=0)}if(_){const h=f.scrollLeft;h&&(m.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+h,f.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(m,1)};this._register(w.addDisposableListener(i.domNode,"scroll",f=>c(i.domNode,!0,!0))),this._register(w.addDisposableListener(n.domNode,"scroll",f=>c(n.domNode,!0,!1))),this._register(w.addDisposableListener(t.domNode,"scroll",f=>c(t.domNode,!0,!1))),this._register(w.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",f=>c(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const g=this._context.configuration.options,n=g.get(133);this.scrollbarDomNode.setLeft(n.contentLeft),g.get(67).side==="right"?this.scrollbarDomNode.setWidth(n.contentWidth+n.minimap.minimapWidth):this.scrollbarDomNode.setWidth(n.contentWidth),this.scrollbarDomNode.setHeight(n.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(g){this.scrollbar.delegateVerticalScrollbarPointerDown(g)}onConfigurationChanged(g){if(g.hasChanged(94)||g.hasChanged(69)||g.hasChanged(36)){const n=this._context.configuration.options,i=n.get(94),t=n.get(69),r=n.get(36),l=n.get(97),d={vertical:i.vertical,horizontal:i.horizontal,verticalScrollbarSize:i.verticalScrollbarSize,horizontalScrollbarSize:i.horizontalScrollbarSize,scrollByPage:i.scrollByPage,handleMouseWheel:i.handleMouseWheel,mouseWheelScrollSensitivity:t,fastScrollSensitivity:r,scrollPredominantAxis:l};this.scrollbar.updateOptions(d)}return g.hasChanged(133)&&this._setLayout(),!0}onScrollChanged(g){return!0}onThemeChanged(g){return this.scrollbar.updateClassName("editor-scrollable "+(0,L.getThemeTypeSelector)(this._context.theme.type)),!0}prepareRender(g){}render(g){this.scrollbar.renderNow()}}e.EditorScrollbar=v,(0,L.registerThemingParticipant)((u,g)=>{const n=u.getColor(b.scrollbarShadow);n&&g.addRule(`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${n} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${n} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${n} 6px 6px 6px -6px inset;
			}
		`);const i=u.getColor(b.scrollbarSliderBackground);i&&g.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${i};
			}
		`);const t=u.getColor(b.scrollbarSliderHoverBackground);t&&g.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${t};
			}
		`);const r=u.getColor(b.scrollbarSliderActiveBackground);r&&g.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${r};
			}
		`)})}),define(re[671],ae([1,0,7,33,132,2,17,8,202,47,36,3,232,274,74,25,15,23,62,405,46,96,362]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const p=140,_=2;class m{constructor(D,M,P){const B=D.options,W=B.get(131),V=B.get(133),A=V.minimap,Q=B.get(46),J=B.get(67);this.renderMinimap=A.renderMinimap,this.size=J.size,this.minimapHeightIsEditorHeight=A.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=B.get(96),this.showSlider=J.showSlider,this.autohide=J.autohide,this.pixelRatio=W,this.typicalHalfwidthCharacterWidth=Q.typicalHalfwidthCharacterWidth,this.lineHeight=B.get(61),this.minimapLeft=A.minimapLeft,this.minimapWidth=A.minimapWidth,this.minimapHeight=V.height,this.canvasInnerWidth=A.minimapCanvasInnerWidth,this.canvasInnerHeight=A.minimapCanvasInnerHeight,this.canvasOuterWidth=A.minimapCanvasOuterWidth,this.canvasOuterHeight=A.minimapCanvasOuterHeight,this.isSampling=A.minimapIsSampling,this.editorHeight=V.height,this.fontScale=A.minimapScale,this.minimapLineHeight=A.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,f.once)(()=>o.MinimapCharRendererFactory.create(this.fontScale,Q.fontFamily)),this.defaultBackgroundColor=P.getColor(2),this.backgroundColor=m._getMinimapBackground(M,this.defaultBackgroundColor),this.foregroundAlpha=m._getMinimapForegroundOpacity(M)}static _getMinimapBackground(D,M){const P=D.getColor(l.minimapBackground);return P?new i.RGBA8(P.rgba.r,P.rgba.g,P.rgba.b,Math.round(255*P.rgba.a)):M}static _getMinimapForegroundOpacity(D){const M=D.getColor(l.minimapForegroundOpacity);return M?i.RGBA8._clamp(Math.round(255*M.rgba.a)):255}equals(D){return this.renderMinimap===D.renderMinimap&&this.size===D.size&&this.minimapHeightIsEditorHeight===D.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===D.scrollBeyondLastLine&&this.showSlider===D.showSlider&&this.autohide===D.autohide&&this.pixelRatio===D.pixelRatio&&this.typicalHalfwidthCharacterWidth===D.typicalHalfwidthCharacterWidth&&this.lineHeight===D.lineHeight&&this.minimapLeft===D.minimapLeft&&this.minimapWidth===D.minimapWidth&&this.minimapHeight===D.minimapHeight&&this.canvasInnerWidth===D.canvasInnerWidth&&this.canvasInnerHeight===D.canvasInnerHeight&&this.canvasOuterWidth===D.canvasOuterWidth&&this.canvasOuterHeight===D.canvasOuterHeight&&this.isSampling===D.isSampling&&this.editorHeight===D.editorHeight&&this.fontScale===D.fontScale&&this.minimapLineHeight===D.minimapLineHeight&&this.minimapCharWidth===D.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(D.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(D.backgroundColor)&&this.foregroundAlpha===D.foregroundAlpha}}class h{constructor(D,M,P,B,W,V,A,Q){this.scrollTop=D,this.scrollHeight=M,this.sliderNeeded=P,this._computedSliderRatio=B,this.sliderTop=W,this.sliderHeight=V,this.startLineNumber=A,this.endLineNumber=Q}getDesiredScrollTopFromDelta(D){return Math.round(this.scrollTop+D/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(D){return Math.round((D-this.sliderHeight/2)/this._computedSliderRatio)}static create(D,M,P,B,W,V,A,Q,J,H,q){const Z=D.pixelRatio,ie=D.minimapLineHeight,Y=Math.floor(D.canvasInnerHeight/ie),te=D.lineHeight;if(D.minimapHeightIsEditorHeight){const se=Q*D.lineHeight+(D.scrollBeyondLastLine?W-D.lineHeight:0),z=Math.max(1,Math.floor(W*W/se)),X=Math.max(0,D.minimapHeight-z),G=X/(H-W),U=J*G,K=X>0,ce=Math.floor(D.canvasInnerHeight/D.minimapLineHeight);return new h(J,H,K,G,U,z,1,Math.min(A,ce))}let de;if(V&&P!==A){const se=P-M+1;de=Math.floor(se*ie/Z)}else{const se=W/te;de=Math.floor(se*ie/Z)}let x;D.scrollBeyondLastLine?x=(A-1)*ie/Z:x=Math.max(0,A*ie/Z-de),x=Math.min(D.minimapHeight-de,x);const oe=x/(H-W),ne=J*oe;let j=0;if(D.scrollBeyondLastLine&&(j=W/te-1),Y>=A+j){const se=1,z=A,X=x>0;return new h(J,H,X,oe,ne,de,se,z)}else{let se=Math.max(1,Math.floor(M-ne*Z/ie));q&&q.scrollHeight===H&&(q.scrollTop>J&&(se=Math.min(se,q.startLineNumber)),q.scrollTop<J&&(se=Math.max(se,q.startLineNumber)));const z=Math.min(A,se+Y-1),X=(J-B)/te,G=(M-se+X)*ie/Z;return new h(J,H,!0,oe,G,de,se,z)}}}class S{constructor(D){this.dy=D}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}S.INVALID=new S(-1);class y{constructor(D,M,P){this.renderedLayout=D,this._imageData=M,this._renderedLines=new v.RenderedLinesCollection(()=>S.INVALID),this._renderedLines._set(D.startLineNumber,P)}linesEquals(D){if(!this.scrollEquals(D))return!1;const P=this._renderedLines._get().lines;for(let B=0,W=P.length;B<W;B++)if(P[B].dy===-1)return!1;return!0}scrollEquals(D){return this.renderedLayout.startLineNumber===D.startLineNumber&&this.renderedLayout.endLineNumber===D.endLineNumber}_get(){const D=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:D.rendLineNumberStart,lines:D.lines}}onLinesChanged(D,M){return this._renderedLines.onLinesChanged(D,M)}onLinesDeleted(D,M){this._renderedLines.onLinesDeleted(D,M)}onLinesInserted(D,M){this._renderedLines.onLinesInserted(D,M)}onTokensChanged(D){return this._renderedLines.onTokensChanged(D)}}class E{constructor(D,M,P,B){this._backgroundFillData=E._createBackgroundFillData(M,P,B),this._buffers=[D.createImageData(M,P),D.createImageData(M,P)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const D=this._buffers[this._lastUsedBuffer];return D.data.set(this._backgroundFillData),D}static _createBackgroundFillData(D,M,P){const B=P.r,W=P.g,V=P.b,A=P.a,Q=new Uint8ClampedArray(D*M*4);let J=0;for(let H=0;H<M;H++)for(let q=0;q<D;q++)Q[J]=B,Q[J+1]=W,Q[J+2]=V,Q[J+3]=A,J+=4;return Q}}class N{constructor(D,M){this.samplingRatio=D,this.minimapLines=M}static compute(D,M,P){if(D.renderMinimap===0||!D.isSampling)return[null,[]];const B=D.pixelRatio,W=D.lineHeight,V=D.scrollBeyondLastLine,{minimapLineCount:A}=g.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:M,scrollBeyondLastLine:V,height:D.editorHeight,lineHeight:W,pixelRatio:B}),Q=M/A,J=Q/2;if(!P||P.minimapLines.length===0){const ne=[];if(ne[0]=1,A>1){for(let j=0,se=A-1;j<se;j++)ne[j]=Math.round(j*Q+J);ne[A-1]=M}return[new N(Q,ne),[]]}const H=P.minimapLines,q=H.length,Z=[];let ie=0,Y=0,te=1;const de=10;let x=[],oe=null;for(let ne=0;ne<A;ne++){const j=Math.max(te,Math.round(ne*Q)),se=Math.max(j,Math.round((ne+1)*Q));for(;ie<q&&H[ie]<j;){if(x.length<de){const X=ie+1+Y;oe&&oe.type==="deleted"&&oe._oldIndex===ie-1?oe.deleteToLineNumber++:(oe={type:"deleted",_oldIndex:ie,deleteFromLineNumber:X,deleteToLineNumber:X},x.push(oe)),Y--}ie++}let z;if(ie<q&&H[ie]<=se)z=H[ie],ie++;else if(ne===0?z=1:ne+1===A?z=M:z=Math.round(ne*Q+J),x.length<de){const X=ie+1+Y;oe&&oe.type==="inserted"&&oe._i===ne-1?oe.insertToLineNumber++:(oe={type:"inserted",_i:ne,insertFromLineNumber:X,insertToLineNumber:X},x.push(oe)),Y++}Z[ne]=z,te=z}if(x.length<de)for(;ie<q;){const ne=ie+1+Y;oe&&oe.type==="deleted"&&oe._oldIndex===ie-1?oe.deleteToLineNumber++:(oe={type:"deleted",_oldIndex:ie,deleteFromLineNumber:ne,deleteToLineNumber:ne},x.push(oe)),Y--,ie++}else x=[{type:"flush"}];return[new N(Q,Z),x]}modelLineToMinimapLine(D){return Math.min(this.minimapLines.length,Math.max(1,Math.round(D/this.samplingRatio)))}modelLineRangeToMinimapLineRange(D,M){let P=this.modelLineToMinimapLine(D)-1;for(;P>0&&this.minimapLines[P-1]>=D;)P--;let B=this.modelLineToMinimapLine(M)-1;for(;B+1<this.minimapLines.length&&this.minimapLines[B+1]<=M;)B++;if(P===B){const W=this.minimapLines[P];if(W<D||W>M)return null}return[P+1,B+1]}decorationLineRangeToMinimapLineRange(D,M){let P=this.modelLineToMinimapLine(D),B=this.modelLineToMinimapLine(M);return D!==M&&B===P&&(B===this.minimapLines.length?P>1&&P--:B++),[P,B]}onLinesDeleted(D){const M=D.toLineNumber-D.fromLineNumber+1;let P=this.minimapLines.length,B=0;for(let W=this.minimapLines.length-1;W>=0&&!(this.minimapLines[W]<D.fromLineNumber);W--)this.minimapLines[W]<=D.toLineNumber?(this.minimapLines[W]=Math.max(1,D.fromLineNumber-1),P=Math.min(P,W),B=Math.max(B,W)):this.minimapLines[W]-=M;return[P,B]}onLinesInserted(D){const M=D.toLineNumber-D.fromLineNumber+1;for(let P=this.minimapLines.length-1;P>=0&&!(this.minimapLines[P]<D.fromLineNumber);P--)this.minimapLines[P]+=M}}class T extends u.ViewPart{constructor(D){super(D);this.tokensColorTracker=t.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new m(this._context.configuration,this._context.theme,this.tokensColorTracker);const[M]=N.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=M,this._shouldCheckSampling=!1,this._actual=new R(D.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const D=new m(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(D)?!1:(this.options=D,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(D){return this._onOptionsMaybeChanged()}onCursorStateChanged(D){return this._selections=D.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(D){return D.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(D){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(D){if(this._samplingState){const M=this._samplingState.modelLineRangeToMinimapLineRange(D.fromLineNumber,D.fromLineNumber+D.count-1);return M?this._actual.onLinesChanged(M[0],M[1]-M[0]+1):!1}else return this._actual.onLinesChanged(D.fromLineNumber,D.count)}onLinesDeleted(D){if(this._samplingState){const[M,P]=this._samplingState.onLinesDeleted(D);return M<=P&&this._actual.onLinesChanged(M+1,P-M+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(D.fromLineNumber,D.toLineNumber)}onLinesInserted(D){return this._samplingState?(this._samplingState.onLinesInserted(D),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(D.fromLineNumber,D.toLineNumber)}onScrollChanged(D){return this._actual.onScrollChanged()}onThemeChanged(D){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(D){if(this._samplingState){const M=[];for(const P of D.ranges){const B=this._samplingState.modelLineRangeToMinimapLineRange(P.fromLineNumber,P.toLineNumber);B&&M.push({fromLineNumber:B[0],toLineNumber:B[1]})}return M.length?this._actual.onTokensChanged(M):!1}else return this._actual.onTokensChanged(D.ranges)}onTokensColorsChanged(D){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(D){return this._actual.onZonesChanged()}prepareRender(D){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(D){let M=D.visibleRange.startLineNumber,P=D.visibleRange.endLineNumber;this._samplingState&&(M=this._samplingState.modelLineToMinimapLine(M),P=this._samplingState.modelLineToMinimapLine(P));const B={viewportContainsWhitespaceGaps:D.viewportData.whitespaceViewportData.length>0,scrollWidth:D.scrollWidth,scrollHeight:D.scrollHeight,viewportStartLineNumber:M,viewportEndLineNumber:P,viewportStartLineNumberVerticalOffset:D.getVerticalOffsetForLineNumber(M),scrollTop:D.scrollTop,scrollLeft:D.scrollLeft,viewportWidth:D.viewportWidth,viewportHeight:D.viewportHeight};this._actual.render(B)}_recreateLineSampling(){this._minimapSelections=null;const D=Boolean(this._samplingState),[M,P]=N.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=M,D&&this._samplingState)for(const B of P)switch(B.type){case"deleted":this._actual.onLinesDeleted(B.deleteFromLineNumber,B.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(B.insertFromLineNumber,B.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(D){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[D-1]):this._context.viewModel.getLineContent(D)}getLineMaxColumn(D){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[D-1]):this._context.viewModel.getLineMaxColumn(D)}getMinimapLinesRenderingData(D,M,P){if(this._samplingState){const B=[];for(let W=0,V=M-D+1;W<V;W++)P[W]?B[W]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[D+W-1]):B[W]=null;return B}return this._context.viewModel.getMinimapLinesRenderingData(D,M,P).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const D of this._selections){const[M,P]=this._samplingState.decorationLineRangeToMinimapLineRange(D.startLineNumber,D.endLineNumber);this._minimapSelections.push(new a.Selection(M,D.startColumn,P,D.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(D,M){let P;if(this._samplingState){const W=this._samplingState.minimapLines[D-1],V=this._samplingState.minimapLines[M-1];P=new n.Range(W,1,V,this._context.viewModel.getLineMaxColumn(V))}else P=new n.Range(D,1,M,this._context.viewModel.getLineMaxColumn(M));const B=this._context.viewModel.getDecorationsInViewport(P);if(this._samplingState){const W=[];for(const V of B){if(!V.options.minimap)continue;const A=V.range,Q=this._samplingState.modelLineToMinimapLine(A.startLineNumber),J=this._samplingState.modelLineToMinimapLine(A.endLineNumber);W.push(new r.ViewModelDecoration(new n.Range(Q,A.startColumn,J,A.endColumn),V.options))}return W}return B}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(D){this._samplingState&&(D=this._samplingState.minimapLines[D-1]),this._context.viewModel.revealRange("mouse",!1,new n.Range(D,1,D,1),1,0)}setScrollTop(D){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:D},1)}}e.Minimap=T;class R extends I.Disposable{constructor(D,M){super();this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=D,this._model=M,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(l.minimapSelection),this._domNode=(0,C.createFastDomNode)(document.createElement("div")),u.PartFingerprints.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,C.createFastDomNode)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,C.createFastDomNode)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,C.createFastDomNode)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,C.createFastDomNode)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,C.createFastDomNode)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=w.addStandardDisposableListener(this._domNode.domNode,w.EventType.POINTER_DOWN,P=>{if(P.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(P.button===0&&this._lastRenderData){const J=w.getDomNodePagePosition(this._slider.domNode),H=J.top+J.height/2;this._startSliderDragging(P,H,this._lastRenderData.renderedLayout)}return}const W=this._model.options.minimapLineHeight,V=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*P.offsetY;let Q=Math.floor(V/W)+this._lastRenderData.renderedLayout.startLineNumber;Q=Math.min(Q,this._model.getLineCount()),this._model.revealLineNumber(Q)}),this._sliderPointerMoveMonitor=new k.GlobalPointerMoveMonitor,this._sliderPointerDownListener=w.addStandardDisposableListener(this._slider.domNode,w.EventType.POINTER_DOWN,P=>{P.preventDefault(),P.stopPropagation(),P.button===0&&this._lastRenderData&&this._startSliderDragging(P,P.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=s.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=w.addDisposableListener(this._domNode.domNode,s.EventType.Start,P=>{P.preventDefault(),P.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(P))},{passive:!1}),this._sliderTouchMoveListener=w.addDisposableListener(this._domNode.domNode,s.EventType.Change,P=>{P.preventDefault(),P.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(P)},{passive:!1}),this._sliderTouchEndListener=w.addStandardDisposableListener(this._domNode.domNode,s.EventType.End,P=>{P.preventDefault(),P.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(D,M,P){if(!D.target||!(D.target instanceof Element))return;const B=D.pageX;this._slider.toggleClassName("active",!0);const W=(V,A)=>{const Q=Math.abs(A-B);if(L.isWindows&&Q>p){this._model.setScrollTop(P.scrollTop);return}const J=V-M;this._model.setScrollTop(P.getDesiredScrollTopFromDelta(J))};D.pageY!==M&&W(D.pageY,B),this._sliderPointerMoveMonitor.startMonitoring(D.target,D.pointerId,D.buttons,V=>W(V.pageY,V.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(D){const M=this._domNode.domNode.getBoundingClientRect().top,P=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(D.pageY-M);this._model.setScrollTop(P)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const D=["minimap"];return this._model.options.showSlider==="always"?D.push("slider-always"):D.push("slider-mouseover"),this._model.options.autohide&&D.push("autohide"),D.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new E(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(D,M){return this._lastRenderData?this._lastRenderData.onLinesChanged(D,M):!1}onLinesDeleted(D,M){var P;return(P=this._lastRenderData)===null||P===void 0||P.onLinesDeleted(D,M),!0}onLinesInserted(D,M){var P;return(P=this._lastRenderData)===null||P===void 0||P.onLinesInserted(D,M),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(l.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(D){return this._lastRenderData?this._lastRenderData.onTokensChanged(D):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(D){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}D.scrollLeft+D.viewportWidth>=D.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const P=h.create(this._model.options,D.viewportStartLineNumber,D.viewportEndLineNumber,D.viewportStartLineNumberVerticalOffset,D.viewportHeight,D.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),D.scrollTop,D.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(P.sliderNeeded?"block":"none"),this._slider.setTop(P.sliderTop),this._slider.setHeight(P.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(P.sliderHeight),this.renderDecorations(P),this._lastRenderData=this.renderLines(P)}renderDecorations(D){if(this._renderDecorations){this._renderDecorations=!1;const M=this._model.getSelections();M.sort(n.Range.compareRangesUsingStarts);const P=this._model.getMinimapDecorationsInViewport(D.startLineNumber,D.endLineNumber);P.sort((Z,ie)=>(Z.options.zIndex||0)-(ie.options.zIndex||0));const{canvasInnerWidth:B,canvasInnerHeight:W}=this._model.options,V=this._model.options.minimapLineHeight,A=this._model.options.minimapCharWidth,Q=this._model.getOptions().tabSize,J=this._decorationsCanvas.domNode.getContext("2d");J.clearRect(0,0,B,W);const H=new F(D.startLineNumber,D.endLineNumber,!1);this._renderSelectionLineHighlights(J,M,H,D,V),this._renderDecorationsLineHighlights(J,P,H,D,V);const q=new F(D.startLineNumber,D.endLineNumber,null);this._renderSelectionsHighlights(J,M,q,D,V,Q,A,B),this._renderDecorationsHighlights(J,P,q,D,V,Q,A,B)}}_renderSelectionLineHighlights(D,M,P,B,W){if(!this._selectionColor||this._selectionColor.isTransparent())return;D.fillStyle=this._selectionColor.transparent(.5).toString();let V=0,A=0;for(const Q of M){const J=Math.max(B.startLineNumber,Q.startLineNumber),H=Math.min(B.endLineNumber,Q.endLineNumber);if(J>H)continue;for(let ie=J;ie<=H;ie++)P.set(ie,!0);const q=(J-B.startLineNumber)*W,Z=(H-B.startLineNumber)*W+W;A>=q||(A>V&&D.fillRect(g.MINIMAP_GUTTER_WIDTH,V,D.canvas.width,A-V),V=q),A=Z}A>V&&D.fillRect(g.MINIMAP_GUTTER_WIDTH,V,D.canvas.width,A-V)}_renderDecorationsLineHighlights(D,M,P,B,W){const V=new Map;for(let A=M.length-1;A>=0;A--){const Q=M[A],J=Q.options.minimap;if(!J||J.position!==c.MinimapPosition.Inline)continue;const H=Math.max(B.startLineNumber,Q.range.startLineNumber),q=Math.min(B.endLineNumber,Q.range.endLineNumber);if(H>q)continue;const Z=J.getColor(this._theme.value);if(!Z||Z.isTransparent())continue;let ie=V.get(Z.toString());ie||(ie=Z.transparent(.5).toString(),V.set(Z.toString(),ie)),D.fillStyle=ie;for(let Y=H;Y<=q;Y++){if(P.has(Y))continue;P.set(Y,!0);const te=(H-B.startLineNumber)*W;D.fillRect(g.MINIMAP_GUTTER_WIDTH,te,D.canvas.width,W)}}}_renderSelectionsHighlights(D,M,P,B,W,V,A,Q){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const J of M){const H=Math.max(B.startLineNumber,J.startLineNumber),q=Math.min(B.endLineNumber,J.endLineNumber);if(!(H>q))for(let Z=H;Z<=q;Z++)this.renderDecorationOnLine(D,P,J,this._selectionColor,B,Z,W,W,V,A,Q)}}_renderDecorationsHighlights(D,M,P,B,W,V,A,Q){for(const J of M){const H=J.options.minimap;if(!H)continue;const q=Math.max(B.startLineNumber,J.range.startLineNumber),Z=Math.min(B.endLineNumber,J.range.endLineNumber);if(q>Z)continue;const ie=H.getColor(this._theme.value);if(!(!ie||ie.isTransparent()))for(let Y=q;Y<=Z;Y++)switch(H.position){case c.MinimapPosition.Inline:this.renderDecorationOnLine(D,P,J.range,ie,B,Y,W,W,V,A,Q);continue;case c.MinimapPosition.Gutter:{const te=(Y-B.startLineNumber)*W,de=2;this.renderDecoration(D,ie,de,te,_,W);continue}}}}renderDecorationOnLine(D,M,P,B,W,V,A,Q,J,H,q){const Z=(V-W.startLineNumber)*Q;if(Z+A<0||Z>this._model.options.canvasInnerHeight)return;const{startLineNumber:ie,endLineNumber:Y}=P,te=ie===V?P.startColumn:1,de=Y===V?P.endColumn:this._model.getLineMaxColumn(V),x=this.getXOffsetForPosition(M,V,te,J,H,q),oe=this.getXOffsetForPosition(M,V,de,J,H,q);this.renderDecoration(D,B,x,Z,oe-x,A)}getXOffsetForPosition(D,M,P,B,W,V){if(P===1)return g.MINIMAP_GUTTER_WIDTH;if((P-1)*W>=V)return V;let Q=D.get(M);if(!Q){const J=this._model.getLineContent(M);Q=[g.MINIMAP_GUTTER_WIDTH];let H=g.MINIMAP_GUTTER_WIDTH;for(let q=1;q<J.length+1;q++){const Z=J.charCodeAt(q-1),ie=Z===9?B*W:b.isFullWidthCharacter(Z)?2*W:W,Y=H+ie;if(Y>=V){Q[q]=V;break}Q[q]=Y,H=Y}D.set(M,Q)}return P-1<Q.length?Q[P-1]:V}renderDecoration(D,M,P,B,W,V){D.fillStyle=M&&M.toString()||"",D.fillRect(P,B,W,V)}renderLines(D){const M=D.startLineNumber,P=D.endLineNumber,B=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(D)){const Ce=this._lastRenderData._get();return new y(D,Ce.imageData,Ce.lines)}const W=this._getBuffer();if(!W)return null;const[V,A,Q]=R._renderUntouchedLines(W,M,P,B,this._lastRenderData),J=this._model.getMinimapLinesRenderingData(M,P,Q),H=this._model.getOptions().tabSize,q=this._model.options.defaultBackgroundColor,Z=this._model.options.backgroundColor,ie=this._model.options.foregroundAlpha,Y=this._model.tokensColorTracker,te=Y.backgroundIsLight(),de=this._model.options.renderMinimap,x=this._model.options.charRenderer(),oe=this._model.options.fontScale,ne=this._model.options.minimapCharWidth,se=(de===1?2:2+1)*oe,z=B>se?Math.floor((B-se)/2):0,X=Z.a/255,G=new i.RGBA8(Math.round((Z.r-q.r)*X+q.r),Math.round((Z.g-q.g)*X+q.g),Math.round((Z.b-q.b)*X+q.b),255);let U=0;const K=[];for(let Ce=0,we=P-M+1;Ce<we;Ce++)Q[Ce]&&R._renderLine(W,G,Z.a,te,de,ne,Y,ie,x,U,z,H,J[Ce],oe,B),K[Ce]=new S(U),U+=B;const ce=V===-1?0:V,ue=(A===-1?W.height:A)-ce;return this._canvas.domNode.getContext("2d").putImageData(W,0,0,0,ce,W.width,ue),new y(D,W,K)}static _renderUntouchedLines(D,M,P,B,W){const V=[];if(!W){for(let G=0,U=P-M+1;G<U;G++)V[G]=!0;return[-1,-1,V]}const A=W._get(),Q=A.imageData.data,J=A.rendLineNumberStart,H=A.lines,q=H.length,Z=D.width,ie=D.data,Y=(P-M+1)*B*Z*4;let te=-1,de=-1,x=-1,oe=-1,ne=-1,j=-1,se=0;for(let G=M;G<=P;G++){const U=G-M,K=G-J,ce=K>=0&&K<q?H[K].dy:-1;if(ce===-1){V[U]=!0,se+=B;continue}const ee=ce*Z*4,ue=(ce+B)*Z*4,fe=se*Z*4,Ce=(se+B)*Z*4;oe===ee&&j===fe?(oe=ue,j=Ce):(x!==-1&&(ie.set(Q.subarray(x,oe),ne),te===-1&&x===0&&x===ne&&(te=oe),de===-1&&oe===Y&&x===ne&&(de=x)),x=ee,oe=ue,ne=fe,j=Ce),V[U]=!1,se+=B}x!==-1&&(ie.set(Q.subarray(x,oe),ne),te===-1&&x===0&&x===ne&&(te=oe),de===-1&&oe===Y&&x===ne&&(de=x));const z=te===-1?-1:te/(Z*4),X=de===-1?-1:de/(Z*4);return[z,X,V]}static _renderLine(D,M,P,B,W,V,A,Q,J,H,q,Z,ie,Y,te){const de=ie.content,x=ie.tokens,oe=D.width-V,ne=te===1;let j=g.MINIMAP_GUTTER_WIDTH,se=0,z=0;for(let X=0,G=x.getCount();X<G;X++){const U=x.getEndOffset(X),K=x.getForeground(X),ce=A.getColor(K);for(;se<U;se++){if(j>oe)return;const ee=de.charCodeAt(se);if(ee===9){const ue=Z-(se+z)%Z;z+=ue-1,j+=ue*V}else if(ee===32)j+=V;else{const ue=b.isFullWidthCharacter(ee)?2:1;for(let fe=0;fe<ue;fe++)if(W===2?J.blockRenderChar(D,j,H+q,ce,Q,M,P,ne):J.renderChar(D,j,H+q,ee,ce,Q,M,P,Y,B,ne),j+=V,j>oe)return}}}}}class F{constructor(D,M,P){this._startLineNumber=D,this._endLineNumber=M,this._defaultValue=P,this._values=[];for(let B=0,W=this._endLineNumber-this._startLineNumber+1;B<W;B++)this._values[B]=P}has(D){return this.get(D)!==this._defaultValue}set(D,M){D<this._startLineNumber||D>this._endLineNumber||(this._values[D-this._startLineNumber]=M)}get(D){return D<this._startLineNumber||D>this._endLineNumber?this._defaultValue:this._values[D-this._startLineNumber]}}(0,d.registerThemingParticipant)((O,D)=>{const M=O.getColor(l.minimapSliderBackground);M&&D.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${M}; }`);const P=O.getColor(l.minimapSliderHoverBackground);P&&D.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${P}; }`);const B=O.getColor(l.minimapSliderActiveBackground);B&&D.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${B}; }`);const W=O.getColor(l.scrollbarShadow);W&&D.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${W} -6px 0 6px -6px inset; }`)})}),define(re[672],ae([1,0,33,47,25,15,365]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class L extends C.ViewPart{constructor(v){super(v);this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const g=this._context.configuration.options.get(94);this._useShadows=g.useShadows,this._domNode=(0,w.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const v=this._useShadows&&this._scrollTop>0;return this._shouldShow!==v?(this._shouldShow=v,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const u=this._context.configuration.options.get(133);u.minimap.renderMinimap===0||u.minimap.minimapWidth>0&&u.minimap.minimapLeft===0?this._width=u.width:this._width=u.width-u.verticalScrollbarWidth}onConfigurationChanged(v){const g=this._context.configuration.options.get(94);return this._useShadows=g.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(v){return this._scrollTop=v.scrollTop,this._updateShouldShow()}prepareRender(v){}render(v){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=L,(0,I.registerThemingParticipant)((b,v)=>{const u=b.getColor(k.scrollbarShadow);u&&v.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${u} 0 6px 6px -6px inset; }`)})}),define(re[673],ae([1,0,112,25,15,366]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class I{constructor(i){this.left=i.left,this.width=i.width,this.startStyle=null,this.endStyle=null}}class L{constructor(i,t){this.lineNumber=i,this.ranges=t}}function b(n){return new I(n)}function v(n){return new L(n.lineNumber,n.ranges.map(b))}class u extends w.DynamicViewOverlay{constructor(i){super();this._previousFrameVisibleRangesWithStyle=[],this._context=i;const t=this._context.configuration.options;this._lineHeight=t.get(61),this._roundedSelection=t.get(92),this._typicalHalfwidthCharacterWidth=t.get(46).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const t=this._context.configuration.options;return this._lineHeight=t.get(61),this._roundedSelection=t.get(92),this._typicalHalfwidthCharacterWidth=t.get(46).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(i){return this._selections=i.selections.slice(0),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_visibleRangesHaveGaps(i){for(let t=0,r=i.length;t<r;t++)if(i[t].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(i,t,r){const l=this._typicalHalfwidthCharacterWidth/4;let d=null,a=null;if(r&&r.length>0&&t.length>0){const s=t[0].lineNumber;if(s===i.startLineNumber)for(let c=0;!d&&c<r.length;c++)r[c].lineNumber===s&&(d=r[c].ranges[0]);const o=t[t.length-1].lineNumber;if(o===i.endLineNumber)for(let c=r.length-1;!a&&c>=0;c--)r[c].lineNumber===o&&(a=r[c].ranges[0]);d&&!d.startStyle&&(d=null),a&&!a.startStyle&&(a=null)}for(let s=0,o=t.length;s<o;s++){const c=t[s].ranges[0],f=c.left,p=c.left+c.width,_={top:0,bottom:0},m={top:0,bottom:0};if(s>0){const h=t[s-1].ranges[0].left,S=t[s-1].ranges[0].left+t[s-1].ranges[0].width;g(f-h)<l?_.top=2:f>h&&(_.top=1),g(p-S)<l?m.top=2:h<p&&p<S&&(m.top=1)}else d&&(_.top=d.startStyle.top,m.top=d.endStyle.top);if(s+1<o){const h=t[s+1].ranges[0].left,S=t[s+1].ranges[0].left+t[s+1].ranges[0].width;g(f-h)<l?_.bottom=2:h<f&&f<S&&(_.bottom=1),g(p-S)<l?m.bottom=2:p<S&&(m.bottom=1)}else a&&(_.bottom=a.startStyle.bottom,m.bottom=a.endStyle.bottom);c.startStyle=_,c.endStyle=m}}_getVisibleRangesWithStyle(i,t,r){const d=(t.linesVisibleRangesForRange(i,!0)||[]).map(v);return!this._visibleRangesHaveGaps(d)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,d,r),d}_createSelectionPiece(i,t,r,l,d){return'<div class="cslr '+r+'" style="top:'+i.toString()+"px;left:"+l.toString()+"px;width:"+d.toString()+"px;height:"+t+'px;"></div>'}_actualRenderOneSelection(i,t,r,l){if(l.length===0)return;const d=!!l[0].ranges[0].startStyle,a=this._lineHeight.toString(),s=(this._lineHeight-1).toString(),o=l[0].lineNumber,c=l[l.length-1].lineNumber;for(let f=0,p=l.length;f<p;f++){const _=l[f],m=_.lineNumber,h=m-t,S=r&&(m===c||m===o)?s:a,y=r&&m===o?1:0;let E="",N="";for(let T=0,R=_.ranges.length;T<R;T++){const F=_.ranges[T];if(d){const D=F.startStyle,M=F.endStyle;if(D.top===1||D.bottom===1){E+=this._createSelectionPiece(y,S,u.SELECTION_CLASS_NAME,F.left-u.ROUNDED_PIECE_WIDTH,u.ROUNDED_PIECE_WIDTH);let P=u.EDITOR_BACKGROUND_CLASS_NAME;D.top===1&&(P+=" "+u.SELECTION_TOP_RIGHT),D.bottom===1&&(P+=" "+u.SELECTION_BOTTOM_RIGHT),E+=this._createSelectionPiece(y,S,P,F.left-u.ROUNDED_PIECE_WIDTH,u.ROUNDED_PIECE_WIDTH)}if(M.top===1||M.bottom===1){E+=this._createSelectionPiece(y,S,u.SELECTION_CLASS_NAME,F.left+F.width,u.ROUNDED_PIECE_WIDTH);let P=u.EDITOR_BACKGROUND_CLASS_NAME;M.top===1&&(P+=" "+u.SELECTION_TOP_LEFT),M.bottom===1&&(P+=" "+u.SELECTION_BOTTOM_LEFT),E+=this._createSelectionPiece(y,S,P,F.left+F.width,u.ROUNDED_PIECE_WIDTH)}}let O=u.SELECTION_CLASS_NAME;if(d){const D=F.startStyle,M=F.endStyle;D.top===0&&(O+=" "+u.SELECTION_TOP_LEFT),D.bottom===0&&(O+=" "+u.SELECTION_BOTTOM_LEFT),M.top===0&&(O+=" "+u.SELECTION_TOP_RIGHT),M.bottom===0&&(O+=" "+u.SELECTION_BOTTOM_RIGHT)}N+=this._createSelectionPiece(y,S,O,F.left,F.width)}i[h][0]+=E,i[h][1]+=N}}prepareRender(i){const t=[],r=i.visibleRange.startLineNumber,l=i.visibleRange.endLineNumber;for(let a=r;a<=l;a++){const s=a-r;t[s]=["",""]}const d=[];for(let a=0,s=this._selections.length;a<s;a++){const o=this._selections[a];if(o.isEmpty()){d[a]=null;continue}const c=this._getVisibleRangesWithStyle(o,i,this._previousFrameVisibleRangesWithStyle[a]);d[a]=c,this._actualRenderOneSelection(t,r,this._selections.length>1,c)}this._previousFrameVisibleRangesWithStyle=d,this._renderResult=t.map(([a,s])=>a+s)}render(i,t){if(!this._renderResult)return"";const r=t-i;return r<0||r>=this._renderResult.length?"":this._renderResult[r]}}e.SelectionsOverlay=u,u.SELECTION_CLASS_NAME="selected-text",u.SELECTION_TOP_LEFT="top-left-radius",u.SELECTION_BOTTOM_LEFT="bottom-left-radius",u.SELECTION_TOP_RIGHT="top-right-radius",u.SELECTION_BOTTOM_RIGHT="bottom-right-radius",u.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",u.ROUNDED_PIECE_WIDTH=10,(0,k.registerThemingParticipant)((n,i)=>{const t=n.getColor(C.editorSelectionBackground);t&&i.addRule(`.monaco-editor .focused .selected-text { background-color: ${t}; }`);const r=n.getColor(C.editorInactiveSelection);r&&i.addRule(`.monaco-editor .selected-text { background-color: ${r}; }`);const l=n.getColor(C.editorSelectionForeground);l&&!l.isTransparent()&&i.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${l}; }`)});function g(n){return n<0?-n:n}}),define(re[54],ae([1,0,533,31,25,15,56]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorUnicodeHighlightBackground=e.editorUnicodeHighlightBorder=e.editorBracketPairGuideActiveBackground6=e.editorBracketPairGuideActiveBackground5=e.editorBracketPairGuideActiveBackground4=e.editorBracketPairGuideActiveBackground3=e.editorBracketPairGuideActiveBackground2=e.editorBracketPairGuideActiveBackground1=e.editorBracketPairGuideBackground6=e.editorBracketPairGuideBackground5=e.editorBracketPairGuideBackground4=e.editorBracketPairGuideBackground3=e.editorBracketPairGuideBackground2=e.editorBracketPairGuideBackground1=e.editorBracketHighlightingUnexpectedBracketForeground=e.editorBracketHighlightingForeground6=e.editorBracketHighlightingForeground5=e.editorBracketHighlightingForeground4=e.editorBracketHighlightingForeground3=e.editorBracketHighlightingForeground2=e.editorBracketHighlightingForeground1=e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.ghostTextBackground=e.ghostTextForeground=e.ghostTextBorder=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorActiveLineNumber=e.editorLineNumbers=e.editorActiveIndentGuides=e.editorIndentGuides=e.editorWhitespaces=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=(0,k.registerColor)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(0,null)),e.editorLineHighlightBorder=(0,k.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:k.contrastBorder},w.localize(1,null)),e.editorRangeHighlight=(0,k.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},w.localize(2,null),!0),e.editorRangeHighlightBorder=(0,k.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:k.activeContrastBorder,hcLight:k.activeContrastBorder},w.localize(3,null),!0),e.editorSymbolHighlight=(0,k.registerColor)("editor.symbolHighlightBackground",{dark:k.editorFindMatchHighlight,light:k.editorFindMatchHighlight,hcDark:null,hcLight:null},w.localize(4,null),!0),e.editorSymbolHighlightBorder=(0,k.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:k.activeContrastBorder,hcLight:k.activeContrastBorder},w.localize(5,null),!0),e.editorCursorForeground=(0,k.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:C.Color.black,hcDark:C.Color.white,hcLight:"#0F4A85"},w.localize(6,null)),e.editorCursorBackground=(0,k.registerColor)("editorCursor.background",null,w.localize(7,null)),e.editorWhitespaces=(0,k.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},w.localize(8,null)),e.editorIndentGuides=(0,k.registerColor)("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},w.localize(9,null)),e.editorActiveIndentGuides=(0,k.registerColor)("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},w.localize(10,null)),e.editorLineNumbers=(0,k.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:C.Color.white,hcLight:"#292929"},w.localize(11,null));const b=(0,k.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:k.activeContrastBorder,hcLight:k.activeContrastBorder},w.localize(12,null),!1,w.localize(13,null));e.editorActiveLineNumber=(0,k.registerColor)("editorLineNumber.activeForeground",{dark:b,light:b,hcDark:b,hcLight:b},w.localize(14,null)),e.editorRuler=(0,k.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:C.Color.lightgrey,hcDark:C.Color.white,hcLight:"#292929"},w.localize(15,null)),e.editorCodeLensForeground=(0,k.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},w.localize(16,null)),e.editorBracketMatchBackground=(0,k.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},w.localize(17,null)),e.editorBracketMatchBorder=(0,k.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:k.contrastBorder,hcLight:k.contrastBorder},w.localize(18,null)),e.editorOverviewRulerBorder=(0,k.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},w.localize(19,null)),e.editorOverviewRulerBackground=(0,k.registerColor)("editorOverviewRuler.background",null,w.localize(20,null)),e.editorGutter=(0,k.registerColor)("editorGutter.background",{dark:k.editorBackground,light:k.editorBackground,hcDark:k.editorBackground,hcLight:k.editorBackground},w.localize(21,null)),e.editorUnnecessaryCodeBorder=(0,k.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:C.Color.fromHex("#fff").transparent(.8),hcLight:k.contrastBorder},w.localize(22,null)),e.editorUnnecessaryCodeOpacity=(0,k.registerColor)("editorUnnecessaryCode.opacity",{dark:C.Color.fromHex("#000a"),light:C.Color.fromHex("#0007"),hcDark:null,hcLight:null},w.localize(23,null)),e.ghostTextBorder=(0,k.registerColor)("editorGhostText.border",{dark:null,light:null,hcDark:C.Color.fromHex("#fff").transparent(.8),hcLight:C.Color.fromHex("#292929").transparent(.8)},w.localize(24,null)),e.ghostTextForeground=(0,k.registerColor)("editorGhostText.foreground",{dark:C.Color.fromHex("#ffffff56"),light:C.Color.fromHex("#0007"),hcDark:null,hcLight:null},w.localize(25,null)),e.ghostTextBackground=(0,k.registerColor)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},w.localize(26,null));const v=new C.Color(new C.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=(0,k.registerColor)("editorOverviewRuler.rangeHighlightForeground",{dark:v,light:v,hcDark:v,hcLight:v},w.localize(27,null),!0),e.overviewRulerError=(0,k.registerColor)("editorOverviewRuler.errorForeground",{dark:new C.Color(new C.RGBA(255,18,18,.7)),light:new C.Color(new C.RGBA(255,18,18,.7)),hcDark:new C.Color(new C.RGBA(255,50,50,1)),hcLight:"#B5200D"},w.localize(28,null)),e.overviewRulerWarning=(0,k.registerColor)("editorOverviewRuler.warningForeground",{dark:k.editorWarningForeground,light:k.editorWarningForeground,hcDark:k.editorWarningBorder,hcLight:k.editorWarningBorder},w.localize(29,null)),e.overviewRulerInfo=(0,k.registerColor)("editorOverviewRuler.infoForeground",{dark:k.editorInfoForeground,light:k.editorInfoForeground,hcDark:k.editorInfoBorder,hcLight:k.editorInfoBorder},w.localize(30,null)),e.editorBracketHighlightingForeground1=(0,k.registerColor)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},w.localize(31,null)),e.editorBracketHighlightingForeground2=(0,k.registerColor)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},w.localize(32,null)),e.editorBracketHighlightingForeground3=(0,k.registerColor)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},w.localize(33,null)),e.editorBracketHighlightingForeground4=(0,k.registerColor)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(34,null)),e.editorBracketHighlightingForeground5=(0,k.registerColor)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(35,null)),e.editorBracketHighlightingForeground6=(0,k.registerColor)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(36,null)),e.editorBracketHighlightingUnexpectedBracketForeground=(0,k.registerColor)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new C.Color(new C.RGBA(255,18,18,.8)),light:new C.Color(new C.RGBA(255,18,18,.8)),hcDark:new C.Color(new C.RGBA(255,50,50,1)),hcLight:""},w.localize(37,null)),e.editorBracketPairGuideBackground1=(0,k.registerColor)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(38,null)),e.editorBracketPairGuideBackground2=(0,k.registerColor)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(39,null)),e.editorBracketPairGuideBackground3=(0,k.registerColor)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(40,null)),e.editorBracketPairGuideBackground4=(0,k.registerColor)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(41,null)),e.editorBracketPairGuideBackground5=(0,k.registerColor)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(42,null)),e.editorBracketPairGuideBackground6=(0,k.registerColor)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(43,null)),e.editorBracketPairGuideActiveBackground1=(0,k.registerColor)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(44,null)),e.editorBracketPairGuideActiveBackground2=(0,k.registerColor)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(45,null)),e.editorBracketPairGuideActiveBackground3=(0,k.registerColor)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(46,null)),e.editorBracketPairGuideActiveBackground4=(0,k.registerColor)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(47,null)),e.editorBracketPairGuideActiveBackground5=(0,k.registerColor)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(48,null)),e.editorBracketPairGuideActiveBackground6=(0,k.registerColor)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.localize(49,null)),e.editorUnicodeHighlightBorder=(0,k.registerColor)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:""},w.localize(50,null)),e.editorUnicodeHighlightBackground=(0,k.registerColor)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:""},w.localize(51,null)),(0,I.registerThemingParticipant)((u,g)=>{const n=u.getColor(k.editorBackground);n&&g.addRule(`.monaco-editor, .monaco-editor-background { background-color: ${n}; }`);const i=u.getColor(e.editorLineHighlight),t=i&&!i.isTransparent()?i:n;t&&g.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${t}; }`);const r=u.getColor(k.editorForeground);r&&g.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${r}; }`);const l=u.getColor(e.editorGutter);l&&g.addRule(`.monaco-editor .margin { background-color: ${l}; }`);const d=u.getColor(e.editorRangeHighlight);d&&g.addRule(`.monaco-editor .rangeHighlight { background-color: ${d}; }`);const a=u.getColor(e.editorRangeHighlightBorder);a&&g.addRule(`.monaco-editor .rangeHighlight { border: 1px ${(0,L.isHighContrast)(u.type)?"dotted":"solid"} ${a}; }`);const s=u.getColor(e.editorSymbolHighlight);s&&g.addRule(`.monaco-editor .symbolHighlight { background-color: ${s}; }`);const o=u.getColor(e.editorSymbolHighlightBorder);o&&g.addRule(`.monaco-editor .symbolHighlight { border: 1px ${(0,L.isHighContrast)(u.type)?"dotted":"solid"} ${o}; }`);const c=u.getColor(e.editorWhitespaces);c&&(g.addRule(`.monaco-editor .mtkw { color: ${c} !important; }`),g.addRule(`.monaco-editor .mtkz { color: ${c} !important; }`))})}),define(re[674],ae([1,0,112,54,18,15,23,56,354]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;class v extends w.DynamicViewOverlay{constructor(i){super();this._context=i;const t=this._context.configuration.options,r=t.get(133);this._lineHeight=t.get(61),this._renderLineHighlight=t.get(87),this._renderLineHighlightOnlyWhenFocus=t.get(88),this._contentLeft=r.contentLeft,this._contentWidth=r.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new L.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let i=!1;const t=this._selections.map(l=>l.positionLineNumber);t.sort((l,d)=>l-d),k.equals(this._cursorLineNumbers,t)||(this._cursorLineNumbers=t,i=!0);const r=this._selections.every(l=>l.isEmpty());return this._selectionIsEmpty!==r&&(this._selectionIsEmpty=r,i=!0),i}onThemeChanged(i){return this._readFromSelections()}onConfigurationChanged(i){const t=this._context.configuration.options,r=t.get(133);return this._lineHeight=t.get(61),this._renderLineHighlight=t.get(87),this._renderLineHighlightOnlyWhenFocus=t.get(88),this._contentLeft=r.contentLeft,this._contentWidth=r.contentWidth,!0}onCursorStateChanged(i){return this._selections=i.selections,this._readFromSelections()}onFlushed(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollWidthChanged||i.scrollTopChanged}onZonesChanged(i){return!0}onFocusChanged(i){return this._renderLineHighlightOnlyWhenFocus?(this._focused=i.isFocused,!0):!1}prepareRender(i){if(!this._shouldRenderThis()){this._renderData=null;return}const t=this._renderOne(i),r=i.visibleRange.startLineNumber,l=i.visibleRange.endLineNumber,d=this._cursorLineNumbers.length;let a=0;const s=[];for(let o=r;o<=l;o++){const c=o-r;for(;a<d&&this._cursorLineNumbers[a]<o;)a++;a<d&&this._cursorLineNumbers[a]===o?s[c]=t:s[c]=""}this._renderData=s}render(i,t){if(!this._renderData)return"";const r=t-i;return r>=this._renderData.length?"":this._renderData[r]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.AbstractLineHighlightOverlay=v;class u extends v{_renderOne(i){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(i.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}e.CurrentLineHighlightOverlay=u;class g extends v{_renderOne(i){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}e.CurrentLineMarginHighlightOverlay=g,(0,I.registerThemingParticipant)((n,i)=>{const t=n.getColor(C.editorLineHighlight);if(t&&(i.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${t}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${t}; border: none; }`)),!t||t.isTransparent()||n.defines(C.editorLineHighlightBorder)){const r=n.getColor(C.editorLineHighlightBorder);r&&(i.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${r}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${r}; }`),(0,b.isHighContrast)(n.type)&&(i.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),i.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}})}),define(re[675],ae([1,0,112,54,15,11,18,19,243,185,357]),function($,e,w,C,k,I,L,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class g extends w.DynamicViewOverlay{constructor(t){super();this._context=t,this._primaryPosition=null;const r=this._context.configuration.options,l=r.get(134),d=r.get(46);this._lineHeight=r.get(61),this._spaceWidth=d.spaceWidth,this._maxIndentLeft=l.wrappingColumn===-1?-1:l.wrappingColumn*d.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=r.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const r=this._context.configuration.options,l=r.get(134),d=r.get(46);return this._lineHeight=r.get(61),this._spaceWidth=d.spaceWidth,this._maxIndentLeft=l.wrappingColumn===-1?-1:l.wrappingColumn*d.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=r.get(13),!0}onCursorStateChanged(t){var r;const d=t.selections[0].getPosition();return((r=this._primaryPosition)===null||r===void 0?void 0:r.equals(d))?!1:(this._primaryPosition=d,!0)}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}onLanguageConfigurationChanged(t){return!0}prepareRender(t){var r,l,d,a;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const s=t.visibleRange.startLineNumber,o=t.visibleRange.endLineNumber,c=t.scrollWidth,f=this._lineHeight,p=this._primaryPosition,_=this.getGuidesByLine(s,o,p),m=[];for(let h=s;h<=o;h++){const S=h-s,y=_[S];let E="";const N=(l=(r=t.visibleRangeForPosition(new I.Position(h,1)))===null||r===void 0?void 0:r.left)!==null&&l!==void 0?l:0;for(const T of y){const R=T.column===-1?N+(T.visibleColumn-1)*this._spaceWidth:t.visibleRangeForPosition(new I.Position(h,T.column)).left;if(R>c||this._maxIndentLeft>0&&R>this._maxIndentLeft)break;const F=T.horizontalLine?T.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",O=T.horizontalLine?((a=(d=t.visibleRangeForPosition(new I.Position(h,T.horizontalLine.endColumn)))===null||d===void 0?void 0:d.left)!==null&&a!==void 0?a:R+this._spaceWidth)-R:this._spaceWidth;E+=`<div class="core-guide ${T.className} ${F}" style="left:${R}px;height:${f}px;width:${O}px"></div>`}m[S]=E}this._renderResult=m}getGuidesByLine(t,r,l){const d=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(t,r,l,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?u.HorizontalGuidesState.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?u.HorizontalGuidesState.EnabledForActive:u.HorizontalGuidesState.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,a=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(t,r):null;let s=0,o=0,c=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&l){const _=this._context.viewModel.getActiveIndentGuide(l.lineNumber,t,r);s=_.startLineNumber,o=_.endLineNumber,c=_.indent}const{indentSize:f}=this._context.viewModel.model.getOptions(),p=[];for(let _=t;_<=r;_++){const m=new Array;p.push(m);const h=d?d[_-t]:[],S=new L.ArrayQueue(h),y=a?a[_-t]:[];for(let E=1;E<=y;E++){const N=(E-1)*f+1,T=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||h.length===0)&&s<=_&&_<=o&&E===c;m.push(...S.takeWhile(F=>F.visibleColumn<N)||[]);const R=S.peek();(!R||R.visibleColumn!==N||R.horizontalLine)&&m.push(new u.IndentGuide(N,-1,T?"core-guide-indent-active":"core-guide-indent",null,-1,-1))}m.push(...S.takeWhile(E=>!0)||[])}return p}render(t,r){if(!this._renderResult)return"";const l=r-t;return l<0||l>=this._renderResult.length?"":this._renderResult[l]}}e.IndentGuidesOverlay=g;function n(i){if(!(i&&i.isTransparent()))return i}(0,k.registerThemingParticipant)((i,t)=>{const r=i.getColor(C.editorIndentGuides);r&&t.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${r} inset; }`);const l=i.getColor(C.editorActiveIndentGuides)||r;l&&t.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${l} inset; }`);const d=[{bracketColor:C.editorBracketHighlightingForeground1,guideColor:C.editorBracketPairGuideBackground1,guideColorActive:C.editorBracketPairGuideActiveBackground1},{bracketColor:C.editorBracketHighlightingForeground2,guideColor:C.editorBracketPairGuideBackground2,guideColorActive:C.editorBracketPairGuideActiveBackground2},{bracketColor:C.editorBracketHighlightingForeground3,guideColor:C.editorBracketPairGuideBackground3,guideColorActive:C.editorBracketPairGuideActiveBackground3},{bracketColor:C.editorBracketHighlightingForeground4,guideColor:C.editorBracketPairGuideBackground4,guideColorActive:C.editorBracketPairGuideActiveBackground4},{bracketColor:C.editorBracketHighlightingForeground5,guideColor:C.editorBracketPairGuideBackground5,guideColorActive:C.editorBracketPairGuideActiveBackground5},{bracketColor:C.editorBracketHighlightingForeground6,guideColor:C.editorBracketPairGuideBackground6,guideColorActive:C.editorBracketPairGuideActiveBackground6}],a=new v.BracketPairGuidesClassNames,s=d.map(o=>{var c,f;const p=i.getColor(o.bracketColor),_=i.getColor(o.guideColor),m=i.getColor(o.guideColorActive),h=n((c=n(_))!==null&&c!==void 0?c:p==null?void 0:p.transparent(.3)),S=n((f=n(m))!==null&&f!==void 0?f:p);if(!(!h||!S))return{guideColor:h,guideColorActive:S}}).filter(b.isDefined);if(s.length>0){for(let o=0;o<30;o++){const c=s[o%s.length];t.addRule(`.monaco-editor .${a.getInlineClassNameOfLevel(o).replace(/ /g,".")} { --guide-color: ${c.guideColor}; --guide-color-active: ${c.guideColorActive}; }`)}t.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),t.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),t.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),t.addRule(`.monaco-editor .vertical.${a.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),t.addRule(`.monaco-editor .horizontal-top.${a.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),t.addRule(`.monaco-editor .horizontal-bottom.${a.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}})}),define(re[297],ae([1,0,17,112,11,54,15,358]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class b extends C.DynamicViewOverlay{constructor(u){super();this._context=u,this._readConfig(),this._lastCursorModelPosition=new k.Position(1,1),this._lastCursorViewPosition=new k.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const u=this._context.configuration.options;this._lineHeight=u.get(61);const g=u.get(62);this._renderLineNumbers=g.renderType,this._renderCustomLineNumbers=g.renderFn,this._renderFinalNewline=u.get(86);const n=u.get(133);this._lineNumbersLeft=n.lineNumbersLeft,this._lineNumbersWidth=n.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(u){return this._readConfig(),!0}onCursorStateChanged(u){const g=u.selections[0].getPosition();this._lastCursorViewPosition=g,this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(g);let n=!1;return this._activeLineNumber!==g.lineNumber&&(this._activeLineNumber=g.lineNumber,n=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(n=!0),n}onFlushed(u){return!0}onLinesChanged(u){return!0}onLinesDeleted(u){return!0}onLinesInserted(u){return!0}onScrollChanged(u){return u.scrollTopChanged}onZonesChanged(u){return!0}_getLineRenderLineNumber(u){const g=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new k.Position(u,1));if(g.column!==1)return"";const n=g.lineNumber;return this._renderCustomLineNumbers?this._renderCustomLineNumbers(n):this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===n||n%10==0?String(n):"":String(n)}prepareRender(u){if(this._renderLineNumbers===0){this._renderResult=null;return}const g=w.isLinux?this._lineHeight%2==0?" lh-even":" lh-odd":"",n=u.visibleRange.startLineNumber,i=u.visibleRange.endLineNumber,t='<div class="'+b.CLASS_NAME+g+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">';let r=null;if(this._renderLineNumbers===2){r=new Array(i-n+1),this._lastCursorViewPosition.lineNumber>=n&&this._lastCursorViewPosition.lineNumber<=i&&(r[this._lastCursorViewPosition.lineNumber-n]=this._lastCursorModelPosition.lineNumber);{let a=0;for(let s=this._lastCursorViewPosition.lineNumber+1;s<=i;s++){const c=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new k.Position(s,1)).column!==1;c||a++,s>=n&&(r[s-n]=c?0:a)}}{let a=0;for(let s=this._lastCursorViewPosition.lineNumber-1;s>=n;s--){const c=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new k.Position(s,1)).column!==1;c||a++,s<=i&&(r[s-n]=c?0:a)}}}const l=this._context.viewModel.getLineCount(),d=[];for(let a=n;a<=i;a++){const s=a-n;if(!this._renderFinalNewline&&a===l&&this._context.viewModel.getLineLength(a)===0){d[s]="";continue}let o;if(r){const c=r[s];this._lastCursorViewPosition.lineNumber===a?o=`<span class="relative-current-line-number">${c}</span>`:c?o=String(c):o=""}else o=this._getLineRenderLineNumber(a);o?a===this._activeLineNumber?d[s]='<div class="active-line-number '+b.CLASS_NAME+g+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+o+"</div>":d[s]=t+o+"</div>":d[s]=""}this._renderResult=d}render(u,g){if(!this._renderResult)return"";const n=g-u;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}e.LineNumbersOverlay=b,b.CLASS_NAME="line-numbers",(0,L.registerThemingParticipant)((v,u)=>{const g=v.getColor(I.editorLineNumbers);g&&u.addRule(`.monaco-editor .line-numbers { color: ${g}; }`);const n=v.getColor(I.editorActiveLineNumber);n&&u.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${n}; }`)})}),define(re[676],ae([1,0,522,41,33,17,8,65,201,231,47,297,244,36,127,11,3,23,150,28,31,352]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class f{constructor(S,y,E,N,T){this._context=S,this.modelLineNumber=y,this.distanceToModelLineStart=E,this.widthOfHiddenLineTextBefore=N,this.distanceToModelLineEnd=T,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(S){const y=new l.Position(this.modelLineNumber,this.distanceToModelLineStart+1),E=new l.Position(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(y),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(E),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=S.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=S.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(S){return this._previousPresentation||(S?this._previousPresentation=S:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const p=C.isFirefox;class _ extends g.ViewPart{constructor(S,y,E){super(S);this._primaryCursorPosition=new l.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=y,this._visibleRangeProvider=E,this._scrollLeft=0,this._scrollTop=0;const N=this._context.configuration.options,T=N.get(133);this._setAccessibilityOptions(N),this._contentLeft=T.contentLeft,this._contentWidth=T.contentWidth,this._contentHeight=T.height,this._fontInfo=N.get(46),this._lineHeight=N.get(61),this._emptySelectionClipboard=N.get(33),this._copyWithSyntaxHighlighting=N.get(21),this._visibleTextArea=null,this._selections=[new a.Selection(1,1,1,1)],this._modelSelections=[new a.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,k.createFastDomNode)(document.createElement("textarea")),g.PartFingerprints.write(this.textArea,6),this.textArea.setClassName(`inputarea ${s.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(N)),this.textArea.setAttribute("tabindex",String(N.get(114))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",w.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),N.get(30)&&N.get(83)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,k.createFastDomNode)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const R={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:D=>this._context.viewModel.getLineMaxColumn(D),getValueInRange:(D,M)=>this._context.viewModel.getValueInRange(D,M)},F={getDataToCopy:()=>{const D=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,I.isWindows),M=this._context.viewModel.model.getEOL(),P=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),B=Array.isArray(D)?D:null,W=Array.isArray(D)?D.join(M):D;let V,A=null;if(v.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&W.length<65536){const Q=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);Q&&(V=Q.html,A=Q.mode)}return{isFromEmptySelection:P,multicursorText:B,text:W,html:V,mode:A}},getScreenReaderContent:D=>{if(this._accessibilitySupport===1){const M=this._selections[0];if(I.isMacintosh&&M.isEmpty()){const P=M.getStartPosition();let B=this._getWordBeforePosition(P);if(B.length===0&&(B=this._getCharacterBeforePosition(P)),B.length>0)return new u.TextAreaState(B,B.length,B.length,P,P)}if(C.isSafari&&!M.isEmpty()){const P="vscode-placeholder";return new u.TextAreaState(P,0,P.length,null,null)}return u.TextAreaState.EMPTY}if(C.isAndroid){const M=this._selections[0];if(M.isEmpty()){const P=M.getStartPosition(),[B,W]=this._getAndroidWordAtPosition(P);if(B.length>0)return new u.TextAreaState(B,W,W,P,P)}return u.TextAreaState.EMPTY}return u.PagedScreenReaderStrategy.fromEditorSelection(D,R,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(D,M,P)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(D,M,P)},O=this._register(new v.TextAreaWrapper(this.textArea.domNode));this._textAreaInput=this._register(new v.TextAreaInput(F,O,I.OS,C)),this._register(this._textAreaInput.onKeyDown(D=>{this._viewController.emitKeyDown(D)})),this._register(this._textAreaInput.onKeyUp(D=>{this._viewController.emitKeyUp(D)})),this._register(this._textAreaInput.onPaste(D=>{let M=!1,P=null,B=null;D.metadata&&(M=this._emptySelectionClipboard&&!!D.metadata.isFromEmptySelection,P=typeof D.metadata.multicursorText!="undefined"?D.metadata.multicursorText:null,B=D.metadata.mode),this._viewController.paste(D.text,M,P,B)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(D=>{D.replacePrevCharCnt||D.replaceNextCharCnt||D.positionDelta?(u._debugComposition&&console.log(` => compositionType: <<${D.text}>>, ${D.replacePrevCharCnt}, ${D.replaceNextCharCnt}, ${D.positionDelta}`),this._viewController.compositionType(D.text,D.replacePrevCharCnt,D.replaceNextCharCnt,D.positionDelta)):(u._debugComposition&&console.log(` => type: <<${D.text}>>`),this._viewController.type(D.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(D=>{this._viewController.setSelection(D)})),this._register(this._textAreaInput.onCompositionStart(D=>{const M=this.textArea.domNode,P=this._modelSelections[0],{distanceToModelLineStart:B,widthOfHiddenTextBefore:W}=(()=>{const A=M.value.substring(0,Math.min(M.selectionStart,M.selectionEnd)),Q=A.lastIndexOf(`
`),J=A.substring(Q+1),H=J.lastIndexOf("	"),q=J.length-H-1,Z=P.getStartPosition(),ie=Math.min(Z.column-1,q),Y=Z.column-1-ie,te=J.substring(0,J.length-ie),de=m(te,this._fontInfo);return{distanceToModelLineStart:Y,widthOfHiddenTextBefore:de}})(),{distanceToModelLineEnd:V}=(()=>{const A=M.value.substring(Math.max(M.selectionStart,M.selectionEnd)),Q=A.indexOf(`
`),J=Q===-1?A:A.substring(0,Q),H=J.indexOf("	"),q=H===-1?J.length:J.length-H-1,Z=P.getEndPosition(),ie=Math.min(this._context.viewModel.model.getLineMaxColumn(Z.lineNumber)-Z.column,q);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(Z.lineNumber)-Z.column-ie}})();this._context.viewModel.revealRange("keyboard",!0,d.Range.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new f(this._context,P.startLineNumber,B,W,V),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${s.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(D=>{!this._visibleTextArea||(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${s.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(S){const y='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',E=this._context.viewModel.getLineContent(S.lineNumber),N=(0,r.getMapForWordSeparators)(y);let T=!0,R=S.column,F=!0,O=S.column,D=0;for(;D<50&&(T||F);){if(T&&R<=1&&(T=!1),T){const M=E.charCodeAt(R-2);N.get(M)!==0?T=!1:R--}if(F&&O>E.length&&(F=!1),F){const M=E.charCodeAt(O-1);N.get(M)!==0?F=!1:O++}D++}return[E.substring(R-1,O-1),S.column-R]}_getWordBeforePosition(S){const y=this._context.viewModel.getLineContent(S.lineNumber),E=(0,r.getMapForWordSeparators)(this._context.configuration.options.get(119));let N=S.column,T=0;for(;N>1;){const R=y.charCodeAt(N-2);if(E.get(R)!==0||T>50)return y.substring(N-1,S.column-1);T++,N--}return y.substring(0,S.column-1)}_getCharacterBeforePosition(S){if(S.column>1){const E=this._context.viewModel.getLineContent(S.lineNumber).charAt(S.column-2);if(!L.isHighSurrogate(E.charCodeAt(0)))return E}return""}_getAriaLabel(S){return S.get(2)===1?w.localize(1,null,I.isLinux?"Shift+Alt+F1":"Alt+F1"):S.get(4)}_setAccessibilityOptions(S){this._accessibilitySupport=S.get(2);const y=S.get(3);this._accessibilitySupport===2&&y===t.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=y}onConfigurationChanged(S){const y=this._context.configuration.options,E=y.get(133);return this._setAccessibilityOptions(y),this._contentLeft=E.contentLeft,this._contentWidth=E.contentWidth,this._contentHeight=E.height,this._fontInfo=y.get(46),this._lineHeight=y.get(61),this._emptySelectionClipboard=y.get(33),this._copyWithSyntaxHighlighting=y.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(y)),this.textArea.setAttribute("tabindex",String(y.get(114))),(S.hasChanged(30)||S.hasChanged(83))&&(y.get(30)&&y.get(83)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),S.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(S){return this._selections=S.selections.slice(0),this._modelSelections=S.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(S){return!0}onFlushed(S){return!0}onLinesChanged(S){return!0}onLinesDeleted(S){return!0}onLinesInserted(S){return!0}onScrollChanged(S){return this._scrollLeft=S.scrollLeft,this._scrollTop=S.scrollTop,!0}onZonesChanged(S){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(S){S.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",S.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),S.role&&this.textArea.setAttribute("role",S.role)}prepareRender(S){var y;this._primaryCursorPosition=new l.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=S.visibleRangeForPosition(this._primaryCursorPosition),(y=this._visibleTextArea)===null||y===void 0||y.prepareRender(S)}render(S){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){const E=this._visibleTextArea.visibleTextareaStart,N=this._visibleTextArea.visibleTextareaEnd,T=this._visibleTextArea.startPosition,R=this._visibleTextArea.endPosition;if(T&&R&&E&&N&&N.left>=this._scrollLeft&&E.left<=this._scrollLeft+this._contentWidth){const F=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,O=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let D=this._visibleTextArea.widthOfHiddenLineTextBefore,M=this._contentLeft+E.left-this._scrollLeft,P=N.left-E.left+1;if(M<this._contentLeft){const J=this._contentLeft-M;M+=J,D+=J,P-=J}P>this._contentWidth&&(P=this._contentWidth);const B=this._context.viewModel.getViewLineData(T.lineNumber),W=B.tokens.findTokenIndexAtOffset(T.column-1),V=B.tokens.findTokenIndexAtOffset(R.column-1),A=W===V,Q=this._visibleTextArea.definePresentation(A?B.tokens.getPresentation(W):null);this.textArea.domNode.scrollTop=O*this._lineHeight,this.textArea.domNode.scrollLeft=D,this._doRender({lastRenderPosition:null,top:F,left:M,width:P,height:this._lineHeight,useCover:!1,color:(o.TokenizationRegistry.getColorMap()||[])[Q.foreground],italic:Q.italic,bold:Q.bold,underline:Q.underline,strikethrough:Q.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const S=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(S<this._contentLeft||S>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const y=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(y<0||y>this._contentHeight){this._renderAtTopLeft();return}if(I.isMacintosh){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:y,left:S,width:p?0:1,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const E=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=E*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:y,left:S,width:p?0:1,height:p?0:1,useCover:!1})}_newlinecount(S){let y=0,E=-1;do{if(E=S.indexOf(`
`,E+1),E===-1)break;y++}while(!0);return y}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:p?0:1,height:p?0:1,useCover:!0})}_doRender(S){this._lastRenderPosition=S.lastRenderPosition;const y=this.textArea,E=this.textAreaCover;(0,b.applyFontInfo)(y,this._fontInfo),y.setTop(S.top),y.setLeft(S.left),y.setWidth(S.width),y.setHeight(S.height),y.setColor(S.color?c.Color.Format.CSS.formatHex(S.color):""),y.setFontStyle(S.italic?"italic":""),S.bold&&y.setFontWeight("bold"),y.setTextDecoration(`${S.underline?" underline":""}${S.strikethrough?" line-through":""}`),E.setTop(S.useCover?S.top:0),E.setLeft(S.useCover?S.left:0),E.setWidth(S.useCover?S.width:0),E.setHeight(S.useCover?S.height:0);const N=this._context.configuration.options;N.get(52)?E.setClassName("monaco-editor-background textAreaCover "+i.Margin.OUTER_CLASS_NAME):N.get(62).renderType!==0?E.setClassName("monaco-editor-background textAreaCover "+n.LineNumbersOverlay.CLASS_NAME):E.setClassName("monaco-editor-background textAreaCover")}}e.TextAreaHandler=_;function m(h,S){if(h.length===0)return 0;const y=document.createElement("div");y.style.position="absolute",y.style.top="-50000px",y.style.width="50000px";const E=document.createElement("span");(0,b.applyFontInfo)(E,S),E.style.whiteSpace="pre",E.append(h),y.appendChild(E),document.body.appendChild(y);const N=E.offsetWidth;return document.body.removeChild(y),N}}),define(re[677],ae([1,0,33,31,47,11,28,54,74]),function($,e,w,C,k,I,L,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class u{constructor(i,t){const r=i.options;this.lineHeight=r.get(61),this.pixelRatio=r.get(131),this.overviewRulerLanes=r.get(76),this.renderBorder=r.get(75);const l=t.getColor(b.editorOverviewRulerBorder);this.borderColor=l?l.toString():null,this.hideCursor=r.get(54);const d=t.getColor(b.editorCursorForeground);this.cursorColor=d?d.transparent(.7).toString():null,this.themeType=t.type;const a=r.get(67),s=a.enabled,o=a.side,c=t.getColor(b.editorOverviewRulerBackground),f=L.TokenizationRegistry.getDefaultBackground();let p=null;c!==void 0?p=c:s&&(p=f),p===null||o==="left"?this.backgroundColor=null:this.backgroundColor=C.Color.Format.CSS.formatHex(p);const m=r.get(133).overviewRuler;this.top=m.top,this.right=m.right,this.domWidth=m.width,this.domHeight=m.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[h,S]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=h,this.w=S}_initLanes(i,t,r){const l=t-i;if(r>=3){const d=Math.floor(l/3),a=Math.floor(l/3),s=l-d-a,o=i,c=o+d,f=o+d+s;return[[0,o,c,o,f,o,c,o],[0,d,s,d+s,a,d+s+a,s+a,d+s+a]]}else if(r===2){const d=Math.floor(l/2),a=l-d,s=i,o=s+d;return[[0,s,s,s,o,s,s,s],[0,d,d,d,a,d+a,d+a,d+a]]}else{const d=i,a=l;return[[0,d,d,d,d,d,d,d],[0,a,a,a,a,a,a,a]]}}equals(i){return this.lineHeight===i.lineHeight&&this.pixelRatio===i.pixelRatio&&this.overviewRulerLanes===i.overviewRulerLanes&&this.renderBorder===i.renderBorder&&this.borderColor===i.borderColor&&this.hideCursor===i.hideCursor&&this.cursorColor===i.cursorColor&&this.themeType===i.themeType&&this.backgroundColor===i.backgroundColor&&this.top===i.top&&this.right===i.right&&this.domWidth===i.domWidth&&this.domHeight===i.domHeight&&this.canvasWidth===i.canvasWidth&&this.canvasHeight===i.canvasHeight}}class g extends k.ViewPart{constructor(i){super(i);this._domNode=(0,w.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=L.TokenizationRegistry.onDidChange(t=>{t.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(i){const t=new u(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(t)?!1:(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,i&&this._render(),!0)}onConfigurationChanged(i){return this._updateSettings(!1)}onCursorStateChanged(i){this._cursorPositions=[];for(let t=0,r=i.selections.length;t<r;t++)this._cursorPositions[t]=i.selections[t].getPosition();return this._cursorPositions.sort(I.Position.compare),!0}onDecorationsChanged(i){return!!i.affectsOverviewRuler}onFlushed(i){return!0}onScrollChanged(i){return i.scrollHeightChanged}onZonesChanged(i){return!0}onThemeChanged(i){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(i){}render(i){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:""),this._domNode.setDisplay("none");return}this._domNode.setDisplay("block");const i=this._settings.canvasWidth,t=this._settings.canvasHeight,r=this._settings.lineHeight,l=this._context.viewLayout,d=this._context.viewLayout.getScrollHeight(),a=t/d,s=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),o=6*this._settings.pixelRatio|0,c=o/2|0,f=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?f.clearRect(0,0,i,t):(f.fillStyle=this._settings.backgroundColor,f.fillRect(0,0,i,t));const p=this._settings.x,_=this._settings.w;s.sort(v.OverviewRulerDecorationsGroup.cmp);for(const m of s){const h=m.color,S=m.data;f.fillStyle=h;let y=0,E=0,N=0;for(let T=0,R=S.length/3;T<R;T++){const F=S[3*T],O=S[3*T+1],D=S[3*T+2];let M=l.getVerticalOffsetForLineNumber(O)*a|0,P=(l.getVerticalOffsetForLineNumber(D)+r)*a|0;if(P-M<o){let W=(M+P)/2|0;W<c?W=c:W+c>t&&(W=t-c),M=W-c,P=W+c}M>N+1||F!==y?(T!==0&&f.fillRect(p[y],E,_[y],N-E),y=F,E=M,N=P):P>N&&(N=P)}f.fillRect(p[y],E,_[y],N-E)}if(!this._settings.hideCursor&&this._settings.cursorColor){const m=2*this._settings.pixelRatio|0,h=m/2|0,S=this._settings.x[7],y=this._settings.w[7];f.fillStyle=this._settings.cursorColor;let E=-100,N=-100;for(let T=0,R=this._cursorPositions.length;T<R;T++){const F=this._cursorPositions[T];let O=l.getVerticalOffsetForLineNumber(F.lineNumber)*a|0;O<h?O=h:O+h>t&&(O=t-h);const D=O-h,M=D+m;D>N+1?(T!==0&&f.fillRect(S,E,y,N-E),E=D,N=M):M>N&&(N=M)}f.fillRect(S,E,y,N-E)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(f.beginPath(),f.lineWidth=1,f.strokeStyle=this._settings.borderColor,f.moveTo(0,0),f.lineTo(0,t),f.stroke(),f.moveTo(0,0),f.lineTo(i,0),f.stroke())}}e.DecorationsOverviewRuler=g}),define(re[678],ae([1,0,33,47,54,15,364]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class L extends C.ViewPart{constructor(v){super(v);this.domNode=(0,w.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const u=this._context.configuration.options;this._rulers=u.get(93),this._typicalHalfwidthCharacterWidth=u.get(46).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(v){const u=this._context.configuration.options;return this._rulers=u.get(93),this._typicalHalfwidthCharacterWidth=u.get(46).typicalHalfwidthCharacterWidth,!0}onScrollChanged(v){return v.scrollHeightChanged}prepareRender(v){}_ensureRulersCount(){const v=this._renderedRulers.length,u=this._rulers.length;if(v===u)return;if(v<u){const{tabSize:n}=this._context.viewModel.model.getOptions(),i=n;let t=u-v;for(;t>0;){const r=(0,w.createFastDomNode)(document.createElement("div"));r.setClassName("view-ruler"),r.setWidth(i),this.domNode.appendChild(r),this._renderedRulers.push(r),t--}return}let g=v-u;for(;g>0;){const n=this._renderedRulers.pop();this.domNode.removeChild(n),g--}}render(v){this._ensureRulersCount();for(let u=0,g=this._rulers.length;u<g;u++){const n=this._renderedRulers[u],i=this._rulers[u];n.setBoxShadow(i.color?`1px 0 0 0 ${i.color} inset`:""),n.setHeight(Math.min(v.scrollHeight,1e6)),n.setLeft(i.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=L,(0,I.registerThemingParticipant)((b,v)=>{const u=b.getColor(k.editorRuler);u&&v.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${u} inset; }`)})}),define(re[679],ae([1,0,33,10,47,532,36,54,15,56,367]),function($,e,w,C,k,I,L,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class g extends k.ViewPart{constructor(i){super(i);const t=this._context.configuration.options;this._readOnly=t.get(83),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new I.ViewCursor(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,w.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new C.TimeoutTimer,this._cursorFlatBlinkInterval=new C.IntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(i){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(i){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(i){const t=this._context.configuration.options;this._readOnly=t.get(83),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(i);for(let r=0,l=this._secondaryCursors.length;r<l;r++)this._secondaryCursors[r].onConfigurationChanged(i);return!0}_onCursorPositionChanged(i,t){if(this._primaryCursor.onCursorPositionChanged(i),this._updateBlinking(),this._secondaryCursors.length<t.length){const r=t.length-this._secondaryCursors.length;for(let l=0;l<r;l++){const d=new I.ViewCursor(this._context);this._domNode.domNode.insertBefore(d.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(d)}}else if(this._secondaryCursors.length>t.length){const r=this._secondaryCursors.length-t.length;for(let l=0;l<r;l++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let r=0;r<t.length;r++)this._secondaryCursors[r].onCursorPositionChanged(t[r])}onCursorStateChanged(i){const t=[];for(let l=0,d=i.selections.length;l<d;l++)t[l]=i.selections[l].getPosition();this._onCursorPositionChanged(t[0],t.slice(1));const r=i.selections[0].isEmpty();return this._selectionIsEmpty!==r&&(this._selectionIsEmpty=r,this._updateDomClassName()),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onFocusChanged(i){return this._editorHasFocus=i.isFocused,this._updateBlinking(),!1}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return!0}onTokensChanged(i){const t=r=>{for(let l=0,d=i.ranges.length;l<d;l++)if(i.ranges[l].fromLineNumber<=r.lineNumber&&r.lineNumber<=i.ranges[l].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const r of this._secondaryCursors)if(t(r.getPosition()))return!0;return!1}onZonesChanged(i){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const i=this._getCursorBlinking(),t=i===0,r=i===5;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!t&&!r&&(i===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},g.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},g.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let i="cursors-layer";switch(this._selectionIsEmpty||(i+=" has-selection"),this._cursorStyle){case L.TextEditorCursorStyle.Line:i+=" cursor-line-style";break;case L.TextEditorCursorStyle.Block:i+=" cursor-block-style";break;case L.TextEditorCursorStyle.Underline:i+=" cursor-underline-style";break;case L.TextEditorCursorStyle.LineThin:i+=" cursor-line-thin-style";break;case L.TextEditorCursorStyle.BlockOutline:i+=" cursor-block-outline-style";break;case L.TextEditorCursorStyle.UnderlineThin:i+=" cursor-underline-thin-style";break;default:i+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:i+=" cursor-blink";break;case 2:i+=" cursor-smooth";break;case 3:i+=" cursor-phase";break;case 4:i+=" cursor-expand";break;case 5:i+=" cursor-solid";break;default:i+=" cursor-solid"}else i+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(i+=" cursor-smooth-caret-animation"),i}_show(){this._primaryCursor.show();for(let i=0,t=this._secondaryCursors.length;i<t;i++)this._secondaryCursors[i].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let i=0,t=this._secondaryCursors.length;i<t;i++)this._secondaryCursors[i].hide();this._isVisible=!1}prepareRender(i){this._primaryCursor.prepareRender(i);for(let t=0,r=this._secondaryCursors.length;t<r;t++)this._secondaryCursors[t].prepareRender(i)}render(i){const t=[];let r=0;const l=this._primaryCursor.render(i);l&&(t[r++]=l);for(let d=0,a=this._secondaryCursors.length;d<a;d++){const s=this._secondaryCursors[d].render(i);s&&(t[r++]=s)}this._renderData=t}getLastRenderData(){return this._renderData}}e.ViewCursors=g,g.BLINK_INTERVAL=500,(0,v.registerThemingParticipant)((n,i)=>{const t=n.getColor(b.editorCursorForeground);if(t){let r=n.getColor(b.editorCursorBackground);r||(r=t.opposite()),i.addRule(`.monaco-editor .inputarea.ime-input { caret-color: ${t}; }`),i.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${t}; border-color: ${t}; color: ${r}; }`),(0,u.isHighContrast)(n.type)&&i.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${r}; border-right: 1px solid ${r}; }`)}})}),define(re[680],ae([1,0,6,2,3,54,15]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorizedBracketPairsDecorationProvider=void 0;class b extends C.Disposable{constructor(g){super();this.textModel=g,this.colorProvider=new v,this.onDidChangeEmitter=new w.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=g.getOptions().bracketPairColorizationOptions,this._register(g.bracketPairs.onDidChange(n=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(g){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(g,n,i){if(n===void 0)return[];if(!this.colorizationOptions.enabled)return[];const t=new Array,r=this.textModel.bracketPairs.getBracketsInRange(g);for(const l of r)t.push({id:`bracket${l.range.toString()}-${l.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(l,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:l.range});return t}getAllDecorations(g,n){return g===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new k.Range(1,1,this.textModel.getLineCount(),1),g,n):[]}}e.ColorizedBracketPairsDecorationProvider=b;class v{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(g,n){return g.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(n?g.nestingLevelOfEqualBracketType:g.nestingLevel)}getInlineClassNameOfLevel(g){return`bracket-highlighting-${g%30}`}}(0,L.registerThemingParticipant)((u,g)=>{const n=[I.editorBracketHighlightingForeground1,I.editorBracketHighlightingForeground2,I.editorBracketHighlightingForeground3,I.editorBracketHighlightingForeground4,I.editorBracketHighlightingForeground5,I.editorBracketHighlightingForeground6],i=new v;g.addRule(`.monaco-editor .${i.unexpectedClosingBracketClassName} { color: ${u.getColor(I.editorBracketHighlightingUnexpectedBracketForeground)}; }`);const t=n.map(r=>u.getColor(r)).filter(r=>!!r).filter(r=>!r.isTransparent());for(let r=0;r<30;r++){const l=t[r%t.length];g.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(r)} { color: ${l}; }`)}})}),define(re[681],ae([1,0,84,2,46,15,54,50,3,52,6,25,51]),function($,e,w,C,k,I,L,b,v,u,g,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;class t extends C.Disposable{constructor(d){super();this.model=d,this._markersData=new Map,this._register((0,C.toDisposable)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(d,a){const s=[...this._markersData.keys()];this._markersData.clear();const o=this.model.deltaDecorations(s,a);for(let c=0;c<o.length;c++)this._markersData.set(o[c],d[c]);return s.length!==0||o.length!==0}getMarker(d){return this._markersData.get(d.id)}}let r=class extends C.Disposable{constructor(d,a){super();this._markerService=a,this._onDidChangeMarker=this._register(new g.Emitter),this._markerDecorations=new i.ResourceMap,d.getModels().forEach(s=>this._onModelAdded(s)),this._register(d.onModelAdded(this._onModelAdded,this)),this._register(d.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(d=>d.dispose()),this._markerDecorations.clear()}getMarker(d,a){const s=this._markerDecorations.get(d);return s&&s.getMarker(a)||null}_handleMarkerChange(d){d.forEach(a=>{const s=this._markerDecorations.get(a);s&&this._updateDecorations(s)})}_onModelAdded(d){const a=new t(d);this._markerDecorations.set(d.uri,a),this._updateDecorations(a)}_onModelRemoved(d){var a;const s=this._markerDecorations.get(d.uri);s&&(s.dispose(),this._markerDecorations.delete(d.uri)),(d.uri.scheme===u.Schemas.inMemory||d.uri.scheme===u.Schemas.internal||d.uri.scheme===u.Schemas.vscode)&&((a=this._markerService)===null||a===void 0||a.read({resource:d.uri}).map(o=>o.owner).forEach(o=>this._markerService.remove(o,[d.uri])))}_updateDecorations(d){const a=this._markerService.read({resource:d.model.uri,take:500}),s=a.map(o=>({range:this._createDecorationRange(d.model,o),options:this._createDecorationOption(o)}));d.update(a,s)&&this._onDidChangeMarker.fire(d.model)}_createDecorationRange(d,a){let s=v.Range.lift(a);if(a.severity===w.MarkerSeverity.Hint&&!this._hasMarkerTag(a,1)&&!this._hasMarkerTag(a,2)&&(s=s.setEndPosition(s.startLineNumber,s.startColumn+2)),s=d.validateRange(s),s.isEmpty()){const o=d.getLineLastNonWhitespaceColumn(s.startLineNumber)||d.getLineMaxColumn(s.startLineNumber);if(o===1||s.endColumn>=o)return s;const c=d.getWordAtPosition(s.getStartPosition());c&&(s=new v.Range(s.startLineNumber,c.startColumn,s.endLineNumber,c.endColumn))}else if(a.endColumn===Number.MAX_VALUE&&a.startColumn===1&&s.startLineNumber===s.endLineNumber){const o=d.getLineFirstNonWhitespaceColumn(a.startLineNumber);o<s.endColumn&&(s=new v.Range(s.startLineNumber,o,s.endLineNumber,s.endColumn),a.startColumn=o)}return s}_createDecorationOption(d){let a,s,o,c,f;switch(d.severity){case w.MarkerSeverity.Hint:this._hasMarkerTag(d,2)?a=void 0:this._hasMarkerTag(d,1)?a="squiggly-unnecessary":a="squiggly-hint",o=0;break;case w.MarkerSeverity.Warning:a="squiggly-warning",s=(0,I.themeColorFromId)(L.overviewRulerWarning),o=20,f={color:(0,I.themeColorFromId)(n.minimapWarning),position:k.MinimapPosition.Inline};break;case w.MarkerSeverity.Info:a="squiggly-info",s=(0,I.themeColorFromId)(L.overviewRulerInfo),o=10;break;case w.MarkerSeverity.Error:default:a="squiggly-error",s=(0,I.themeColorFromId)(L.overviewRulerError),o=30,f={color:(0,I.themeColorFromId)(n.minimapError),position:k.MinimapPosition.Inline};break}return d.tags&&(d.tags.indexOf(1)!==-1&&(c="squiggly-inline-unnecessary"),d.tags.indexOf(2)!==-1&&(c="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:a,showIfCollapsed:!0,overviewRuler:{color:s,position:k.OverviewRulerLane.Right},minimap:f,zIndex:o,inlineClassName:c}}_hasMarkerTag(d,a){return d.tags?d.tags.indexOf(a)>=0:!1}};r=ke([me(0,b.IModelService),me(1,w.IMarkerService)],r),e.MarkerDecorationsService=r}),define(re[298],ae([1,0,109,15,69,433,37]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMultilineTokens2=e.SemanticTokensProviderStyling=void 0;let b=class{constructor(i,t,r,l){this._legend=i,this._themeService=t,this._languageService=r,this._logService=l,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new g}getMetadata(i,t,r){const l=this._languageService.languageIdCodec.encodeLanguageId(r),d=this._hashTable.get(i,t,l);let a;if(d)a=d.metadata,this._logService.getLevel()===k.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${i} / ${t}: foreground ${w.TokenMetadata.getForeground(a)}, fontStyle ${w.TokenMetadata.getFontStyle(a).toString(2)}`);else{let s=this._legend.tokenTypes[i];const o=[];if(s){let c=t;for(let p=0;c>0&&p<this._legend.tokenModifiers.length;p++)c&1&&o.push(this._legend.tokenModifiers[p]),c=c>>1;c>0&&this._logService.getLevel()===k.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),o.push("not-in-legend"));const f=this._themeService.getColorTheme().getTokenStyleMetadata(s,o,r);typeof f=="undefined"?a=2147483647:(a=0,typeof f.italic!="undefined"&&(a|=(f.italic?1:0)<<11|1),typeof f.bold!="undefined"&&(a|=(f.bold?2:0)<<11|2),typeof f.underline!="undefined"&&(a|=(f.underline?4:0)<<11|4),typeof f.strikethrough!="undefined"&&(a|=(f.strikethrough?8:0)<<11|8),f.foreground&&(a|=f.foreground<<15|16),a===0&&(a=2147483647))}else this._logService.getLevel()===k.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${i} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),a=2147483647,s="not-in-legend";this._hashTable.add(i,t,l,a),this._logService.getLevel()===k.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${i} (${s}) / ${t} (${o.join(" ")}): foreground ${w.TokenMetadata.getForeground(a)}, fontStyle ${w.TokenMetadata.getFontStyle(a).toString(2)}`)}return a}warnOverlappingSemanticTokens(i,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${i}, column ${t}`))}warnInvalidLengthSemanticTokens(i,t){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${i}, column ${t}`))}warnInvalidEditStart(i,t,r,l,d){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${i}, resultId: ${t}) at edit #${r}: The provided start offset ${l} is outside the previous data (length ${d}).`))}};b=ke([me(1,C.IThemeService),me(2,L.ILanguageService),me(3,k.ILogService)],b),e.SemanticTokensProviderStyling=b;function v(n,i,t){const r=n.data,l=n.data.length/5|0,d=Math.max(Math.ceil(l/1024),400),a=[];let s=0,o=1,c=0;for(;s<l;){const f=s;let p=Math.min(f+d,l);if(p<l){let N=p;for(;N-1>f&&r[5*N]===0;)N--;if(N-1===f){let T=p;for(;T+1<l&&r[5*T]===0;)T++;p=T}else p=N}let _=new Uint32Array((p-f)*4),m=0,h=0,S=0,y=0;for(;s<p;){const N=5*s,T=r[N],R=r[N+1],F=o+T|0,O=T===0?c+R|0:R,D=r[N+2],M=O+D|0,P=r[N+3],B=r[N+4];if(M<=O)i.warnInvalidLengthSemanticTokens(F,O+1);else if(S===F&&y>O)i.warnOverlappingSemanticTokens(F,O+1);else{const W=i.getMetadata(P,B,t);W!==2147483647&&(h===0&&(h=F),_[m]=F-h,_[m+1]=O,_[m+2]=M,_[m+3]=W,m+=4,S=F,y=M)}o=F,c=O,s++}m!==_.length&&(_=_.subarray(0,m));const E=I.SparseMultilineTokens.create(h,_);a.push(E)}return a}e.toMultilineTokens2=v;class u{constructor(i,t,r,l){this.tokenTypeIndex=i,this.tokenModifierSet=t,this.languageId=r,this.metadata=l,this.next=null}}class g{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=g._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<g._SIZES.length?2/3*this._currentLength:0),this._elements=[],g._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(i,t){for(let r=0;r<t;r++)i[r]=null}_hash2(i,t){return(i<<5)-i+t|0}_hashFunc(i,t,r){return this._hash2(this._hash2(i,t),r)%this._currentLength}get(i,t,r){const l=this._hashFunc(i,t,r);let d=this._elements[l];for(;d;){if(d.tokenTypeIndex===i&&d.tokenModifierSet===t&&d.languageId===r)return d;d=d.next}return null}add(i,t,r,l){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const d=this._elements;this._currentLengthIndex++,this._currentLength=g._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<g._SIZES.length?2/3*this._currentLength:0),this._elements=[],g._nullOutEntries(this._elements,this._currentLength);for(const a of d){let s=a;for(;s;){const o=s.next;s.next=null,this._add(s),s=o}}}this._add(new u(i,t,r,l))}_add(i){const t=this._hashFunc(i.tokenTypeIndex,i.tokenModifierSet,i.languageId);i.next=this._elements[t],this._elements[t]=i}}g._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(re[682],ae([1,0,7,62,27,6,2,184,546,42,25,15,373]),function($,e,w,C,k,I,L,b,v,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var i;(function(r){r.Hidden={type:0};class l{constructor(a,s,o,c){this.actions=a,this.trigger=s,this.editorPosition=o,this.widgetPosition=c,this.type=1}}r.Showing=l})(i||(i={}));let t=class Ti extends L.Disposable{constructor(l,d,a,s){super();this._editor=l,this._quickFixActionId=d,this._preferredFixActionId=a,this._keybindingService=s,this._onClick=this._register(new I.Emitter),this.onClick=this._onClick.event,this._state=i.Hidden,this._domNode=document.createElement("div"),this._domNode.className=k.Codicon.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(o=>{const c=this._editor.getModel();(this.state.type!==1||!c||this.state.editorPosition.lineNumber>=c.getLineCount())&&this.hide()})),C.Gesture.ignoreTarget(this._domNode),this._register(w.addStandardDisposableGenericMouseDownListener(this._domNode,o=>{if(this.state.type!==1)return;this._editor.focus(),o.preventDefault();const{top:c,height:f}=w.getDomNodePagePosition(this._domNode),p=this._editor.getOption(61);let _=Math.floor(p/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(_+=p),this._onClick.fire({x:o.posx,y:c+f+_,actions:this.state.actions,trigger:this.state.trigger})})),this._register(w.addDisposableListener(this._domNode,"mouseenter",o=>{(o.buttons&1)==1&&this.hide()})),this._register(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(59)&&!this._editor.getOption(59).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(l,d,a){if(l.validActions.length<=0)return this.hide();const s=this._editor.getOptions();if(!s.get(59).enabled)return this.hide();const o=this._editor.getModel();if(!o)return this.hide();const{lineNumber:c,column:f}=o.validatePosition(a),p=o.getOptions().tabSize,_=s.get(46),m=o.getLineContent(c),h=(0,b.computeIndentLevel)(m,p),S=_.spaceWidth*h>22,y=N=>N>2&&this._editor.getTopForLineNumber(N)===this._editor.getTopForLineNumber(N-1);let E=c;if(!S){if(c>1&&!y(c-1))E-=1;else if(!y(c+1))E+=1;else if(f*_.spaceWidth<22)return this.hide()}this.state=new i.Showing(l,d,a,{position:{lineNumber:E,column:1},preference:Ti._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=i.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(l){this._state=l,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...k.Codicon.lightBulb.classNamesArray),this._domNode.classList.add(...k.Codicon.lightbulbAutofix.classNamesArray);const d=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(d){this.title=v.localize(0,null,d.getLabel());return}}this._domNode.classList.remove(...k.Codicon.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...k.Codicon.lightBulb.classNamesArray);const l=this._keybindingService.lookupKeybinding(this._quickFixActionId);l?this.title=v.localize(1,null,l.getLabel()):this.title=v.localize(2,null)}set title(l){this._domNode.title=l}};t._posPref=[0],t=ke([me(3,u.IKeybindingService)],t),e.LightBulbWidget=t,(0,n.registerThemingParticipant)((r,l)=>{var d;const a=(d=r.getColor(g.editorBackground))===null||d===void 0?void 0:d.transparent(.7),s=r.getColor(g.editorLightBulbForeground);s&&l.addRule(`
		.monaco-editor .contentWidgets ${k.Codicon.lightBulb.cssSelector} {
			color: ${s};
			background-color: ${a};
		}`);const o=r.getColor(g.editorLightBulbAutoFixForeground);o&&l.addRule(`
		.monaco-editor .contentWidgets ${k.Codicon.lightbulbAutofix.cssSelector} {
			color: ${o};
			background-color: ${a};
		}`)})}),define(re[683],ae([1,0,41,7,132,68,31,6,2,548,25,15,376]),function($,e,w,C,k,I,L,b,v,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.ColorPickerBody=e.ColorPickerHeader=void 0;const i=C.$;class t extends v.Disposable{constructor(f,p,_){super();this.model=p,this.domNode=i(".colorpicker-header"),C.append(f,this.domNode),this.pickedColorNode=C.append(this.domNode,i(".picked-color"));const m=(0,u.localize)(0,null);this.pickedColorNode.setAttribute("title",m);const h=C.append(this.domNode,i(".original-color"));h.style.backgroundColor=L.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=_.getColorTheme().getColor(g.editorHoverBackground)||L.Color.white,this._register((0,n.registerThemingParticipant)((S,y)=>{this.backgroundColor=S.getColor(g.editorHoverBackground)||L.Color.white})),this._register(C.addDisposableListener(this.pickedColorNode,C.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(C.addDisposableListener(h,C.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(p.onDidChangeColor(this.onDidChangeColor,this)),this._register(p.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=L.Color.Format.CSS.format(p.color)||"",this.pickedColorNode.classList.toggle("light",p.color.rgba.a<.5?this.backgroundColor.isLighter():p.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(f){this.pickedColorNode.style.backgroundColor=L.Color.Format.CSS.format(f)||"",this.pickedColorNode.classList.toggle("light",f.rgba.a<.5?this.backgroundColor.isLighter():f.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(i(".codicon.codicon-color-mode"))}}e.ColorPickerHeader=t;class r extends v.Disposable{constructor(f,p,_){super();this.model=p,this.pixelRatio=_,this.domNode=i(".colorpicker-body"),C.append(f,this.domNode),this.saturationBox=new l(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new a(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new s(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:f,v:p}){const _=this.model.color.hsva;this.model.color=new L.Color(new L.HSVA(_.h,f,p,_.a))}onDidOpacityChange(f){const p=this.model.color.hsva;this.model.color=new L.Color(new L.HSVA(p.h,p.s,p.v,f))}onDidHueChange(f){const p=this.model.color.hsva,_=(1-f)*360;this.model.color=new L.Color(new L.HSVA(_===360?0:_,p.s,p.v,p.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}e.ColorPickerBody=r;class l extends v.Disposable{constructor(f,p,_){super();this.model=p,this.pixelRatio=_,this._onDidChange=new b.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new b.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=i(".saturation-wrap"),C.append(f,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",C.append(this.domNode,this.canvas),this.selection=i(".saturation-selection"),C.append(this.domNode,this.selection),this.layout(),this._register(C.addDisposableListener(this.domNode,C.EventType.POINTER_DOWN,m=>this.onPointerDown(m))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onPointerDown(f){if(!f.target||!(f.target instanceof Element))return;this.monitor=this._register(new k.GlobalPointerMoveMonitor);const p=C.getDomNodePagePosition(this.domNode);f.target!==this.selection&&this.onDidChangePosition(f.offsetX,f.offsetY),this.monitor.startMonitoring(f.target,f.pointerId,f.buttons,m=>this.onDidChangePosition(m.pageX-p.left,m.pageY-p.top),()=>null);const _=C.addDisposableListener(document,C.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),_.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(f,p){const _=Math.max(0,Math.min(1,f/this.width)),m=Math.max(0,Math.min(1,1-p/this.height));this.paintSelection(_,m),this._onDidChange.fire({s:_,v:m})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const f=this.model.color.hsva;this.paintSelection(f.s,f.v)}paint(){const f=this.model.color.hsva,p=new L.Color(new L.HSVA(f.h,1,1,1)),_=this.canvas.getContext("2d"),m=_.createLinearGradient(0,0,this.canvas.width,0);m.addColorStop(0,"rgba(255, 255, 255, 1)"),m.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),m.addColorStop(1,"rgba(255, 255, 255, 0)");const h=_.createLinearGradient(0,0,0,this.canvas.height);h.addColorStop(0,"rgba(0, 0, 0, 0)"),h.addColorStop(1,"rgba(0, 0, 0, 1)"),_.rect(0,0,this.canvas.width,this.canvas.height),_.fillStyle=L.Color.Format.CSS.format(p),_.fill(),_.fillStyle=m,_.fill(),_.fillStyle=h,_.fill()}paintSelection(f,p){this.selection.style.left=`${f*this.width}px`,this.selection.style.top=`${this.height-p*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class d extends v.Disposable{constructor(f,p){super();this.model=p,this._onDidChange=new b.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new b.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=C.append(f,i(".strip")),this.overlay=C.append(this.domNode,i(".overlay")),this.slider=C.append(this.domNode,i(".slider")),this.slider.style.top="0px",this._register(C.addDisposableListener(this.domNode,C.EventType.POINTER_DOWN,_=>this.onPointerDown(_))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const f=this.getValue(this.model.color);this.updateSliderPosition(f)}onPointerDown(f){if(!f.target||!(f.target instanceof Element))return;const p=this._register(new k.GlobalPointerMoveMonitor),_=C.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),f.target!==this.slider&&this.onDidChangeTop(f.offsetY),p.startMonitoring(f.target,f.pointerId,f.buttons,h=>this.onDidChangeTop(h.pageY-_.top),()=>null);const m=C.addDisposableListener(document,C.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),m.dispose(),p.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(f){const p=Math.max(0,Math.min(1,1-f/this.height));this.updateSliderPosition(p),this._onDidChange.fire(p)}updateSliderPosition(f){this.slider.style.top=`${(1-f)*this.height}px`}}class a extends d{constructor(f,p){super(f,p);this.domNode.classList.add("opacity-strip"),this._register(p.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(f){const{r:p,g:_,b:m}=f.rgba,h=new L.Color(new L.RGBA(p,_,m,1)),S=new L.Color(new L.RGBA(p,_,m,0));this.overlay.style.background=`linear-gradient(to bottom, ${h} 0%, ${S} 100%)`}getValue(f){return f.hsva.a}}class s extends d{constructor(f,p){super(f,p);this.domNode.classList.add("hue-strip")}getValue(f){return 1-f.hsva.h/360}}class o extends I.Widget{constructor(f,p,_,m){super();this.model=p,this.pixelRatio=_,this._register(w.PixelRatio.onDidChange(()=>this.layout()));const h=i(".colorpicker-widget");f.appendChild(h);const S=new t(h,this.model,m);this.body=new r(h,this.model,this.pixelRatio),this._register(S),this._register(this.body)}layout(){this.body.layout()}}e.ColorPickerWidget=o}),define(re[684],ae([1,0,7,255,257,197,63,2,44,58,567,9,42,140,142,15,137]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let a=class{constructor(y){this._resolverService=y}hasChildren(y){return y instanceof d.ReferencesModel||y instanceof d.FileReferences}getChildren(y){if(y instanceof d.ReferencesModel)return y.groups;if(y instanceof d.FileReferences)return y.resolve(this._resolverService).then(E=>E.children);throw new Error("bad tree")}};a=ke([me(0,u.ITextModelService)],a),e.DataSource=a;class s{getHeight(){return 23}getTemplateId(y){return y instanceof d.FileReferences?p.id:m.id}}e.Delegate=s;let o=class{constructor(y){this._keybindingService=y}getKeyboardNavigationLabel(y){var E;if(y instanceof d.OneReference){const N=(E=y.parent.getPreview(y))===null||E===void 0?void 0:E.preview(y.range);if(N)return N.value}return(0,v.basename)(y.uri)}};o=ke([me(0,i.IKeybindingService)],o),e.StringRepresentationProvider=o;class c{getId(y){return y instanceof d.OneReference?y.id:y.uri}}e.IdentityProvider=c;let f=class extends b.Disposable{constructor(y,E,N){super();this._labelService=E;const T=document.createElement("div");T.classList.add("reference-file"),this.file=this._register(new I.IconLabel(T,{supportHighlights:!0})),this.badge=new C.CountBadge(w.append(T,w.$(".count"))),this._register((0,r.attachBadgeStyler)(this.badge,N)),y.appendChild(T)}set(y,E){const N=(0,v.dirname)(y.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(y.uri),this._labelService.getUriLabel(N,{relative:!0}),{title:this._labelService.getUriLabel(y.uri),matches:E});const T=y.children.length;this.badge.setCount(T),T>1?this.badge.setTitleFormat((0,g.localize)(0,null,T)):this.badge.setTitleFormat((0,g.localize)(1,null,T))}};f=ke([me(1,t.ILabelService),me(2,l.IThemeService)],f);let p=class Mi{constructor(y){this._instantiationService=y,this.templateId=Mi.id}renderTemplate(y){return this._instantiationService.createInstance(f,y)}renderElement(y,E,N){N.set(y.element,(0,L.createMatches)(y.filterData))}disposeTemplate(y){y.dispose()}};p.id="FileReferencesRenderer",p=ke([me(0,n.IInstantiationService)],p),e.FileReferencesRenderer=p;class _{constructor(y){this.label=new k.HighlightedLabel(y)}set(y,E){var N;const T=(N=y.parent.getPreview(y))===null||N===void 0?void 0:N.preview(y.range);if(!T||!T.value)this.label.set(`${(0,v.basename)(y.uri)}:${y.range.startLineNumber+1}:${y.range.startColumn+1}`);else{const{value:R,highlight:F}=T;E&&!L.FuzzyScore.isDefault(E)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(R,(0,L.createMatches)(E))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(R,[F]))}}}class m{constructor(){this.templateId=m.id}renderTemplate(y){return new _(y)}renderElement(y,E,N){N.set(y.element,y.filterData)}disposeTemplate(){}}e.OneReferenceRenderer=m,m.id="OneReferenceRenderer";class h{getWidgetAriaLabel(){return(0,g.localize)(2,null)}getAriaLabel(y){return y.ariaMessage}}e.AccessibilityProvider=h}),define(re[685],ae([1,0,7,2,8,65,36,82,11,3,91,46,37,54,130,114,165,9,15,383]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextWidget=void 0;const c=(o=window.trustedTypes)===null||o===void 0?void 0:o.createPolicy("editorGhostText",{createHTML:y=>y});let f=class extends C.Disposable{constructor(E,N,T,R){super();this.editor=E,this.model=N,this.instantiationService=T,this.languageService=R,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(_,this.editor)),this.additionalLinesWidget=this._register(new m(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this.replacementDecoration=this._register(new p(this.editor)),this._register(this.editor.onDidChangeConfiguration(F=>{(F.hasChanged(29)||F.hasChanged(107)||F.hasChanged(90)||F.hasChanged(85)||F.hasChanged(47)||F.hasChanged(46)||F.hasChanged(61))&&this.update()})),this._register((0,C.toDisposable)(()=>{var F;this.disposed=!0,this.update(),(F=this.viewMoreContentWidget)===null||F===void 0||F.dispose(),this.viewMoreContentWidget=void 0})),this._register(N.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(E){return this.additionalLinesWidget.viewZoneId===E}update(){var E;const N=this.model.ghostText;if(!this.editor.hasModel()||!N||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear(),this.replacementDecoration.clear();return}const T=new Array,R=new Array;function F(P,B){if(R.length>0){const W=R[R.length-1];B&&W.decorations.push(new r.LineDecoration(W.content.length+1,W.content.length+1+P[0].length,B,0)),W.content+=P[0],P=P.slice(1)}for(const W of P)R.push({content:W,decorations:B?[new r.LineDecoration(1,W.length+1,B,0)]:[]})}N instanceof d.GhostTextReplacement?this.replacementDecoration.setDecorations([{range:new u.Range(N.lineNumber,N.columnStart,N.lineNumber,N.columnStart+N.length),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}]):this.replacementDecoration.setDecorations([]);const O=this.editor.getModel().getLineContent(N.lineNumber);let D,M=0;for(const P of N.parts){let B=P.lines;D===void 0?(T.push({column:P.column,text:B[0],preview:P.preview}),B=B.slice(1)):F([O.substring(M,P.column-1)],void 0),B.length>0&&(F(B,"ghost-text"),D===void 0&&P.column<=O.length&&(D=P.column)),M=P.column-1}D!==void 0&&F([O.substring(M)],void 0),this.partsWidget.setParts(N.lineNumber,T,D!==void 0?{column:D,length:O.length+1-D}:void 0),this.additionalLinesWidget.updateLines(N.lineNumber,R,N.additionalReservedLineCount),0<0?this.viewMoreContentWidget=this.renderViewMoreLines(new v.Position(N.lineNumber,this.editor.getModel().getLineMaxColumn(N.lineNumber)),"",0):((E=this.viewMoreContentWidget)===null||E===void 0||E.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(E,N,T){const R=this.editor.getOption(46),F=document.createElement("div");F.className="suggest-preview-additional-widget",(0,I.applyFontInfo)(F,R);const O=document.createElement("span");O.className="content-spacer",O.append(N),F.append(O);const D=document.createElement("span");D.className="content-newline suggest-preview-text",D.append("\u23CE  "),F.append(D);const M=new C.DisposableStore,P=document.createElement("div");return P.className="button suggest-preview-text",P.append(`+${T} lines\u2026`),M.add(w.addStandardDisposableListener(P,"mousedown",B=>{var W;(W=this.model)===null||W===void 0||W.setExpanded(!0),B.preventDefault(),this.editor.focus()})),F.append(P),new S(this.editor,E,F,M)}};f=ke([me(2,a.IInstantiationService),me(3,i.ILanguageService)],f),e.GhostTextWidget=f;class p{constructor(E){this.editor=E,this.decorationIds=[]}setDecorations(E){this.editor.changeDecorations(N=>{this.decorationIds=N.deltaDecorations(this.decorationIds,E)})}clear(){this.setDecorations([])}dispose(){this.clear()}}class _{constructor(E){this.editor=E,this.decorationIds=[]}dispose(){this.clear()}clear(){this.editor.changeDecorations(E=>{this.decorationIds=E.deltaDecorations(this.decorationIds,[])})}setParts(E,N,T){if(!this.editor.getModel())return;const F=new Array;T&&F.push({range:u.Range.fromPositions(new v.Position(E,T.column),new v.Position(E,T.column+T.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.editor.changeDecorations(O=>{this.decorationIds=O.deltaDecorations(this.decorationIds,N.map(D=>({range:u.Range.fromPositions(new v.Position(E,D.column)),options:{description:"ghost-text",after:{content:D.text,inlineClassName:D.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:n.InjectedTextCursorStops.Left},showIfCollapsed:!0}})).concat(F))})}}class m{constructor(E,N){this.editor=E,this.languageIdCodec=N,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(E=>{this._viewZoneId&&(E.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(E,N,T){const R=this.editor.getModel();if(!R)return;const{tabSize:F}=R.getOptions();this.editor.changeViewZones(O=>{this._viewZoneId&&(O.removeZone(this._viewZoneId),this._viewZoneId=void 0);const D=Math.max(N.length,T);if(D>0){const M=document.createElement("div");h(M,F,N,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=O.addZone({afterLineNumber:E,heightInLines:D,domNode:M,afterColumnAffinity:1})}})}}function h(y,E,N,T,R){const F=T.get(29),O=T.get(107),D="none",M=T.get(85),P=T.get(47),B=T.get(46),W=T.get(61),V=(0,g.createStringBuilder)(1e4);V.appendASCIIString('<div class="suggest-preview-text">');for(let J=0,H=N.length;J<H;J++){const q=N[J],Z=q.content;V.appendASCIIString('<div class="view-line'),V.appendASCIIString('" style="top:'),V.appendASCIIString(String(J*W)),V.appendASCIIString('px;width:1000000px;">');const ie=k.isBasicASCII(Z),Y=k.containsRTL(Z),te=b.LineTokens.createEmpty(Z,R);(0,l.renderViewLine)(new l.RenderLineInput(B.isMonospace&&!F,B.canUseHalfwidthRightwardsArrow,Z,!1,ie,Y,0,te,q.decorations,E,0,B.spaceWidth,B.middotWidth,B.wsmiddotWidth,O,D,M,P!==L.EditorFontLigatures.OFF,null),V),V.appendASCIIString("</div>")}V.appendASCIIString("</div>"),(0,I.applyFontInfo)(y,B);const A=V.build(),Q=c?c.createHTML(A):A;y.innerHTML=Q}class S extends C.Disposable{constructor(E,N,T,R){super();this.editor=E,this.position=N,this.domNode=T,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(R),this._register((0,C.toDisposable)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,s.registerThemingParticipant)((y,E)=>{const N=y.getColor(t.ghostTextForeground);N&&(E.addRule(`.monaco-editor .ghost-text-decoration { color: ${N.toString()} !important; }`),E.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${N.toString()} !important; }`),E.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${N.toString()} !important; }`));const T=y.getColor(t.ghostTextBackground);T&&(E.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${T.toString()}; }`),E.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${T.toString()}; }`),E.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${T.toString()}; }`));const R=y.getColor(t.ghostTextBorder);R&&(E.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${R}; }`),E.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${R}; }`),E.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${R}; }`))})}),define(re[299],ae([1,0,96,2,19,155,46,54,15]),function($,e,w,C,k,I,L,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class u{constructor(n){this.options=n,this.rangeHighlightDecorationId=void 0}provide(n,i){var t;const r=new C.DisposableStore;n.canAcceptInBackground=!!((t=this.options)===null||t===void 0?void 0:t.canAcceptInBackground),n.matchOnLabel=n.matchOnDescription=n.matchOnDetail=n.sortByLabel=!1;const l=r.add(new C.MutableDisposable);return l.value=this.doProvide(n,i),r.add(this.onDidActiveTextEditorControlChange(()=>{l.value=void 0,l.value=this.doProvide(n,i)})),r}doProvide(n,i){const t=new C.DisposableStore,r=this.activeTextEditorControl;if(r&&this.canProvideWithTextEditor(r)){const l={editor:r},d=(0,I.getCodeEditor)(r);if(d){let a=(0,k.withNullAsUndefined)(r.saveViewState());t.add(d.onDidChangeCursorPosition(()=>{a=(0,k.withNullAsUndefined)(r.saveViewState())})),l.restoreViewState=()=>{a&&r===this.activeTextEditorControl&&r.restoreViewState(a)},t.add((0,w.once)(i.onCancellationRequested)(()=>{var s;return(s=l.restoreViewState)===null||s===void 0?void 0:s.call(l)}))}t.add((0,C.toDisposable)(()=>this.clearDecorations(r))),t.add(this.provideWithTextEditor(l,n,i))}else t.add(this.provideWithoutTextEditor(n,i));return t}canProvideWithTextEditor(n){return!0}gotoLocation({editor:n},i){n.setSelection(i.range),n.revealRangeInCenter(i.range,0),i.preserveFocus||n.focus()}getModel(n){var i;return(0,I.isDiffEditor)(n)?(i=n.getModel())===null||i===void 0?void 0:i.modified:n.getModel()}addDecorations(n,i){n.changeDecorations(t=>{const r=[];this.rangeHighlightDecorationId&&(r.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),r.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const l=[{range:i,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:i,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,v.themeColorFromId)(b.overviewRulerRangeHighlight),position:L.OverviewRulerLane.Full}}}],[d,a]=t.deltaDecorations(r,l);this.rangeHighlightDecorationId={rangeHighlightId:d,overviewRulerDecorationId:a}})}clearDecorations(n){const i=this.rangeHighlightDecorationId;i&&(n.changeDecorations(t=>{t.deltaDecorations([i.overviewRulerDecorationId,i.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=u}),define(re[686],ae([1,0,2,155,299,588]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class L extends k.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(v){const u=(0,I.localize)(0,null);return v.items=[{label:u}],v.ariaLabel=u,w.Disposable.None}provideWithTextEditor(v,u,g){const n=v.editor,i=new w.DisposableStore;i.add(u.onDidAccept(l=>{const[d]=u.selectedItems;if(d){if(!this.isValidLineNumber(n,d.lineNumber))return;this.gotoLocation(v,{range:this.toRange(d.lineNumber,d.column),keyMods:u.keyMods,preserveFocus:l.inBackground}),l.inBackground||u.hide()}}));const t=()=>{const l=this.parsePosition(n,u.value.trim().substr(L.PREFIX.length)),d=this.getPickLabel(n,l.lineNumber,l.column);if(u.items=[{lineNumber:l.lineNumber,column:l.column,label:d}],u.ariaLabel=d,!this.isValidLineNumber(n,l.lineNumber)){this.clearDecorations(n);return}const a=this.toRange(l.lineNumber,l.column);n.revealRangeInCenter(a,0),this.addDecorations(n,a)};t(),i.add(u.onDidChangeValue(()=>t()));const r=(0,C.getCodeEditor)(n);return r&&r.getOptions().get(62).renderType===2&&(r.updateOptions({lineNumbers:"on"}),i.add((0,w.toDisposable)(()=>r.updateOptions({lineNumbers:"relative"})))),i}toRange(v=1,u=1){return{startLineNumber:v,startColumn:u,endLineNumber:v,endColumn:u}}parsePosition(v,u){const g=u.split(/,|:|#/).map(i=>parseInt(i,10)).filter(i=>!isNaN(i)),n=this.lineCount(v)+1;return{lineNumber:g[0]>0?g[0]:n+g[0],column:g[1]}}getPickLabel(v,u,g){if(this.isValidLineNumber(v,u))return this.isValidColumn(v,u,g)?(0,I.localize)(1,null,u,g):(0,I.localize)(2,null,u);const n=v.getPosition()||{lineNumber:1,column:1},i=this.lineCount(v);return i>1?(0,I.localize)(3,null,n.lineNumber,n.column,i):(0,I.localize)(4,null,n.lineNumber,n.column)}isValidLineNumber(v,u){return!u||typeof u!="number"?!1:u>0&&u<=this.lineCount(v)}isValidColumn(v,u,g){if(!g||typeof g!="number")return!1;const n=this.getModel(v);if(!n)return!1;const i={lineNumber:u,column:g};return n.validatePosition(i).equals(i)}lineCount(v){var u,g;return(g=(u=this.getModel(v))===null||u===void 0?void 0:u.getLineCount())!==null&&g!==void 0?g:0}}e.AbstractGotoLineQuickAccessProvider=L,L.PREFIX=":"}),define(re[687],ae([1,0,10,21,27,476,2,8,3,28,168,299,589,20,18]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;let l=class si extends n.AbstractEditorNavigationQuickAccessProvider{constructor(o,c,f=Object.create(null)){super(f);this._languageFeaturesService=o,this._outlineModelService=c,this.options=f,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(o){return this.provideLabelPick(o,(0,i.localize)(0,null)),L.Disposable.None}provideWithTextEditor(o,c,f){const p=o.editor,_=this.getModel(p);return _?this._languageFeaturesService.documentSymbolProvider.has(_)?this.doProvideWithEditorSymbols(o,_,c,f):this.doProvideWithoutEditorSymbols(o,_,c,f):L.Disposable.None}doProvideWithoutEditorSymbols(o,c,f,p){const _=new L.DisposableStore;return this.provideLabelPick(f,(0,i.localize)(1,null)),(()=>Se(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(c,_))||p.isCancellationRequested||_.add(this.doProvideWithEditorSymbols(o,c,f,p))}))(),_}provideLabelPick(o,c){o.items=[{label:c,index:0,kind:14}],o.ariaLabel=c}waitForLanguageSymbolRegistry(o,c){return Se(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(o))return!0;const f=new w.DeferredPromise,p=c.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(o)&&(p.dispose(),f.complete(!0))}));return c.add((0,L.toDisposable)(()=>f.complete(!1))),f.p})}doProvideWithEditorSymbols(o,c,f,p){var _;const m=o.editor,h=new L.DisposableStore;h.add(f.onDidAccept(T=>{const[R]=f.selectedItems;R&&R.range&&(this.gotoLocation(o,{range:R.range.selection,keyMods:f.keyMods,preserveFocus:T.inBackground}),T.inBackground||f.hide())})),h.add(f.onDidTriggerItemButton(({item:T})=>{T&&T.range&&(this.gotoLocation(o,{range:T.range.selection,keyMods:f.keyMods,forceSideBySide:!0}),f.hide())}));const S=this.getDocumentSymbols(c,p);let y;const E=T=>Se(this,void 0,void 0,function*(){y==null||y.dispose(!0),f.busy=!1,y=new C.CancellationTokenSource(p),f.busy=!0;try{const R=(0,I.prepareQuery)(f.value.substr(si.PREFIX.length).trim()),F=yield this.doGetSymbolPicks(S,R,void 0,y.token);if(p.isCancellationRequested)return;if(F.length>0){if(f.items=F,T&&R.original.length===0){const O=(0,r.findLast)(F,D=>Boolean(D.type!=="separator"&&D.range&&v.Range.containsPosition(D.range.decoration,T)));O&&(f.activeItems=[O])}}else R.original.length>0?this.provideLabelPick(f,(0,i.localize)(2,null)):this.provideLabelPick(f,(0,i.localize)(3,null))}finally{p.isCancellationRequested||(f.busy=!1)}});h.add(f.onDidChangeValue(()=>E(void 0))),E((_=m.getSelection())===null||_===void 0?void 0:_.getPosition());let N=2;return h.add(f.onDidChangeActive(()=>{const[T]=f.activeItems;if(T&&T.range){if(N-- >0)return;m.revealRangeInCenter(T.range.selection,0),this.addDecorations(m,T.range.decoration)}})),h}doGetSymbolPicks(o,c,f,p){return Se(this,void 0,void 0,function*(){const _=yield o;if(p.isCancellationRequested)return[];const m=c.original.indexOf(si.SCOPE_PREFIX)===0,h=m?1:0;let S,y;c.values&&c.values.length>1?(S=(0,I.pieceToQuery)(c.values[0]),y=(0,I.pieceToQuery)(c.values.slice(1))):S=c;const E=[];for(let R=0;R<_.length;R++){const F=_[R],O=(0,b.trim)(F.name),D=`$(${u.SymbolKinds.toIcon(F.kind).id}) ${O}`,M=D.length-O.length;let P=F.containerName;(f==null?void 0:f.extraContainerLabel)&&(P?P=`${f.extraContainerLabel} \u2022 ${P}`:P=f.extraContainerLabel);let B,W,V,A;if(c.original.length>h){let J=!1;if(S!==c&&([B,W]=(0,I.scoreFuzzy2)(D,Object.assign(Object.assign({},c),{values:void 0}),h,M),typeof B=="number"&&(J=!0)),typeof B!="number"&&([B,W]=(0,I.scoreFuzzy2)(D,S,h,M),typeof B!="number"))continue;if(!J&&y){if(P&&y.original.length>0&&([V,A]=(0,I.scoreFuzzy2)(P,y)),typeof V!="number")continue;typeof B=="number"&&(B+=V)}}const Q=F.tags&&F.tags.indexOf(1)>=0;E.push({index:R,kind:F.kind,score:B,label:D,ariaLabel:O,description:P,highlights:Q?void 0:{label:W,description:A},range:{selection:v.Range.collapseToStart(F.selectionRange),decoration:F.range},strikethrough:Q,buttons:(()=>{var J,H;const q=((J=this.options)===null||J===void 0?void 0:J.openSideBySideDirection)?(H=this.options)===null||H===void 0?void 0:H.openSideBySideDirection():void 0;if(!!q)return[{iconClass:q==="right"?k.Codicon.splitHorizontal.classNames:k.Codicon.splitVertical.classNames,tooltip:q==="right"?(0,i.localize)(4,null):(0,i.localize)(5,null)}]})()})}const N=E.sort((R,F)=>m?this.compareByKindAndScore(R,F):this.compareByScore(R,F));let T=[];if(m){let D=function(){F&&typeof R=="number"&&O>0&&(F.label=(0,b.format)(a[R]||d,O))},R,F,O=0;for(const M of N)R!==M.kind?(D(),R=M.kind,O=1,F={type:"separator"},T.push(F)):O++,T.push(M);D()}else N.length>0&&(T=[{label:(0,i.localize)(6,null,E.length),type:"separator"},...N]);return T})}compareByScore(o,c){if(typeof o.score!="number"&&typeof c.score=="number")return 1;if(typeof o.score=="number"&&typeof c.score!="number")return-1;if(typeof o.score=="number"&&typeof c.score=="number"){if(o.score>c.score)return-1;if(o.score<c.score)return 1}return o.index<c.index?-1:o.index>c.index?1:0}compareByKindAndScore(o,c){const f=a[o.kind]||d,p=a[c.kind]||d,_=f.localeCompare(p);return _===0?this.compareByScore(o,c):_}getDocumentSymbols(o,c){return Se(this,void 0,void 0,function*(){const f=yield this._outlineModelService.getOrCreate(o,c);return c.isCancellationRequested?[]:f.asListOfDocumentSymbols()})}};l.PREFIX="@",l.SCOPE_PREFIX=":",l.PREFIX_BY_CATEGORY=`${l.PREFIX}${l.SCOPE_PREFIX}`,l=ke([me(0,t.ILanguageFeaturesService),me(1,g.IOutlineModelService)],l),e.AbstractGotoSymbolQuickAccessProvider=l;const d=(0,i.localize)(7,null),a={[5]:(0,i.localize)(8,null),[11]:(0,i.localize)(9,null),[8]:(0,i.localize)(10,null),[12]:(0,i.localize)(11,null),[4]:(0,i.localize)(12,null),[22]:(0,i.localize)(13,null),[23]:(0,i.localize)(14,null),[24]:(0,i.localize)(15,null),[10]:(0,i.localize)(16,null),[2]:(0,i.localize)(17,null),[3]:(0,i.localize)(18,null),[25]:(0,i.localize)(19,null),[1]:(0,i.localize)(20,null),[6]:(0,i.localize)(21,null),[9]:(0,i.localize)(22,null),[21]:(0,i.localize)(23,null),[14]:(0,i.localize)(24,null),[0]:(0,i.localize)(25,null),[17]:(0,i.localize)(26,null),[15]:(0,i.localize)(27,null),[16]:(0,i.localize)(28,null),[18]:(0,i.localize)(29,null),[19]:(0,i.localize)(30,null),[7]:(0,i.localize)(31,null),[13]:(0,i.localize)(32,null)}}),define(re[688],ae([1,0,2,11,592,16,42,25,15,388]),function($,e,w,C,k,I,L,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameInputField=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_RENAME_INPUT_VISIBLE=new I.RawContextKey("renameInputVisible",!1,(0,k.localize)(0,null));let u=class{constructor(n,i,t,r,l){this._editor=n,this._acceptKeybindings=i,this._themeService=t,this._keybindingService=r,this._disposables=new w.DisposableStore,this.allowEditorOverflow=!0,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(l),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(46)&&this._updateFont()})),this._disposables.add(t.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,k.localize)(1,null)),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const n=()=>{var i,t;const[r,l]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(r),this._label.innerText=(0,k.localize)(2,null,(i=this._keybindingService.lookupKeybinding(r))===null||i===void 0?void 0:i.getLabel(),(t=this._keybindingService.lookupKeybinding(l))===null||t===void 0?void 0:t.getLabel())};n(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(n)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(n){var i,t,r,l;if(!this._input||!this._domNode)return;const d=n.getColor(b.widgetShadow);this._domNode.style.backgroundColor=String((i=n.getColor(b.editorWidgetBackground))!==null&&i!==void 0?i:""),this._domNode.style.boxShadow=d?` 0 0 8px 2px ${d}`:"",this._domNode.style.color=String((t=n.getColor(b.inputForeground))!==null&&t!==void 0?t:""),this._input.style.backgroundColor=String((r=n.getColor(b.inputBackground))!==null&&r!==void 0?r:"");const a=n.getColor(b.inputBorder);this._input.style.borderWidth=a?"1px":"0px",this._input.style.borderStyle=a?"solid":"none",this._input.style.borderColor=(l=a==null?void 0:a.toString())!==null&&l!==void 0?l:"none"}_updateFont(){if(!this._input||!this._label)return;const n=this._editor.getOption(46);this._input.style.fontFamily=n.fontFamily,this._input.style.fontWeight=n.fontWeight,this._input.style.fontSize=`${n.fontSize}px`,this._label.style.fontSize=`${n.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(n){n||this.cancelInput(!0)}acceptInput(n){var i;(i=this._currentAcceptInput)===null||i===void 0||i.call(this,n)}cancelInput(n){var i;(i=this._currentCancelInput)===null||i===void 0||i.call(this,n)}getInput(n,i,t,r,l,d){this._domNode.classList.toggle("preview",l),this._position=new C.Position(n.startLineNumber,n.startColumn),this._input.value=i,this._input.setAttribute("selectionStart",t.toString()),this._input.setAttribute("selectionEnd",r.toString()),this._input.size=Math.max((n.endColumn-n.startColumn)*1.1,20);const a=new w.DisposableStore;return new Promise(s=>{this._currentCancelInput=o=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,s(o),!0),this._currentAcceptInput=o=>{if(this._input.value.trim().length===0||this._input.value===i){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,s({newName:this._input.value,wantsPreview:l&&o})},a.add(d.onCancellationRequested(()=>this.cancelInput(!0))),a.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{a.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};u=ke([me(2,v.IThemeService),me(3,L.IKeybindingService),me(4,I.IContextKeyService)],u),e.RenameInputField=u}),define(re[300],ae([1,0,27,602,25,15]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=(0,k.registerColor)("symbolIcon.arrayForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,C.localize)(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=(0,k.registerColor)("symbolIcon.booleanForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,C.localize)(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=(0,k.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,C.localize)(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=(0,k.registerColor)("symbolIcon.colorForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,C.localize)(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=(0,k.registerColor)("symbolIcon.constantForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,C.localize)(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=(0,k.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,C.localize)(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,C.localize)(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,C.localize)(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=(0,k.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,C.localize)(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=(0,k.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,C.localize)(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=(0,k.registerColor)("symbolIcon.fileForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,C.localize)(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=(0,k.registerColor)("symbolIcon.folderForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,C.localize)(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=(0,k.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,C.localize)(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=(0,k.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,C.localize)(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=(0,k.registerColor)("symbolIcon.keyForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,C.localize)(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=(0,k.registerColor)("symbolIcon.keywordForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,C.localize)(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=(0,k.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,C.localize)(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=(0,k.registerColor)("symbolIcon.moduleForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,C.localize)(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=(0,k.registerColor)("symbolIcon.namespaceForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,C.localize)(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=(0,k.registerColor)("symbolIcon.nullForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,C.localize)(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.numberForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,C.localize)(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=(0,k.registerColor)("symbolIcon.objectForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,C.localize)(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.operatorForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,C.localize)(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=(0,k.registerColor)("symbolIcon.packageForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,C.localize)(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=(0,k.registerColor)("symbolIcon.propertyForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,C.localize)(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=(0,k.registerColor)("symbolIcon.referenceForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,C.localize)(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=(0,k.registerColor)("symbolIcon.snippetForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,C.localize)(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=(0,k.registerColor)("symbolIcon.stringForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,C.localize)(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=(0,k.registerColor)("symbolIcon.structForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,C.localize)(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=(0,k.registerColor)("symbolIcon.textForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,C.localize)(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=(0,k.registerColor)("symbolIcon.typeParameterForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,C.localize)(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=(0,k.registerColor)("symbolIcon.unitForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,C.localize)(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=(0,k.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,C.localize)(32,null)),(0,I.registerThemingParticipant)((L,b)=>{const v=L.getColor(e.SYMBOL_ICON_ARRAY_FOREGROUND);v&&b.addRule(`${w.Codicon.symbolArray.cssSelector} { color: ${v}; }`);const u=L.getColor(e.SYMBOL_ICON_BOOLEAN_FOREGROUND);u&&b.addRule(`${w.Codicon.symbolBoolean.cssSelector} { color: ${u}; }`);const g=L.getColor(e.SYMBOL_ICON_CLASS_FOREGROUND);g&&b.addRule(`${w.Codicon.symbolClass.cssSelector} { color: ${g}; }`);const n=L.getColor(e.SYMBOL_ICON_METHOD_FOREGROUND);n&&b.addRule(`${w.Codicon.symbolMethod.cssSelector} { color: ${n}; }`);const i=L.getColor(e.SYMBOL_ICON_COLOR_FOREGROUND);i&&b.addRule(`${w.Codicon.symbolColor.cssSelector} { color: ${i}; }`);const t=L.getColor(e.SYMBOL_ICON_CONSTANT_FOREGROUND);t&&b.addRule(`${w.Codicon.symbolConstant.cssSelector} { color: ${t}; }`);const r=L.getColor(e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND);r&&b.addRule(`${w.Codicon.symbolConstructor.cssSelector} { color: ${r}; }`);const l=L.getColor(e.SYMBOL_ICON_ENUMERATOR_FOREGROUND);l&&b.addRule(`
			${w.Codicon.symbolValue.cssSelector},${w.Codicon.symbolEnum.cssSelector} { color: ${l}; }`);const d=L.getColor(e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND);d&&b.addRule(`${w.Codicon.symbolEnumMember.cssSelector} { color: ${d}; }`);const a=L.getColor(e.SYMBOL_ICON_EVENT_FOREGROUND);a&&b.addRule(`${w.Codicon.symbolEvent.cssSelector} { color: ${a}; }`);const s=L.getColor(e.SYMBOL_ICON_FIELD_FOREGROUND);s&&b.addRule(`${w.Codicon.symbolField.cssSelector} { color: ${s}; }`);const o=L.getColor(e.SYMBOL_ICON_FILE_FOREGROUND);o&&b.addRule(`${w.Codicon.symbolFile.cssSelector} { color: ${o}; }`);const c=L.getColor(e.SYMBOL_ICON_FOLDER_FOREGROUND);c&&b.addRule(`${w.Codicon.symbolFolder.cssSelector} { color: ${c}; }`);const f=L.getColor(e.SYMBOL_ICON_FUNCTION_FOREGROUND);f&&b.addRule(`${w.Codicon.symbolFunction.cssSelector} { color: ${f}; }`);const p=L.getColor(e.SYMBOL_ICON_INTERFACE_FOREGROUND);p&&b.addRule(`${w.Codicon.symbolInterface.cssSelector} { color: ${p}; }`);const _=L.getColor(e.SYMBOL_ICON_KEY_FOREGROUND);_&&b.addRule(`${w.Codicon.symbolKey.cssSelector} { color: ${_}; }`);const m=L.getColor(e.SYMBOL_ICON_KEYWORD_FOREGROUND);m&&b.addRule(`${w.Codicon.symbolKeyword.cssSelector} { color: ${m}; }`);const h=L.getColor(e.SYMBOL_ICON_MODULE_FOREGROUND);h&&b.addRule(`${w.Codicon.symbolModule.cssSelector} { color: ${h}; }`);const S=L.getColor(e.SYMBOL_ICON_NAMESPACE_FOREGROUND);S&&b.addRule(`${w.Codicon.symbolNamespace.cssSelector} { color: ${S}; }`);const y=L.getColor(e.SYMBOL_ICON_NULL_FOREGROUND);y&&b.addRule(`${w.Codicon.symbolNull.cssSelector} { color: ${y}; }`);const E=L.getColor(e.SYMBOL_ICON_NUMBER_FOREGROUND);E&&b.addRule(`${w.Codicon.symbolNumber.cssSelector} { color: ${E}; }`);const N=L.getColor(e.SYMBOL_ICON_OBJECT_FOREGROUND);N&&b.addRule(`${w.Codicon.symbolObject.cssSelector} { color: ${N}; }`);const T=L.getColor(e.SYMBOL_ICON_OPERATOR_FOREGROUND);T&&b.addRule(`${w.Codicon.symbolOperator.cssSelector} { color: ${T}; }`);const R=L.getColor(e.SYMBOL_ICON_PACKAGE_FOREGROUND);R&&b.addRule(`${w.Codicon.symbolPackage.cssSelector} { color: ${R}; }`);const F=L.getColor(e.SYMBOL_ICON_PROPERTY_FOREGROUND);F&&b.addRule(`${w.Codicon.symbolProperty.cssSelector} { color: ${F}; }`);const O=L.getColor(e.SYMBOL_ICON_REFERENCE_FOREGROUND);O&&b.addRule(`${w.Codicon.symbolReference.cssSelector} { color: ${O}; }`);const D=L.getColor(e.SYMBOL_ICON_SNIPPET_FOREGROUND);D&&b.addRule(`${w.Codicon.symbolSnippet.cssSelector} { color: ${D}; }`);const M=L.getColor(e.SYMBOL_ICON_STRING_FOREGROUND);M&&b.addRule(`${w.Codicon.symbolString.cssSelector} { color: ${M}; }`);const P=L.getColor(e.SYMBOL_ICON_STRUCT_FOREGROUND);P&&b.addRule(`${w.Codicon.symbolStruct.cssSelector} { color: ${P}; }`);const B=L.getColor(e.SYMBOL_ICON_TEXT_FOREGROUND);B&&b.addRule(`${w.Codicon.symbolText.cssSelector} { color: ${B}; }`);const W=L.getColor(e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND);W&&b.addRule(`${w.Codicon.symbolTypeParameter.cssSelector} { color: ${W}; }`);const V=L.getColor(e.SYMBOL_ICON_UNIT_FOREGROUND);V&&b.addRule(`${w.Codicon.symbolUnit.cssSelector} { color: ${V}; }`);const A=L.getColor(e.SYMBOL_ICON_VARIABLE_FOREGROUND);A&&b.addRule(`${w.Codicon.symbolVariable.cssSelector} { color: ${A}; }`)})}),define(re[301],ae([1,0,7,52,669,29,16,53,15]),function($,e,w,C,k,I,L,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorService=void 0;let u=class extends k.AbstractCodeEditorService{constructor(n,i){super(i);this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=n.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this.registerCodeEditorOpenHandler((t,r,l)=>Se(this,void 0,void 0,function*(){return r?this.doOpenEditor(r,t):null}))}_checkContextKey(){let n=!1;for(const i of this.listCodeEditors())if(!i.isSimpleWidget){n=!0;break}this._editorIsOpen.set(n)}setActiveCodeEditor(n){this._activeCodeEditor=n}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(n,i){if(!this.findModel(n,i.resource)){if(i.resource){const l=i.resource.scheme;if(l===C.Schemas.http||l===C.Schemas.https)return(0,w.windowOpenNoOpener)(i.resource.toString()),n}return null}const r=i.options?i.options.selection:null;if(r)if(typeof r.endLineNumber=="number"&&typeof r.endColumn=="number")n.setSelection(r),n.revealRangeInCenter(r,1);else{const l={lineNumber:r.startLineNumber,column:r.startColumn};n.setPosition(l),n.revealPositionInCenter(l,1)}return n}findModel(n,i){const t=n.getModel();return t&&t.uri.toString()!==i.toString()?null:t}};u=ke([me(0,L.IContextKeyService),me(1,v.IThemeService)],u),e.StandaloneCodeEditorService=u,(0,b.registerSingleton)(I.ICodeEditorService,u)}),define(re[689],ae([1,0,54,25]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_light=e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[C.editorBackground]:"#FFFFFE",[C.editorForeground]:"#000000",[C.editorInactiveSelection]:"#E5EBF1",[w.editorIndentGuides]:"#D3D3D3",[w.editorActiveIndentGuides]:"#939393",[C.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[C.editorBackground]:"#1E1E1E",[C.editorForeground]:"#D4D4D4",[C.editorInactiveSelection]:"#3A3D41",[w.editorIndentGuides]:"#404040",[w.editorActiveIndentGuides]:"#707070",[C.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[C.editorBackground]:"#000000",[C.editorForeground]:"#FFFFFF",[w.editorIndentGuides]:"#FFFFFF",[w.editorActiveIndentGuides]:"#FFFFFF"}},e.hc_light={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[C.editorBackground]:"#FFFFFF",[C.editorForeground]:"#292929",[w.editorIndentGuides]:"#292929",[w.editorActiveIndentGuides]:"#292929"}}}),define(re[38],ae([1,0,43,27,6,55,2,73,26,16,9,15]),function($,e,w,C,k,I,L,b,v,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=e.isIMenuItem=void 0;function i(d){return d.command!==void 0}e.isIMenuItem=i;class t{constructor(a){if(t._instances.has(a))throw new TypeError(`MenuId with identifier '${a}' already exists. Use MenuId.for(ident) or a unique identifier`);t._instances.set(a,this),this.id=a}}e.MenuId=t,t._instances=new Map,t.CommandPalette=new t("CommandPalette"),t.DebugBreakpointsContext=new t("DebugBreakpointsContext"),t.DebugCallStackContext=new t("DebugCallStackContext"),t.DebugConsoleContext=new t("DebugConsoleContext"),t.DebugVariablesContext=new t("DebugVariablesContext"),t.DebugWatchContext=new t("DebugWatchContext"),t.DebugToolBar=new t("DebugToolBar"),t.DebugToolBarStop=new t("DebugToolBarStop"),t.EditorContext=new t("EditorContext"),t.SimpleEditorContext=new t("SimpleEditorContext"),t.EditorContextCopy=new t("EditorContextCopy"),t.EditorContextPeek=new t("EditorContextPeek"),t.EditorContextShare=new t("EditorContextShare"),t.EditorTitle=new t("EditorTitle"),t.EditorTitleRun=new t("EditorTitleRun"),t.EditorTitleContext=new t("EditorTitleContext"),t.EmptyEditorGroup=new t("EmptyEditorGroup"),t.EmptyEditorGroupContext=new t("EmptyEditorGroupContext"),t.ExplorerContext=new t("ExplorerContext"),t.ExtensionContext=new t("ExtensionContext"),t.GlobalActivity=new t("GlobalActivity"),t.CommandCenter=new t("CommandCenter"),t.LayoutControlMenuSubmenu=new t("LayoutControlMenuSubmenu"),t.LayoutControlMenu=new t("LayoutControlMenu"),t.MenubarMainMenu=new t("MenubarMainMenu"),t.MenubarAppearanceMenu=new t("MenubarAppearanceMenu"),t.MenubarDebugMenu=new t("MenubarDebugMenu"),t.MenubarEditMenu=new t("MenubarEditMenu"),t.MenubarCopy=new t("MenubarCopy"),t.MenubarFileMenu=new t("MenubarFileMenu"),t.MenubarGoMenu=new t("MenubarGoMenu"),t.MenubarHelpMenu=new t("MenubarHelpMenu"),t.MenubarLayoutMenu=new t("MenubarLayoutMenu"),t.MenubarNewBreakpointMenu=new t("MenubarNewBreakpointMenu"),t.MenubarPanelAlignmentMenu=new t("MenubarPanelAlignmentMenu"),t.MenubarPanelPositionMenu=new t("MenubarPanelPositionMenu"),t.MenubarPreferencesMenu=new t("MenubarPreferencesMenu"),t.MenubarRecentMenu=new t("MenubarRecentMenu"),t.MenubarSelectionMenu=new t("MenubarSelectionMenu"),t.MenubarShare=new t("MenubarShare"),t.MenubarSwitchEditorMenu=new t("MenubarSwitchEditorMenu"),t.MenubarSwitchGroupMenu=new t("MenubarSwitchGroupMenu"),t.MenubarTerminalMenu=new t("MenubarTerminalMenu"),t.MenubarViewMenu=new t("MenubarViewMenu"),t.MenubarHomeMenu=new t("MenubarHomeMenu"),t.OpenEditorsContext=new t("OpenEditorsContext"),t.ProblemsPanelContext=new t("ProblemsPanelContext"),t.SCMChangeContext=new t("SCMChangeContext"),t.SCMResourceContext=new t("SCMResourceContext"),t.SCMResourceFolderContext=new t("SCMResourceFolderContext"),t.SCMResourceGroupContext=new t("SCMResourceGroupContext"),t.SCMSourceControl=new t("SCMSourceControl"),t.SCMTitle=new t("SCMTitle"),t.SearchContext=new t("SearchContext"),t.StatusBarWindowIndicatorMenu=new t("StatusBarWindowIndicatorMenu"),t.StatusBarRemoteIndicatorMenu=new t("StatusBarRemoteIndicatorMenu"),t.TestItem=new t("TestItem"),t.TestItemGutter=new t("TestItemGutter"),t.TestPeekElement=new t("TestPeekElement"),t.TestPeekTitle=new t("TestPeekTitle"),t.TouchBarContext=new t("TouchBarContext"),t.TitleBarContext=new t("TitleBarContext"),t.TitleBarTitleContext=new t("TitleBarTitleContext"),t.TunnelContext=new t("TunnelContext"),t.TunnelPrivacy=new t("TunnelPrivacy"),t.TunnelProtocol=new t("TunnelProtocol"),t.TunnelPortInline=new t("TunnelInline"),t.TunnelTitle=new t("TunnelTitle"),t.TunnelLocalAddressInline=new t("TunnelLocalAddressInline"),t.TunnelOriginInline=new t("TunnelOriginInline"),t.ViewItemContext=new t("ViewItemContext"),t.ViewContainerTitle=new t("ViewContainerTitle"),t.ViewContainerTitleContext=new t("ViewContainerTitleContext"),t.ViewTitle=new t("ViewTitle"),t.ViewTitleContext=new t("ViewTitleContext"),t.CommentThreadTitle=new t("CommentThreadTitle"),t.CommentThreadActions=new t("CommentThreadActions"),t.CommentTitle=new t("CommentTitle"),t.CommentActions=new t("CommentActions"),t.InteractiveToolbar=new t("InteractiveToolbar"),t.InteractiveCellTitle=new t("InteractiveCellTitle"),t.InteractiveCellDelete=new t("InteractiveCellDelete"),t.InteractiveCellExecute=new t("InteractiveCellExecute"),t.InteractiveInputExecute=new t("InteractiveInputExecute"),t.NotebookToolbar=new t("NotebookToolbar"),t.NotebookCellTitle=new t("NotebookCellTitle"),t.NotebookCellDelete=new t("NotebookCellDelete"),t.NotebookCellInsert=new t("NotebookCellInsert"),t.NotebookCellBetween=new t("NotebookCellBetween"),t.NotebookCellListTop=new t("NotebookCellTop"),t.NotebookCellExecute=new t("NotebookCellExecute"),t.NotebookCellExecutePrimary=new t("NotebookCellExecutePrimary"),t.NotebookDiffCellInputTitle=new t("NotebookDiffCellInputTitle"),t.NotebookDiffCellMetadataTitle=new t("NotebookDiffCellMetadataTitle"),t.NotebookDiffCellOutputsTitle=new t("NotebookDiffCellOutputsTitle"),t.NotebookOutputToolbar=new t("NotebookOutputToolbar"),t.NotebookEditorLayoutConfigure=new t("NotebookEditorLayoutConfigure"),t.NotebookKernelSource=new t("NotebookKernelSource"),t.BulkEditTitle=new t("BulkEditTitle"),t.BulkEditContext=new t("BulkEditContext"),t.TimelineItemContext=new t("TimelineItemContext"),t.TimelineTitle=new t("TimelineTitle"),t.TimelineTitleContext=new t("TimelineTitleContext"),t.TimelineFilterSubMenu=new t("TimelineFilterSubMenu"),t.AccountsContext=new t("AccountsContext"),t.PanelTitle=new t("PanelTitle"),t.AuxiliaryBarTitle=new t("AuxiliaryBarTitle"),t.TerminalInstanceContext=new t("TerminalInstanceContext"),t.TerminalEditorInstanceContext=new t("TerminalEditorInstanceContext"),t.TerminalNewDropdownContext=new t("TerminalNewDropdownContext"),t.TerminalTabContext=new t("TerminalTabContext"),t.TerminalTabEmptyAreaContext=new t("TerminalTabEmptyAreaContext"),t.TerminalInlineTabContext=new t("TerminalInlineTabContext"),t.WebviewContext=new t("WebviewContext"),t.InlineCompletionsActions=new t("InlineCompletionsActions"),t.NewFile=new t("NewFile"),t.MergeToolbar=new t("MergeToolbar"),t.MergeInput1Toolbar=new t("MergeToolbar1Toolbar"),t.MergeInput2Toolbar=new t("MergeToolbar2Toolbar"),e.IMenuService=(0,g.createDecorator)("menuService"),e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new k.Emitter,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:d=>d===t.CommandPalette}}addCommand(d){return this.addCommands(I.Iterable.single(d))}addCommands(d){for(const a of d)this._commands.set(a.id,a);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,L.toDisposable)(()=>{let a=!1;for(const s of d)a=this._commands.delete(s.id)||a;a&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(d){return this._commands.get(d)}getCommands(){const d=new Map;return this._commands.forEach((a,s)=>d.set(s,a)),d}appendMenuItem(d,a){return this.appendMenuItems(I.Iterable.single({id:d,item:a}))}appendMenuItems(d){const a=new Set,s=new b.LinkedList;for(const{id:o,item:c}of d){let f=this._menuItems.get(o);f||(f=new b.LinkedList,this._menuItems.set(o,f)),s.push(f.push(c)),a.add(o)}return this._onDidChangeMenu.fire(a),(0,L.toDisposable)(()=>{if(s.size>0){for(const o of s)o();this._onDidChangeMenu.fire(a),s.clear()}})}getMenuItems(d){let a;return this._menuItems.has(d)?a=[...this._menuItems.get(d)]:a=[],d===t.CommandPalette&&this._appendImplicitItems(a),a}_appendImplicitItems(d){const a=new Set;for(const s of d)i(s)&&(a.add(s.command.id),s.alt&&a.add(s.alt.id));this._commands.forEach((s,o)=>{a.has(o)||d.push({command:s})})}};class r extends w.SubmenuAction{constructor(a,s,o,c){super(`submenuitem.${a.submenu.id}`,typeof a.title=="string"?a.title:a.title.value,[],"submenu");this.item=a,this._menuService=s,this._contextKeyService=o,this._options=c}get actions(){const a=[],s=this._menuService.createMenu(this.item.submenu,this._contextKeyService),o=s.getActions(this._options);s.dispose();for(const[,c]of o)c.length>0&&(a.push(...c),a.push(new w.Separator));return a.length&&a.pop(),a}}e.SubmenuItemAction=r;let l=class Ai{constructor(a,s,o,c,f,p){var _,m;if(this.hideActions=c,this._commandService=p,this.id=a.id,this.label=(o==null?void 0:o.renderShortTitle)&&a.shortTitle?typeof a.shortTitle=="string"?a.shortTitle:a.shortTitle.value:typeof a.title=="string"?a.title:a.title.value,this.tooltip=(m=typeof a.tooltip=="string"?a.tooltip:(_=a.tooltip)===null||_===void 0?void 0:_.value)!==null&&m!==void 0?m:"",this.enabled=!a.precondition||f.contextMatchesRules(a.precondition),this.checked=void 0,a.toggled){const h=a.toggled.condition?a.toggled:{condition:a.toggled};this.checked=f.contextMatchesRules(h.condition),this.checked&&h.tooltip&&(this.tooltip=typeof h.tooltip=="string"?h.tooltip:h.tooltip.value),h.title&&(this.label=typeof h.title=="string"?h.title:h.title.value)}this.item=a,this.alt=s?new Ai(s,void 0,o,c,f,p):void 0,this._options=o,n.ThemeIcon.isThemeIcon(a.icon)&&(this.class=C.CSSIcon.asClassName(a.icon))}dispose(){}run(...a){var s,o;let c=[];return((s=this._options)===null||s===void 0?void 0:s.arg)&&(c=[...c,this._options.arg]),((o=this._options)===null||o===void 0?void 0:o.shouldForwardArgs)&&(c=[...c,...a]),this._commandService.executeCommand(this.id,...c)}};l=ke([me(4,u.IContextKeyService),me(5,v.ICommandService)],l),e.MenuItemAction=l}),define(re[12],ae([1,0,524,22,29,11,50,58,38,26,16,9,101,34,86,19,69]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.registerEditorContribution=e.registerInstantiatedEditorAction=e.registerMultiEditorAction=e.registerEditorAction=e.registerEditorCommand=e.registerModelAndPositionCommand=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0;class a{constructor(D){this.id=D.id,this.precondition=D.precondition,this._kbOpts=D.kbOpts,this._menuOpts=D.menuOpts,this._description=D.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const D=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const M of D){let P=M.kbExpr;this.precondition&&(P?P=g.ContextKeyExpr.and(P,this.precondition):P=this.precondition);const B={id:this.id,weight:M.weight,args:M.args,when:P,primary:M.primary,secondary:M.secondary,win:M.win,linux:M.linux,mac:M.mac};i.KeybindingsRegistry.registerKeybindingRule(B)}}u.CommandsRegistry.registerCommand({id:this.id,handler:(D,M)=>this.runCommand(D,M),description:this._description})}_registerMenuItem(D){v.MenuRegistry.appendMenuItem(D.menuId,{group:D.group,command:{id:this.id,title:D.title,icon:D.icon,precondition:this.precondition},when:D.when,order:D.order})}}e.Command=a;class s extends a{constructor(){super(...arguments);this._implementations=[]}addImplementation(D,M,P){return this._implementations.push({priority:D,name:M,implementation:P}),this._implementations.sort((B,W)=>W.priority-B.priority),{dispose:()=>{for(let B=0;B<this._implementations.length;B++)if(this._implementations[B].implementation===P){this._implementations.splice(B,1);return}}}}runCommand(D,M){const P=D.get(d.ILogService);P.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const B of this._implementations){const W=B.implementation(D,M);if(W)return P.trace(`Command '${this.id}' was handled by '${B.name}'.`),typeof W=="boolean"?void 0:W}P.trace(`The Command '${this.id}' was not handled by any implementation.`)}}e.MultiCommand=s;class o extends a{constructor(D,M){super(M);this.command=D}runCommand(D,M){return this.command.runCommand(D,M)}}e.ProxyCommand=o;class c extends a{static bindToContribution(D){return class extends c{constructor(P){super(P);this._callback=P.handler}runEditorCommand(P,B,W){const V=D(B);V&&this._callback(V,W)}}}static runEditorCommand(D,M,P,B){const W=D.get(k.ICodeEditorService),V=W.getFocusedCodeEditor()||W.getActiveCodeEditor();if(!!V)return V.invokeWithinContext(A=>{if(!!A.get(g.IContextKeyService).contextMatchesRules((0,l.withNullAsUndefined)(P)))return B(A,V,M)})}runCommand(D,M){return c.runEditorCommand(D,M,this.precondition,(P,B,W)=>this.runEditorCommand(P,B,W))}}e.EditorCommand=c;class f extends c{constructor(D){super(f.convertOptions(D));this.label=D.label,this.alias=D.alias}static convertOptions(D){let M;Array.isArray(D.menuOpts)?M=D.menuOpts:D.menuOpts?M=[D.menuOpts]:M=[];function P(B){return B.menuId||(B.menuId=v.MenuId.EditorContext),B.title||(B.title=D.label),B.when=g.ContextKeyExpr.and(D.precondition,B.when),B}return Array.isArray(D.contextMenuOpts)?M.push(...D.contextMenuOpts.map(P)):D.contextMenuOpts&&M.push(P(D.contextMenuOpts)),D.menuOpts=M,D}runEditorCommand(D,M,P){return this.reportTelemetry(D,M),this.run(D,M,P||{})}reportTelemetry(D,M){D.get(r.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=f;class p extends f{constructor(){super(...arguments);this._implementations=[]}addImplementation(D,M){return this._implementations.push([D,M]),this._implementations.sort((P,B)=>B[0]-P[0]),{dispose:()=>{for(let P=0;P<this._implementations.length;P++)if(this._implementations[P][1]===M){this._implementations.splice(P,1);return}}}}run(D,M,P){for(const B of this._implementations){const W=B[1](D,M,P);if(W)return typeof W=="boolean"?void 0:W}}}e.MultiEditorAction=p;function _(O,D){u.CommandsRegistry.registerCommand(O,function(M,...P){const B=M.get(n.IInstantiationService),[W,V]=P;(0,l.assertType)(C.URI.isUri(W)),(0,l.assertType)(I.Position.isIPosition(V));const A=M.get(L.IModelService).getModel(W);if(A){const Q=I.Position.lift(V);return B.invokeFunction(D,A,Q,...P.slice(2))}return M.get(b.ITextModelService).createModelReference(W).then(Q=>new Promise((J,H)=>{try{const q=B.invokeFunction(D,Q.object.textEditorModel,I.Position.lift(V),P.slice(2));J(q)}catch(q){H(q)}}).finally(()=>{Q.dispose()}))})}e.registerModelAndPositionCommand=_;function m(O){return R.INSTANCE.registerEditorCommand(O),O}e.registerEditorCommand=m;function h(O){const D=new O;return R.INSTANCE.registerEditorAction(D),D}e.registerEditorAction=h;function S(O){return R.INSTANCE.registerEditorAction(O),O}e.registerMultiEditorAction=S;function y(O){R.INSTANCE.registerEditorAction(O)}e.registerInstantiatedEditorAction=y;function E(O,D){R.INSTANCE.registerEditorContribution(O,D)}e.registerEditorContribution=E;var N;(function(O){function D(V){return R.INSTANCE.getEditorCommand(V)}O.getEditorCommand=D;function M(){return R.INSTANCE.getEditorActions()}O.getEditorActions=M;function P(){return R.INSTANCE.getEditorContributions()}O.getEditorContributions=P;function B(V){return R.INSTANCE.getEditorContributions().filter(A=>V.indexOf(A.id)>=0)}O.getSomeEditorContributions=B;function W(){return R.INSTANCE.getDiffEditorContributions()}O.getDiffEditorContributions=W})(N=e.EditorExtensionsRegistry||(e.EditorExtensionsRegistry={}));const T={EditorCommonContributions:"editor.contributions"};class R{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(D,M){this.editorContributions.push({id:D,ctor:M})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(D){D.register(),this.editorActions.push(D)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(D){D.register(),this.editorCommands[D.id]=D}getEditorCommand(D){return this.editorCommands[D]||null}}R.INSTANCE=new R,t.Registry.add(T.EditorCommonContributions,R.INSTANCE);function F(O){return O.register(),O}e.UndoCommand=F(new s({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2048|56},menuOpts:[{menuId:v.MenuId.MenubarEditMenu,group:"1_do",title:w.localize(0,null),order:1},{menuId:v.MenuId.CommandPalette,group:"",title:w.localize(1,null),order:1}]})),F(new o(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=F(new s({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2048|55,secondary:[2048|1024|56],mac:{primary:2048|1024|56}},menuOpts:[{menuId:v.MenuId.MenubarEditMenu,group:"1_do",title:w.localize(2,null),order:2},{menuId:v.MenuId.CommandPalette,group:"",title:w.localize(3,null),order:1}]})),F(new o(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=F(new s({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2048|31},menuOpts:[{menuId:v.MenuId.MenubarSelectionMenu,group:"1_basic",title:w.localize(4,null),order:1},{menuId:v.MenuId.CommandPalette,group:"",title:w.localize(5,null),order:1}]}))}),define(re[169],ae([1,0,523,41,19,49,12,29,412,61,181,182,216,11,3,24,16,101]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const s=0;class o extends L.EditorCommand{runEditorCommand(R,F,O){const D=F._getViewModel();!D||this.runCoreEditorCommand(D,O||{})}}e.CoreEditorCommand=o;var c;(function(T){const R=function(O){if(!k.isObject(O))return!1;const D=O;return!(!k.isString(D.to)||!k.isUndefined(D.by)&&!k.isString(D.by)||!k.isUndefined(D.value)&&!k.isNumber(D.value)||!k.isUndefined(D.revealCursor)&&!k.isBoolean(D.revealCursor))};T.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:R,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},T.RawDirection={Up:"up",Down:"down"},T.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor"};function F(O){let D;switch(O.to){case T.RawDirection.Up:D=1;break;case T.RawDirection.Down:D=2;break;default:return null}let M;switch(O.by){case T.RawUnit.Line:M=1;break;case T.RawUnit.WrappedLine:M=2;break;case T.RawUnit.Page:M=3;break;case T.RawUnit.HalfPage:M=4;break;case T.RawUnit.Editor:M=5;break;default:M=2}const P=Math.floor(O.value||1),B=!!O.revealCursor;return{direction:D,unit:M,value:P,revealCursor:B,select:!!O.select}}T.parse=F})(c=e.EditorScroll_||(e.EditorScroll_={}));var f;(function(T){const R=function(F){if(!k.isObject(F))return!1;const O=F;return!(!k.isNumber(O.lineNumber)&&!k.isString(O.lineNumber)||!k.isUndefined(O.at)&&!k.isString(O.at))};T.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:R,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},T.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(f=e.RevealLine_||(e.RevealLine_={}));class p{constructor(R){R.addImplementation(1e4,"code-editor",(F,O)=>{const D=F.get(b.ICodeEditorService).getFocusedCodeEditor();return D&&D.hasTextFocus()?this._runEditorCommand(F,D,O):!1}),R.addImplementation(1e3,"generic-dom-input-textarea",(F,O)=>{const D=document.activeElement;return D&&["input","textarea"].indexOf(D.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),R.addImplementation(0,"generic-dom",(F,O)=>{const D=F.get(b.ICodeEditorService).getActiveCodeEditor();return D?(D.focus(),this._runEditorCommand(F,D,O)):!1})}_runEditorCommand(R,F,O){const D=this.runEditorCommand(R,F,O);return D||!0}}var _;(function(T){class R extends o{constructor(te){super(te);this._minimalReveal=te.minimalReveal,this._inSelectionMode=te.inSelectionMode}runCoreEditorCommand(te,de){te.model.pushStackElement(),te.setCursorStates(de.source,3,[n.CursorMoveCommands.moveTo(te,te.getPrimaryCursorState(),this._inSelectionMode,de.position,de.viewPosition)])&&te.revealPrimaryCursor(de.source,!0,this._minimalReveal)}}T.MoveTo=(0,L.registerEditorCommand)(new R({id:"_moveTo",minimalReveal:!0,inSelectionMode:!1,precondition:void 0})),T.MoveToSelect=(0,L.registerEditorCommand)(new R({id:"_moveToSelect",minimalReveal:!1,inSelectionMode:!0,precondition:void 0}));class F extends o{runCoreEditorCommand(te,de){te.model.pushStackElement();const x=this._getColumnSelectResult(te,te.getPrimaryCursorState(),te.getCursorColumnSelectData(),de);te.setCursorStates(de.source,3,x.viewStates.map(oe=>u.CursorState.fromViewState(oe))),te.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:x.fromLineNumber,fromViewVisualColumn:x.fromVisualColumn,toViewLineNumber:x.toLineNumber,toViewVisualColumn:x.toVisualColumn}),x.reversed?te.revealTopMostCursor(de.source):te.revealBottomMostCursor(de.source)}}T.ColumnSelect=(0,L.registerEditorCommand)(new class extends F{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(Y,te,de,x){const oe=Y.model.validatePosition(x.position),ne=Y.coordinatesConverter.validateViewPosition(new t.Position(x.viewPosition.lineNumber,x.viewPosition.column),oe),j=x.doColumnSelect?de.fromViewLineNumber:ne.lineNumber,se=x.doColumnSelect?de.fromViewVisualColumn:x.mouseColumn-1;return v.ColumnSelection.columnSelect(Y.cursorConfig,Y,j,se,ne.lineNumber,x.mouseColumn-1)}}),T.CursorColumnSelectLeft=(0,L.registerEditorCommand)(new class extends F{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|1024|512|15,linux:{primary:0}}})}_getColumnSelectResult(Y,te,de,x){return v.ColumnSelection.columnSelectLeft(Y.cursorConfig,Y,de)}}),T.CursorColumnSelectRight=(0,L.registerEditorCommand)(new class extends F{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|1024|512|17,linux:{primary:0}}})}_getColumnSelectResult(Y,te,de,x){return v.ColumnSelection.columnSelectRight(Y.cursorConfig,Y,de)}});class O extends F{constructor(te){super(te);this._isPaged=te.isPaged}_getColumnSelectResult(te,de,x,oe){return v.ColumnSelection.columnSelectUp(te.cursorConfig,te,x,this._isPaged)}}T.CursorColumnSelectUp=(0,L.registerEditorCommand)(new O({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|1024|512|16,linux:{primary:0}}})),T.CursorColumnSelectPageUp=(0,L.registerEditorCommand)(new O({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|1024|512|11,linux:{primary:0}}}));class D extends F{constructor(te){super(te);this._isPaged=te.isPaged}_getColumnSelectResult(te,de,x,oe){return v.ColumnSelection.columnSelectDown(te.cursorConfig,te,x,this._isPaged)}}T.CursorColumnSelectDown=(0,L.registerEditorCommand)(new D({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|1024|512|18,linux:{primary:0}}})),T.CursorColumnSelectPageDown=(0,L.registerEditorCommand)(new D({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|1024|512|12,linux:{primary:0}}}));class M extends o{constructor(){super({id:"cursorMove",precondition:void 0,description:n.CursorMove.description})}runCoreEditorCommand(te,de){const x=n.CursorMove.parse(de);!x||this._runCursorMove(te,de.source,x)}_runCursorMove(te,de,x){te.model.pushStackElement(),te.setCursorStates(de,3,M._move(te,te.getCursorStates(),x)),te.revealPrimaryCursor(de,!0)}static _move(te,de,x){const oe=x.select,ne=x.value;switch(x.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return n.CursorMoveCommands.simpleMove(te,de,x.direction,oe,ne,x.unit);case 11:case 13:case 12:case 14:return n.CursorMoveCommands.viewportMove(te,de,x.direction,oe,ne);default:return null}}}T.CursorMoveImpl=M,T.CursorMove=(0,L.registerEditorCommand)(new M);class P extends o{constructor(te){super(te);this._staticArgs=te.args}runCoreEditorCommand(te,de){let x=this._staticArgs;this._staticArgs.value===-1&&(x={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:de.pageSize||te.cursorConfig.pageSize}),te.model.pushStackElement(),te.setCursorStates(de.source,3,n.CursorMoveCommands.simpleMove(te,te.getCursorStates(),x.direction,x.select,x.value,x.unit)),te.revealPrimaryCursor(de.source,!0)}}T.CursorLeft=(0,L.registerEditorCommand)(new P({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[256|32]}}})),T.CursorLeftSelect=(0,L.registerEditorCommand)(new P({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:1024|15}})),T.CursorRight=(0,L.registerEditorCommand)(new P({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[256|36]}}})),T.CursorRightSelect=(0,L.registerEditorCommand)(new P({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:1024|17}})),T.CursorUp=(0,L.registerEditorCommand)(new P({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[256|46]}}})),T.CursorUpSelect=(0,L.registerEditorCommand)(new P({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:1024|16,secondary:[2048|1024|16],mac:{primary:1024|16},linux:{primary:1024|16}}})),T.CursorPageUp=(0,L.registerEditorCommand)(new P({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:11}})),T.CursorPageUpSelect=(0,L.registerEditorCommand)(new P({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:1024|11}})),T.CursorDown=(0,L.registerEditorCommand)(new P({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[256|44]}}})),T.CursorDownSelect=(0,L.registerEditorCommand)(new P({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:1024|18,secondary:[2048|1024|18],mac:{primary:1024|18},linux:{primary:1024|18}}})),T.CursorPageDown=(0,L.registerEditorCommand)(new P({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:12}})),T.CursorPageDownSelect=(0,L.registerEditorCommand)(new P({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:1024|12}})),T.CreateCursor=(0,L.registerEditorCommand)(new class extends o{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(Y,te){let de;te.wholeLine?de=n.CursorMoveCommands.line(Y,Y.getPrimaryCursorState(),!1,te.position,te.viewPosition):de=n.CursorMoveCommands.moveTo(Y,Y.getPrimaryCursorState(),!1,te.position,te.viewPosition);const x=Y.getCursorStates();if(x.length>1){const oe=de.modelState?de.modelState.position:null,ne=de.viewState?de.viewState.position:null;for(let j=0,se=x.length;j<se;j++){const z=x[j];if(!(oe&&!z.modelState.selection.containsPosition(oe))&&!(ne&&!z.viewState.selection.containsPosition(ne))){x.splice(j,1),Y.model.pushStackElement(),Y.setCursorStates(te.source,3,x);return}}}x.push(de),Y.model.pushStackElement(),Y.setCursorStates(te.source,3,x)}}),T.LastCursorMoveToSelect=(0,L.registerEditorCommand)(new class extends o{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(Y,te){const de=Y.getLastAddedCursorIndex(),x=Y.getCursorStates(),oe=x.slice(0);oe[de]=n.CursorMoveCommands.moveTo(Y,x[de],!0,te.position,te.viewPosition),Y.model.pushStackElement(),Y.setCursorStates(te.source,3,oe)}});class B extends o{constructor(te){super(te);this._inSelectionMode=te.inSelectionMode}runCoreEditorCommand(te,de){te.model.pushStackElement(),te.setCursorStates(de.source,3,n.CursorMoveCommands.moveToBeginningOfLine(te,te.getCursorStates(),this._inSelectionMode)),te.revealPrimaryCursor(de.source,!0)}}T.CursorHome=(0,L.registerEditorCommand)(new B({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2048|15]}}})),T.CursorHomeSelect=(0,L.registerEditorCommand)(new B({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:1024|14,mac:{primary:1024|14,secondary:[2048|1024|15]}}}));class W extends o{constructor(te){super(te);this._inSelectionMode=te.inSelectionMode}runCoreEditorCommand(te,de){te.model.pushStackElement(),te.setCursorStates(de.source,3,this._exec(te.getCursorStates())),te.revealPrimaryCursor(de.source,!0)}_exec(te){const de=[];for(let x=0,oe=te.length;x<oe;x++){const ne=te[x],j=ne.modelState.position.lineNumber;de[x]=u.CursorState.fromModelState(ne.modelState.move(this._inSelectionMode,j,1,0))}return de}}T.CursorLineStart=(0,L.registerEditorCommand)(new W({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|31}}})),T.CursorLineStartSelect=(0,L.registerEditorCommand)(new W({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|31}}}));class V extends o{constructor(te){super(te);this._inSelectionMode=te.inSelectionMode}runCoreEditorCommand(te,de){te.model.pushStackElement(),te.setCursorStates(de.source,3,n.CursorMoveCommands.moveToEndOfLine(te,te.getCursorStates(),this._inSelectionMode,de.sticky||!1)),te.revealPrimaryCursor(de.source,!0)}}T.CursorEnd=(0,L.registerEditorCommand)(new V({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2048|17]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:w.localize(0,null),type:"boolean",default:!1}}}}]}})),T.CursorEndSelect=(0,L.registerEditorCommand)(new V({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:1024|13,mac:{primary:1024|13,secondary:[2048|1024|17]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:w.localize(1,null),type:"boolean",default:!1}}}}]}}));class A extends o{constructor(te){super(te);this._inSelectionMode=te.inSelectionMode}runCoreEditorCommand(te,de){te.model.pushStackElement(),te.setCursorStates(de.source,3,this._exec(te,te.getCursorStates())),te.revealPrimaryCursor(de.source,!0)}_exec(te,de){const x=[];for(let oe=0,ne=de.length;oe<ne;oe++){const j=de[oe],se=j.modelState.position.lineNumber,z=te.model.getLineMaxColumn(se);x[oe]=u.CursorState.fromModelState(j.modelState.move(this._inSelectionMode,se,z,0))}return x}}T.CursorLineEnd=(0,L.registerEditorCommand)(new A({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|35}}})),T.CursorLineEndSelect=(0,L.registerEditorCommand)(new A({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|35}}}));class Q extends o{constructor(te){super(te);this._inSelectionMode=te.inSelectionMode}runCoreEditorCommand(te,de){te.model.pushStackElement(),te.setCursorStates(de.source,3,n.CursorMoveCommands.moveToBeginningOfBuffer(te,te.getCursorStates(),this._inSelectionMode)),te.revealPrimaryCursor(de.source,!0)}}T.CursorTop=(0,L.registerEditorCommand)(new Q({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|14,mac:{primary:2048|16}}})),T.CursorTopSelect=(0,L.registerEditorCommand)(new Q({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|1024|14,mac:{primary:2048|1024|16}}}));class J extends o{constructor(te){super(te);this._inSelectionMode=te.inSelectionMode}runCoreEditorCommand(te,de){te.model.pushStackElement(),te.setCursorStates(de.source,3,n.CursorMoveCommands.moveToEndOfBuffer(te,te.getCursorStates(),this._inSelectionMode)),te.revealPrimaryCursor(de.source,!0)}}T.CursorBottom=(0,L.registerEditorCommand)(new J({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|13,mac:{primary:2048|18}}})),T.CursorBottomSelect=(0,L.registerEditorCommand)(new J({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|1024|13,mac:{primary:2048|1024|18}}}));class H extends o{constructor(){super({id:"editorScroll",precondition:void 0,description:c.description})}runCoreEditorCommand(te,de){const x=c.parse(de);!x||this._runEditorScroll(te,de.source,x)}_runEditorScroll(te,de,x){const oe=this._computeDesiredScrollTop(te,x);if(x.revealCursor){const ne=te.getCompletelyVisibleViewRangeAtScrollTop(oe);te.setCursorStates(de,3,[n.CursorMoveCommands.findPositionInViewportIfOutside(te,te.getPrimaryCursorState(),ne,x.select)])}te.viewLayout.setScrollPosition({scrollTop:oe},0)}_computeDesiredScrollTop(te,de){if(de.unit===1){const ne=te.getCompletelyVisibleViewRange(),j=te.coordinatesConverter.convertViewRangeToModelRange(ne);let se;de.direction===1?se=Math.max(1,j.startLineNumber-de.value):se=Math.min(te.model.getLineCount(),j.startLineNumber+de.value);const z=te.coordinatesConverter.convertModelPositionToViewPosition(new t.Position(se,1));return te.viewLayout.getVerticalOffsetForLineNumber(z.lineNumber)}if(de.unit===5){let ne=0;return de.direction===2&&(ne=te.model.getLineCount()-te.cursorConfig.pageSize),te.viewLayout.getVerticalOffsetForLineNumber(ne)}let x;de.unit===3?x=te.cursorConfig.pageSize*de.value:de.unit===4?x=Math.round(te.cursorConfig.pageSize/2)*de.value:x=de.value;const oe=(de.direction===1?-1:1)*x;return te.viewLayout.getCurrentScrollTop()+oe*te.cursorConfig.lineHeight}}T.EditorScrollImpl=H,T.EditorScroll=(0,L.registerEditorCommand)(new H),T.ScrollLineUp=(0,L.registerEditorCommand)(new class extends o{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|16,mac:{primary:256|11}}})}runCoreEditorCommand(Y,te){T.EditorScroll._runEditorScroll(Y,te.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),T.ScrollPageUp=(0,L.registerEditorCommand)(new class extends o{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|11,win:{primary:512|11},linux:{primary:512|11}}})}runCoreEditorCommand(Y,te){T.EditorScroll._runEditorScroll(Y,te.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),T.ScrollEditorTop=(0,L.registerEditorCommand)(new class extends o{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(Y,te){T.EditorScroll._runEditorScroll(Y,te.source,{direction:1,unit:5,value:1,revealCursor:!1,select:!1})}}),T.ScrollLineDown=(0,L.registerEditorCommand)(new class extends o{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|18,mac:{primary:256|12}}})}runCoreEditorCommand(Y,te){T.EditorScroll._runEditorScroll(Y,te.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),T.ScrollPageDown=(0,L.registerEditorCommand)(new class extends o{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|12,win:{primary:512|12},linux:{primary:512|12}}})}runCoreEditorCommand(Y,te){T.EditorScroll._runEditorScroll(Y,te.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}}),T.ScrollEditorBottom=(0,L.registerEditorCommand)(new class extends o{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(Y,te){T.EditorScroll._runEditorScroll(Y,te.source,{direction:2,unit:5,value:1,revealCursor:!1,select:!1})}});class q extends o{constructor(te){super(te);this._inSelectionMode=te.inSelectionMode}runCoreEditorCommand(te,de){te.model.pushStackElement(),te.setCursorStates(de.source,3,[n.CursorMoveCommands.word(te,te.getPrimaryCursorState(),this._inSelectionMode,de.position)]),te.revealPrimaryCursor(de.source,!0)}}T.WordSelect=(0,L.registerEditorCommand)(new q({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),T.WordSelectDrag=(0,L.registerEditorCommand)(new q({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),T.LastCursorWordSelect=(0,L.registerEditorCommand)(new class extends o{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(Y,te){const de=Y.getLastAddedCursorIndex(),x=Y.getCursorStates(),oe=x.slice(0),ne=x[de];oe[de]=n.CursorMoveCommands.word(Y,ne,ne.modelState.hasSelection(),te.position),Y.model.pushStackElement(),Y.setCursorStates(te.source,3,oe)}});class Z extends o{constructor(te){super(te);this._inSelectionMode=te.inSelectionMode}runCoreEditorCommand(te,de){te.model.pushStackElement(),te.setCursorStates(de.source,3,[n.CursorMoveCommands.line(te,te.getPrimaryCursorState(),this._inSelectionMode,de.position,de.viewPosition)]),te.revealPrimaryCursor(de.source,!1)}}T.LineSelect=(0,L.registerEditorCommand)(new Z({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),T.LineSelectDrag=(0,L.registerEditorCommand)(new Z({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class ie extends o{constructor(te){super(te);this._inSelectionMode=te.inSelectionMode}runCoreEditorCommand(te,de){const x=te.getLastAddedCursorIndex(),oe=te.getCursorStates(),ne=oe.slice(0);ne[x]=n.CursorMoveCommands.line(te,oe[x],this._inSelectionMode,de.position,de.viewPosition),te.model.pushStackElement(),te.setCursorStates(de.source,3,ne)}}T.LastCursorLineSelect=(0,L.registerEditorCommand)(new ie({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),T.LastCursorLineSelectDrag=(0,L.registerEditorCommand)(new ie({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),T.CancelSelection=(0,L.registerEditorCommand)(new class extends o{constructor(){super({id:"cancelSelection",precondition:l.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(Y,te){Y.model.pushStackElement(),Y.setCursorStates(te.source,3,[n.CursorMoveCommands.cancelSelection(Y,Y.getPrimaryCursorState())]),Y.revealPrimaryCursor(te.source,!0)}}),T.RemoveSecondaryCursors=(0,L.registerEditorCommand)(new class extends o{constructor(){super({id:"removeSecondaryCursors",precondition:l.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:s+1,kbExpr:l.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(Y,te){Y.model.pushStackElement(),Y.setCursorStates(te.source,3,[Y.getPrimaryCursorState()]),Y.revealPrimaryCursor(te.source,!0),(0,I.status)(w.localize(2,null))}}),T.RevealLine=(0,L.registerEditorCommand)(new class extends o{constructor(){super({id:"revealLine",precondition:void 0,description:f.description})}runCoreEditorCommand(Y,te){const de=te,x=de.lineNumber||0;let oe=typeof x=="number"?x+1:parseInt(x)+1;oe<1&&(oe=1);const ne=Y.model.getLineCount();oe>ne&&(oe=ne);const j=new r.Range(oe,1,oe,Y.model.getLineMaxColumn(oe));let se=0;if(de.at)switch(de.at){case f.RawAtArgument.Top:se=3;break;case f.RawAtArgument.Center:se=1;break;case f.RawAtArgument.Bottom:se=4;break;default:break}const z=Y.coordinatesConverter.convertModelRangeToViewRange(j);Y.revealRange(te.source,!1,z,se,0)}}),T.SelectAll=new class extends p{constructor(){super(L.SelectAllCommand)}runDOMCommand(){C.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(Y,te,de){const x=te._getViewModel();!x||this.runCoreEditorCommand(x,de)}runCoreEditorCommand(Y,te){Y.model.pushStackElement(),Y.setCursorStates("keyboard",3,[n.CursorMoveCommands.selectAll(Y,Y.getPrimaryCursorState())])}},T.SetSelection=(0,L.registerEditorCommand)(new class extends o{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(Y,te){Y.model.pushStackElement(),Y.setCursorStates(te.source,3,[u.CursorState.fromModelSelection(te.selection)])}})})(_=e.CoreNavigationCommands||(e.CoreNavigationCommands={}));const m=d.ContextKeyExpr.and(l.EditorContextKeys.textInputFocus,l.EditorContextKeys.columnSelection);function h(T,R){a.KeybindingsRegistry.registerKeybindingRule({id:T,primary:R,when:m,weight:s+1})}h(_.CursorColumnSelectLeft.id,1024|15),h(_.CursorColumnSelectRight.id,1024|17),h(_.CursorColumnSelectUp.id,1024|16),h(_.CursorColumnSelectPageUp.id,1024|11),h(_.CursorColumnSelectDown.id,1024|18),h(_.CursorColumnSelectPageDown.id,1024|12);function S(T){return T.register(),T}var y;(function(T){class R extends L.EditorCommand{runEditorCommand(O,D,M){const P=D._getViewModel();!P||this.runCoreEditingCommand(D,P,M||{})}}T.CoreEditingCommand=R,T.LineBreakInsert=(0,L.registerEditorCommand)(new class extends R{constructor(){super({id:"lineBreakInsert",precondition:l.EditorContextKeys.writable,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|45}}})}runCoreEditingCommand(F,O,D){F.pushUndoStop(),F.executeCommands(this.id,i.TypeOperations.lineBreakInsert(O.cursorConfig,O.model,O.getCursorStates().map(M=>M.modelState.selection)))}}),T.Outdent=(0,L.registerEditorCommand)(new class extends R{constructor(){super({id:"outdent",precondition:l.EditorContextKeys.writable,kbOpts:{weight:s,kbExpr:d.ContextKeyExpr.and(l.EditorContextKeys.editorTextFocus,l.EditorContextKeys.tabDoesNotMoveFocus),primary:1024|2}})}runCoreEditingCommand(F,O,D){F.pushUndoStop(),F.executeCommands(this.id,i.TypeOperations.outdent(O.cursorConfig,O.model,O.getCursorStates().map(M=>M.modelState.selection))),F.pushUndoStop()}}),T.Tab=(0,L.registerEditorCommand)(new class extends R{constructor(){super({id:"tab",precondition:l.EditorContextKeys.writable,kbOpts:{weight:s,kbExpr:d.ContextKeyExpr.and(l.EditorContextKeys.editorTextFocus,l.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(F,O,D){F.pushUndoStop(),F.executeCommands(this.id,i.TypeOperations.tab(O.cursorConfig,O.model,O.getCursorStates().map(M=>M.modelState.selection))),F.pushUndoStop()}}),T.DeleteLeft=(0,L.registerEditorCommand)(new class extends R{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:1,secondary:[1024|1],mac:{primary:1,secondary:[1024|1,256|38,256|1]}}})}runCoreEditingCommand(F,O,D){const[M,P]=g.DeleteOperations.deleteLeft(O.getPrevEditOperationType(),O.cursorConfig,O.model,O.getCursorStates().map(B=>B.modelState.selection),O.getCursorAutoClosedCharacters());M&&F.pushUndoStop(),F.executeCommands(this.id,P),O.setPrevEditOperationType(2)}}),T.DeleteRight=(0,L.registerEditorCommand)(new class extends R{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:s,kbExpr:l.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[256|34,256|20]}}})}runCoreEditingCommand(F,O,D){const[M,P]=g.DeleteOperations.deleteRight(O.getPrevEditOperationType(),O.cursorConfig,O.model,O.getCursorStates().map(B=>B.modelState.selection));M&&F.pushUndoStop(),F.executeCommands(this.id,P),O.setPrevEditOperationType(3)}}),T.Undo=new class extends p{constructor(){super(L.UndoCommand)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(F,O,D){if(!(!O.hasModel()||O.getOption(83)===!0))return O.getModel().undo()}},T.Redo=new class extends p{constructor(){super(L.RedoCommand)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(F,O,D){if(!(!O.hasModel()||O.getOption(83)===!0))return O.getModel().redo()}}})(y=e.CoreEditingCommands||(e.CoreEditingCommands={}));class E extends L.Command{constructor(R,F,O){super({id:R,precondition:void 0,description:O});this._handlerId=F}runCommand(R,F){const O=R.get(b.ICodeEditorService).getFocusedCodeEditor();!O||O.trigger("keyboard",this._handlerId,F)}}function N(T,R){S(new E("default:"+T,T)),S(new E(T,T,R))}N("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),N("replacePreviousChar"),N("compositionType"),N("compositionStart"),N("compositionEnd"),N("paste"),N("cut")}),define(re[690],ae([1,0,209,12]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let k=class{constructor(L,b){}dispose(){}};k.ID="editor.contrib.markerDecorations",k=ke([me(1,w.IMarkerDecorationsService)],k),e.MarkerDecorationsContribution=k,(0,C.registerEditorContribution)(k.ID,k)}),define(re[691],ae([1,0,169,11,17]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class I{constructor(b,v,u,g){this.configuration=b,this.viewModel=v,this.userInputEvents=u,this.commandDelegate=g}paste(b,v,u,g){this.commandDelegate.paste(b,v,u,g)}type(b){this.commandDelegate.type(b)}compositionType(b,v,u,g){this.commandDelegate.compositionType(b,v,u,g)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(b){w.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:b})}_validateViewColumn(b){const v=this.viewModel.getLineMinColumn(b.lineNumber);return b.column<v?new C.Position(b.lineNumber,v):b}_hasMulticursorModifier(b){switch(this.configuration.options.get(72)){case"altKey":return b.altKey;case"ctrlKey":return b.ctrlKey;case"metaKey":return b.metaKey;default:return!1}}_hasNonMulticursorModifier(b){switch(this.configuration.options.get(72)){case"altKey":return b.ctrlKey||b.metaKey;case"ctrlKey":return b.altKey||b.metaKey;case"metaKey":return b.ctrlKey||b.altKey;default:return!1}}dispatchMouse(b){const v=this.configuration.options,u=k.isLinux&&v.get(98),g=v.get(18);b.middleButton&&!u?this._columnSelect(b.position,b.mouseColumn,b.inSelectionMode):b.startedOnLineNumbers?this._hasMulticursorModifier(b)?b.inSelectionMode?this._lastCursorLineSelect(b.position):this._createCursor(b.position,!0):b.inSelectionMode?this._lineSelectDrag(b.position):this._lineSelect(b.position):b.mouseDownCount>=4?this._selectAll():b.mouseDownCount===3?this._hasMulticursorModifier(b)?b.inSelectionMode?this._lastCursorLineSelectDrag(b.position):this._lastCursorLineSelect(b.position):b.inSelectionMode?this._lineSelectDrag(b.position):this._lineSelect(b.position):b.mouseDownCount===2?b.onInjectedText||(this._hasMulticursorModifier(b)?this._lastCursorWordSelect(b.position):b.inSelectionMode?this._wordSelectDrag(b.position):this._wordSelect(b.position)):this._hasMulticursorModifier(b)?this._hasNonMulticursorModifier(b)||(b.shiftKey?this._columnSelect(b.position,b.mouseColumn,!0):b.inSelectionMode?this._lastCursorMoveToSelect(b.position):this._createCursor(b.position,!1)):b.inSelectionMode?b.altKey?this._columnSelect(b.position,b.mouseColumn,!0):g?this._columnSelect(b.position,b.mouseColumn,!0):this._moveToSelect(b.position):this.moveTo(b.position)}_usualArgs(b){return b=this._validateViewColumn(b),{source:"mouse",position:this._convertViewToModelPosition(b),viewPosition:b}}moveTo(b){w.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_moveToSelect(b){w.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_columnSelect(b,v,u){b=this._validateViewColumn(b),w.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(b),viewPosition:b,mouseColumn:v,doColumnSelect:u})}_createCursor(b,v){b=this._validateViewColumn(b),w.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(b),viewPosition:b,wholeLine:v})}_lastCursorMoveToSelect(b){w.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_wordSelect(b){w.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_wordSelectDrag(b){w.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_lastCursorWordSelect(b){w.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_lineSelect(b){w.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_lineSelectDrag(b){w.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_lastCursorLineSelect(b){w.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_lastCursorLineSelectDrag(b){w.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(b))}_selectAll(){w.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(b){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(b)}emitKeyDown(b){this.userInputEvents.emitKeyDown(b)}emitKeyUp(b){this.userInputEvents.emitKeyUp(b)}emitContextMenu(b){this.userInputEvents.emitContextMenu(b)}emitMouseMove(b){this.userInputEvents.emitMouseMove(b)}emitMouseLeave(b){this.userInputEvents.emitMouseLeave(b)}emitMouseUp(b){this.userInputEvents.emitMouseUp(b)}emitMouseDown(b){this.userInputEvents.emitMouseDown(b)}emitMouseDrag(b){this.userInputEvents.emitMouseDrag(b)}emitMouseDrop(b){this.userInputEvents.emitMouseDrop(b)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(b){this.userInputEvents.emitMouseWheel(b)}}e.ViewController=I}),define(re[692],ae([1,0,7,23,33,14,667,676,691,229,502,47,500,674,436,670,186,675,297,668,437,244,438,671,439,677,446,678,672,673,679,440,11,3,125,447,443,129,15,296,435]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f,p,_,m,h,S,y,E,N,T,R,F,O,D,M,P,B,W,V,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;class Q extends B.ViewEventHandler{constructor(q,Z,ie,Y,te,de){super();this._selections=[new C.Selection(1,1,1,1)],this._renderAnimationFrame=null;const x=new v.ViewController(Z,Y,te,q);this._context=new M.ViewContext(Z,ie,Y),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=new b.TextAreaHandler(this._context,x,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,k.createFastDomNode)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,k.createFastDomNode)(document.createElement("div")),n.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new l.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new o.ViewLines(this._context,this._linesContent),this._viewZones=new R.ViewZones(this._context),this._viewParts.push(this._viewZones);const oe=new h.DecorationsOverviewRuler(this._context);this._viewParts.push(oe);const ne=new E.ScrollDecorationViewPart(this._context);this._viewParts.push(ne);const j=new g.ContentViewOverlays(this._context);this._viewParts.push(j),j.addDynamicOverlay(new t.CurrentLineHighlightOverlay(this._context)),j.addDynamicOverlay(new N.SelectionsOverlay(this._context)),j.addDynamicOverlay(new a.IndentGuidesOverlay(this._context)),j.addDynamicOverlay(new r.DecorationsOverlay(this._context));const se=new g.MarginViewOverlays(this._context);this._viewParts.push(se),se.addDynamicOverlay(new t.CurrentLineMarginHighlightOverlay(this._context)),se.addDynamicOverlay(new d.GlyphMarginOverlay(this._context)),se.addDynamicOverlay(new p.MarginViewLineDecorationsOverlay(this._context)),se.addDynamicOverlay(new c.LinesDecorationsOverlay(this._context)),se.addDynamicOverlay(new s.LineNumbersOverlay(this._context));const z=new f.Margin(this._context);z.getDomNode().appendChild(this._viewZones.marginDomNode),z.getDomNode().appendChild(se.getDomNode()),this._viewParts.push(z),this._contentWidgets=new i.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new T.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new m.ViewOverlayWidgets(this._context),this._viewParts.push(this._overlayWidgets);const X=new y.Rulers(this._context);this._viewParts.push(X);const G=new A.BlockDecorations(this._context);this._viewParts.push(G);const U=new _.Minimap(this._context);if(this._viewParts.push(U),oe){const K=this._scrollbar.getOverviewRulerLayoutInfo();K.parent.insertBefore(oe.getDomNode(),K.insertBefore)}this._linesContent.appendChild(j.getDomNode()),this._linesContent.appendChild(X.domNode),this._linesContent.appendChild(G.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(z.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(ne.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(U.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),de?de.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new L.PointerHandler(this._context,x,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:q=>{this._textAreaHandler.textArea.domNode.dispatchEvent(q)},getLastRenderData:()=>{const q=this._viewCursors.getLastRenderData()||[],Z=this._textAreaHandler.getLastRenderData();return new V.PointerHandlerLastRenderData(q,Z)},shouldSuppressMouseDownOnViewZone:q=>this._viewZones.shouldSuppressMouseDownOnViewZone(q),shouldSuppressMouseDownOnWidget:q=>this._contentWidgets.shouldSuppressMouseDownOnWidget(q),getPositionFromDOMInfo:(q,Z)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(q,Z)),visibleRangeForPosition:(q,Z)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new F.Position(q,Z))),getLineWidth:q=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(q))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:q=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(q))}}_applyLayout(){const Z=this._context.configuration.options.get(133);this.domNode.setWidth(Z.width),this.domNode.setHeight(Z.height),this._overflowGuardContainer.setWidth(Z.width),this._overflowGuardContainer.setHeight(Z.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const q=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(130)+" "+(0,W.getThemeTypeSelector)(this._context.theme.type)+q}handleEvents(q){super.handleEvents(q),this._scheduleRender()}onConfigurationChanged(q){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(q){return this._selections=q.selections,!1}onFocusChanged(q){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(q){return this._context.theme.update(q.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const q of this._viewParts)q.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=w.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){J(()=>this._actualRender())}_getViewPartsToRender(){const q=[];let Z=0;for(const ie of this._viewParts)ie.shouldRender()&&(q[Z++]=ie);return q}_actualRender(){if(!w.isInDOM(this.domNode.domNode))return;let q=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&q.length===0)return;const Z=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(Z.startLineNumber,Z.endLineNumber,Z.centeredLineNumber);const ie=new P.ViewportData(this._selections,Z,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(ie),this._viewLines.shouldRender()&&(this._viewLines.renderText(ie),this._viewLines.onDidRender(),q=this._getViewPartsToRender());const Y=new D.RenderingContext(this._context.viewLayout,ie,this._viewLines);for(const te of q)te.prepareRender(Y);for(const te of q)te.render(Y),te.onDidRender()}delegateVerticalScrollbarPointerDown(q){this._scrollbar.delegateVerticalScrollbarPointerDown(q)}restoreState(q){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:q.scrollTop},1),this._context.viewModel.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:q.scrollLeft},1)}getOffsetForColumn(q,Z){const ie=this._context.viewModel.model.validatePosition({lineNumber:q,column:Z}),Y=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(ie);this._flushAccumulatedAndRenderNow();const te=this._viewLines.visibleRangeForPosition(new F.Position(Y.lineNumber,Y.column));return te?te.left:-1}getTargetAtClientPoint(q,Z){const ie=this._pointerHandler.getTargetAtClientPoint(q,Z);return ie?u.ViewUserInputEvents.convertViewToModelMouseTarget(ie,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(q){return new S.OverviewRuler(this._context,q)}change(q){this._viewZones.changeViewZones(q),this._scheduleRender()}render(q,Z){if(Z){this._viewLines.forceShouldRender();for(const ie of this._viewParts)ie.forceShouldRender()}q?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(q){this._textAreaHandler.setAriaOptions(q)}addContentWidget(q){this._contentWidgets.addWidget(q.widget),this.layoutContentWidget(q),this._scheduleRender()}layoutContentWidget(q){var Z,ie;let Y=q.position&&q.position.range||null;if(Y===null){const de=q.position?q.position.position:null;de!==null&&(Y=new O.Range(de.lineNumber,de.column,de.lineNumber,de.column))}const te=q.position?q.position.preference:null;this._contentWidgets.setWidgetPosition(q.widget,Y,te,(ie=(Z=q.position)===null||Z===void 0?void 0:Z.positionAffinity)!==null&&ie!==void 0?ie:null),this._scheduleRender()}removeContentWidget(q){this._contentWidgets.removeWidget(q.widget),this._scheduleRender()}addOverlayWidget(q){this._overlayWidgets.addWidget(q.widget),this.layoutOverlayWidget(q),this._scheduleRender()}layoutOverlayWidget(q){const Z=q.position?q.position.preference:null;this._overlayWidgets.setWidgetPosition(q.widget,Z)&&this._scheduleRender()}removeOverlayWidget(q){this._overlayWidgets.removeWidget(q.widget),this._scheduleRender()}}e.View=Q;function J(H){try{return H()}catch(q){(0,I.onUnexpectedError)(q)}}}),define(re[693],ae([1,0,49,64,59,12,23,24,538,16,371]),function($,e,w,C,k,I,L,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new u.RawContextKey("selectionAnchorSet",!1);let g=class Ri{constructor(d,a){this.editor=d,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(a),this.modelChangeListener=d.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(d){return d.getContribution(Ri.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const d=this.editor.getPosition();this.editor.changeDecorations(a=>{this.decorationId&&a.removeDecoration(this.decorationId),this.decorationId=a.addDecoration(L.Selection.fromPositions(d,d),{description:"selection-anchor",stickiness:1,hoverMessage:new C.MarkdownString().appendText((0,v.localize)(0,null)),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,w.alert)((0,v.localize)(1,null,d.lineNumber,d.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const d=this.editor.getModel().getDecorationRange(this.decorationId);d&&this.editor.setPosition(d.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const d=this.editor.getModel().getDecorationRange(this.decorationId);if(d){const a=this.editor.getPosition();this.editor.setSelection(L.Selection.fromPositions(d.getStartPosition(),a)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const d=this.decorationId;this.editor.changeDecorations(a=>{a.removeDecoration(d),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};g.ID="editor.contrib.selectionAnchorController",g=ke([me(1,u.IContextKeyService)],g);class n extends I.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,v.localize)(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|32),weight:100}})}run(d,a){var s;return Se(this,void 0,void 0,function*(){(s=g.get(a))===null||s===void 0||s.setSelectionAnchor()})}}class i extends I.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,v.localize)(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}run(d,a){var s;return Se(this,void 0,void 0,function*(){(s=g.get(a))===null||s===void 0||s.goToSelectionAnchor()})}}class t extends I.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,v.localize)(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|41),weight:100}})}run(d,a){var s;return Se(this,void 0,void 0,function*(){(s=g.get(a))===null||s===void 0||s.selectFromAnchorToCursor()})}}class r extends I.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,v.localize)(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}run(d,a){var s;return Se(this,void 0,void 0,function*(){(s=g.get(a))===null||s===void 0||s.cancelSelectionAnchor()})}}(0,I.registerEditorContribution)(g.ID,g),(0,I.registerEditorAction)(n),(0,I.registerEditorAction)(i),(0,I.registerEditorAction)(t),(0,I.registerEditorAction)(r)}),define(re[694],ae([1,0,12,24,448,540]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class L extends w.EditorAction{constructor(g,n){super(n);this.left=g}run(g,n){if(!n.hasModel())return;const i=[],t=n.getSelections();for(const r of t)i.push(new k.MoveCaretCommand(r,this.left));n.pushUndoStop(),n.executeCommands(this.id,i),n.pushUndoStop()}}class b extends L{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:I.localize(0,null),alias:"Move Selected Text Left",precondition:C.EditorContextKeys.writable})}}class v extends L{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:I.localize(1,null),alias:"Move Selected Text Right",precondition:C.EditorContextKeys.writable})}}(0,w.registerEditorAction)(b),(0,w.registerEditorAction)(v)}),define(re[695],ae([1,0,12,108,180,3,24,541]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class v extends w.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:b.localize(0,null),alias:"Transpose Letters",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|50},weight:100}})}run(g,n){if(!n.hasModel())return;const i=n.getModel(),t=[],r=n.getSelections();for(const l of r){if(!l.isEmpty())continue;const d=l.startLineNumber,a=l.startColumn,s=i.getLineMaxColumn(d);if(d===1&&(a===1||a===2&&s===2))continue;const o=a===s?l.getPosition():k.MoveOperations.rightPosition(i,l.getPosition().lineNumber,l.getPosition().column),c=k.MoveOperations.leftPosition(i,o),f=k.MoveOperations.leftPosition(i,c),p=i.getValueInRange(I.Range.fromPositions(f,c)),_=i.getValueInRange(I.Range.fromPositions(c,o)),m=I.Range.fromPositions(f,o);t.push(new C.ReplaceCommand(m,_+p))}t.length>0&&(n.pushUndoStop(),n.executeCommands(this.id,t),n.pushUndoStop())}}(0,w.registerEditorAction)(v)}),define(re[696],ae([1,0,41,17,201,12,29,24,542,38,93]),function($,e,w,C,k,I,L,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const n="9_cutcopypaste",i=C.isNative||document.queryCommandSupported("cut"),t=C.isNative||document.queryCommandSupported("copy"),r=typeof navigator.clipboard=="undefined"||w.isFirefox?document.queryCommandSupported("paste"):!0;function l(s){return s.register(),s}e.CutAction=i?l(new I.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:C.isNative?{primary:2048|54,win:{primary:2048|54,secondary:[1024|20]},weight:100}:void 0,menuOpts:[{menuId:u.MenuId.MenubarEditMenu,group:"2_ccp",title:v.localize(0,null),order:1},{menuId:u.MenuId.EditorContext,group:n,title:v.localize(1,null),when:b.EditorContextKeys.writable,order:1},{menuId:u.MenuId.CommandPalette,group:"",title:v.localize(2,null),order:1},{menuId:u.MenuId.SimpleEditorContext,group:n,title:v.localize(3,null),when:b.EditorContextKeys.writable,order:1}]})):void 0,e.CopyAction=t?l(new I.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:C.isNative?{primary:2048|33,win:{primary:2048|33,secondary:[2048|19]},weight:100}:void 0,menuOpts:[{menuId:u.MenuId.MenubarEditMenu,group:"2_ccp",title:v.localize(4,null),order:2},{menuId:u.MenuId.EditorContext,group:n,title:v.localize(5,null),order:2},{menuId:u.MenuId.CommandPalette,group:"",title:v.localize(6,null),order:1},{menuId:u.MenuId.SimpleEditorContext,group:n,title:v.localize(7,null),order:2}]})):void 0,u.MenuRegistry.appendMenuItem(u.MenuId.MenubarEditMenu,{submenu:u.MenuId.MenubarCopy,title:{value:v.localize(8,null),original:"Copy As"},group:"2_ccp",order:3}),u.MenuRegistry.appendMenuItem(u.MenuId.EditorContext,{submenu:u.MenuId.EditorContextCopy,title:{value:v.localize(9,null),original:"Copy As"},group:n,order:3}),u.MenuRegistry.appendMenuItem(u.MenuId.EditorContext,{submenu:u.MenuId.EditorContextShare,title:{value:v.localize(10,null),original:"Share"},group:"11_share",order:-1}),e.PasteAction=r?l(new I.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:C.isNative?{primary:2048|52,win:{primary:2048|52,secondary:[1024|19]},linux:{primary:2048|52,secondary:[1024|19]},weight:100}:void 0,menuOpts:[{menuId:u.MenuId.MenubarEditMenu,group:"2_ccp",title:v.localize(11,null),order:4},{menuId:u.MenuId.EditorContext,group:n,title:v.localize(12,null),when:b.EditorContextKeys.writable,order:4},{menuId:u.MenuId.CommandPalette,group:"",title:v.localize(13,null),order:1},{menuId:u.MenuId.SimpleEditorContext,group:n,title:v.localize(14,null),when:b.EditorContextKeys.writable,order:4}]})):void 0;class d extends I.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:v.localize(15,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(o,c){!c.hasModel()||!c.getOption(33)&&c.getSelection().isEmpty()||(k.CopyOptions.forceCopyWithSyntaxHighlighting=!0,c.focus(),document.execCommand("copy"),k.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function a(s,o){!s||(s.addImplementation(1e4,"code-editor",(c,f)=>{const p=c.get(L.ICodeEditorService).getFocusedCodeEditor();if(p&&p.hasTextFocus()){const _=p.getOption(33),m=p.getSelection();return m&&m.isEmpty()&&!_||document.execCommand(o),!0}return!1}),s.addImplementation(0,"generic-dom",(c,f)=>(document.execCommand(o),!0)))}a(e.CutAction,"cut"),a(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(s,o)=>{const c=s.get(L.ICodeEditorService),f=s.get(g.IClipboardService),p=c.getFocusedCodeEditor();return p&&p.hasTextFocus()?!document.execCommand("paste")&&C.isWeb?(()=>Se(void 0,void 0,void 0,function*(){const m=yield f.readText();if(m!==""){const h=k.InMemoryClipboardMetadataManager.INSTANCE.get(m);let S=!1,y=null,E=null;h&&(S=p.getOption(33)&&!!h.isFromEmptySelection,y=typeof h.multicursorText!="undefined"?h.multicursorText:null,E=h.mode),p.trigger("keyboard","paste",{text:m,pasteOnNewLine:S,multicursorText:y,mode:E})}}))():!0:!1}),e.PasteAction.addImplementation(0,"generic-dom",(s,o)=>(document.execCommand("paste"),!0))),t&&(0,I.registerEditorAction)(d)}),define(re[697],ae([1,0,59,12,3,24,32,246,449,549,38]),function($,e,w,C,k,I,L,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n extends C.EditorAction{constructor(a,s){super(s);this._type=a}run(a,s){const o=a.get(L.ILanguageConfigurationService);if(!s.hasModel())return;const c=s.getModel(),f=[],p=c.getOptions(),_=s.getOption(19),m=s.getSelections().map((S,y)=>({selection:S,index:y,ignoreFirstLine:!1}));m.sort((S,y)=>k.Range.compareRangesUsingStarts(S.selection,y.selection));let h=m[0];for(let S=1;S<m.length;S++){const y=m[S];h.selection.endLineNumber===y.selection.startLineNumber&&(h.index<y.index?y.ignoreFirstLine=!0:(h.ignoreFirstLine=!0,h=y))}for(const S of m)f.push(new v.LineCommentCommand(o,S.selection,p.tabSize,this._type,_.insertSpace,_.ignoreEmptyLines,S.ignoreFirstLine));s.pushUndoStop(),s.executeCommands(this.id,f),s.pushUndoStop()}}class i extends n{constructor(){super(0,{id:"editor.action.commentLine",label:u.localize(0,null),alias:"Toggle Line Comment",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.editorTextFocus,primary:2048|85,weight:100},menuOpts:{menuId:g.MenuId.MenubarEditMenu,group:"5_insert",title:u.localize(1,null),order:1}})}}class t extends n{constructor(){super(1,{id:"editor.action.addCommentLine",label:u.localize(2,null),alias:"Add Line Comment",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.editorTextFocus,primary:(0,w.KeyChord)(2048|41,2048|33),weight:100}})}}class r extends n{constructor(){super(2,{id:"editor.action.removeCommentLine",label:u.localize(3,null),alias:"Remove Line Comment",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.editorTextFocus,primary:(0,w.KeyChord)(2048|41,2048|51),weight:100}})}}class l extends C.EditorAction{constructor(){super({id:"editor.action.blockComment",label:u.localize(4,null),alias:"Toggle Block Comment",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.editorTextFocus,primary:1024|512|31,linux:{primary:2048|1024|31},weight:100},menuOpts:{menuId:g.MenuId.MenubarEditMenu,group:"5_insert",title:u.localize(5,null),order:2}})}run(a,s){const o=a.get(L.ILanguageConfigurationService);if(!s.hasModel())return;const c=s.getOption(19),f=[],p=s.getSelections();for(const _ of p)f.push(new b.BlockCommentCommand(_,c.insertSpace,o));s.pushUndoStop(),s.executeCommands(this.id,f),s.pushUndoStop()}}(0,C.registerEditorAction)(i),(0,C.registerEditorAction)(t),(0,C.registerEditorAction)(r),(0,C.registerEditorAction)(l)}),define(re[698],ae([1,0,7,133,43,2,17,12,24,550,38,16,78,42,30]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let l=class Pi{constructor(s,o,c,f,p,_,m){this._contextMenuService=o,this._contextViewService=c,this._contextKeyService=f,this._keybindingService=p,this._menuService=_,this._configurationService=m,this._toDispose=new I.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=s,this._toDispose.add(this._editor.onContextMenu(h=>this._onContextMenu(h))),this._toDispose.add(this._editor.onMouseWheel(h=>{if(this._contextMenuIsBeingShownCount>0){const S=this._contextViewService.getContextViewElement(),y=h.srcElement;y.shadowRoot&&w.getShadowRoot(S)===y.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(h=>{!this._editor.getOption(20)||h.keyCode===58&&(h.preventDefault(),h.stopPropagation(),this.showContextMenu())}))}static get(s){return s.getContribution(Pi.ID)}_onContextMenu(s){if(!this._editor.hasModel())return;if(!this._editor.getOption(20)){this._editor.focus(),s.target.position&&!this._editor.getSelection().containsPosition(s.target.position)&&this._editor.setPosition(s.target.position);return}if(s.target.type===12||s.target.type===6&&s.target.detail.injectedText)return;if(s.event.preventDefault(),s.event.stopPropagation(),s.target.type===11)return this._showScrollbarContextMenu({x:s.event.posx-1,width:2,y:s.event.posy-1,height:2});if(s.target.type!==6&&s.target.type!==7&&s.target.type!==1)return;if(this._editor.focus(),s.target.position){let c=!1;for(const f of this._editor.getSelections())if(f.containsPosition(s.target.position)){c=!0;break}c||this._editor.setPosition(s.target.position)}let o=null;s.target.type!==1&&(o={x:s.event.posx-1,width:2,y:s.event.posy-1,height:2}),this.showContextMenu(o)}showContextMenu(s){if(!this._editor.getOption(20)||!this._editor.hasModel())return;const o=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?g.MenuId.SimpleEditorContext:g.MenuId.EditorContext);o.length>0&&this._doShowContextMenu(o,s)}_getMenuActions(s,o){const c=[],f=this._menuService.createMenu(o,this._contextKeyService),p=f.getActions({arg:s.uri});f.dispose();for(const _ of p){const[,m]=_;let h=0;for(const S of m)if(S instanceof g.SubmenuItemAction){const y=this._getMenuActions(s,S.item.submenu);y.length>0&&(c.push(new k.SubmenuAction(S.id,S.label,y)),h++)}else c.push(S),h++;h&&c.push(new k.Separator)}return c.length&&c.pop(),c}_doShowContextMenu(s,o=null){if(!this._editor.hasModel())return;const c=this._editor.getOption(55);if(this._editor.updateOptions({hover:{enabled:!1}}),!o){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const p=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),_=w.getDomNodePagePosition(this._editor.getDomNode()),m=_.left+p.left,h=_.top+p.top+p.height;o={x:m,y:h}}const f=this._editor.getOption(117)&&!L.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:f?this._editor.getDomNode():void 0,getAnchor:()=>o,getActions:()=>s,getActionViewItem:p=>{const _=this._keybindingFor(p);if(_)return new C.ActionViewItem(p,p,{label:!0,keybinding:_.getLabel(),isMenu:!0});const m=p;return typeof m.getActionViewItem=="function"?m.getActionViewItem():new C.ActionViewItem(p,p,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:p=>this._keybindingFor(p),onHide:p=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:c})}})}_showScrollbarContextMenu(s){if(!this._editor.hasModel())return;const o=this._editor.getOption(67);let c=0;const f=S=>({id:`menu-action-${++c}`,label:S.label,tooltip:"",class:void 0,enabled:typeof S.enabled=="undefined"?!0:S.enabled,checked:S.checked,run:S.run,dispose:()=>null}),p=(S,y)=>new k.SubmenuAction(`menu-action-${++c}`,S,y,void 0),_=(S,y,E,N,T)=>{if(!y)return f({label:S,enabled:y,run:()=>{}});const R=O=>()=>{this._configurationService.updateValue(E,O)},F=[];for(const O of T)F.push(f({label:O.label,checked:N===O.value,run:R(O.value)}));return p(S,F)},m=[];m.push(f({label:u.localize(0,null),checked:o.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!o.enabled)}})),m.push(new k.Separator),m.push(f({label:u.localize(1,null),enabled:o.enabled,checked:o.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!o.renderCharacters)}})),m.push(_(u.localize(2,null),o.enabled,"editor.minimap.size",o.size,[{label:u.localize(3,null),value:"proportional"},{label:u.localize(4,null),value:"fill"},{label:u.localize(5,null),value:"fit"}])),m.push(_(u.localize(6,null),o.enabled,"editor.minimap.showSlider",o.showSlider,[{label:u.localize(7,null),value:"mouseover"},{label:u.localize(8,null),value:"always"}]));const h=this._editor.getOption(117)&&!L.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:h?this._editor.getDomNode():void 0,getAnchor:()=>s,getActions:()=>m,onHide:S=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(s){return this._keybindingService.lookupKeybinding(s.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};l.ID="editor.contrib.contextmenu",l=ke([me(1,i.IContextMenuService),me(2,i.IContextViewService),me(3,n.IContextKeyService),me(4,t.IKeybindingService),me(5,g.IMenuService),me(6,r.IConfigurationService)],l),e.ContextMenuController=l;class d extends b.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:u.localize(9,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.textInputFocus,primary:1024|68,weight:100}})}run(s,o){var c;(c=l.get(o))===null||c===void 0||c.showContextMenu()}}(0,b.registerEditorContribution)(l.ID,l),(0,b.registerEditorAction)(d)}),define(re[699],ae([1,0,2,12,24,552]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class L{constructor(i){this.selections=i}equals(i){const t=this.selections.length,r=i.selections.length;if(t!==r)return!1;for(let l=0;l<t;l++)if(!this.selections[l].equalsSelection(i.selections[l]))return!1;return!0}}class b{constructor(i,t,r){this.cursorState=i,this.scrollTop=t,this.scrollLeft=r}}class v extends w.Disposable{constructor(i){super();this._editor=i,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(i.onDidChangeModel(t=>{this._undoStack=[],this._redoStack=[]})),this._register(i.onDidChangeModelContent(t=>{this._undoStack=[],this._redoStack=[]})),this._register(i.onDidChangeCursorSelection(t=>{if(this._isCursorUndoRedo||!t.oldSelections||t.oldModelVersionId!==t.modelVersionId)return;const r=new L(t.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(r)||(this._undoStack.push(new b(r,i.getScrollTop(),i.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(i){return i.getContribution(v.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new b(new L(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new b(new L(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(i){this._isCursorUndoRedo=!0,this._editor.setSelections(i.cursorState.selections),this._editor.setScrollPosition({scrollTop:i.scrollTop,scrollLeft:i.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=v,v.ID="editor.contrib.cursorUndoRedoController";class u extends C.EditorAction{constructor(){super({id:"cursorUndo",label:I.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:k.EditorContextKeys.textInputFocus,primary:2048|51,weight:100}})}run(i,t,r){var l;(l=v.get(t))===null||l===void 0||l.cursorUndo()}}e.CursorUndo=u;class g extends C.EditorAction{constructor(){super({id:"cursorRedo",label:I.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(i,t,r){var l;(l=v.get(t))===null||l===void 0||l.cursorRedo()}}e.CursorRedo=g,(0,C.registerEditorContribution)(v.ID,v),(0,C.registerEditorAction)(u),(0,C.registerEditorAction)(g)}),define(re[700],ae([1,0,12,16,21,73,9,53,554]),function($,e,w,C,k,I,L,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const u=(0,L.createDecorator)("IEditorCancelService"),g=new C.RawContextKey("cancellableOperation",!1,(0,v.localize)(0,null));(0,b.registerSingleton)(u,class{constructor(){this._tokens=new WeakMap}add(i,t){let r=this._tokens.get(i);r||(r=i.invokeWithinContext(d=>{const a=g.bindTo(d.get(C.IContextKeyService)),s=new I.LinkedList;return{key:a,tokens:s}}),this._tokens.set(i,r));let l;return r.key.set(!0),l=r.tokens.push(t),()=>{l&&(l(),r.key.set(!r.tokens.isEmpty()),l=void 0)}}cancel(i){const t=this._tokens.get(i);if(!t)return;const r=t.tokens.pop();r&&(r.cancel(),t.key.set(!t.tokens.isEmpty()))}},!0);class n extends k.CancellationTokenSource{constructor(t,r){super(r);this.editor=t,this._unregister=t.invokeWithinContext(l=>l.get(u).add(t,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=n,(0,w.registerEditorCommand)(new class extends w.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:g})}runEditorCommand(i,t){i.get(u).cancel(t)}})}),define(re[95],ae([1,0,8,3,21,2,700]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class b{constructor(n,i){if(this.flags=i,(this.flags&1)!=0){const t=n.getModel();this.modelVersionId=t?w.format("{0}#{1}",t.uri.toString(),t.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!=0?this.position=n.getPosition():this.position=null,(this.flags&2)!=0?this.selection=n.getSelection():this.selection=null,(this.flags&8)!=0?(this.scrollLeft=n.getScrollLeft(),this.scrollTop=n.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(n){if(!(n instanceof b))return!1;const i=n;return!(this.modelVersionId!==i.modelVersionId||this.scrollLeft!==i.scrollLeft||this.scrollTop!==i.scrollTop||!this.position&&i.position||this.position&&!i.position||this.position&&i.position&&!this.position.equals(i.position)||!this.selection&&i.selection||this.selection&&!i.selection||this.selection&&i.selection&&!this.selection.equalsRange(i.selection))}validate(n){return this._equals(new b(n,this.flags))}}e.EditorState=b;class v extends L.EditorKeybindingCancellationTokenSource{constructor(n,i,t,r){super(n,r);this._listener=new I.DisposableStore,i&4&&this._listener.add(n.onDidChangeCursorPosition(l=>{(!t||!C.Range.containsPosition(t,l.position))&&this.cancel()})),i&2&&this._listener.add(n.onDidChangeCursorSelection(l=>{(!t||!C.Range.containsRange(t,l.selection))&&this.cancel()})),i&8&&this._listener.add(n.onDidScrollChange(l=>this.cancel())),i&1&&(this._listener.add(n.onDidChangeModel(l=>this.cancel())),this._listener.add(n.onDidChangeModelContent(l=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=v;class u extends k.CancellationTokenSource{constructor(n,i){super(i);this._listener=n.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=u}),define(re[170],ae([1,0,18,21,14,2,22,95,3,23,50,26,71,131,20]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeActions=e.CodeActionItem=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorPreviewCommandId=e.refactorCommandId=e.codeActionCommandId=void 0,e.codeActionCommandId="editor.action.codeAction",e.refactorCommandId="editor.action.refactor",e.refactorPreviewCommandId="editor.action.refactor.preview",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class l{constructor(p,_){this.action=p,this.provider=_}resolve(p){var _;return Se(this,void 0,void 0,function*(){if(((_=this.provider)===null||_===void 0?void 0:_.resolveCodeAction)&&!this.action.edit){let m;try{m=yield this.provider.resolveCodeAction(this.action,p)}catch(h){(0,k.onUnexpectedExternalError)(h)}m&&(this.action.edit=m.edit)}return this})}}e.CodeActionItem=l;class d extends I.Disposable{constructor(p,_,m){super();this.documentation=_,this._register(m),this.allActions=[...p].sort(d.codeActionsComparator),this.validActions=this.allActions.filter(({action:h})=>!h.disabled)}static codeActionsComparator({action:p},{action:_}){return p.isPreferred&&!_.isPreferred?-1:!p.isPreferred&&_.isPreferred?1:(0,w.isNonEmptyArray)(p.diagnostics)?(0,w.isNonEmptyArray)(_.diagnostics)?p.diagnostics[0].message.localeCompare(_.diagnostics[0].message):-1:(0,w.isNonEmptyArray)(_.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:p})=>!!p.kind&&t.CodeActionKind.QuickFix.contains(new t.CodeActionKind(p.kind))&&!!p.isPreferred)}}const a={actions:[],documentation:void 0};function s(f,p,_,m,h,S){var y;const E=m.filter||{},N={only:(y=E.include)===null||y===void 0?void 0:y.value,trigger:m.type},T=new b.TextModelCancellationTokenSource(p,S),R=o(f,p,E),F=new I.DisposableStore,O=R.map(M=>Se(this,void 0,void 0,function*(){try{h.report(M);const P=yield M.provideCodeActions(p,_,N,T.token);if(P&&F.add(P),T.token.isCancellationRequested)return a;const B=((P==null?void 0:P.actions)||[]).filter(V=>V&&(0,t.filtersAction)(E,V)),W=c(M,B,E.include);return{actions:B.map(V=>new l(V,M)),documentation:W}}catch(P){if((0,k.isCancellationError)(P))throw P;return(0,k.onUnexpectedExternalError)(P),a}})),D=f.onDidChange(()=>{const M=f.all(p);(0,w.equals)(M,R)||T.cancel()});return Promise.all(O).then(M=>{const P=M.map(W=>W.actions).flat(),B=(0,w.coalesce)(M.map(W=>W.documentation));return new d(P,B,F)}).finally(()=>{D.dispose(),T.dispose()})}e.getCodeActions=s;function o(f,p,_){return f.all(p).filter(m=>m.providedCodeActionKinds?m.providedCodeActionKinds.some(h=>(0,t.mayIncludeActionsOfKind)(_,new t.CodeActionKind(h))):!0)}function c(f,p,_){if(!f.documentation)return;const m=f.documentation.map(h=>({kind:new t.CodeActionKind(h.kind),command:h.command}));if(_){let h;for(const S of m)S.kind.contains(_)&&(h?h.kind.contains(S.kind)&&(h=S):h=S);if(h)return h==null?void 0:h.command}for(const h of p)if(!!h.kind){for(const S of m)if(S.kind.contains(new t.CodeActionKind(h.kind)))return S.command}}n.CommandsRegistry.registerCommand("_executeCodeActionProvider",function(f,p,_,m,h){return Se(this,void 0,void 0,function*(){if(!(p instanceof L.URI))throw(0,k.illegalArgument)();const{codeActionProvider:S}=f.get(r.ILanguageFeaturesService),y=f.get(g.IModelService).getModel(p);if(!y)throw(0,k.illegalArgument)();const E=u.Selection.isISelection(_)?u.Selection.liftSelection(_):v.Range.isIRange(_)?y.validateRange(_):void 0;if(!E)throw(0,k.illegalArgument)();const N=typeof m=="string"?new t.CodeActionKind(m):void 0,T=yield s(S,y,E,{type:1,triggerAction:t.CodeActionTriggerSource.Default,filter:{includeSourceActions:!0,include:N}},i.Progress.None,C.CancellationToken.None),R=[],F=Math.min(T.validActions.length,typeof h=="number"?h:0);for(let O=0;O<F;O++)R.push(T.validActions[O].resolve(C.CancellationToken.None));try{return yield Promise.all(R),T.validActions.map(O=>O.action)}finally{setTimeout(()=>T.dispose(),100)}})})}),define(re[302],ae([1,0,7,113,43,14,145,2,11,20,170,131,544,30,16,78,42,86,15,374]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=e.CodeActionMenu=e.Context=void 0,e.Context={Visible:new r.RawContextKey("CodeActionMenuVisible",!1,(0,i.localize)(0,null))};class o extends k.Action{constructor(y,E){super(y.command?y.command.id:y.title,c(y.title),void 0,!y.disabled,E);this.action=y}}function c(S){return S.replace(/\r\n|\r|\n/g," ")}const f="codeActionWidget",p=26;let _=class{constructor(y,E){this.acceptKeybindings=y,this.keybindingService=E}get templateId(){return f}renderTemplate(y){const E=Object.create(null);return E.disposables=[],E.root=y,E.text=document.createElement("span"),y.append(E.text),E}renderElement(y,E,N){const T=N,R=y.title,F=y.isEnabled,O=y.isSeparator,D=y.isDocumentation;T.text.textContent=R,F?T.root.classList.remove("option-disabled"):(T.root.classList.add("option-disabled"),T.root.style.backgroundColor="transparent !important"),O&&(T.root.classList.add("separator"),T.root.style.height="10px"),D||(()=>{var P,B;const[W,V]=this.acceptKeybindings;T.root.title=(0,i.localize)(1,null,(P=this.keybindingService.lookupKeybinding(W))===null||P===void 0?void 0:P.getLabel(),(B=this.keybindingService.lookupKeybinding(V))===null||B===void 0?void 0:B.getLabel())})()}disposeTemplate(y){y.disposables=(0,b.dispose)(y.disposables)}};_=ke([me(1,d.IKeybindingService)],_);let m=class ri extends b.Disposable{constructor(y,E,N,T,R,F,O,D,M,P){super();this._editor=y,this._delegate=E,this._contextMenuService=N,this._languageFeaturesService=R,this._telemetryService=F,this._configurationService=D,this._contextViewService=M,this._contextKeyService=P,this._showingActions=this._register(new b.MutableDisposable),this.codeActionList=this._register(new b.MutableDisposable),this.options=[],this._visible=!1,this.viewItems=[],this.hasSeperator=!1,this._keybindingResolver=new h({getKeybindings:()=>T.getKeybindings()}),this._ctxMenuWidgetVisible=e.Context.Visible.bindTo(this._contextKeyService),this.listRenderer=new _(["onEnterSelectCodeAction","onEnterSelectCodeActionWithPreview"],T)}get isVisible(){return this._visible}isCodeActionWidgetEnabled(y){return this._configurationService.getValue("editor.experimental.useCustomCodeActionMenu",{resource:y.uri})}_onListSelection(y){y.elements.length&&y.elements.forEach(E=>{E.isEnabled&&(E.action.run(),this.hideCodeActionWidget())})}_onListHover(y){var E,N,T,R;y.element?((N=y.element)===null||N===void 0?void 0:N.isEnabled)?((T=this.codeActionList.value)===null||T===void 0||T.setFocus([y.element.index]),this.focusedEnabledItem=this.viewItems.indexOf(y.element),this.currSelectedItem=y.element.index):(this.currSelectedItem=void 0,(R=this.codeActionList.value)===null||R===void 0||R.setFocus([y.element.index])):(this.currSelectedItem=void 0,(E=this.codeActionList.value)===null||E===void 0||E.setFocus([]))}renderCodeActionMenuList(y,E){var N;const T=new b.DisposableStore,R=document.createElement("div"),F=document.createElement("div");this.block=y.appendChild(F),this.block.classList.add("context-view-block"),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",T.add(w.addDisposableListener(this.block,w.EventType.MOUSE_DOWN,W=>W.stopPropagation())),R.id="codeActionMenuWidget",R.classList.add("codeActionMenuWidget"),y.appendChild(R),this.codeActionList.value=new C.List("codeActionWidget",R,{getHeight(W){return W.isSeparator?10:p},getTemplateId(W){return"codeActionWidget"}},[this.listRenderer],{keyboardSupport:!1}),T.add(this.codeActionList.value.onMouseOver(W=>this._onListHover(W))),T.add(this.codeActionList.value.onDidChangeFocus(W=>{var V;return(V=this.codeActionList.value)===null||V===void 0?void 0:V.domFocus()})),T.add(this.codeActionList.value.onDidChangeSelection(W=>this._onListSelection(W))),T.add(this._editor.onDidLayoutChange(W=>this.hideCodeActionWidget())),E.forEach((W,V)=>{const A=W.class==="separator";let Q=!1;W instanceof o&&(Q=W.action.kind===ri.documentationID),A&&(this.hasSeperator=!0);const J={title:W.label,detail:W.tooltip,action:E[V],isEnabled:W.enabled,isSeparator:A,index:V,isDocumentation:Q};W.enabled&&this.viewItems.push(J),this.options.push(J)}),this.codeActionList.value.splice(0,this.codeActionList.value.length,this.options);const O=this.hasSeperator?(E.length-1)*p+10:E.length*p;R.style.height=String(O)+"px",this.codeActionList.value.layout(O);const D=[];this.options.forEach((W,V)=>{var A,Q;if(!this.codeActionList.value)return;const J=(Q=document.getElementById((A=this.codeActionList.value)===null||A===void 0?void 0:A.getElementID(V)))===null||Q===void 0?void 0:Q.getElementsByTagName("span")[0].offsetWidth;D.push(Number(J))});const M=Math.max(...D);R.style.width=M+52+"px",(N=this.codeActionList.value)===null||N===void 0||N.layout(O,M),this.viewItems.length<1||this.viewItems.every(W=>W.isDocumentation)?this.currSelectedItem=void 0:(this.focusedEnabledItem=0,this.currSelectedItem=this.viewItems[0].index,this.codeActionList.value.setFocus([this.currSelectedItem])),this.codeActionList.value.domFocus();const P=w.trackFocus(y),B=P.onDidBlur(()=>{this.hideCodeActionWidget()});return T.add(B),T.add(P),this._ctxMenuWidgetVisible.set(!0),T}focusPrevious(){var y;if(typeof this.focusedEnabledItem=="undefined")this.focusedEnabledItem=this.viewItems[0].index;else if(this.viewItems.length<1)return!1;const E=this.focusedEnabledItem;let N;do this.focusedEnabledItem=this.focusedEnabledItem-1,this.focusedEnabledItem<0&&(this.focusedEnabledItem=this.viewItems.length-1),N=this.viewItems[this.focusedEnabledItem],(y=this.codeActionList.value)===null||y===void 0||y.setFocus([N.index]),this.currSelectedItem=N.index;while(this.focusedEnabledItem!==E&&(!N.isEnabled||N.action.id===k.Separator.ID));return!0}focusNext(){var y;if(typeof this.focusedEnabledItem=="undefined")this.focusedEnabledItem=this.viewItems.length-1;else if(this.viewItems.length<1)return!1;const E=this.focusedEnabledItem;let N;do this.focusedEnabledItem=(this.focusedEnabledItem+1)%this.viewItems.length,N=this.viewItems[this.focusedEnabledItem],(y=this.codeActionList.value)===null||y===void 0||y.setFocus([N.index]),this.currSelectedItem=N.index;while(this.focusedEnabledItem!==E&&(!N.isEnabled||N.action.id===k.Separator.ID));return!0}navigateListWithKeysUp(){this.focusPrevious()}navigateListWithKeysDown(){this.focusNext()}onEnterSet(){var y;typeof this.currSelectedItem=="number"&&((y=this.codeActionList.value)===null||y===void 0||y.setSelection([this.currSelectedItem]))}dispose(){super.dispose()}hideCodeActionWidget(){this._ctxMenuWidgetVisible.reset(),this.options=[],this.viewItems=[],this.focusedEnabledItem=0,this.currSelectedItem=void 0,this.hasSeperator=!1,this._contextViewService.hideContextView({source:this})}codeActionTelemetry(y,E,N){this._telemetryService.publicLog2("codeAction.applyCodeAction",{codeActionFrom:y,validCodeActions:N.validActions.length,cancelled:E})}show(y,E,N,T){return Se(this,void 0,void 0,function*(){const R=this._editor.getModel();if(!R)return;const F=T.includeDisabledActions?E.allActions:E.validActions;if(!F.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,(0,I.canceled)();this._visible=!0,this._showingActions.value=E;const O=this.getMenuActions(y,F,E.documentation),D=v.Position.isIPosition(N)?this._toCoords(N):N||{x:0,y:0},M=this._keybindingResolver.getResolver(),P=this._editor.getOption(117);this.isCodeActionWidgetEnabled(R)?this._contextViewService.showContextView({getAnchor:()=>D,render:B=>this.renderCodeActionMenuList(B,O),onHide:B=>{const W=T.fromLightbulb?n.CodeActionTriggerSource.Lightbulb:y.triggerAction;this.codeActionTelemetry(W,B,E),this._visible=!1,this._editor.focus()}},this._editor.getDomNode(),!1):this._contextMenuService.showContextMenu({domForShadowRoot:P?this._editor.getDomNode():void 0,getAnchor:()=>D,getActions:()=>O,onHide:B=>{const W=T.fromLightbulb?n.CodeActionTriggerSource.Lightbulb:y.triggerAction;this.codeActionTelemetry(W,B,E),this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:B=>B instanceof o?M(B.action):void 0})})}getMenuActions(y,E,N){var T,R;const F=P=>new o(P.action,()=>this._delegate.onSelectCodeAction(P,y)),O=E.map(F),D=[...N],M=this._editor.getModel();if(M&&O.length)for(const P of this._languageFeaturesService.codeActionProvider.all(M))P._getAdditionalMenuItems&&D.push(...P._getAdditionalMenuItems({trigger:y.type,only:(R=(T=y.filter)===null||T===void 0?void 0:T.include)===null||R===void 0?void 0:R.value},E.map(B=>B.action)));return D.length&&O.push(new k.Separator,...D.map(P=>F(new g.CodeActionItem({title:P.title,command:P,kind:ri.documentationID},void 0)))),O}_toCoords(y){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(y,1),this._editor.render();const E=this._editor.getScrolledVisiblePosition(y),N=w.getDomNodePagePosition(this._editor.getDomNode()),T=N.left+E.left,R=N.top+E.top+E.height;return{x:T,y:R}}};m.documentationID="_documentation",m=ke([me(2,l.IContextMenuService),me(3,d.IKeybindingService),me(4,u.ILanguageFeaturesService),me(5,a.ITelemetryService),me(6,s.IThemeService),me(7,t.IConfigurationService),me(8,l.IContextViewService),me(9,r.IContextKeyService)],m),e.CodeActionMenu=m;class h{constructor(y){this._keybindingProvider=y}getResolver(){const y=new L.Lazy(()=>this._keybindingProvider.getKeybindings().filter(E=>h.codeActionCommands.indexOf(E.command)>=0).filter(E=>E.resolvedKeybinding).map(E=>{let N=E.commandArgs;return E.command===g.organizeImportsCommandId?N={kind:n.CodeActionKind.SourceOrganizeImports.value}:E.command===g.fixAllCommandId&&(N={kind:n.CodeActionKind.SourceFixAll.value}),Object.assign({resolvedKeybinding:E.resolvedKeybinding},n.CodeActionCommandArgs.fromUser(N,{kind:n.CodeActionKind.None,apply:"never"}))}));return E=>{if(E.kind){const N=this.bestKeybindingForCodeAction(E,y.getValue());return N==null?void 0:N.resolvedKeybinding}}}bestKeybindingForCodeAction(y,E){if(!y.kind)return;const N=new n.CodeActionKind(y.kind);return E.filter(T=>T.kind.contains(N)).filter(T=>T.preferred?y.isPreferred:!0).reduceRight((T,R)=>T?T.kind.contains(R.kind)?R:T:R,void 0)}}e.CodeActionKeybindingResolver=h,h.codeActionCommands=[g.refactorCommandId,g.codeActionCommandId,g.sourceActionCommandId,g.organizeImportsCommandId,g.fixAllCommandId]});var Rt=this&&this.__classPrivateFieldGet||function($,e,w,C){if(w==="a"&&!C)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?$!==e||!C:!e.has($))throw new TypeError("Cannot read private member from an object whose class did not declare it");return w==="m"?C:w==="a"?C.call($):C?C.value:e.get($)},ni=this&&this.__classPrivateFieldSet||function($,e,w,C,k){if(C==="m")throw new TypeError("Private method is not writable");if(C==="a"&&!k)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?$!==e||!k:!e.has($))throw new TypeError("Cannot write private member to an object whose class did not declare it");return C==="a"?k.call($,w):k?k.value=w:e.set($,w),w};define(re[701],ae([1,0,10,14,6,2,44,3,16,71,170,131]),function($,e,w,C,k,I,L,b,v,u,g,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new v.RawContextKey("supportedCodeAction","");class t extends I.Disposable{constructor(s,o,c,f=250){super();this._editor=s,this._markerService=o,this._signalChange=c,this._delay=f,this._autoTriggerTimer=this._register(new w.TimeoutTimer),this._register(this._markerService.onMarkerChanged(p=>this._onMarkerChanges(p))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(s){const o=this._getRangeOfSelectionUnlessWhitespaceEnclosed(s);return this._createEventAndSignalChange(s,o)}_onMarkerChanges(s){const o=this._editor.getModel();!o||s.some(c=>(0,L.isEqual)(c,o.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:n.CodeActionTriggerSource.Default})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:n.CodeActionTriggerSource.Default})},this._delay)}_getRangeOfMarker(s){const o=this._editor.getModel();if(!!o)for(const c of this._markerService.read({resource:o.uri})){const f=o.validateRange(c);if(b.Range.intersectRanges(f,s))return b.Range.lift(f)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(s){if(!this._editor.hasModel())return;const o=this._editor.getModel(),c=this._editor.getSelection();if(c.isEmpty()&&s.type===2){const{lineNumber:f,column:p}=c.getPosition(),_=o.getLineContent(f);if(_.length===0)return;if(p===1){if(/\s/.test(_[0]))return}else if(p===o.getLineMaxColumn(f)){if(/\s/.test(_[_.length-1]))return}else if(/\s/.test(_[p-2])&&/\s/.test(_[p-1]))return}return c}_createEventAndSignalChange(s,o){const c=this._editor.getModel();if(!o||!c){this._signalChange(void 0);return}const f=this._getRangeOfMarker(o),p=f?f.getStartPosition():o.getStartPosition(),_={trigger:s,selection:o,position:p};return this._signalChange(_),_}}var r;(function(a){a.Empty={type:0};class s{constructor(c,f,p,_){this.trigger=c,this.rangeOrSelection=f,this.position=p,this._cancellablePromise=_,this.type=1,this.actions=_.catch(m=>{if((0,C.isCancellationError)(m))return l;throw m})}cancel(){this._cancellablePromise.cancel()}}a.Triggered=s})(r=e.CodeActionsState||(e.CodeActionsState={}));const l={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class d extends I.Disposable{constructor(s,o,c,f,p){super();this._editor=s,this._registry=o,this._markerService=c,this._progressService=p,this._codeActionOracle=this._register(new I.MutableDisposable),this._state=r.Empty,this._onDidChangeState=this._register(new k.Emitter),this.onDidChangeState=this._onDidChangeState.event,i.set(this,!1),this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(f),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){Rt(this,i,"f")||(ni(this,i,!0,"f"),super.dispose(),this.setState(r.Empty,!0))}_update(){if(Rt(this,i,"f"))return;this._codeActionOracle.value=void 0,this.setState(r.Empty);const s=this._editor.getModel();if(s&&this._registry.has(s)&&!this._editor.getOption(83)){const o=[];for(const c of this._registry.all(s))Array.isArray(c.providedCodeActionKinds)&&o.push(...c.providedCodeActionKinds);this._supportedCodeActions.set(o.join(" ")),this._codeActionOracle.value=new t(this._editor,this._markerService,c=>{var f;if(!c){this.setState(r.Empty);return}const p=(0,w.createCancelablePromise)(_=>(0,g.getCodeActions)(this._registry,s,c.selection,c.trigger,u.Progress.None,_));c.trigger.type===1&&((f=this._progressService)===null||f===void 0||f.showWhile(p,250)),this.setState(new r.Triggered(c.trigger,c.selection,c.position,p))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:n.CodeActionTriggerSource.Default})}else this._supportedCodeActions.reset()}trigger(s){var o;(o=this._codeActionOracle.value)===null||o===void 0||o.trigger(s)}setState(s,o){s!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=s,!o&&!Rt(this,i,"f")&&this._onDidChangeState.fire(s))}}e.CodeActionModel=d,i=new WeakMap}),define(re[702],ae([1,0,12,164,559]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class I extends w.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:k.localize(0,null),alias:"Editor Font Zoom In",precondition:void 0})}run(u,g){C.EditorZoom.setZoomLevel(C.EditorZoom.getZoomLevel()+1)}}class L extends w.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:k.localize(1,null),alias:"Editor Font Zoom Out",precondition:void 0})}run(u,g){C.EditorZoom.setZoomLevel(C.EditorZoom.getZoomLevel()-1)}}class b extends w.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:k.localize(2,null),alias:"Editor Font Zoom Reset",precondition:void 0})}run(u,g){C.EditorZoom.setZoomLevel(0)}}(0,w.registerEditorAction)(I),(0,w.registerEditorAction)(L),(0,w.registerEditorAction)(b)}),define(re[303],ae([1,0,49,18,21,14,55,73,19,22,95,155,11,3,23,92,58,247,560,26,625,9,20]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOnTypeFormattingEdits=e.getDocumentFormattingEditsUntilResult=e.getDocumentRangeFormattingEditsUntilResult=e.formatDocumentWithProvider=e.formatDocumentWithSelectedProvider=e.formatDocumentRangesWithProvider=e.formatDocumentRangesWithSelectedProvider=e.FormattingConflicts=e.getRealAndSyntheticDocumentFormattersOrdered=e.alertFormattingEdits=void 0;function _(O){if(O=O.filter(B=>B.range),!O.length)return;let{range:D}=O[0];for(let B=1;B<O.length;B++)D=t.Range.plusRange(D,O[B].range);const{startLineNumber:M,endLineNumber:P}=D;M===P?O.length===1?(0,w.alert)(s.localize(0,null,M)):(0,w.alert)(s.localize(1,null,O.length,M)):O.length===1?(0,w.alert)(s.localize(2,null,M,P)):(0,w.alert)(s.localize(3,null,O.length,M,P))}e.alertFormattingEdits=_;function m(O,D,M){const P=[],B=new Set,W=O.ordered(M);for(const A of W)P.push(A),A.extensionId&&B.add(c.ExtensionIdentifier.toKey(A.extensionId));const V=D.ordered(M);for(const A of V){if(A.extensionId){if(B.has(c.ExtensionIdentifier.toKey(A.extensionId)))continue;B.add(c.ExtensionIdentifier.toKey(A.extensionId))}P.push({displayName:A.displayName,extensionId:A.extensionId,provideDocumentFormattingEdits(Q,J,H){return A.provideDocumentRangeFormattingEdits(Q,Q.getFullModelRange(),J,H)}})}return P}e.getRealAndSyntheticDocumentFormattersOrdered=m;class h{static setFormatterSelector(D){return{dispose:h._selectors.unshift(D)}}static select(D,M,P){return Se(this,void 0,void 0,function*(){if(D.length===0)return;const B=L.Iterable.first(h._selectors);if(B)return yield B(D,M,P)})}}e.FormattingConflicts=h,h._selectors=new b.LinkedList;function S(O,D,M,P,B,W){return Se(this,void 0,void 0,function*(){const V=O.get(f.IInstantiationService),{documentRangeFormattingEditProvider:A}=O.get(p.ILanguageFeaturesService),Q=(0,n.isCodeEditor)(D)?D.getModel():D,J=A.ordered(Q),H=yield h.select(J,Q,P);H&&(B.report(H),yield V.invokeFunction(y,H,D,M,W))})}e.formatDocumentRangesWithSelectedProvider=S;function y(O,D,M,P,B){return Se(this,void 0,void 0,function*(){const W=O.get(l.IEditorWorkerService);let V,A;(0,n.isCodeEditor)(M)?(V=M.getModel(),A=new g.EditorStateCancellationTokenSource(M,1|4,void 0,B)):(V=M,A=new g.TextModelCancellationTokenSource(M,B));const Q=[];let J=0;for(const Y of(0,C.asArray)(P).sort(t.Range.compareRangesUsingStarts))J>0&&t.Range.areIntersectingOrTouching(Q[J-1],Y)?Q[J-1]=t.Range.fromPositions(Q[J-1].getStartPosition(),Y.getEndPosition()):J=Q.push(Y);const H=Y=>Se(this,void 0,void 0,function*(){return(yield D.provideDocumentRangeFormattingEdits(V,Y,V.getFormattingOptions(),A.token))||[]}),q=(Y,te)=>{if(!Y.length||!te.length)return!1;const de=Y.reduce((x,oe)=>t.Range.plusRange(x,oe.range),Y[0].range);if(!te.some(x=>t.Range.intersectRanges(de,x.range)))return!1;for(const x of Y)for(const oe of te)if(t.Range.intersectRanges(x.range,oe.range))return!0;return!1},Z=[],ie=[];try{for(const Y of Q){if(A.token.isCancellationRequested)return!0;ie.push(yield H(Y))}for(let Y=0;Y<Q.length;++Y)for(let te=Y+1;te<Q.length;++te){if(A.token.isCancellationRequested)return!0;if(q(ie[Y],ie[te])){const de=t.Range.plusRange(Q[Y],Q[te]),x=yield H(de);Q.splice(te,1),Q.splice(Y,1),Q.push(de),ie.splice(te,1),ie.splice(Y,1),ie.push(x),Y=0,te=0}}for(const Y of ie){if(A.token.isCancellationRequested)return!0;const te=yield W.computeMoreMinimalEdits(V.uri,Y);te&&Z.push(...te)}}finally{A.dispose()}if(Z.length===0)return!1;if((0,n.isCodeEditor)(M))a.FormattingEdit.execute(M,Z,!0),_(Z),M.revealPositionInCenterIfOutsideViewport(M.getPosition(),1);else{const[{range:Y}]=Z,te=new r.Selection(Y.startLineNumber,Y.startColumn,Y.endLineNumber,Y.endColumn);V.pushEditOperations([te],Z.map(de=>({text:de.text,range:t.Range.lift(de.range),forceMoveMarkers:!0})),de=>{for(const{range:x}of de)if(t.Range.areIntersectingOrTouching(x,te))return[new r.Selection(x.startLineNumber,x.startColumn,x.endLineNumber,x.endColumn)];return null})}return!0})}e.formatDocumentRangesWithProvider=y;function E(O,D,M,P,B){return Se(this,void 0,void 0,function*(){const W=O.get(f.IInstantiationService),V=O.get(p.ILanguageFeaturesService),A=(0,n.isCodeEditor)(D)?D.getModel():D,Q=m(V.documentFormattingEditProvider,V.documentRangeFormattingEditProvider,A),J=yield h.select(Q,A,M);J&&(P.report(J),yield W.invokeFunction(N,J,D,M,B))})}e.formatDocumentWithSelectedProvider=E;function N(O,D,M,P,B){return Se(this,void 0,void 0,function*(){const W=O.get(l.IEditorWorkerService);let V,A;(0,n.isCodeEditor)(M)?(V=M.getModel(),A=new g.EditorStateCancellationTokenSource(M,1|4,void 0,B)):(V=M,A=new g.TextModelCancellationTokenSource(M,B));let Q;try{const J=yield D.provideDocumentFormattingEdits(V,V.getFormattingOptions(),A.token);if(Q=yield W.computeMoreMinimalEdits(V.uri,J),A.token.isCancellationRequested)return!0}finally{A.dispose()}if(!Q||Q.length===0)return!1;if((0,n.isCodeEditor)(M))a.FormattingEdit.execute(M,Q,P!==2),P!==2&&(_(Q),M.revealPositionInCenterIfOutsideViewport(M.getPosition(),1));else{const[{range:J}]=Q,H=new r.Selection(J.startLineNumber,J.startColumn,J.endLineNumber,J.endColumn);V.pushEditOperations([H],Q.map(q=>({text:q.text,range:t.Range.lift(q.range),forceMoveMarkers:!0})),q=>{for(const{range:Z}of q)if(t.Range.areIntersectingOrTouching(Z,H))return[new r.Selection(Z.startLineNumber,Z.startColumn,Z.endLineNumber,Z.endColumn)];return null})}return!0})}e.formatDocumentWithProvider=N;function T(O,D,M,P,B,W){return Se(this,void 0,void 0,function*(){const V=D.documentRangeFormattingEditProvider.ordered(M);for(const A of V){const Q=yield Promise.resolve(A.provideDocumentRangeFormattingEdits(M,P,B,W)).catch(I.onUnexpectedExternalError);if((0,C.isNonEmptyArray)(Q))return yield O.computeMoreMinimalEdits(M.uri,Q)}})}e.getDocumentRangeFormattingEditsUntilResult=T;function R(O,D,M,P,B){return Se(this,void 0,void 0,function*(){const W=m(D.documentFormattingEditProvider,D.documentRangeFormattingEditProvider,M);for(const V of W){const A=yield Promise.resolve(V.provideDocumentFormattingEdits(M,P,B)).catch(I.onUnexpectedExternalError);if((0,C.isNonEmptyArray)(A))return yield O.computeMoreMinimalEdits(M.uri,A)}})}e.getDocumentFormattingEditsUntilResult=R;function F(O,D,M,P,B,W,V){const A=D.onTypeFormattingEditProvider.ordered(M);return A.length===0||A[0].autoFormatTriggerCharacters.indexOf(B)<0?Promise.resolve(void 0):Promise.resolve(A[0].provideOnTypeFormattingEdits(M,P,B,W,V)).catch(I.onUnexpectedExternalError).then(Q=>O.computeMoreMinimalEdits(M.uri,Q))}e.getOnTypeFormattingEdits=F,o.CommandsRegistry.registerCommand("_executeFormatRangeProvider",function(O,...D){return Se(this,void 0,void 0,function*(){const[M,P,B]=D;(0,v.assertType)(u.URI.isUri(M)),(0,v.assertType)(t.Range.isIRange(P));const W=O.get(d.ITextModelService),V=O.get(l.IEditorWorkerService),A=O.get(p.ILanguageFeaturesService),Q=yield W.createModelReference(M);try{return T(V,A,Q.object.textEditorModel,t.Range.lift(P),B,k.CancellationToken.None)}finally{Q.dispose()}})}),o.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",function(O,...D){return Se(this,void 0,void 0,function*(){const[M,P]=D;(0,v.assertType)(u.URI.isUri(M));const B=O.get(d.ITextModelService),W=O.get(l.IEditorWorkerService),V=O.get(p.ILanguageFeaturesService),A=yield B.createModelReference(M);try{return R(W,V,A.object.textEditorModel,P,k.CancellationToken.None)}finally{A.dispose()}})}),o.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",function(O,...D){return Se(this,void 0,void 0,function*(){const[M,P,B,W]=D;(0,v.assertType)(u.URI.isUri(M)),(0,v.assertType)(i.Position.isIPosition(P)),(0,v.assertType)(typeof B=="string");const V=O.get(d.ITextModelService),A=O.get(l.IEditorWorkerService),Q=O.get(p.ILanguageFeaturesService),J=yield V.createModelReference(M);try{return F(A,Q,J.object.textEditorModel,i.Position.lift(P),B,W,k.CancellationToken.None)}finally{J.dispose()}})})}),define(re[703],ae([1,0,18,21,14,59,2,12,29,107,3,24,92,20,303,247,561,26,16,9,71]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let f=class{constructor(S,y,E){this._editor=S,this._languageFeaturesService=y,this._workerService=E,this._disposables=new L.DisposableStore,this._sessionDisposables=new L.DisposableStore,this._disposables.add(y.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(S.onDidChangeModel(()=>this._update())),this._disposables.add(S.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(S.onDidChangeConfiguration(N=>{N.hasChanged(51)&&this._update()}))}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(51)||!this._editor.hasModel())return;const S=this._editor.getModel(),[y]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(S);if(!y||!y.autoFormatTriggerCharacters)return;const E=new u.CharacterSet;for(const N of y.autoFormatTriggerCharacters)E.add(N.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(N=>{const T=N.charCodeAt(N.length-1);E.has(T)&&this._trigger(String.fromCharCode(T))}))}_trigger(S){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const y=this._editor.getModel(),E=this._editor.getPosition(),N=new C.CancellationTokenSource,T=this._editor.onDidChangeModelContent(R=>{if(R.isFlush){N.cancel(),T.dispose();return}for(let F=0,O=R.changes.length;F<O;F++)if(R.changes[F].range.endLineNumber<=E.lineNumber){N.cancel(),T.dispose();return}});(0,r.getOnTypeFormattingEdits)(this._workerService,this._languageFeaturesService,y,E,S,y.getFormattingOptions(),N.token).then(R=>{N.token.isCancellationRequested||(0,w.isNonEmptyArray)(R)&&(l.FormattingEdit.execute(this._editor,R,!0),(0,r.alertFormattingEdits)(R))}).finally(()=>{T.dispose()})}};f.ID="editor.contrib.autoFormat",f=ke([me(1,t.ILanguageFeaturesService),me(2,i.IEditorWorkerService)],f);let p=class{constructor(S,y,E){this.editor=S,this._languageFeaturesService=y,this._instantiationService=E,this._callOnDispose=new L.DisposableStore,this._callOnModel=new L.DisposableStore,this._callOnDispose.add(S.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(S.onDidChangeModel(()=>this._update())),this._callOnDispose.add(S.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(y.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),!!this.editor.getOption(50)&&(!this.editor.hasModel()||!this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:S})=>this._trigger(S))))}_trigger(S){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(r.formatDocumentRangesWithSelectedProvider,this.editor,S,2,c.Progress.None,C.CancellationToken.None).catch(k.onUnexpectedError)}};p.ID="editor.contrib.formatOnPaste",p=ke([me(1,t.ILanguageFeaturesService),me(2,o.IInstantiationService)],p);class _ extends b.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:d.localize(0,null),alias:"Format Document",precondition:s.ContextKeyExpr.and(n.EditorContextKeys.notInCompositeEditor,n.EditorContextKeys.writable,n.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:1024|512|36,linux:{primary:2048|1024|39},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(S,y){return Se(this,void 0,void 0,function*(){if(y.hasModel()){const E=S.get(o.IInstantiationService);yield S.get(c.IEditorProgressService).showWhile(E.invokeFunction(r.formatDocumentWithSelectedProvider,y,1,c.Progress.None,C.CancellationToken.None),250)}})}}class m extends b.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:d.localize(1,null),alias:"Format Selection",precondition:s.ContextKeyExpr.and(n.EditorContextKeys.writable,n.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2048|41,2048|36),weight:100},contextMenuOpts:{when:n.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(S,y){return Se(this,void 0,void 0,function*(){if(!y.hasModel())return;const E=S.get(o.IInstantiationService),N=y.getModel(),T=y.getSelections().map(F=>F.isEmpty()?new g.Range(F.startLineNumber,1,F.startLineNumber,N.getLineMaxColumn(F.startLineNumber)):F);yield S.get(c.IEditorProgressService).showWhile(E.invokeFunction(r.formatDocumentRangesWithSelectedProvider,y,T,1,c.Progress.None,C.CancellationToken.None),250)})}}(0,b.registerEditorContribution)(f.ID,f),(0,b.registerEditorContribution)(p.ID,p),(0,b.registerEditorAction)(_),(0,b.registerEditorAction)(m),a.CommandsRegistry.registerCommand("editor.action.format",h=>Se(void 0,void 0,void 0,function*(){const S=h.get(v.ICodeEditorService).getFocusedCodeEditor();if(!S||!S.hasModel())return;const y=h.get(a.ICommandService);S.getSelection().isEmpty()?yield y.executeCommand("editor.action.formatDocument"):yield y.executeCommand("editor.action.formatSelection")}))}),define(re[304],ae([1,0,21,14,12,137,20]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReferencesAtPosition=e.getTypeDefinitionsAtPosition=e.getImplementationsAtPosition=e.getDeclarationsAtPosition=e.getDefinitionsAtPosition=void 0;function b(r,l,d,a){const o=d.ordered(r).map(c=>Promise.resolve(a(c,r,l)).then(void 0,f=>{(0,C.onUnexpectedExternalError)(f)}));return Promise.all(o).then(c=>{const f=[];for(const p of c)Array.isArray(p)?f.push(...p):p&&f.push(p);return f})}function v(r,l,d,a){return b(l,d,r,(s,o,c)=>s.provideDefinition(o,c,a))}e.getDefinitionsAtPosition=v;function u(r,l,d,a){return b(l,d,r,(s,o,c)=>s.provideDeclaration(o,c,a))}e.getDeclarationsAtPosition=u;function g(r,l,d,a){return b(l,d,r,(s,o,c)=>s.provideImplementation(o,c,a))}e.getImplementationsAtPosition=g;function n(r,l,d,a){return b(l,d,r,(s,o,c)=>s.provideTypeDefinition(o,c,a))}e.getTypeDefinitionsAtPosition=n;function i(r,l,d,a,s){return b(l,d,r,(o,c,f)=>Se(this,void 0,void 0,function*(){const p=yield o.provideReferences(c,f,{includeDeclaration:!0},s);if(!a||!p||p.length!==2)return p;const _=yield o.provideReferences(c,f,{includeDeclaration:!1},s);return _&&_.length===1?_:p}))}e.getReferencesAtPosition=i;function t(r){return Se(this,void 0,void 0,function*(){const l=yield r(),d=new I.ReferencesModel(l,""),a=d.references.map(s=>s.link);return d.dispose(),a})}(0,k.registerModelAndPositionCommand)("_executeDefinitionProvider",(r,l,d)=>{const a=r.get(L.ILanguageFeaturesService),s=v(a.definitionProvider,l,d,w.CancellationToken.None);return t(()=>s)}),(0,k.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",(r,l,d)=>{const a=r.get(L.ILanguageFeaturesService),s=n(a.typeDefinitionProvider,l,d,w.CancellationToken.None);return t(()=>s)}),(0,k.registerModelAndPositionCommand)("_executeDeclarationProvider",(r,l,d)=>{const a=r.get(L.ILanguageFeaturesService),s=u(a.declarationProvider,l,d,w.CancellationToken.None);return t(()=>s)}),(0,k.registerModelAndPositionCommand)("_executeReferenceProvider",(r,l,d)=>{const a=r.get(L.ILanguageFeaturesService),s=i(a.referenceProvider,l,d,!1,w.CancellationToken.None);return t(()=>s)}),(0,k.registerModelAndPositionCommand)("_executeImplementationProvider",(r,l,d)=>{const a=r.get(L.ILanguageFeaturesService),s=g(a.implementationProvider,l,d,w.CancellationToken.None);return t(()=>s)})}),define(re[704],ae([1,0,6,2,44,12,29,3,570,16,53,9,42,101,39]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new u.RawContextKey("hasSymbols",!1,(0,v.localize)(0,null)),e.ISymbolNavigationService=(0,n.createDecorator)("ISymbolNavigationService");let l=class{constructor(s,o,c,f){this._editorService=o,this._notificationService=c,this._keybindingService=f,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(s)}reset(){var s,o;this._ctxHasSymbols.reset(),(s=this._currentState)===null||s===void 0||s.dispose(),(o=this._currentMessage)===null||o===void 0||o.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(s){const o=s.parent.parent;if(o.references.length<=1){this.reset();return}this._currentModel=o,this._currentIdx=o.references.indexOf(s),this._ctxHasSymbols.set(!0),this._showMessage();const c=new d(this._editorService),f=c.onDidChange(p=>{if(this._ignoreEditorChange)return;const _=this._editorService.getActiveCodeEditor();if(!_)return;const m=_.getModel(),h=_.getPosition();if(!m||!h)return;let S=!1,y=!1;for(const E of o.references)if((0,k.isEqual)(E.uri,m.uri))S=!0,y=y||b.Range.containsPosition(E.range,h);else if(S)break;(!S||!y)&&this.reset()});this._currentState=(0,C.combinedDisposable)(c,f)}revealNext(s){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const o=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:o.uri,options:{selection:b.Range.collapseToStart(o.range),selectionRevealType:3}},s).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var s;(s=this._currentMessage)===null||s===void 0||s.dispose();const o=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),c=o?(0,v.localize)(1,null,this._currentIdx+1,this._currentModel.references.length,o.getLabel()):(0,v.localize)(2,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(c)}};l=ke([me(0,u.IContextKeyService),me(1,L.ICodeEditorService),me(2,r.INotificationService),me(3,i.IKeybindingService)],l),(0,g.registerSingleton)(e.ISymbolNavigationService,l,!0),(0,I.registerEditorCommand)(new class extends I.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(a,s){return a.get(e.ISymbolNavigationService).revealNext(s)}}),t.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(a){a.get(e.ISymbolNavigationService).reset()}});let d=class{constructor(s){this._listener=new Map,this._disposables=new C.DisposableStore,this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(s.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(s.onCodeEditorAdd(this._onDidAddEditor,this)),s.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,C.dispose)(this._listener.values())}_onDidAddEditor(s){this._listener.set(s,(0,C.combinedDisposable)(s.onDidChangeCursorPosition(o=>this._onDidChange.fire({editor:s})),s.onDidChangeModelContent(o=>this._onDidChange.fire({editor:s}))))}_onDidRemoveEditor(s){var o;(o=this._listener.get(s))===null||o===void 0||o.dispose(),this._listener.delete(s)}};d=ke([me(0,L.ICodeEditorService)],d)}),define(re[305],ae([1,0,10,21,14,12,20]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHoverPromise=e.getHover=e.HoverProviderResult=void 0;class b{constructor(t,r,l){this.provider=t,this.hover=r,this.ordinal=l}}e.HoverProviderResult=b;function v(i,t,r,l,d){return Se(this,void 0,void 0,function*(){try{const a=yield Promise.resolve(i.provideHover(r,l,d));if(a&&n(a))return new b(i,a,t)}catch(a){(0,k.onUnexpectedExternalError)(a)}})}function u(i,t,r,l){const a=i.ordered(t).map((s,o)=>v(s,o,t,r,l));return w.AsyncIterableObject.fromPromises(a).coalesce()}e.getHover=u;function g(i,t,r,l){return u(i,t,r,l).map(d=>d.hover).toPromise()}e.getHoverPromise=g,(0,I.registerModelAndPositionCommand)("_executeHoverProvider",(i,t,r)=>{const l=i.get(L.ILanguageFeaturesService);return g(l.hoverProvider,t,r,C.CancellationToken.None)});function n(i){const t=typeof i.range!="undefined",r=typeof i.contents!="undefined"&&i.contents&&i.contents.length>0;return t&&r}}),define(re[217],ae([1,0,7,18,10,64,2,117,11,3,37,305,572,30,45,20]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdownHovers=e.MarkdownHoverParticipant=e.MarkdownHover=void 0;const d=w.$;class a{constructor(f,p,_,m){this.owner=f,this.range=p,this.contents=_,this.ordinal=m}isValidForHoverAnchor(f){return f.type===1&&this.range.startColumn<=f.range.startColumn&&this.range.endColumn>=f.range.endColumn}}e.MarkdownHover=a;let s=class{constructor(f,p,_,m,h){this._editor=f,this._languageService=p,this._openerService=_,this._configurationService=m,this._languageFeaturesService=h,this.hoverOrdinal=2}createLoadingMessage(f){return new a(this,f.range,[new I.MarkdownString().appendText(i.localize(0,null))],2e3)}computeSync(f,p){if(!this._editor.hasModel()||f.type!==1)return[];const _=this._editor.getModel(),m=f.range.startLineNumber,h=_.getLineMaxColumn(m),S=[];let y=1e3;const E=_.getLineLength(m),N=_.getLanguageIdAtPosition(f.range.startLineNumber,f.range.startColumn),T=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:N});typeof T=="number"&&E>=T&&S.push(new a(this,f.range,[{value:i.localize(1,null)}],y++));for(const R of p){const F=R.range.startLineNumber===m?R.range.startColumn:1,O=R.range.endLineNumber===m?R.range.endColumn:h,D=R.options.hoverMessage;if(!D||(0,I.isEmptyMarkdownString)(D))continue;const M=new u.Range(f.range.startLineNumber,F,f.range.startLineNumber,O);S.push(new a(this,M,(0,C.asArray)(D),y++))}return S}computeAsync(f,p,_){if(!this._editor.hasModel()||f.type!==1)return k.AsyncIterableObject.EMPTY;const m=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(m))return k.AsyncIterableObject.EMPTY;const h=new v.Position(f.range.startLineNumber,f.range.startColumn);return(0,n.getHover)(this._languageFeaturesService.hoverProvider,m,h,_).filter(S=>!(0,I.isEmptyMarkdownString)(S.hover.contents)).map(S=>{const y=S.hover.range?u.Range.lift(S.hover.range):f.range;return new a(this,y,S.hover.contents,S.ordinal)})}renderHoverParts(f,p){return o(f,p,this._editor,this._languageService,this._openerService)}};s=ke([me(1,g.ILanguageService),me(2,r.IOpenerService),me(3,t.IConfigurationService),me(4,l.ILanguageFeaturesService)],s),e.MarkdownHoverParticipant=s;function o(c,f,p,_,m){f.sort((S,y)=>S.ordinal-y.ordinal);const h=new L.DisposableStore;for(const S of f)for(const y of S.contents){if((0,I.isEmptyMarkdownString)(y))continue;const E=d("div.hover-row.markdown-hover"),N=w.append(E,d("div.hover-contents")),T=h.add(new b.MarkdownRenderer({editor:p},_,m));h.add(T.onDidRenderAsync(()=>{N.className="hover-contents code-hover-contents",c.onContentsChanged()}));const R=h.add(T.render(y));N.appendChild(R.element),c.fragment.appendChild(E)}return h}e.renderMarkdownHovers=o}),define(re[705],ae([1,0,2,8,12,215,60,3,23,24,32,50,248,575,85,179,213]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=e.getReindentEditOperations=void 0;function a(R,F,O,D,M){if(R.getLineCount()===1&&R.getLineMaxColumn(1)===1)return[];const P=F.getLanguageConfiguration(R.getLanguageId()).indentationRules;if(!P)return[];for(D=Math.min(D,R.getLineCount());O<=D&&P.unIndentedLinePattern;){const Y=R.getLineContent(O);if(!P.unIndentedLinePattern.test(Y))break;O++}if(O>D-1)return[];const{tabSize:B,indentSize:W,insertSpaces:V}=R.getOptions(),A=(Y,te)=>(te=te||1,I.ShiftCommand.shiftIndent(Y,Y.length+te,B,W,V)),Q=(Y,te)=>(te=te||1,I.ShiftCommand.unshiftIndent(Y,Y.length+te,B,W,V)),J=[];let H;const q=R.getLineContent(O);let Z=q;if(M!=null){H=M;const Y=C.getLeadingWhitespace(q);Z=H+q.substring(Y.length),P.decreaseIndentPattern&&P.decreaseIndentPattern.test(Z)&&(H=Q(H),Z=H+q.substring(Y.length)),q!==Z&&J.push(L.EditOperation.replaceMove(new v.Selection(O,1,O,Y.length+1),(0,l.normalizeIndentation)(H,W,V)))}else H=C.getLeadingWhitespace(q);let ie=H;P.increaseIndentPattern&&P.increaseIndentPattern.test(Z)?(ie=A(ie),H=A(H)):P.indentNextLinePattern&&P.indentNextLinePattern.test(Z)&&(ie=A(ie)),O++;for(let Y=O;Y<=D;Y++){const te=R.getLineContent(Y),de=C.getLeadingWhitespace(te),x=ie+te.substring(de.length);P.decreaseIndentPattern&&P.decreaseIndentPattern.test(x)&&(ie=Q(ie),H=Q(H)),de!==ie&&J.push(L.EditOperation.replaceMove(new v.Selection(Y,1,Y,de.length+1),(0,l.normalizeIndentation)(ie,W,V))),!(P.unIndentedLinePattern&&P.unIndentedLinePattern.test(te))&&(P.increaseIndentPattern&&P.increaseIndentPattern.test(x)?(H=A(H),ie=H):P.indentNextLinePattern&&P.indentNextLinePattern.test(x)?ie=A(ie):ie=H)}return J}e.getReindentEditOperations=a;class s extends k.EditorAction{constructor(){super({id:s.ID,label:t.localize(0,null),alias:"Convert Indentation to Spaces",precondition:u.EditorContextKeys.writable})}run(F,O){const D=O.getModel();if(!D)return;const M=D.getOptions(),P=O.getSelection();if(!P)return;const B=new N(P,M.tabSize);O.pushUndoStop(),O.executeCommands(this.id,[B]),O.pushUndoStop(),D.updateOptions({insertSpaces:!0})}}e.IndentationToSpacesAction=s,s.ID="editor.action.indentationToSpaces";class o extends k.EditorAction{constructor(){super({id:o.ID,label:t.localize(1,null),alias:"Convert Indentation to Tabs",precondition:u.EditorContextKeys.writable})}run(F,O){const D=O.getModel();if(!D)return;const M=D.getOptions(),P=O.getSelection();if(!P)return;const B=new T(P,M.tabSize);O.pushUndoStop(),O.executeCommands(this.id,[B]),O.pushUndoStop(),D.updateOptions({insertSpaces:!1})}}e.IndentationToTabsAction=o,o.ID="editor.action.indentationToTabs";class c extends k.EditorAction{constructor(F,O){super(O);this.insertSpaces=F}run(F,O){const D=F.get(r.IQuickInputService),M=F.get(n.IModelService),P=O.getModel();if(!P)return;const B=M.getCreationOptions(P.getLanguageId(),P.uri,P.isForSimpleWidget),W=[1,2,3,4,5,6,7,8].map(A=>({id:A.toString(),label:A.toString(),description:A===B.tabSize?t.localize(2,null):void 0})),V=Math.min(P.getOptions().tabSize-1,7);setTimeout(()=>{D.pick(W,{placeHolder:t.localize(3,null),activeItem:W[V]}).then(A=>{A&&P&&!P.isDisposed()&&P.updateOptions({tabSize:parseInt(A.label,10),insertSpaces:this.insertSpaces})})},50)}}e.ChangeIndentationSizeAction=c;class f extends c{constructor(){super(!1,{id:f.ID,label:t.localize(4,null),alias:"Indent Using Tabs",precondition:void 0})}}e.IndentUsingTabs=f,f.ID="editor.action.indentUsingTabs";class p extends c{constructor(){super(!0,{id:p.ID,label:t.localize(5,null),alias:"Indent Using Spaces",precondition:void 0})}}e.IndentUsingSpaces=p,p.ID="editor.action.indentUsingSpaces";class _ extends k.EditorAction{constructor(){super({id:_.ID,label:t.localize(6,null),alias:"Detect Indentation from Content",precondition:void 0})}run(F,O){const D=F.get(n.IModelService),M=O.getModel();if(!M)return;const P=D.getCreationOptions(M.getLanguageId(),M.uri,M.isForSimpleWidget);M.detectIndentation(P.insertSpaces,P.tabSize)}}e.DetectIndentation=_,_.ID="editor.action.detectIndentation";class m extends k.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:t.localize(7,null),alias:"Reindent Lines",precondition:u.EditorContextKeys.writable})}run(F,O){const D=F.get(g.ILanguageConfigurationService),M=O.getModel();if(!M)return;const P=a(M,D,1,M.getLineCount());P.length>0&&(O.pushUndoStop(),O.executeEdits(this.id,P),O.pushUndoStop())}}e.ReindentLinesAction=m;class h extends k.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:t.localize(8,null),alias:"Reindent Selected Lines",precondition:u.EditorContextKeys.writable})}run(F,O){const D=F.get(g.ILanguageConfigurationService),M=O.getModel();if(!M)return;const P=O.getSelections();if(P===null)return;const B=[];for(const W of P){let V=W.startLineNumber,A=W.endLineNumber;if(V!==A&&W.endColumn===1&&A--,V===1){if(V===A)continue}else V--;const Q=a(M,D,V,A);B.push(...Q)}B.length>0&&(O.pushUndoStop(),O.executeEdits(this.id,B),O.pushUndoStop())}}e.ReindentSelectedLinesAction=h;class S{constructor(F,O){this._initialSelection=O,this._edits=[],this._selectionId=null;for(const D of F)D.range&&typeof D.text=="string"&&this._edits.push(D)}getEditOperations(F,O){for(const M of this._edits)O.addEditOperation(b.Range.lift(M.range),M.text);let D=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(D=!0,this._selectionId=O.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(D=!0,this._selectionId=O.trackSelection(this._initialSelection,!1))),D||(this._selectionId=O.trackSelection(this._initialSelection))}computeCursorState(F,O){return O.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=S;let y=class{constructor(F,O){this.editor=F,this._languageConfigurationService=O,this.callOnDispose=new w.DisposableStore,this.callOnModel=new w.DisposableStore,this.callOnDispose.add(F.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(F.onDidChangeModel(()=>this.update())),this.callOnDispose.add(F.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(50))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:F})=>{this.trigger(F)})))}trigger(F){const O=this.editor.getSelections();if(O===null||O.length>1)return;const D=this.editor.getModel();if(!D||!D.tokenization.isCheapToTokenize(F.getStartPosition().lineNumber))return;const M=this.editor.getOption(9),{tabSize:P,indentSize:B,insertSpaces:W}=D.getOptions(),V=[],A={shiftIndent:q=>I.ShiftCommand.shiftIndent(q,q.length+1,P,B,W),unshiftIndent:q=>I.ShiftCommand.unshiftIndent(q,q.length+1,P,B,W)};let Q=F.startLineNumber;for(;Q<=F.endLineNumber;){if(this.shouldIgnoreLine(D,Q)){Q++;continue}break}if(Q>F.endLineNumber)return;let J=D.getLineContent(Q);if(!/\S/.test(J.substring(0,F.startColumn-1))){const q=(0,d.getGoodIndentForLine)(M,D,D.getLanguageId(),Q,A,this._languageConfigurationService);if(q!==null){const Z=C.getLeadingWhitespace(J),ie=i.getSpaceCnt(q,P),Y=i.getSpaceCnt(Z,P);if(ie!==Y){const te=i.generateIndent(ie,P,W);V.push({range:new b.Range(Q,1,Q,Z.length+1),text:te}),J=te+J.substr(Z.length)}else{const te=(0,d.getIndentMetadata)(D,Q,this._languageConfigurationService);if(te===0||te===8)return}}}const H=Q;for(;Q<F.endLineNumber;){if(!/\S/.test(D.getLineContent(Q+1))){Q++;continue}break}if(Q!==F.endLineNumber){const q={tokenization:{getLineTokens:ie=>D.tokenization.getLineTokens(ie),getLanguageId:()=>D.getLanguageId(),getLanguageIdAtPosition:(ie,Y)=>D.getLanguageIdAtPosition(ie,Y)},getLineContent:ie=>ie===H?J:D.getLineContent(ie)},Z=(0,d.getGoodIndentForLine)(M,q,D.getLanguageId(),Q+1,A,this._languageConfigurationService);if(Z!==null){const ie=i.getSpaceCnt(Z,P),Y=i.getSpaceCnt(C.getLeadingWhitespace(D.getLineContent(Q+1)),P);if(ie!==Y){const te=ie-Y;for(let de=Q+1;de<=F.endLineNumber;de++){const x=D.getLineContent(de),oe=C.getLeadingWhitespace(x),j=i.getSpaceCnt(oe,P)+te,se=i.generateIndent(j,P,W);se!==oe&&V.push({range:new b.Range(de,1,de,oe.length+1),text:se})}}}}if(V.length>0){this.editor.pushUndoStop();const q=new S(V,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",q),this.editor.pushUndoStop()}}shouldIgnoreLine(F,O){F.tokenization.forceTokenization(O);const D=F.getLineFirstNonWhitespaceColumn(O);if(D===0)return!0;const M=F.tokenization.getLineTokens(O);if(M.getCount()>0){const P=M.findTokenIndexAtOffset(D);if(P>=0&&M.getStandardTokenType(P)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};y.ID="editor.contrib.autoIndentOnPaste",y=ke([me(1,g.ILanguageConfigurationService)],y),e.AutoIndentOnPaste=y;function E(R,F,O,D){if(R.getLineCount()===1&&R.getLineMaxColumn(1)===1)return;let M="";for(let B=0;B<O;B++)M+=" ";const P=new RegExp(M,"gi");for(let B=1,W=R.getLineCount();B<=W;B++){let V=R.getLineFirstNonWhitespaceColumn(B);if(V===0&&(V=R.getLineMaxColumn(B)),V===1)continue;const A=new b.Range(B,1,B,V),Q=R.getValueInRange(A),J=D?Q.replace(/\t/ig,M):Q.replace(P,"	");F.addEditOperation(A,J)}}class N{constructor(F,O){this.selection=F,this.tabSize=O,this.selectionId=null}getEditOperations(F,O){this.selectionId=O.trackSelection(this.selection),E(F,O,this.tabSize,!0)}computeCursorState(F,O){return O.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=N;class T{constructor(F,O){this.selection=F,this.tabSize=O,this.selectionId=null}getEditOperations(F,O){this.selectionId=O.trackSelection(this.selection),E(F,O,this.tabSize,!1)}computeCursorState(F,O){return O.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=T,(0,k.registerEditorContribution)(y.ID,y),(0,k.registerEditorAction)(s),(0,k.registerEditorAction)(o),(0,k.registerEditorAction)(f),(0,k.registerEditorAction)(p),(0,k.registerEditorAction)(_),(0,k.registerEditorAction)(m),(0,k.registerEditorAction)(h)}),define(re[706],ae([1,0,12,182,24,579]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpandLineSelectionAction=void 0;class L extends w.EditorAction{constructor(){super({id:"expandLineSelection",label:I.localize(0,null),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:k.EditorContextKeys.textInputFocus,primary:2048|42}})}run(v,u,g){if(g=g||{},!u.hasModel())return;const n=u._getViewModel();n.model.pushStackElement(),n.setCursorStates(g.source,3,C.CursorMoveCommands.expandLineSelection(n,n.getCursorStates())),n.revealPrimaryCursor(g.source,!0)}}e.ExpandLineSelectionAction=L,(0,w.registerEditorAction)(L)}),define(re[707],ae([1,0,59,169,12,108,406,216,60,11,3,23,24,456,656,457,580,38,32]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KebabCaseAction=e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.DeleteDuplicateLinesAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class o extends k.EditorAction{constructor(de,x){super(x);this.down=de}run(de,x){if(!x.hasModel())return;const oe=x.getSelections().map((se,z)=>({selection:se,index:z,ignore:!1}));oe.sort((se,z)=>g.Range.compareRangesUsingStarts(se.selection,z.selection));let ne=oe[0];for(let se=1;se<oe.length;se++){const z=oe[se];ne.selection.endLineNumber===z.selection.startLineNumber&&(ne.index<z.index?z.ignore=!0:(ne.ignore=!0,ne=z))}const j=[];for(const se of oe)j.push(new t.CopyLinesCommand(se.selection,this.down,se.ignore));x.pushUndoStop(),x.executeCommands(this.id,j),x.pushUndoStop()}}class c extends o{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:d.localize(0,null),alias:"Copy Line Up",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:512|1024|16,linux:{primary:2048|512|1024|16},weight:100},menuOpts:{menuId:a.MenuId.MenubarSelectionMenu,group:"2_line",title:d.localize(1,null),order:1}})}}class f extends o{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:d.localize(2,null),alias:"Copy Line Down",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:512|1024|18,linux:{primary:2048|512|1024|18},weight:100},menuOpts:{menuId:a.MenuId.MenubarSelectionMenu,group:"2_line",title:d.localize(3,null),order:2}})}}class p extends k.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:d.localize(4,null),alias:"Duplicate Selection",precondition:i.EditorContextKeys.writable,menuOpts:{menuId:a.MenuId.MenubarSelectionMenu,group:"2_line",title:d.localize(5,null),order:5}})}run(de,x,oe){if(!x.hasModel())return;const ne=[],j=x.getSelections(),se=x.getModel();for(const z of j)if(z.isEmpty())ne.push(new t.CopyLinesCommand(z,!0));else{const X=new n.Selection(z.endLineNumber,z.endColumn,z.endLineNumber,z.endColumn);ne.push(new I.ReplaceCommandThatSelectsText(X,se.getValueInRange(z)))}x.pushUndoStop(),x.executeCommands(this.id,ne),x.pushUndoStop()}}e.DuplicateSelectionAction=p;class _ extends k.EditorAction{constructor(de,x){super(x);this.down=de}run(de,x){const oe=de.get(s.ILanguageConfigurationService),ne=[],j=x.getSelections()||[],se=x.getOption(9);for(const z of j)ne.push(new r.MoveLinesCommand(z,this.down,se,oe));x.pushUndoStop(),x.executeCommands(this.id,ne),x.pushUndoStop()}}class m extends _{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:d.localize(6,null),alias:"Move Line Up",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:512|16,linux:{primary:512|16},weight:100},menuOpts:{menuId:a.MenuId.MenubarSelectionMenu,group:"2_line",title:d.localize(7,null),order:3}})}}class h extends _{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:d.localize(8,null),alias:"Move Line Down",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:512|18,linux:{primary:512|18},weight:100},menuOpts:{menuId:a.MenuId.MenubarSelectionMenu,group:"2_line",title:d.localize(9,null),order:4}})}}class S extends k.EditorAction{constructor(de,x){super(x);this.descending=de}run(de,x){const oe=x.getSelections()||[];for(const j of oe)if(!l.SortLinesCommand.canRun(x.getModel(),j,this.descending))return;const ne=[];for(let j=0,se=oe.length;j<se;j++)ne[j]=new l.SortLinesCommand(oe[j],this.descending);x.pushUndoStop(),x.executeCommands(this.id,ne),x.pushUndoStop()}}e.AbstractSortLinesAction=S;class y extends S{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:d.localize(10,null),alias:"Sort Lines Ascending",precondition:i.EditorContextKeys.writable})}}e.SortLinesAscendingAction=y;class E extends S{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:d.localize(11,null),alias:"Sort Lines Descending",precondition:i.EditorContextKeys.writable})}}e.SortLinesDescendingAction=E;class N extends k.EditorAction{constructor(){super({id:"editor.action.removeDuplicateLines",label:d.localize(12,null),alias:"Delete Duplicate Lines",precondition:i.EditorContextKeys.writable})}run(de,x){if(!x.hasModel())return;const oe=x.getModel();if(oe.getLineCount()===1&&oe.getLineMaxColumn(1)===1)return;const ne=[],j=[];let se=0;for(const z of x.getSelections()){const X=new Set,G=[];for(let ee=z.startLineNumber;ee<=z.endLineNumber;ee++){const ue=oe.getLineContent(ee);X.has(ue)||(G.push(ue),X.add(ue))}const U=new n.Selection(z.startLineNumber,1,z.endLineNumber,oe.getLineMaxColumn(z.endLineNumber)),K=z.startLineNumber-se,ce=new n.Selection(K,1,K+G.length-1,G[G.length-1].length);ne.push(v.EditOperation.replace(U,G.join(`
`))),j.push(ce),se+=z.endLineNumber-z.startLineNumber+1-G.length}x.pushUndoStop(),x.executeEdits(this.id,ne,j),x.pushUndoStop()}}e.DeleteDuplicateLinesAction=N;class T extends k.EditorAction{constructor(){super({id:T.ID,label:d.localize(13,null),alias:"Trim Trailing Whitespace",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:(0,w.KeyChord)(2048|41,2048|54),weight:100}})}run(de,x,oe){let ne=[];oe.reason==="auto-save"&&(ne=(x.getSelections()||[]).map(z=>new u.Position(z.positionLineNumber,z.positionColumn)));const j=x.getSelection();if(j===null)return;const se=new L.TrimTrailingWhitespaceCommand(j,ne);x.pushUndoStop(),x.executeCommands(this.id,[se]),x.pushUndoStop()}}e.TrimTrailingWhitespaceAction=T,T.ID="editor.action.trimTrailingWhitespace";class R extends k.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:d.localize(14,null),alias:"Delete Line",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:2048|1024|41,weight:100}})}run(de,x){if(!x.hasModel())return;const oe=this._getLinesToRemove(x),ne=x.getModel();if(ne.getLineCount()===1&&ne.getLineMaxColumn(1)===1)return;let j=0;const se=[],z=[];for(let X=0,G=oe.length;X<G;X++){const U=oe[X];let K=U.startLineNumber,ce=U.endLineNumber,ee=1,ue=ne.getLineMaxColumn(ce);ce<ne.getLineCount()?(ce+=1,ue=1):K>1&&(K-=1,ee=ne.getLineMaxColumn(K)),se.push(v.EditOperation.replace(new n.Selection(K,ee,ce,ue),"")),z.push(new n.Selection(K-j,U.positionColumn,K-j,U.positionColumn)),j+=U.endLineNumber-U.startLineNumber+1}x.pushUndoStop(),x.executeEdits(this.id,se,z),x.pushUndoStop()}_getLinesToRemove(de){const x=de.getSelections().map(j=>{let se=j.endLineNumber;return j.startLineNumber<j.endLineNumber&&j.endColumn===1&&(se-=1),{startLineNumber:j.startLineNumber,selectionStartColumn:j.selectionStartColumn,endLineNumber:se,positionColumn:j.positionColumn}});x.sort((j,se)=>j.startLineNumber===se.startLineNumber?j.endLineNumber-se.endLineNumber:j.startLineNumber-se.startLineNumber);const oe=[];let ne=x[0];for(let j=1;j<x.length;j++)ne.endLineNumber+1>=x[j].startLineNumber?ne.endLineNumber=x[j].endLineNumber:(oe.push(ne),ne=x[j]);return oe.push(ne),oe}}e.DeleteLinesAction=R;class F extends k.EditorAction{constructor(){super({id:"editor.action.indentLines",label:d.localize(15,null),alias:"Indent Line",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2048|89,weight:100}})}run(de,x){const oe=x._getViewModel();!oe||(x.pushUndoStop(),x.executeCommands(this.id,b.TypeOperations.indent(oe.cursorConfig,x.getModel(),x.getSelections())),x.pushUndoStop())}}e.IndentLinesAction=F;class O extends k.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:d.localize(16,null),alias:"Outdent Line",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2048|87,weight:100}})}run(de,x){C.CoreEditingCommands.Outdent.runEditorCommand(de,x,null)}}class D extends k.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:d.localize(17,null),alias:"Insert Line Above",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2048|1024|3,weight:100}})}run(de,x){const oe=x._getViewModel();!oe||(x.pushUndoStop(),x.executeCommands(this.id,b.TypeOperations.lineInsertBefore(oe.cursorConfig,x.getModel(),x.getSelections())))}}e.InsertLineBeforeAction=D;class M extends k.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:d.localize(18,null),alias:"Insert Line Below",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2048|3,weight:100}})}run(de,x){const oe=x._getViewModel();!oe||(x.pushUndoStop(),x.executeCommands(this.id,b.TypeOperations.lineInsertAfter(oe.cursorConfig,x.getModel(),x.getSelections())))}}e.InsertLineAfterAction=M;class P extends k.EditorAction{run(de,x){if(!x.hasModel())return;const oe=x.getSelection(),ne=this._getRangesToDelete(x),j=[];for(let X=0,G=ne.length-1;X<G;X++){const U=ne[X],K=ne[X+1];g.Range.intersectRanges(U,K)===null?j.push(U):ne[X+1]=g.Range.plusRange(U,K)}j.push(ne[ne.length-1]);const se=this._getEndCursorState(oe,j),z=j.map(X=>v.EditOperation.replace(X,""));x.pushUndoStop(),x.executeEdits(this.id,z,se),x.pushUndoStop()}}e.AbstractDeleteAllToBoundaryAction=P;class B extends P{constructor(){super({id:"deleteAllLeft",label:d.localize(19,null),alias:"Delete All Left",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2048|1},weight:100}})}_getEndCursorState(de,x){let oe=null;const ne=[];let j=0;return x.forEach(se=>{let z;if(se.endColumn===1&&j>0){const X=se.startLineNumber-j;z=new n.Selection(X,se.startColumn,X,se.startColumn)}else z=new n.Selection(se.startLineNumber,se.startColumn,se.startLineNumber,se.startColumn);j+=se.endLineNumber-se.startLineNumber,se.intersectRanges(de)?oe=z:ne.push(z)}),oe&&ne.unshift(oe),ne}_getRangesToDelete(de){const x=de.getSelections();if(x===null)return[];let oe=x;const ne=de.getModel();return ne===null?[]:(oe.sort(g.Range.compareRangesUsingStarts),oe=oe.map(j=>{if(j.isEmpty())if(j.startColumn===1){const se=Math.max(1,j.startLineNumber-1),z=j.startLineNumber===1?1:ne.getLineContent(se).length+1;return new g.Range(se,z,j.startLineNumber,1)}else return new g.Range(j.startLineNumber,1,j.startLineNumber,j.startColumn);else return new g.Range(j.startLineNumber,1,j.endLineNumber,j.endColumn)}),oe)}}e.DeleteAllLeftAction=B;class W extends P{constructor(){super({id:"deleteAllRight",label:d.localize(20,null),alias:"Delete All Right",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|41,secondary:[2048|20]},weight:100}})}_getEndCursorState(de,x){let oe=null;const ne=[];for(let j=0,se=x.length,z=0;j<se;j++){const X=x[j],G=new n.Selection(X.startLineNumber-z,X.startColumn,X.startLineNumber-z,X.startColumn);X.intersectRanges(de)?oe=G:ne.push(G)}return oe&&ne.unshift(oe),ne}_getRangesToDelete(de){const x=de.getModel();if(x===null)return[];const oe=de.getSelections();if(oe===null)return[];const ne=oe.map(j=>{if(j.isEmpty()){const se=x.getLineMaxColumn(j.startLineNumber);return j.startColumn===se?new g.Range(j.startLineNumber,j.startColumn,j.startLineNumber+1,1):new g.Range(j.startLineNumber,j.startColumn,j.startLineNumber,se)}return j});return ne.sort(g.Range.compareRangesUsingStarts),ne}}e.DeleteAllRightAction=W;class V extends k.EditorAction{constructor(){super({id:"editor.action.joinLines",label:d.localize(21,null),alias:"Join Lines",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:256|40},weight:100}})}run(de,x){const oe=x.getSelections();if(oe===null)return;let ne=x.getSelection();if(ne===null)return;oe.sort(g.Range.compareRangesUsingStarts);const j=[],se=oe.reduce((ce,ee)=>ce.isEmpty()?ce.endLineNumber===ee.startLineNumber?(ne.equalsSelection(ce)&&(ne=ee),ee):ee.startLineNumber>ce.endLineNumber+1?(j.push(ce),ee):new n.Selection(ce.startLineNumber,ce.startColumn,ee.endLineNumber,ee.endColumn):ee.startLineNumber>ce.endLineNumber?(j.push(ce),ee):new n.Selection(ce.startLineNumber,ce.startColumn,ee.endLineNumber,ee.endColumn));j.push(se);const z=x.getModel();if(z===null)return;const X=[],G=[];let U=ne,K=0;for(let ce=0,ee=j.length;ce<ee;ce++){const ue=j[ce],fe=ue.startLineNumber,Ce=1;let we=0,ye,De;const Me=z.getLineContent(ue.endLineNumber).length-ue.endColumn;if(ue.isEmpty()||ue.startLineNumber===ue.endLineNumber){const le=ue.getStartPosition();le.lineNumber<z.getLineCount()?(ye=fe+1,De=z.getLineMaxColumn(ye)):(ye=le.lineNumber,De=z.getLineMaxColumn(le.lineNumber))}else ye=ue.endLineNumber,De=z.getLineMaxColumn(ye);let pe=z.getLineContent(fe);for(let le=fe+1;le<=ye;le++){const ge=z.getLineContent(le),_e=z.getLineFirstNonWhitespaceColumn(le);if(_e>=1){let Le=!0;pe===""&&(Le=!1),Le&&(pe.charAt(pe.length-1)===" "||pe.charAt(pe.length-1)==="	")&&(Le=!1,pe=pe.replace(/[\s\uFEFF\xA0]+$/g," "));const Ie=ge.substr(_e-1);pe+=(Le?" ":"")+Ie,Le?we=Ie.length+1:we=Ie.length}else we=0}const he=new g.Range(fe,Ce,ye,De);if(!he.isEmpty()){let le;ue.isEmpty()?(X.push(v.EditOperation.replace(he,pe)),le=new n.Selection(he.startLineNumber-K,pe.length-we+1,fe-K,pe.length-we+1)):ue.startLineNumber===ue.endLineNumber?(X.push(v.EditOperation.replace(he,pe)),le=new n.Selection(ue.startLineNumber-K,ue.startColumn,ue.endLineNumber-K,ue.endColumn)):(X.push(v.EditOperation.replace(he,pe)),le=new n.Selection(ue.startLineNumber-K,ue.startColumn,ue.startLineNumber-K,pe.length-Me)),g.Range.intersectRanges(he,ne)!==null?U=le:G.push(le)}K+=he.endLineNumber-he.startLineNumber}G.unshift(U),x.pushUndoStop(),x.executeEdits(this.id,X,G),x.pushUndoStop()}}e.JoinLinesAction=V;class A extends k.EditorAction{constructor(){super({id:"editor.action.transpose",label:d.localize(22,null),alias:"Transpose characters around the cursor",precondition:i.EditorContextKeys.writable})}run(de,x){const oe=x.getSelections();if(oe===null)return;const ne=x.getModel();if(ne===null)return;const j=[];for(let se=0,z=oe.length;se<z;se++){const X=oe[se];if(!X.isEmpty())continue;const G=X.getStartPosition(),U=ne.getLineMaxColumn(G.lineNumber);if(G.column>=U){if(G.lineNumber===ne.getLineCount())continue;const K=new g.Range(G.lineNumber,Math.max(1,G.column-1),G.lineNumber+1,1),ce=ne.getValueInRange(K).split("").reverse().join("");j.push(new I.ReplaceCommand(new n.Selection(G.lineNumber,Math.max(1,G.column-1),G.lineNumber+1,1),ce))}else{const K=new g.Range(G.lineNumber,Math.max(1,G.column-1),G.lineNumber,G.column+1),ce=ne.getValueInRange(K).split("").reverse().join("");j.push(new I.ReplaceCommandThatPreservesSelection(K,ce,new n.Selection(G.lineNumber,G.column+1,G.lineNumber,G.column+1)))}}x.pushUndoStop(),x.executeCommands(this.id,j),x.pushUndoStop()}}e.TransposeAction=A;class Q extends k.EditorAction{run(de,x){const oe=x.getSelections();if(oe===null)return;const ne=x.getModel();if(ne===null)return;const j=x.getOption(119),se=[];for(const z of oe)if(z.isEmpty()){const X=z.getStartPosition(),G=x.getConfiguredWordAtPosition(X);if(!G)continue;const U=new g.Range(X.lineNumber,G.startColumn,X.lineNumber,G.endColumn),K=ne.getValueInRange(U);se.push(v.EditOperation.replace(U,this._modifyText(K,j)))}else{const X=ne.getValueInRange(z);se.push(v.EditOperation.replace(z,this._modifyText(X,j)))}x.pushUndoStop(),x.executeEdits(this.id,se),x.pushUndoStop()}}e.AbstractCaseAction=Q;class J extends Q{constructor(){super({id:"editor.action.transformToUppercase",label:d.localize(23,null),alias:"Transform to Uppercase",precondition:i.EditorContextKeys.writable})}_modifyText(de,x){return de.toLocaleUpperCase()}}e.UpperCaseAction=J;class H extends Q{constructor(){super({id:"editor.action.transformToLowercase",label:d.localize(24,null),alias:"Transform to Lowercase",precondition:i.EditorContextKeys.writable})}_modifyText(de,x){return de.toLocaleLowerCase()}}e.LowerCaseAction=H;class q{constructor(de,x){this._pattern=de,this._flags=x,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}}class Z extends Q{constructor(){super({id:"editor.action.transformToTitlecase",label:d.localize(25,null),alias:"Transform to Title Case",precondition:i.EditorContextKeys.writable})}_modifyText(de,x){const oe=Z.titleBoundary.get();return oe?de.toLocaleLowerCase().replace(oe,ne=>ne.toLocaleUpperCase()):de}}e.TitleCaseAction=Z,Z.titleBoundary=new q("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class ie extends Q{constructor(){super({id:"editor.action.transformToSnakecase",label:d.localize(26,null),alias:"Transform to Snake Case",precondition:i.EditorContextKeys.writable})}_modifyText(de,x){const oe=ie.caseBoundary.get(),ne=ie.singleLetters.get();return!oe||!ne?de:de.replace(oe,"$1_$2").replace(ne,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=ie,ie.caseBoundary=new q("(\\p{Ll})(\\p{Lu})","gmu"),ie.singleLetters=new q("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class Y extends Q{constructor(){super({id:"editor.action.transformToKebabcase",label:d.localize(27,null),alias:"Transform to Kebab Case",precondition:i.EditorContextKeys.writable})}static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(x=>x.isSupported())}_modifyText(de,x){const oe=Y.caseBoundary.get(),ne=Y.singleLetters.get(),j=Y.underscoreBoundary.get();return!oe||!ne||!j?de:de.replace(j,"$1-$3").replace(oe,"$1-$2").replace(ne,"$1-$2").toLocaleLowerCase()}}e.KebabCaseAction=Y,Y.caseBoundary=new q("(\\p{Ll})(\\p{Lu})","gmu"),Y.singleLetters=new q("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),Y.underscoreBoundary=new q("(\\S)(_)(\\S)","gm"),(0,k.registerEditorAction)(c),(0,k.registerEditorAction)(f),(0,k.registerEditorAction)(p),(0,k.registerEditorAction)(m),(0,k.registerEditorAction)(h),(0,k.registerEditorAction)(y),(0,k.registerEditorAction)(E),(0,k.registerEditorAction)(N),(0,k.registerEditorAction)(T),(0,k.registerEditorAction)(R),(0,k.registerEditorAction)(F),(0,k.registerEditorAction)(O),(0,k.registerEditorAction)(D),(0,k.registerEditorAction)(M),(0,k.registerEditorAction)(B),(0,k.registerEditorAction)(W),(0,k.registerEditorAction)(V),(0,k.registerEditorAction)(A),(0,k.registerEditorAction)(J),(0,k.registerEditorAction)(H),ie.caseBoundary.isSupported()&&ie.singleLetters.isSupported()&&(0,k.registerEditorAction)(ie),Z.titleBoundary.isSupported()&&(0,k.registerEditorAction)(Z),Y.isSupported()&&(0,k.registerEditorAction)(Y)}),define(re[143],ae([1,0,49,10,2,12,3,583,16,385]),function($,e,w,C,k,I,L,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let u=class ai{constructor(t,r){this._messageWidget=new k.MutableDisposable,this._messageListeners=new k.DisposableStore,this._editor=t,this._visible=ai.MESSAGE_VISIBLE.bindTo(r)}static get(t){return t.getContribution(ai.ID)}dispose(){this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(t,r){(0,w.alert)(t),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new n(this._editor,r,t),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new C.TimeoutTimer(()=>this.closeMessage(),3e3));let l;this._messageListeners.add(this._editor.onMouseMove(d=>{!d.target.position||(l?l.containsPosition(d.target.position)||this.closeMessage():l=new L.Range(r.lineNumber-3,1,d.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(n.fadeOut(this._messageWidget.value))}};u.ID="editor.contrib.messageController",u.MESSAGE_VISIBLE=new v.RawContextKey("messageVisible",!1,b.localize(0,null)),u=ke([me(1,v.IContextKeyService)],u),e.MessageController=u;const g=I.EditorCommand.bindToContribution(u.get);(0,I.registerEditorCommand)(new g({id:"leaveEditorMessage",precondition:u.MESSAGE_VISIBLE,handler:i=>i.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class n{constructor(t,{lineNumber:r,column:l},d){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=t,this._editor.revealLinesInCenterIfOutsideViewport(r,r,0),this._position={lineNumber:r,column:l},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const a=document.createElement("div");a.classList.add("anchor","top"),this._domNode.appendChild(a);const s=document.createElement("div");s.classList.add("message"),s.textContent=d,this._domNode.appendChild(s);const o=document.createElement("div");o.classList.add("anchor","below"),this._domNode.appendChild(o),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(t){const r=()=>{t.dispose(),clearTimeout(l),t.getDomNode().removeEventListener("animationend",r)},l=setTimeout(r,110);return t.getDomNode().addEventListener("animationend",r),t.getDomNode().classList.add("fadeOut"),{dispose:r}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(t){this._domNode.classList.toggle("below",t===2)}}(0,I.registerEditorContribution)(u.ID,u)});var ni=this&&this.__classPrivateFieldSet||function($,e,w,C,k){if(C==="m")throw new TypeError("Private method is not writable");if(C==="a"&&!k)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?$!==e||!k:!e.has($))throw new TypeError("Cannot write private member to an object whose class did not declare it");return C==="a"?k.call($,w):k?k.value=w:e.set($,w),w},Rt=this&&this.__classPrivateFieldGet||function($,e,w,C){if(w==="a"&&!C)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?$!==e||!C:!e.has($))throw new TypeError("Cannot read private member from an object whose class did not declare it");return w==="m"?C:w==="a"?C.call($):C?C.value:e.get($)};define(re[708],ae([1,0,14,145,2,143,9,302,682]),function($,e,w,C,k,I,L,b,v){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionUi=void 0;let g=class extends k.Disposable{constructor(i,t,r,l,d){super();this._editor=i,this.delegate=l,this._activeCodeActions=this._register(new k.MutableDisposable),this.previewOn=!1,u.set(this,!1),this._codeActionWidget=new C.Lazy(()=>this._register(d.createInstance(b.CodeActionMenu,this._editor,{onSelectCodeAction:(a,s)=>Se(this,void 0,void 0,function*(){this.previewOn?this.delegate.applyCodeAction(a,!0,Boolean(this.previewOn)):this.delegate.applyCodeAction(a,!0,Boolean(s.preview)),this.previewOn=!1})}))),this._lightBulbWidget=new C.Lazy(()=>{const a=this._register(d.createInstance(v.LightBulbWidget,this._editor,t,r));return this._register(a.onClick(s=>this.showCodeActionList(s.trigger,s.actions,s,{includeDisabledActions:!1,fromLightbulb:!0}))),a})}dispose(){ni(this,u,!0,"f"),super.dispose()}hideCodeActionWidget(){this._codeActionWidget.hasValue()&&this._codeActionWidget.getValue().hideCodeActionWidget()}onEnter(){this._codeActionWidget.hasValue()&&this._codeActionWidget.getValue().onEnterSet()}onPreviewEnter(){this.previewOn=!0,this.onEnter()}navigateList(i){this._codeActionWidget.hasValue()&&(i?this._codeActionWidget.getValue().navigateListWithKeysUp():this._codeActionWidget.getValue().navigateListWithKeysDown())}update(i){var t,r,l,d,a;return Se(this,void 0,void 0,function*(){if(i.type!==1){(t=this._lightBulbWidget.rawValue)===null||t===void 0||t.hide();return}let s;try{s=yield i.actions}catch(o){(0,w.onUnexpectedError)(o);return}if(!Rt(this,u,"f"))if(this._lightBulbWidget.getValue().update(s,i.trigger,i.position),i.trigger.type===1){if((r=i.trigger.filter)===null||r===void 0?void 0:r.include){const c=this.tryGetValidActionToApply(i.trigger,s);if(c){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(c,!1,!1)}finally{s.dispose()}return}if(i.trigger.context){const f=this.getInvalidActionThatWouldHaveBeenApplied(i.trigger,s);if(f&&f.action.disabled){(l=I.MessageController.get(this._editor))===null||l===void 0||l.showMessage(f.action.disabled,i.trigger.context.position),s.dispose();return}}}const o=!!((d=i.trigger.filter)===null||d===void 0?void 0:d.include);if(i.trigger.context&&(!s.allActions.length||!o&&!s.validActions.length)){(a=I.MessageController.get(this._editor))===null||a===void 0||a.showMessage(i.trigger.context.notAvailableMessage,i.trigger.context.position),this._activeCodeActions.value=s,s.dispose();return}this._activeCodeActions.value=s,this._codeActionWidget.getValue().show(i.trigger,s,i.position,{includeDisabledActions:o,fromLightbulb:!1})}else this._codeActionWidget.getValue().isVisible?s.dispose():this._activeCodeActions.value=s})}getInvalidActionThatWouldHaveBeenApplied(i,t){if(!!t.allActions.length&&(i.autoApply==="first"&&t.validActions.length===0||i.autoApply==="ifSingle"&&t.allActions.length===1))return t.allActions.find(({action:r})=>r.disabled)}tryGetValidActionToApply(i,t){if(!!t.validActions.length&&(i.autoApply==="first"&&t.validActions.length>0||i.autoApply==="ifSingle"&&t.validActions.length===1))return t.validActions[0]}showCodeActionList(i,t,r,l){return Se(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(i,t,r,l)})}};u=new WeakMap,g=ke([me(4,L.IInstantiationService)],g),e.CodeActionUi=g}),define(re[306],ae([1,0,21,145,2,8,12,138,24,20,170,708,143,543,26,16,9,84,71,39,86,701,131,302]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f,p,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorPreview=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=e.applyCodeAction=e.ApplyCodeActionReason=e.QuickFixController=void 0;function m(J){return l.ContextKeyExpr.regex(f.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,I.escapeRegExpCharacters)(J.value)+"\\b"))}function h(J,H,q,Z){const ie=p.CodeActionCommandArgs.fromUser(H,{kind:p.CodeActionKind.Refactor,apply:"never"});return R(J,typeof(H==null?void 0:H.kind)=="string"?ie.preferred?t.localize(0,null,H.kind):t.localize(1,null,H.kind):ie.preferred?t.localize(2,null):t.localize(3,null),{include:p.CodeActionKind.Refactor.contains(ie.kind)?ie.kind:p.CodeActionKind.None,onlyIncludePreferredActions:ie.preferred},ie.apply,q,Z)}const S={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:t.localize(4,null)},apply:{type:"string",description:t.localize(5,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[t.localize(6,null),t.localize(7,null),t.localize(8,null)]},preferred:{type:"boolean",default:!1,description:t.localize(9,null)}}};let y=class Oi extends k.Disposable{constructor(H,q,Z,ie,Y,te){super();this._instantiationService=Y,this._editor=H,this._model=this._register(new f.CodeActionModel(this._editor,te.codeActionProvider,q,Z,ie)),this._register(this._model.onDidChangeState(de=>this.update(de))),this._ui=new C.Lazy(()=>this._register(new n.CodeActionUi(H,F.Id,V.Id,{applyCodeAction:(de,x,oe)=>Se(this,void 0,void 0,function*(){try{yield this._applyCodeAction(de,oe)}finally{x&&this._trigger({type:2,triggerAction:p.CodeActionTriggerSource.QuickFix,filter:{}})}})},this._instantiationService)))}static get(H){return H.getContribution(Oi.ID)}update(H){this._ui.getValue().update(H)}hideCodeActionMenu(){this._ui.hasValue()&&this._ui.getValue().hideCodeActionWidget()}navigateCodeActionList(H){this._ui.hasValue()&&this._ui.getValue().navigateList(H)}selectedOption(){this._ui.hasValue()&&this._ui.getValue().onEnter()}selectedOptionWithPreview(){this._ui.hasValue()&&this._ui.getValue().onPreviewEnter()}showCodeActions(H,q,Z){return this._ui.getValue().showCodeActionList(H,q,Z,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(H,q,Z,ie,Y){var te;if(!this._editor.hasModel())return;(te=i.MessageController.get(this._editor))===null||te===void 0||te.closeMessage();const de=this._editor.getPosition();this._trigger({type:1,triggerAction:q,filter:Z,autoApply:ie,context:{notAvailableMessage:H,position:de},preview:Y})}_trigger(H){return this._model.trigger(H)}_applyCodeAction(H,q){return this._instantiationService.invokeFunction(N,H,E.FromCodeActions,{preview:q,editor:this._editor})}};y.ID="editor.contrib.quickFixController",y=ke([me(1,a.IMarkerService),me(2,l.IContextKeyService),me(3,s.IEditorProgressService),me(4,d.IInstantiationService),me(5,u.ILanguageFeaturesService)],y),e.QuickFixController=y;var E;(function(J){J.OnSave="onSave",J.FromProblemsView="fromProblemsView",J.FromCodeActions="fromCodeActions"})(E=e.ApplyCodeActionReason||(e.ApplyCodeActionReason={}));function N(J,H,q,Z){return Se(this,void 0,void 0,function*(){const ie=J.get(b.IBulkEditService),Y=J.get(r.ICommandService),te=J.get(c.ITelemetryService),de=J.get(o.INotificationService);if(te.publicLog2("codeAction.applyCodeAction",{codeActionTitle:H.action.title,codeActionKind:H.action.kind,codeActionIsPreferred:!!H.action.isPreferred,reason:q}),yield H.resolve(w.CancellationToken.None),H.action.edit&&(yield ie.apply(b.ResourceEdit.convert(H.action.edit),{editor:Z==null?void 0:Z.editor,label:H.action.title,quotableLabel:H.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:!0,showPreview:Z==null?void 0:Z.preview})),H.action.command)try{yield Y.executeCommand(H.action.command.id,...H.action.command.arguments||[])}catch(x){const oe=T(x);de.error(typeof oe=="string"?oe:t.localize(10,null))}})}e.applyCodeAction=N;function T(J){return typeof J=="string"?J:J instanceof Error&&typeof J.message=="string"?J.message:void 0}function R(J,H,q,Z,ie=!1,Y=p.CodeActionTriggerSource.Default){if(J.hasModel()){const te=y.get(J);te==null||te.manualTriggerAtCurrentPosition(H,Y,q,Z,ie)}}class F extends L.EditorAction{constructor(){super({id:F.Id,label:t.localize(11,null),alias:"Quick Fix...",precondition:l.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|84,weight:100}})}run(H,q){return R(q,t.localize(12,null),void 0,void 0,!1,p.CodeActionTriggerSource.QuickFix)}}e.QuickFixAction=F,F.Id="editor.action.quickFix";class O extends L.EditorCommand{constructor(){super({id:g.codeActionCommandId,precondition:l.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:S}]}})}runEditorCommand(H,q,Z){const ie=p.CodeActionCommandArgs.fromUser(Z,{kind:p.CodeActionKind.Empty,apply:"ifSingle"});return R(q,typeof(Z==null?void 0:Z.kind)=="string"?ie.preferred?t.localize(13,null,Z.kind):t.localize(14,null,Z.kind):ie.preferred?t.localize(15,null):t.localize(16,null),{include:ie.kind,includeSourceActions:!0,onlyIncludePreferredActions:ie.preferred},ie.apply)}}e.CodeActionCommand=O;class D extends L.EditorAction{constructor(){super({id:g.refactorCommandId,label:t.localize(17,null),alias:"Refactor...",precondition:l.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|1024|48,mac:{primary:256|1024|48},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:l.ContextKeyExpr.and(v.EditorContextKeys.writable,m(p.CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:S}]}})}run(H,q,Z){return h(q,Z,!1,p.CodeActionTriggerSource.Refactor)}}e.RefactorAction=D;class M extends L.EditorAction{constructor(){super({id:g.refactorPreviewCommandId,label:t.localize(18,null),alias:"Refactor Preview...",precondition:l.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),description:{description:"Refactor Preview...",args:[{name:"args",schema:S}]}})}run(H,q,Z){return h(q,Z,!0,p.CodeActionTriggerSource.RefactorPreview)}}e.RefactorPreview=M;class P extends L.EditorAction{constructor(){super({id:g.sourceActionCommandId,label:t.localize(19,null),alias:"Source Action...",precondition:l.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:l.ContextKeyExpr.and(v.EditorContextKeys.writable,m(p.CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:S}]}})}run(H,q,Z){const ie=p.CodeActionCommandArgs.fromUser(Z,{kind:p.CodeActionKind.Source,apply:"never"});return R(q,typeof(Z==null?void 0:Z.kind)=="string"?ie.preferred?t.localize(20,null,Z.kind):t.localize(21,null,Z.kind):ie.preferred?t.localize(22,null):t.localize(23,null),{include:p.CodeActionKind.Source.contains(ie.kind)?ie.kind:p.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:ie.preferred},ie.apply,void 0,p.CodeActionTriggerSource.SourceAction)}}e.SourceAction=P;class B extends L.EditorAction{constructor(){super({id:g.organizeImportsCommandId,label:t.localize(24,null),alias:"Organize Imports",precondition:l.ContextKeyExpr.and(v.EditorContextKeys.writable,m(p.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1024|512|45,weight:100}})}run(H,q){return R(q,t.localize(25,null),{include:p.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",void 0,p.CodeActionTriggerSource.OrganizeImports)}}e.OrganizeImportsAction=B;class W extends L.EditorAction{constructor(){super({id:g.fixAllCommandId,label:t.localize(26,null),alias:"Fix All",precondition:l.ContextKeyExpr.and(v.EditorContextKeys.writable,m(p.CodeActionKind.SourceFixAll))})}run(H,q){return R(q,t.localize(27,null),{include:p.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle",void 0,p.CodeActionTriggerSource.FixAll)}}e.FixAllAction=W;class V extends L.EditorAction{constructor(){super({id:V.Id,label:t.localize(28,null),alias:"Auto Fix...",precondition:l.ContextKeyExpr.and(v.EditorContextKeys.writable,m(p.CodeActionKind.QuickFix)),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:512|1024|84,mac:{primary:2048|512|84},weight:100}})}run(H,q){return R(q,t.localize(29,null),{include:p.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",void 0,p.CodeActionTriggerSource.AutoFix)}}e.AutoFixAction=V,V.Id="editor.action.autoFix";const A=L.EditorCommand.bindToContribution(y.get),Q=100+90;(0,L.registerEditorCommand)(new A({id:"hideCodeActionMenuWidget",precondition:_.Context.Visible,handler(J){J.hideCodeActionMenu()},kbOpts:{weight:Q,primary:9,secondary:[1024|9]}})),(0,L.registerEditorCommand)(new A({id:"focusPreviousCodeAction",precondition:_.Context.Visible,handler(J){J.navigateCodeActionList(!0)},kbOpts:{weight:Q+1e5,primary:16,secondary:[2048|16]}})),(0,L.registerEditorCommand)(new A({id:"focusNextCodeAction",precondition:_.Context.Visible,handler(J){J.navigateCodeActionList(!1)},kbOpts:{weight:Q+1e5,primary:18,secondary:[2048|18]}})),(0,L.registerEditorCommand)(new A({id:"onEnterSelectCodeAction",precondition:_.Context.Visible,handler(J){J.selectedOption()},kbOpts:{weight:Q+1e5,primary:3,secondary:[1024|2]}})),(0,L.registerEditorCommand)(new A({id:"onEnterSelectCodeActionWithPreview",precondition:_.Context.Visible,handler(J){J.selectedOptionWithPreview()},kbOpts:{weight:Q+1e5,primary:2048|3}}))}),define(re[709],ae([1,0,12,306,655]),function($,e,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,w.registerEditorContribution)(C.QuickFixController.ID,C.QuickFixController),(0,w.registerEditorAction)(C.QuickFixAction),(0,w.registerEditorAction)(C.RefactorAction),(0,w.registerEditorAction)(C.RefactorPreview),(0,w.registerEditorAction)(C.SourceAction),(0,w.registerEditorAction)(C.OrganizeImportsAction),(0,w.registerEditorAction)(C.AutoFixAction),(0,w.registerEditorAction)(C.FixAllAction),(0,w.registerEditorCommand)(new C.CodeActionCommand)}),define(re[710],ae([1,0,2,12,143,590]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadOnlyMessageController=void 0;class L extends w.Disposable{constructor(v){super();this.editor=v,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const v=k.MessageController.get(this.editor);v&&this.editor.hasModel()&&(this.editor.isSimpleWidget?v.showMessage(I.localize(0,null),this.editor.getPosition()):v.showMessage(I.localize(1,null),this.editor.getPosition()))}}e.ReadOnlyMessageController=L,L.ID="editor.contrib.readOnlyMessageController",(0,C.registerEditorContribution)(L.ID,L)}),define(re[711],ae([1,0,49,10,21,14,2,19,22,95,12,138,29,11,3,24,166,143,591,94,16,9,69,39,71,34,688,20]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f,p,_,m,h,S,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=e.rename=void 0;class E{constructor(D,M,P){this.model=D,this.position=M,this._providerRenameIdx=0,this._providers=P.ordered(D)}hasProvider(){return this._providers.length>0}resolveRenameLocation(D){return Se(this,void 0,void 0,function*(){const M=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const B=this._providers[this._providerRenameIdx];if(!B.resolveRenameLocation)break;const W=yield B.resolveRenameLocation(this.model,this.position,D);if(!!W){if(W.rejectReason){M.push(W.rejectReason);continue}return W}}const P=this.model.getWordAtPosition(this.position);return P?{range:new r.Range(this.position.lineNumber,P.startColumn,this.position.lineNumber,P.endColumn),text:P.word,rejectReason:M.length>0?M.join(`
`):void 0}:{range:r.Range.fromPositions(this.position),text:"",rejectReason:M.length>0?M.join(`
`):void 0}})}provideRenameEdits(D,M){return Se(this,void 0,void 0,function*(){return this._provideRenameEdits(D,this._providerRenameIdx,[],M)})}_provideRenameEdits(D,M,P,B){return Se(this,void 0,void 0,function*(){const W=this._providers[M];if(!W)return{edits:[],rejectReason:P.join(`
`)};const V=yield W.provideRenameEdits(this.model,this.position,D,B);if(V){if(V.rejectReason)return this._provideRenameEdits(D,M+1,P.concat(V.rejectReason),B)}else return this._provideRenameEdits(D,M+1,P.concat(s.localize(0,null)),B);return V})}}function N(O,D,M,P){return Se(this,void 0,void 0,function*(){const B=new E(D,M,O),W=yield B.resolveRenameLocation(k.CancellationToken.None);return(W==null?void 0:W.rejectReason)?{edits:[],rejectReason:W.rejectReason}:B.provideRenameEdits(P,k.CancellationToken.None)})}e.rename=N;let T=class Fi{constructor(D,M,P,B,W,V,A,Q){this.editor=D,this._instaService=M,this._notificationService=P,this._bulkEditService=B,this._progressService=W,this._logService=V,this._configService=A,this._languageFeaturesService=Q,this._disposableStore=new L.DisposableStore,this._cts=new k.CancellationTokenSource,this._renameInputField=this._disposableStore.add(new C.IdleValue(()=>this._disposableStore.add(this._instaService.createInstance(S.RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(D){return D.getContribution(Fi.ID)}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){var D,M;return Se(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const P=this.editor.getPosition(),B=new E(this.editor.getModel(),P,this._languageFeaturesService.renameProvider);if(!B.hasProvider())return;this._cts=new u.EditorStateCancellationTokenSource(this.editor,4|1);let W;try{const Z=B.resolveRenameLocation(this._cts.token);this._progressService.showWhile(Z,250),W=yield Z}catch(Z){(D=a.MessageController.get(this.editor))===null||D===void 0||D.showMessage(Z||s.localize(1,null),P);return}if(!W)return;if(W.rejectReason){(M=a.MessageController.get(this.editor))===null||M===void 0||M.showMessage(W.rejectReason,P);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new u.EditorStateCancellationTokenSource(this.editor,4|1,W.range);const V=this.editor.getSelection();let A=0,Q=W.text.length;!r.Range.isEmpty(V)&&!r.Range.spansMultipleLines(V)&&r.Range.containsRange(W.range,V)&&(A=Math.max(0,V.startColumn-W.range.startColumn),Q=Math.min(W.range.endColumn,V.endColumn)-W.range.startColumn);const J=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),H=yield this._renameInputField.value.getInput(W.range,W.text,A,Q,J,this._cts.token);if(typeof H=="boolean"){H&&this.editor.focus();return}this.editor.focus();const q=(0,C.raceCancellation)(B.provideRenameEdits(H.newName,this._cts.token),this._cts.token).then(Z=>Se(this,void 0,void 0,function*(){if(!(!Z||!this.editor.hasModel())){if(Z.rejectReason){this._notificationService.info(Z.rejectReason);return}this.editor.setSelection(r.Range.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(n.ResourceEdit.convert(Z),{editor:this.editor,showPreview:H.wantsPreview,label:s.localize(2,null,W==null?void 0:W.text,H.newName),code:"undoredo.rename",quotableLabel:s.localize(3,null,W==null?void 0:W.text,H.newName),respectAutoSaveConfig:!0}).then(ie=>{ie.ariaSummary&&(0,w.alert)(s.localize(4,null,W.text,H.newName,ie.ariaSummary))}).catch(ie=>{this._notificationService.error(s.localize(5,null)),this._logService.error(ie)})}}),Z=>{this._notificationService.error(s.localize(6,null)),this._logService.error(Z)});return this._progressService.showWhile(q,250),q})}acceptRenameInput(D){this._renameInputField.value.acceptInput(D)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};T.ID="editor.contrib.renameController",T=ke([me(1,f.IInstantiationService),me(2,_.INotificationService),me(3,n.IBulkEditService),me(4,m.IEditorProgressService),me(5,p.ILogService),me(6,d.ITextResourceConfigurationService),me(7,y.ILanguageFeaturesService)],T);class R extends g.EditorAction{constructor(){super({id:"editor.action.rename",label:s.localize(7,null),alias:"Rename Symbol",precondition:c.ContextKeyExpr.and(l.EditorContextKeys.writable,l.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(D,M){const P=D.get(i.ICodeEditorService),[B,W]=Array.isArray(M)&&M||[void 0,void 0];return v.URI.isUri(B)&&t.Position.isIPosition(W)?P.openCodeEditor({resource:B},P.getActiveCodeEditor()).then(V=>{!V||(V.setPosition(W),V.invokeWithinContext(A=>(this.reportTelemetry(A,V),this.run(A,V))))},I.onUnexpectedError):super.runCommand(D,M)}run(D,M){const P=T.get(M);return P?P.run():Promise.resolve()}}e.RenameAction=R,(0,g.registerEditorContribution)(T.ID,T),(0,g.registerEditorAction)(R);const F=g.EditorCommand.bindToContribution(T.get);(0,g.registerEditorCommand)(new F({id:"acceptRenameInput",precondition:S.CONTEXT_RENAME_INPUT_VISIBLE,handler:O=>O.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:l.EditorContextKeys.focus,primary:3}})),(0,g.registerEditorCommand)(new F({id:"acceptRenameInputWithPreview",precondition:c.ContextKeyExpr.and(S.CONTEXT_RENAME_INPUT_VISIBLE,c.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:O=>O.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:l.EditorContextKeys.focus,primary:1024+3}})),(0,g.registerEditorCommand)(new F({id:"cancelRenameInput",precondition:S.CONTEXT_RENAME_INPUT_VISIBLE,handler:O=>O.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:l.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,g.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(O,D,M,...P){const[B]=P;(0,b.assertType)(typeof B=="string");const{renameProvider:W}=O.get(y.ILanguageFeaturesService);return N(W,D,M,B)}),(0,g.registerModelAndPositionCommand)("_executePrepareRename",function(O,D,M){return Se(this,void 0,void 0,function*(){const{renameProvider:P}=O.get(y.ILanguageFeaturesService),W=yield new E(D,M,P).resolveRenameLocation(k.CancellationToken.None);if(W==null?void 0:W.rejectReason)throw new Error(W.rejectReason);return W})}),h.Registry.as(o.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:s.localize(8,null),default:!0,type:"boolean"}}})}),define(re[712],ae([1,0,18,21,14,12,11,3,23,24,249,458,593,38,26,20,58,19,22]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSelectionRanges=void 0;class o{constructor(S,y){this.index=S,this.ranges=y}mov(S){const y=this.index+(S?1:-1);if(y<0||y>=this.ranges.length)return this;const E=new o(y,this.ranges);return E.ranges[y].equalsRange(this.ranges[this.index])?E.mov(S):E}}let c=class Bi{constructor(S,y){this._editor=S,this._languageFeaturesService=y,this._ignoreSelection=!1}static get(S){return S.getContribution(Bi.ID)}dispose(){var S;(S=this._selectionListener)===null||S===void 0||S.dispose()}run(S){return Se(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const y=this._editor.getSelections(),E=this._editor.getModel();if(this._state||(yield m(this._languageFeaturesService.selectionRangeProvider,E,y.map(T=>T.getPosition()),this._editor.getOption(104),C.CancellationToken.None).then(T=>{var R;if(!(!w.isNonEmptyArray(T)||T.length!==y.length)&&!(!this._editor.hasModel()||!w.equals(this._editor.getSelections(),y,(F,O)=>F.equalsSelection(O)))){for(let F=0;F<T.length;F++)T[F]=T[F].filter(O=>O.containsPosition(y[F].getStartPosition())&&O.containsPosition(y[F].getEndPosition())),T[F].unshift(y[F]);this._state=T.map(F=>new o(0,F)),(R=this._selectionListener)===null||R===void 0||R.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var F;this._ignoreSelection||((F=this._selectionListener)===null||F===void 0||F.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(T=>T.mov(S));const N=this._state.map(T=>v.Selection.fromPositions(T.ranges[T.index].getStartPosition(),T.ranges[T.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(N)}finally{this._ignoreSelection=!1}})}};c.ID="editor.contrib.smartSelectController",c=ke([me(1,l.ILanguageFeaturesService)],c);class f extends I.EditorAction{constructor(S,y){super(y);this._forward=S}run(S,y){return Se(this,void 0,void 0,function*(){const E=c.get(y);E&&(yield E.run(this._forward))})}}class p extends f{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:i.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:1024|512|17,mac:{primary:2048|256|1024|17,secondary:[256|1024|17]},weight:100},menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"1_basic",title:i.localize(1,null),order:2}})}}r.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class _ extends f{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:i.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:1024|512|15,mac:{primary:2048|256|1024|15,secondary:[256|1024|15]},weight:100},menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"1_basic",title:i.localize(3,null),order:3}})}}(0,I.registerEditorContribution)(c.ID,c),(0,I.registerEditorAction)(p),(0,I.registerEditorAction)(_);function m(h,S,y,E,N){return Se(this,void 0,void 0,function*(){const T=h.all(S).concat(new n.WordSelectionRangeProvider);T.length===1&&T.unshift(new g.BracketSelectionRangeProvider);const R=[],F=[];for(const O of T)R.push(Promise.resolve(O.provideSelectionRanges(S,y,N)).then(D=>{if(w.isNonEmptyArray(D)&&D.length===y.length)for(let M=0;M<y.length;M++){F[M]||(F[M]=[]);for(const P of D[M])b.Range.isIRange(P.range)&&b.Range.containsPosition(P.range,y[M])&&F[M].push(b.Range.lift(P.range))}},k.onUnexpectedExternalError));return yield Promise.all(R),F.map(O=>{if(O.length===0)return[];O.sort((B,W)=>L.Position.isBefore(B.getStartPosition(),W.getStartPosition())?1:L.Position.isBefore(W.getStartPosition(),B.getStartPosition())||L.Position.isBefore(B.getEndPosition(),W.getEndPosition())?-1:L.Position.isBefore(W.getEndPosition(),B.getEndPosition())?1:0);const D=[];let M;for(const B of O)(!M||b.Range.containsRange(B,M)&&!b.Range.equalsRange(B,M))&&(D.push(B),M=B);if(!E.selectLeadingAndTrailingWhitespace)return D;const P=[D[0]];for(let B=1;B<D.length;B++){const W=D[B-1],V=D[B];if(V.startLineNumber!==W.startLineNumber||V.endLineNumber!==W.endLineNumber){const A=new b.Range(W.startLineNumber,S.getLineFirstNonWhitespaceColumn(W.startLineNumber),W.endLineNumber,S.getLineLastNonWhitespaceColumn(W.endLineNumber));A.containsRange(W)&&!A.equalsRange(W)&&V.containsRange(A)&&!V.equalsRange(A)&&P.push(A);const Q=new b.Range(W.startLineNumber,1,W.endLineNumber,S.getLineMaxColumn(W.endLineNumber));Q.containsRange(W)&&!Q.equalsRange(A)&&V.containsRange(Q)&&!V.equalsRange(Q)&&P.push(Q)}P.push(V)}return P})})}e.provideSelectionRanges=m,r.CommandsRegistry.registerCommand("_executeSelectionRangeProvider",function(h,...S){return Se(this,void 0,void 0,function*(){const[y,E]=S;(0,a.assertType)(s.URI.isUri(y));const N=h.get(l.ILanguageFeaturesService).selectionRangeProvider,T=yield h.get(d.ITextModelService).createModelReference(y);try{return m(N,T.object.textEditorModel,E,{selectLeadingAndTrailingWhitespace:!0},C.CancellationToken.None)}finally{T.dispose()}})})}),define(re[713],ae([1,0,2,12,20,168,21,7,91,114,130,10,11]),function($,e,w,C,k,I,L,b,v,u,g,n,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0});let r=class extends w.Disposable{constructor(o,c){super();this._sessionStore=new w.DisposableStore,this._ranges=[],this._rangesVersionId=0,this._editor=o,this._languageFeaturesService=c,this.stickyScrollWidget=new a(this._editor),this._register(this._editor.onDidChangeConfiguration(f=>{f.hasChanged(34)&&this.onConfigurationChange()})),this._updateSoon=this._register(new n.RunOnceScheduler(()=>this._update(!0),50)),this.onConfigurationChange()}onConfigurationChange(){if(this._editor.getOption(34).stickyScroll.enabled===!1){this.stickyScrollWidget.emptyRootNode(),this._editor.removeOverlayWidget(this.stickyScrollWidget),this._sessionStore.clear();return}else this._editor.addOverlayWidget(this.stickyScrollWidget),this._sessionStore.add(this._editor.onDidChangeModel(()=>this._update(!0))),this._sessionStore.add(this._editor.onDidScrollChange(()=>this._update(!1))),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this._update(!0))),this._sessionStore.add(this._editor.onDidChangeModelTokens(c=>this._onTokensChange(c))),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this._update(!0))),this._update(!0)}_needsUpdate(o){const c=this.stickyScrollWidget.getCurrentLines();for(const f of c)for(const p of o.ranges)if(f>=p.fromLineNumber&&f<=p.toLineNumber)return!0;return!1}_onTokensChange(o){this._needsUpdate(o)&&this._update(!1)}_update(o=!1){var c,f;return Se(this,void 0,void 0,function*(){o&&((c=this._cts)===null||c===void 0||c.dispose(!0),this._cts=new L.CancellationTokenSource,yield this._updateOutlineModel(this._cts.token));const p=(f=this._editor._getViewModel())===null||f===void 0?void 0:f.getHiddenAreas();if(p)for(const _ of p)this._ranges=this._ranges.filter(m=>!(m[0]>=_.startLineNumber&&m[1]<=_.endLineNumber+1));this._renderStickyScroll()})}_findLineRanges(o,c){if(o==null?void 0:o.children.size){let f=!1;for(const p of o==null?void 0:o.children.values()){const _=p.symbol.kind;(_===4||_===8||_===11||_===10||_===5||_===1)&&(f=!0,this._findLineRanges(p,c+1))}f||this._addOutlineRanges(o,c)}else this._addOutlineRanges(o,c)}_addOutlineRanges(o,c){let f=0,p=0;for(;o;){const _=o.symbol.kind;if((_===4||_===8||_===11||_===10||_===5||_===1)&&(f=o==null?void 0:o.symbol.range.startLineNumber,p=o==null?void 0:o.symbol.range.endLineNumber,this._ranges.push([f,p,c]),c--),o.parent instanceof I.OutlineElement)o=o.parent;else break}}_updateOutlineModel(o){return Se(this,void 0,void 0,function*(){if(this._editor.hasModel()){const c=this._editor.getModel(),f=c.getVersionId(),p=yield I.OutlineModel.create(this._languageFeaturesService.documentSymbolProvider,c,o);if(o.isCancellationRequested)return;this._ranges=[],this._rangesVersionId=f;for(const _ of p.children.values()){if(_ instanceof I.OutlineElement){const h=_.symbol.kind;h===4||h===8||h===11||h===10||h===5||h===1?this._findLineRanges(_,1):this._findLineRanges(_,0)}this._ranges=this._ranges.sort(function(h,S){return h[0]!==S[0]?h[0]-S[0]:h[1]!==S[1]?S[1]-h[1]:h[2]-S[2]});let m=[];for(const[h,S]of this._ranges.entries()){const[y,E,N]=S;m[0]===y&&m[1]===E?this._ranges.splice(h,1):m=S}}}})}_renderStickyScroll(){if(!this._editor.hasModel())return;const o=this._editor.getOption(61),c=this._editor.getModel();if(this._rangesVersionId!==c.getVersionId())return;const f=this._editor.getScrollTop();this.stickyScrollWidget.emptyRootNode();const p=new Set;for(const[_,m]of this._ranges.entries()){const[h,S,y]=m;if(S-h>0&&c.getLineContent(h)!==""){const E=(y-1)*o,N=y*o,T=this._editor.getBottomForLineNumber(h)-f,R=this._editor.getTopForLineNumber(S)-f,F=this._editor.getBottomForLineNumber(S)-f;if(p.has(h))this._ranges.splice(_,1);else if(E>=R-1&&E<F-2){p.add(h),this.stickyScrollWidget.pushCodeLine(new d(h,y,this._editor,-1,F-N));break}else N>T&&N<F-1&&(p.add(h),this.stickyScrollWidget.pushCodeLine(new d(h,y,this._editor,0,0)))}}this.stickyScrollWidget.updateRootNode()}dispose(){super.dispose(),this._sessionStore.dispose()}};r.ID="store.contrib.stickyScrollController",r=ke([me(1,k.ILanguageFeaturesService)],r);const l=(t=window.trustedTypes)===null||t===void 0?void 0:t.createPolicy("stickyScrollViewLayer",{createHTML:s=>s});class d{constructor(o,c,f,p,_){this._lineNumber=o,this._depth=c,this._editor=f,this._zIndex=p,this._relativePosition=_,this.effectiveLineHeight=0,this.effectiveLineHeight=this._editor.getOption(61)+this._relativePosition}get lineNumber(){return this._lineNumber}getDomNode(){const o=document.createElement("div"),c=this._editor._getViewModel(),f=c.coordinatesConverter.convertModelPositionToViewPosition(new i.Position(this._lineNumber,1)).lineNumber,p=c.getViewLineRenderingData(f);let _;try{_=g.LineDecoration.filter(p.inlineDecorations,f,p.minColumn,p.maxColumn)}catch{_=[]}const m=new u.RenderLineInput(!0,!0,p.content,p.continuesWithWrappedLine,p.isBasicASCII,p.containsRTL,0,p.tokens,_,p.tabSize,p.startVisibleColumn,1,1,1,100,"none",!0,!0,null),h=(0,v.createStringBuilder)(400);(0,u.renderViewLine)(m,h);let S;l?S=l.createHTML(h.build()):S=h.build();const y=document.createElement("span");y.style.backgroundColor="var(--vscode-editorStickyScroll-background)",y.style.overflow="hidden",y.style.whiteSpace="nowrap",y.style.display="inline-block",y.style.lineHeight=this._editor.getOption(61).toString()+"px",y.innerHTML=S;const E=document.createElement("span");E.style.width=this._editor.getLayoutInfo().contentLeft.toString()+"px",E.style.backgroundColor="var(--vscode-editorStickyScroll-background)",E.style.color="var(--vscode-editorLineNumber-foreground)",E.style.display="inline-block",E.style.lineHeight=this._editor.getOption(61).toString()+"px";const N=document.createElement("span");return N.innerText=this._lineNumber.toString(),N.style.paddingLeft=this._editor.getLayoutInfo().lineNumbersLeft.toString()+"px",N.style.width=this._editor.getLayoutInfo().lineNumbersWidth.toString()+"px",N.style.backgroundColor="var(--vscode-editorStickyScroll-background)",N.style.textAlign="right",N.style.float="left",N.style.lineHeight=this._editor.getOption(61).toString()+"px",E.appendChild(N),o.onclick=T=>{T.stopPropagation(),T.preventDefault(),this._editor.revealPosition({lineNumber:this._lineNumber-this._depth+1,column:1})},o.onmouseover=T=>{N.style.background="var(--vscode-editorStickyScrollHover-background)",y.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",E.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",o.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",N.style.cursor="pointer",y.style.cursor="pointer",o.style.cursor="pointer",E.style.cursor="pointer"},o.onmouseleave=T=>{N.style.background="var(--vscode-editorStickyScroll-background)",y.style.backgroundColor="var(--vscode-editorStickyScroll-background)",E.style.backgroundColor="var(--vscode-editorStickyScroll-background)",o.style.backgroundColor="var(--vscode-editorStickyScroll-background)"},this._editor.applyFontInfo(y),this._editor.applyFontInfo(N),o.appendChild(E),o.appendChild(y),o.style.zIndex=this._zIndex.toString(),o.style.backgroundColor="var(--vscode-editorStickyScroll-background)",o.style.overflow="hidden",o.style.whiteSpace="nowrap",o.style.width="100%",o.style.lineHeight=this._editor.getOption(61).toString()+"px",o.style.height=this._editor.getOption(61).toString()+"px",this._relativePosition&&(o.style.position="relative",o.style.top=this._relativePosition+"px",o.style.width="100%"),o}}class a{constructor(o){this._editor=o,this.arrayOfCodeLines=[],this.rootDomNode=document.createElement("div"),this.rootDomNode=document.createElement("div"),this.rootDomNode.style.width="100%",this.rootDomNode.style.boxShadow="var(--vscode-scrollbar-shadow) 0 6px 6px -6px"}getCurrentLines(){const o=[];for(const c of this.arrayOfCodeLines)o.push(c.lineNumber);return o}pushCodeLine(o){this.arrayOfCodeLines.push(o)}updateRootNode(){let o=0;for(const c of this.arrayOfCodeLines)o+=c.effectiveLineHeight,this.rootDomNode.appendChild(c.getDomNode());this.rootDomNode.style.height=o.toString()+"px"}emptyRootNode(){this.arrayOfCodeLines.length=0,b.clearNode(this.rootDomNode)}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this.rootDomNode.style.zIndex="2",this.rootDomNode.style.backgroundColor="var(--vscode-editorStickyScroll-background)",this.rootDomNode}getPosition(){return{preference:null}}}(0,C.registerEditorContribution)(r.ID,r)}),define(re[102],ae([1,0,21,14,63,2,57,19,22,11,3,58,89,596,38,26,16,20,293]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickSuggestionsOptions=e.showSimpleSuggestions=e.getSuggestionComparator=e.provideSuggestionItems=e.CompletionItemModel=e.getSnippetSuggestSupport=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.Context={Visible:s.historyNavigationVisible,HasFocusedSuggestion:new d.RawContextKey("suggestWidgetHasFocusedSuggestion",!1,(0,t.localize)(0,null)),DetailsVisible:new d.RawContextKey("suggestWidgetDetailsVisible",!1,(0,t.localize)(1,null)),MultipleSuggestions:new d.RawContextKey("suggestWidgetMultipleSuggestions",!1,(0,t.localize)(2,null)),MakesTextEdit:new d.RawContextKey("suggestionMakesTextEdit",!0,(0,t.localize)(3,null)),AcceptSuggestionsOnEnter:new d.RawContextKey("acceptSuggestionOnEnter",!0,(0,t.localize)(4,null)),HasInsertAndReplaceRange:new d.RawContextKey("suggestionHasInsertAndReplaceRange",!1,(0,t.localize)(5,null)),InsertMode:new d.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:(0,t.localize)(6,null)}),CanResolve:new d.RawContextKey("suggestionCanResolve",!1,(0,t.localize)(7,null))},e.suggestWidgetStatusbarMenu=new r.MenuId("suggestWidgetStatusBar");class o{constructor(O,D,M,P){this.position=O,this.completion=D,this.container=M,this.provider=P,this.isInvalid=!1,this.score=k.FuzzyScore.Default,this.distance=0,this.textLabel=typeof D.label=="string"?D.label:D.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=D.sortText&&D.sortText.toLowerCase(),this.filterTextLow=D.filterText&&D.filterText.toLowerCase(),this.extensionId=D.extensionId,g.Range.isIRange(D.range)?(this.editStart=new u.Position(D.range.startLineNumber,D.range.startColumn),this.editInsertEnd=new u.Position(D.range.endLineNumber,D.range.endColumn),this.editReplaceEnd=new u.Position(D.range.endLineNumber,D.range.endColumn),this.isInvalid=this.isInvalid||g.Range.spansMultipleLines(D.range)||D.range.startLineNumber!==O.lineNumber):(this.editStart=new u.Position(D.range.insert.startLineNumber,D.range.insert.startColumn),this.editInsertEnd=new u.Position(D.range.insert.endLineNumber,D.range.insert.endColumn),this.editReplaceEnd=new u.Position(D.range.replace.endLineNumber,D.range.replace.endColumn),this.isInvalid=this.isInvalid||g.Range.spansMultipleLines(D.range.insert)||g.Range.spansMultipleLines(D.range.replace)||D.range.insert.startLineNumber!==O.lineNumber||D.range.replace.startLineNumber!==O.lineNumber||D.range.insert.startColumn!==D.range.replace.startColumn),typeof P.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(O){return Se(this,void 0,void 0,function*(){if(!this._resolveCache){const D=O.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,O)).then(M=>{Object.assign(this.completion,M),this._isResolved=!0,D.dispose()},M=>{(0,C.isCancellationError)(M)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}e.CompletionItem=o;class c{constructor(O=2,D=new Set,M=new Set,P=!0){this.snippetSortOrder=O,this.kindFilter=D,this.providerFilter=M,this.showDeprecated=P}}e.CompletionOptions=c,c.default=new c;let f;function p(){return f}e.getSnippetSuggestSupport=p;class _{constructor(O,D,M,P){this.items=O,this.needsClipboard=D,this.durations=M,this.disposable=P}}e.CompletionItemModel=_;function m(F,O,D,M=c.default,P={triggerKind:0},B=w.CancellationToken.None){return Se(this,void 0,void 0,function*(){const W=new L.StopWatch(!0);D=D.clone();const V=O.getWordAtPosition(D),A=V?new g.Range(D.lineNumber,V.startColumn,D.lineNumber,V.endColumn):g.Range.fromPositions(D),Q={replace:A,insert:A.setEndPosition(D.lineNumber,D.column)},J=[],H=new I.DisposableStore,q=[];let Z=!1;const ie=(te,de,x)=>{var oe,ne,j;let se=!1;if(!de)return se;for(const z of de.suggestions)if(!M.kindFilter.has(z.kind)){if(!M.showDeprecated&&((oe=z==null?void 0:z.tags)===null||oe===void 0?void 0:oe.includes(1)))continue;z.range||(z.range=Q),z.sortText||(z.sortText=typeof z.label=="string"?z.label:z.label.label),!Z&&z.insertTextRules&&z.insertTextRules&4&&(Z=i.SnippetParser.guessNeedsClipboard(z.insertText)),J.push(new o(D,z,de,te)),se=!0}return(0,I.isDisposable)(de)&&H.add(de),q.push({providerName:(ne=te._debugDisplayName)!==null&&ne!==void 0?ne:"unknown_provider",elapsedProvider:(j=de.duration)!==null&&j!==void 0?j:-1,elapsedOverall:x.elapsed()}),se},Y=(()=>Se(this,void 0,void 0,function*(){if(!f||M.kindFilter.has(27)||M.providerFilter.size>0&&!M.providerFilter.has(f))return;const te=new L.StopWatch(!0),de=yield f.provideCompletionItems(O,D,P,B);ie(f,de,te)}))();for(const te of F.orderedGroups(O)){let de=!1;if(yield Promise.all(te.map(x=>Se(this,void 0,void 0,function*(){if(!(M.providerFilter.size>0&&!M.providerFilter.has(x)))try{const oe=new L.StopWatch(!0),ne=yield x.provideCompletionItems(O,D,P,B);de=ie(x,ne,oe)||de}catch(oe){(0,C.onUnexpectedExternalError)(oe)}}))),de||B.isCancellationRequested)break}return yield Y,B.isCancellationRequested?(H.dispose(),Promise.reject(new C.CancellationError)):new _(J.sort(N(M.snippetSortOrder)),Z,{entries:q,elapsed:W.elapsed()},H)})}e.provideSuggestionItems=m;function h(F,O){if(F.sortTextLow&&O.sortTextLow){if(F.sortTextLow<O.sortTextLow)return-1;if(F.sortTextLow>O.sortTextLow)return 1}return F.textLabel<O.textLabel?-1:F.textLabel>O.textLabel?1:F.completion.kind-O.completion.kind}function S(F,O){if(F.completion.kind!==O.completion.kind){if(F.completion.kind===27)return-1;if(O.completion.kind===27)return 1}return h(F,O)}function y(F,O){if(F.completion.kind!==O.completion.kind){if(F.completion.kind===27)return 1;if(O.completion.kind===27)return-1}return h(F,O)}const E=new Map;E.set(0,S),E.set(2,y),E.set(1,h);function N(F){return E.get(F)}e.getSuggestionComparator=N,l.CommandsRegistry.registerCommand("_executeCompletionItemProvider",(F,...O)=>Se(void 0,void 0,void 0,function*(){const[D,M,P,B]=O;(0,b.assertType)(v.URI.isUri(D)),(0,b.assertType)(u.Position.isIPosition(M)),(0,b.assertType)(typeof P=="string"||!P),(0,b.assertType)(typeof B=="number"||!B);const{completionProvider:W}=F.get(a.ILanguageFeaturesService),V=yield F.get(n.ITextModelService).createModelReference(D);try{const A={incomplete:!1,suggestions:[]},Q=[],J=yield m(W,V.object.textEditorModel,u.Position.lift(M),void 0,{triggerCharacter:P,triggerKind:P?1:0});for(const H of J.items)Q.length<(B??0)&&Q.push(H.resolve(w.CancellationToken.None)),A.incomplete=A.incomplete||H.container.incomplete,A.suggestions.push(H.completion);try{return yield Promise.all(Q),A}finally{setTimeout(()=>J.disposable.dispose(),100)}}finally{V.dispose()}}));function T(F,O){var D;(D=F.getContribution("editor.contrib.suggestController"))===null||D===void 0||D.triggerSuggest(new Set().add(O),void 0,!0)}e.showSimpleSuggestions=T;class R{static isAllOff(O){return O.other==="off"&&O.comments==="off"&&O.strings==="off"}static isAllOn(O){return O.other==="on"&&O.comments==="on"&&O.strings==="on"}static valueFor(O,D){switch(D){case 1:return O.comments;case 2:return O.strings;default:return O.other}}}e.QuickSuggestionsOptions=R}),define(re[714],ae([1,0,21,63,55,2,12,29,3,20,159,250,102,294,251,93,9]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestInlineCompletions=void 0;class a{constructor(p,_,m,h,S,y){this.range=p,this.insertText=_,this.filterText=m,this.additionalTextEdits=h,this.command=S,this.completion=y}}let s=class extends I.RefCountedDisposable{constructor(p,_,m,h,S,y){super(S.disposable);this.model=p,this.line=_,this.word=m,this.completionModel=h,this._suggestMemoryService=y}canBeReused(p,_,m){return this.model===p&&this.line===_&&this.word.word.length>0&&this.word.startColumn===m.startColumn&&this.word.endColumn<m.endColumn&&this.completionModel.incomplete.size===0}get items(){var p;const _=[],{items:m}=this.completionModel,h=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},m),S=k.Iterable.slice(m,h),y=k.Iterable.slice(m,0,h);let E=5;for(const N of k.Iterable.concat(S,y)){if(N.score===C.FuzzyScore.Default)continue;const T=new v.Range(N.editStart.lineNumber,N.editStart.column,N.editInsertEnd.lineNumber,N.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),R=N.completion.insertTextRules&&N.completion.insertTextRules&g.CompletionItemInsertTextRule.InsertAsSnippet?{snippet:N.completion.insertText}:N.completion.insertText;_.push(new a(T,R,(p=N.filterTextLow)!==null&&p!==void 0?p:N.labelLow,N.completion.additionalTextEdits,N.completion.command,N)),E-->=0&&N.resolve(w.CancellationToken.None)}return _}};s=ke([me(5,t.ISuggestMemoryService)],s);let o=class{constructor(p,_,m,h){this._getEditorOption=p,this._languageFeatureService=_,this._clipboardService=m,this._suggestMemoryService=h}provideInlineCompletions(p,_,m,h){var S;return Se(this,void 0,void 0,function*(){if(m.selectedSuggestionInfo)return;const y=this._getEditorOption(81,p);if(i.QuickSuggestionsOptions.isAllOff(y))return;p.tokenization.tokenizeIfCheap(_.lineNumber);const E=p.tokenization.getLineTokens(_.lineNumber),N=E.getStandardTokenType(E.findTokenIndexAtOffset(Math.max(_.column-1-1,0)));if(i.QuickSuggestionsOptions.valueFor(y,N)!=="inline")return;let T=p.getWordAtPosition(_),R;if((T==null?void 0:T.word)||(R=this._getTriggerCharacterInfo(p,_)),!(T==null?void 0:T.word)&&!R||(T||(T=p.getWordUntilPosition(_)),T.endColumn!==_.column))return;let F;const O=p.getValueInRange(new v.Range(_.lineNumber,1,_.lineNumber,_.column));if(!R&&((S=this._lastResult)===null||S===void 0?void 0:S.canBeReused(p,_.lineNumber,T))){const D=new n.LineContext(O,_.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=D,this._lastResult.acquire(),F=this._lastResult}else{const D=yield(0,i.provideSuggestionItems)(this._languageFeatureService.completionProvider,p,_,new i.CompletionOptions(void 0,void 0,R==null?void 0:R.providers),R&&{triggerKind:1,triggerCharacter:R.ch},h);let M;D.needsClipboard&&(M=yield this._clipboardService.readText());const P=new n.CompletionModel(D.items,_.column,new n.LineContext(O,0),r.WordDistance.None,this._getEditorOption(108,p),this._getEditorOption(103,p),{boostFullMatch:!1,firstMatchCanBeWeak:!1},M);F=new s(p,_.lineNumber,T,P,D,this._suggestMemoryService)}return this._lastResult=F,F})}handleItemDidShow(p,_){_.completion.resolve(w.CancellationToken.None)}freeInlineCompletions(p){p.release()}_getTriggerCharacterInfo(p,_){var m;const h=p.getValueInRange(v.Range.fromPositions({lineNumber:_.lineNumber,column:_.column-1},_)),S=new Set;for(const y of this._languageFeatureService.completionProvider.all(p))((m=y.triggerCharacters)===null||m===void 0?void 0:m.includes(h))&&S.add(y);if(S.size!==0)return{providers:S,ch:h}}};o=ke([me(1,u.ILanguageFeaturesService),me(2,l.IClipboardService),me(3,t.ISuggestMemoryService)],o),e.SuggestInlineCompletions=o;let c=class kt{constructor(p,_,m,h){if(++kt._counter==1){const S=h.createInstance(o,(y,E)=>{var N;return((N=m.listCodeEditors().find(R=>R.getModel()===E))!==null&&N!==void 0?N:p).getOption(y)});kt._disposable=_.inlineCompletionsProvider.register("*",S)}}dispose(){var p;--kt._counter==0&&((p=kt._disposable)===null||p===void 0||p.dispose(),kt._disposable=void 0)}};c._counter=0,c=ke([me(1,u.ILanguageFeaturesService),me(2,b.ICodeEditorService),me(3,d.IInstantiationService)],c),(0,L.registerEditorContribution)("suggest.inlineCompletionsProvider",c)}),define(re[307],ae([1,0,49,268,12,603]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class L extends k.EditorAction{constructor(){super({id:L.ID,label:I.localize(0,null),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2048|43,mac:{primary:256|1024|43},weight:100}})}run(v,u){const n=!C.TabFocus.getTabFocusMode();C.TabFocus.setTabFocusMode(n),n?(0,w.alert)(I.localize(1,null)):(0,w.alert)(I.localize(2,null))}}e.ToggleTabFocusModeAction=L,L.ID="editor.action.toggleTabFocusMode",(0,k.registerEditorAction)(L)}),define(re[715],ae([1,0,57,12,604]),function($,e,w,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class I extends C.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:k.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(b,v){if(!v.hasModel())return;const u=v.getModel();u.tokenization.resetTokenization();const g=new w.StopWatch(!0);u.tokenization.forceTokenization(u.getLineCount()),g.stop(),console.log(`tokenization took ${g.elapsed()}`)}}(0,C.registerEditorAction)(I)}),define(re[716],ae([1,0,2,44,12,29,606,139]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnusualLineTerminatorsDetector=void 0;const v="ignoreUnusualLineTerminators";function u(i,t,r){i.setModelProperty(t.uri,v,r)}function g(i,t){return i.getModelProperty(t.uri,v)}let n=class extends w.Disposable{constructor(t,r,l){super();this._editor=t,this._dialogService=r,this._codeEditorService=l,this._config=this._editor.getOption(116),this._register(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(116)&&(this._config=this._editor.getOption(116),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(d=>{d.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return Se(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const t=this._editor.getModel();if(!t.mightContainUnusualLineTerminators()||g(this._codeEditorService,t)===!0||this._editor.getOption(83))return;if(this._config==="auto"){t.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:L.localize(0,null),message:L.localize(1,null),detail:L.localize(2,null,(0,C.basename)(t.uri)),primaryButton:L.localize(3,null),secondaryButton:L.localize(4,null)})).confirmed){u(this._codeEditorService,t,!0);return}t.removeUnusualLineTerminators(this._editor.getSelections())})}};n.ID="editor.contrib.unusualLineTerminatorsDetector",n=ke([me(1,b.IDialogService),me(2,I.ICodeEditorService)],n),e.UnusualLineTerminatorsDetector=n,(0,k.registerEditorContribution)(n.ID,n)}),define(re[308],ae([1,0,12,108,36,61,156,127,11,3,23,24,32,608,77,16,286]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class a extends w.EditorCommand{constructor(Y){super(Y);this._inSelectionMode=Y.inSelectionMode,this._wordNavigationType=Y.wordNavigationType}runEditorCommand(Y,te,de){if(!te.hasModel())return;const x=(0,b.getMapForWordSeparators)(te.getOption(119)),oe=te.getModel(),j=te.getSelections().map(se=>{const z=new v.Position(se.positionLineNumber,se.positionColumn),X=this._move(x,oe,z,this._wordNavigationType);return this._moveTo(se,X,this._inSelectionMode)});if(oe.pushStackElement(),te._getViewModel().setCursorStates("moveWordCommand",3,j.map(se=>I.CursorState.fromModelSelection(se))),j.length===1){const se=new v.Position(j[0].positionLineNumber,j[0].positionColumn);te.revealPosition(se,0)}}_moveTo(Y,te,de){return de?new g.Selection(Y.selectionStartLineNumber,Y.selectionStartColumn,te.lineNumber,te.column):new g.Selection(te.lineNumber,te.column,te.lineNumber,te.column)}}e.MoveWordCommand=a;class s extends a{_move(Y,te,de,x){return L.WordOperations.moveWordLeft(Y,te,de,x)}}e.WordLeftCommand=s;class o extends a{_move(Y,te,de,x){return L.WordOperations.moveWordRight(Y,te,de,x)}}e.WordRightCommand=o;class c extends s{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=c;class f extends s{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=f;class p extends s{constructor(){var Y;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:l.ContextKeyExpr.and(n.EditorContextKeys.textInputFocus,(Y=l.ContextKeyExpr.and(r.CONTEXT_ACCESSIBILITY_MODE_ENABLED,d.IsWindowsContext))===null||Y===void 0?void 0:Y.negate()),primary:2048|15,mac:{primary:512|15},weight:100}})}}e.CursorWordLeft=p;class _ extends s{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=_;class m extends s{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=m;class h extends s{constructor(){var Y;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:l.ContextKeyExpr.and(n.EditorContextKeys.textInputFocus,(Y=l.ContextKeyExpr.and(r.CONTEXT_ACCESSIBILITY_MODE_ENABLED,d.IsWindowsContext))===null||Y===void 0?void 0:Y.negate()),primary:2048|1024|15,mac:{primary:512|1024|15},weight:100}})}}e.CursorWordLeftSelect=h;class S extends s{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(Y,te,de,x){return super._move((0,b.getMapForWordSeparators)(k.EditorOptions.wordSeparators.defaultValue),te,de,x)}}e.CursorWordAccessibilityLeft=S;class y extends s{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(Y,te,de,x){return super._move((0,b.getMapForWordSeparators)(k.EditorOptions.wordSeparators.defaultValue),te,de,x)}}e.CursorWordAccessibilityLeftSelect=y;class E extends o{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=E;class N extends o{constructor(){var Y;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:l.ContextKeyExpr.and(n.EditorContextKeys.textInputFocus,(Y=l.ContextKeyExpr.and(r.CONTEXT_ACCESSIBILITY_MODE_ENABLED,d.IsWindowsContext))===null||Y===void 0?void 0:Y.negate()),primary:2048|17,mac:{primary:512|17},weight:100}})}}e.CursorWordEndRight=N;class T extends o{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=T;class R extends o{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=R;class F extends o{constructor(){var Y;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:l.ContextKeyExpr.and(n.EditorContextKeys.textInputFocus,(Y=l.ContextKeyExpr.and(r.CONTEXT_ACCESSIBILITY_MODE_ENABLED,d.IsWindowsContext))===null||Y===void 0?void 0:Y.negate()),primary:2048|1024|17,mac:{primary:512|1024|17},weight:100}})}}e.CursorWordEndRightSelect=F;class O extends o{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=O;class D extends o{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(Y,te,de,x){return super._move((0,b.getMapForWordSeparators)(k.EditorOptions.wordSeparators.defaultValue),te,de,x)}}e.CursorWordAccessibilityRight=D;class M extends o{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(Y,te,de,x){return super._move((0,b.getMapForWordSeparators)(k.EditorOptions.wordSeparators.defaultValue),te,de,x)}}e.CursorWordAccessibilityRightSelect=M;class P extends w.EditorCommand{constructor(Y){super(Y);this._whitespaceHeuristics=Y.whitespaceHeuristics,this._wordNavigationType=Y.wordNavigationType}runEditorCommand(Y,te,de){const x=Y.get(i.ILanguageConfigurationService);if(!te.hasModel())return;const oe=(0,b.getMapForWordSeparators)(te.getOption(119)),ne=te.getModel(),j=te.getSelections(),se=te.getOption(5),z=te.getOption(8),X=x.getLanguageConfiguration(ne.getLanguageId()).getAutoClosingPairs(),G=te._getViewModel(),U=j.map(K=>{const ce=this._delete({wordSeparators:oe,model:ne,selection:K,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:te.getOption(6),autoClosingBrackets:se,autoClosingQuotes:z,autoClosingPairs:X,autoClosedCharacters:G.getCursorAutoClosedCharacters()},this._wordNavigationType);return new C.ReplaceCommand(ce,"")});te.pushUndoStop(),te.executeCommands(this.id,U),te.pushUndoStop()}}e.DeleteWordCommand=P;class B extends P{_delete(Y,te){const de=L.WordOperations.deleteWordLeft(Y,te);return de||new u.Range(1,1,1,1)}}e.DeleteWordLeftCommand=B;class W extends P{_delete(Y,te){const de=L.WordOperations.deleteWordRight(Y,te);if(de)return de;const x=Y.model.getLineCount(),oe=Y.model.getLineMaxColumn(x);return new u.Range(x,oe,x,oe)}}e.DeleteWordRightCommand=W;class V extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:n.EditorContextKeys.writable})}}e.DeleteWordStartLeft=V;class A extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:n.EditorContextKeys.writable})}}e.DeleteWordEndLeft=A;class Q extends B{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textInputFocus,primary:2048|1,mac:{primary:512|1},weight:100}})}}e.DeleteWordLeft=Q;class J extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:n.EditorContextKeys.writable})}}e.DeleteWordStartRight=J;class H extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:n.EditorContextKeys.writable})}}e.DeleteWordEndRight=H;class q extends W{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textInputFocus,primary:2048|20,mac:{primary:512|20},weight:100}})}}e.DeleteWordRight=q;class Z extends w.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:n.EditorContextKeys.writable,label:t.localize(0,null),alias:"Delete Word"})}run(Y,te,de){if(!te.hasModel())return;const x=(0,b.getMapForWordSeparators)(te.getOption(119)),oe=te.getModel(),j=te.getSelections().map(se=>{const z=L.WordOperations.deleteInsideWord(x,oe,se);return new C.ReplaceCommand(z,"")});te.pushUndoStop(),te.executeCommands(this.id,j),te.pushUndoStop()}}e.DeleteInsideWord=Z,(0,w.registerEditorCommand)(new c),(0,w.registerEditorCommand)(new f),(0,w.registerEditorCommand)(new p),(0,w.registerEditorCommand)(new _),(0,w.registerEditorCommand)(new m),(0,w.registerEditorCommand)(new h),(0,w.registerEditorCommand)(new E),(0,w.registerEditorCommand)(new N),(0,w.registerEditorCommand)(new T),(0,w.registerEditorCommand)(new R),(0,w.registerEditorCommand)(new F),(0,w.registerEditorCommand)(new O),(0,w.registerEditorCommand)(new S),(0,w.registerEditorCommand)(new y),(0,w.registerEditorCommand)(new D),(0,w.registerEditorCommand)(new M),(0,w.registerEditorCommand)(new V),(0,w.registerEditorCommand)(new A),(0,w.registerEditorCommand)(new Q),(0,w.registerEditorCommand)(new J),(0,w.registerEditorCommand)(new H),(0,w.registerEditorCommand)(new q),(0,w.registerEditorAction)(Z)}),define(re[717],ae([1,0,12,156,3,24,308,26]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class v extends L.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1},weight:100}})}_delete(a,s){const o=C.WordPartOperations.deleteWordPartLeft(a);return o||new k.Range(1,1,1,1)}}e.DeleteWordPartLeft=v;class u extends L.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|20},weight:100}})}_delete(a,s){const o=C.WordPartOperations.deleteWordPartRight(a);if(o)return o;const c=a.model.getLineCount(),f=a.model.getLineMaxColumn(c);return new k.Range(c,f,c,f)}}e.DeleteWordPartRight=u;class g extends L.MoveWordCommand{_move(a,s,o,c){return C.WordPartOperations.moveWordPartLeft(a,s,o)}}e.WordPartLeftCommand=g;class n extends g{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|15},weight:100}})}}e.CursorWordPartLeft=n,b.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class i extends g{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|15},weight:100}})}}e.CursorWordPartLeftSelect=i,b.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class t extends L.MoveWordCommand{_move(a,s,o,c){return C.WordPartOperations.moveWordPartRight(a,s,o)}}e.WordPartRightCommand=t;class r extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|17},weight:100}})}}e.CursorWordPartRight=r;class l extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|17},weight:100}})}}e.CursorWordPartRightSelect=l,(0,w.registerEditorCommand)(new v),(0,w.registerEditorCommand)(new u),(0,w.registerEditorCommand)(new n),(0,w.registerEditorCommand)(new i),(0,w.registerEditorCommand)(new r),(0,w.registerEditorCommand)(new l)}),define(re[718],ae([1,0,7,33,196,49,68,2,17,8,22,12,24,307,16,9,42,45,25,15,76,394]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const f=new r.RawContextKey("accessibilityHelpWidgetVisible",!1);let p=class Wi extends b.Disposable{constructor(E,N){super();this._editor=E,this._widget=this._register(N.createInstance(m,this._editor))}static get(E){return E.getContribution(Wi.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};p.ID="editor.contrib.accessibilityHelpController",p=ke([me(1,l.IInstantiationService)],p);function _(y,E){return!y||y.length===0?c.AccessibilityHelpNLS.noSelection:y.length===1?E?u.format(c.AccessibilityHelpNLS.singleSelectionRange,y[0].positionLineNumber,y[0].positionColumn,E):u.format(c.AccessibilityHelpNLS.singleSelection,y[0].positionLineNumber,y[0].positionColumn):E?u.format(c.AccessibilityHelpNLS.multiSelectionRange,y.length,E):y.length>0?u.format(c.AccessibilityHelpNLS.multiSelection,y.length):""}let m=class jt extends L.Widget{constructor(E,N,T,R){super();this._contextKeyService=N,this._keybindingService=T,this._openerService=R,this._editor=E,this._isVisibleKey=f.bindTo(this._contextKeyService),this._domNode=(0,C.createFastDomNode)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,C.createFastDomNode)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(w.addStandardDisposableListener(this._contentDomNode.domNode,"keydown",F=>{if(!!this._isVisible&&(F.equals(2048|35)&&((0,I.alert)(c.AccessibilityHelpNLS.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),w.clearNode(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),F.preventDefault(),F.stopPropagation()),F.equals(2048|38))){(0,I.alert)(c.AccessibilityHelpNLS.openingDocs);let O=this._editor.getRawOptions().accessibilityHelpUrl;typeof O=="undefined"&&(O="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(g.URI.parse(O)),F.preventDefault(),F.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return jt.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(E,N,T){const R=this._keybindingService.lookupKeybinding(E);return R?u.format(N,R.getAriaLabel()):u.format(T,E)}_buildContent(){const E=this._editor.getOptions(),N=this._editor.getSelections();let T=0;if(N){const D=this._editor.getModel();D&&N.forEach(M=>{T+=D.getValueLengthInRange(M)})}let R=_(N,T);E.get(56)?E.get(83)?R+=c.AccessibilityHelpNLS.readonlyDiffEditor:R+=c.AccessibilityHelpNLS.editableDiffEditor:E.get(83)?R+=c.AccessibilityHelpNLS.readonlyEditor:R+=c.AccessibilityHelpNLS.editableEditor;const F=v.isMacintosh?c.AccessibilityHelpNLS.changeConfigToOnMac:c.AccessibilityHelpNLS.changeConfigToOnWinLinux;switch(E.get(2)){case 0:R+=`

 - `+F;break;case 2:R+=`

 - `+c.AccessibilityHelpNLS.auto_on;break;case 1:R+=`

 - `+c.AccessibilityHelpNLS.auto_off,R+=" "+F;break}E.get(132)?R+=`

 - `+this._descriptionForCommand(t.ToggleTabFocusModeAction.ID,c.AccessibilityHelpNLS.tabFocusModeOnMsg,c.AccessibilityHelpNLS.tabFocusModeOnMsgNoKb):R+=`

 - `+this._descriptionForCommand(t.ToggleTabFocusModeAction.ID,c.AccessibilityHelpNLS.tabFocusModeOffMsg,c.AccessibilityHelpNLS.tabFocusModeOffMsgNoKb);const O=v.isMacintosh?c.AccessibilityHelpNLS.openDocMac:c.AccessibilityHelpNLS.openDocWinLinux;R+=`

 - `+O,R+=`

`+c.AccessibilityHelpNLS.outroMsg,this._contentDomNode.domNode.appendChild((0,k.renderFormattedText)(R)),this._contentDomNode.domNode.setAttribute("aria-label",R)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,w.clearNode(this._contentDomNode.domNode),this._editor.focus())}_layout(){const E=this._editor.getLayoutInfo(),N=Math.max(5,Math.min(jt.WIDTH,E.width-40)),T=Math.max(5,Math.min(jt.HEIGHT,E.height-40));this._domNode.setWidth(N),this._domNode.setHeight(T);const R=Math.round((E.height-T)/2);this._domNode.setTop(R);const F=Math.round((E.width-N)/2);this._domNode.setLeft(F)}};m.ID="editor.contrib.accessibilityHelpWidget",m.WIDTH=500,m.HEIGHT=300,m=ke([me(1,r.IContextKeyService),me(2,d.IKeybindingService),me(3,a.IOpenerService)],m);class h extends n.EditorAction{constructor(){super({id:"editor.action.showAccessibilityHelp",label:c.AccessibilityHelpNLS.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:512|59,weight:100,linux:{primary:512|1024|59,secondary:[512|59]}}})}run(E,N){const T=p.get(N);T&&T.show()}}(0,n.registerEditorContribution)(p.ID,p),(0,n.registerEditorAction)(h);const S=n.EditorCommand.bindToContribution(p.get);(0,n.registerEditorCommand)(new S({id:"closeAccessibilityHelp",precondition:f,handler:y=>y.hide(),kbOpts:{weight:100+100,kbExpr:i.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,o.registerThemingParticipant)((y,E)=>{const N=y.getColor(s.editorWidgetBackground);N&&E.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${N}; }`);const T=y.getColor(s.editorWidgetForeground);T&&E.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${T}; }`);const R=y.getColor(s.widgetShadow);R&&E.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${R}; }`);const F=y.getColor(s.contrastBorder);F&&E.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${F}; }`)})}),define(re[719],ae([1,0,7,2,12,17,395]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class L extends C.Disposable{constructor(u){super();this.editor=u,this.widget=null,I.isIOS&&(this._register(u.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const u=!this.editor.getOption(83);!this.widget&&u?this.widget=new b(this.editor):this.widget&&!u&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=L,L.ID="editor.contrib.iPadShowKeyboard";class b extends C.Disposable{constructor(u){super();this.editor=u,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(w.addDisposableListener(this._domNode,"touchstart",g=>{this.editor.focus()})),this._register(w.addDisposableListener(this._domNode,"focus",g=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return b.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}b.ID="editor.contrib.ShowKeyboardWidget",(0,k.registerEditorContribution)(L.ID,L)}),define(re[720],ae([1,0,7,31,2,12,28,109,136,37,115,25,15,76,56,396]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let l=class xi extends k.Disposable{constructor(f,p,_){super();this._editor=f,this._languageService=_,this._widget=null,this._register(this._editor.onDidChangeModel(m=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(m=>this.stop())),this._register(L.TokenizationRegistry.onDidChange(m=>this.stop())),this._register(this._editor.onKeyUp(m=>m.keyCode===9&&this.stop()))}static get(f){return f.getContribution(xi.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new o(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};l.ID="editor.contrib.inspectTokens",l=ke([me(1,g.IStandaloneThemeService),me(2,u.ILanguageService)],l);class d extends I.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:t.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(f,p){const _=l.get(p);_&&_.launch()}}function a(c){let f="";for(let p=0,_=c.length;p<_;p++){const m=c.charCodeAt(p);switch(m){case 9:f+="\u2192";break;case 32:f+="\xB7";break;default:f+=String.fromCharCode(m)}}return f}function s(c,f){const p=L.TokenizationRegistry.get(f);if(p)return p;const _=c.encodeLanguageId(f);return{getInitialState:()=>v.NullState,tokenize:(m,h,S)=>(0,v.nullTokenize)(f,S),tokenizeEncoded:(m,h,S)=>(0,v.nullTokenizeEncoded)(_,S)}}class o extends k.Disposable{constructor(f,p){super();this.allowEditorOverflow=!0,this._editor=f,this._languageService=p,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=s(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(_=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return o._ID}_compute(f){const p=this._getTokensAtLine(f.lineNumber);let _=0;for(let E=p.tokens1.length-1;E>=0;E--){const N=p.tokens1[E];if(f.column-1>=N.offset){_=E;break}}let m=0;for(let E=p.tokens2.length>>>1;E>=0;E--)if(f.column-1>=p.tokens2[E<<1]){m=E;break}const h=this._model.getLineContent(f.lineNumber);let S="";if(_<p.tokens1.length){const E=p.tokens1[_].offset,N=_+1<p.tokens1.length?p.tokens1[_+1].offset:h.length;S=h.substring(E,N)}(0,w.reset)(this._domNode,(0,w.$)("h2.tm-token",void 0,a(S),(0,w.$)("span.tm-token-length",void 0,`${S.length} ${S.length===1?"char":"chars"}`))),(0,w.append)(this._domNode,(0,w.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const y=(m<<1)+1<p.tokens2.length?this._decodeMetadata(p.tokens2[(m<<1)+1]):null;(0,w.append)(this._domNode,(0,w.$)("table.tm-metadata-table",void 0,(0,w.$)("tbody",void 0,(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"language"),(0,w.$)("td.tm-metadata-value",void 0,`${y?y.languageId:"-?-"}`)),(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"token type"),(0,w.$)("td.tm-metadata-value",void 0,`${y?this._tokenTypeToString(y.tokenType):"-?-"}`)),(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"font style"),(0,w.$)("td.tm-metadata-value",void 0,`${y?this._fontStyleToString(y.fontStyle):"-?-"}`)),(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"foreground"),(0,w.$)("td.tm-metadata-value",void 0,`${y?C.Color.Format.CSS.formatHex(y.foreground):"-?-"}`)),(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"background"),(0,w.$)("td.tm-metadata-value",void 0,`${y?C.Color.Format.CSS.formatHex(y.background):"-?-"}`))))),(0,w.append)(this._domNode,(0,w.$)("hr.tokens-inspect-separator")),_<p.tokens1.length&&(0,w.append)(this._domNode,(0,w.$)("span.tm-token-type",void 0,p.tokens1[_].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(f){const p=L.TokenizationRegistry.getColorMap(),_=b.TokenMetadata.getLanguageId(f),m=b.TokenMetadata.getTokenType(f),h=b.TokenMetadata.getFontStyle(f),S=b.TokenMetadata.getForeground(f),y=b.TokenMetadata.getBackground(f);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(_),tokenType:m,fontStyle:h,foreground:p[S],background:p[y]}}_tokenTypeToString(f){switch(f){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(f){let p="";return f&1&&(p+="italic "),f&2&&(p+="bold "),f&4&&(p+="underline "),f&8&&(p+="strikethrough "),p.length===0&&(p="---"),p}_getTokensAtLine(f){const p=this._getStateBeforeLine(f),_=this._tokenizationSupport.tokenize(this._model.getLineContent(f),!0,p),m=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(f),!0,p);return{startState:p,tokens1:_.tokens,tokens2:m.tokens,endState:_.endState}}_getStateBeforeLine(f){let p=this._tokenizationSupport.getInitialState();for(let _=1;_<f;_++)p=this._tokenizationSupport.tokenize(this._model.getLineContent(_),!0,p).endState;return p}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}o._ID="editor.contrib.inspectTokensWidget",(0,I.registerEditorContribution)(l.ID,l),(0,I.registerEditorAction)(d),(0,i.registerThemingParticipant)((c,f)=>{const p=c.getColor(n.editorHoverBorder);if(p){const h=(0,r.isHighContrast)(c.type)?2:1;f.addRule(`.monaco-editor .tokens-inspect-widget { border: ${h}px solid ${p}; }`),f.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${p}; }`)}const _=c.getColor(n.editorHoverBackground);_&&f.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${_}; }`);const m=c.getColor(n.editorHoverForeground);m&&f.addRule(`.monaco-editor .tokens-inspect-widget { color: ${m}; }`)})}),define(re[721],ae([1,0,34,118,76,29,664,19,9,42,26,86,139,12,24,85]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let d=class extends L.AbstractEditorCommandsQuickAccessProvider{constructor(o,c,f,p,_,m){super({showAlias:!1},o,f,p,_,m);this.codeEditorService=c}get activeTextEditorControl(){return(0,b.withNullAsUndefined)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return Se(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};d=ke([me(0,v.IInstantiationService),me(1,I.ICodeEditorService),me(2,u.IKeybindingService),me(3,g.ICommandService),me(4,n.ITelemetryService),me(5,i.IDialogService)],d),e.StandaloneCommandsQuickAccessProvider=d;class a extends t.EditorAction{constructor(){super({id:a.ID,label:k.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:r.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(o){o.get(l.IQuickInputService).quickAccess.show(d.PREFIX)}}e.GotoLineAction=a,a.ID="editor.action.quickCommand",(0,t.registerEditorAction)(a),w.Registry.as(C.Extensions.Quickaccess).registerQuickAccessProvider({ctor:d,prefix:d.PREFIX,helpEntries:[{description:k.QuickCommandNLS.quickCommandHelp,commandId:a.ID}]})}),define(re[722],ae([1,0,686,34,118,29,19,76,6,12,24,85]),function($,e,w,C,k,I,L,b,v,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let i=class extends w.AbstractGotoLineQuickAccessProvider{constructor(l){super();this.editorService=l,this.onDidActiveTextEditorControlChange=v.Event.None}get activeTextEditorControl(){return(0,L.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};i=ke([me(0,I.ICodeEditorService)],i),e.StandaloneGotoLineQuickAccessProvider=i;class t extends u.EditorAction{constructor(){super({id:t.ID,label:b.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:2048|37,mac:{primary:256|37},weight:100}})}run(l){l.get(n.IQuickInputService).quickAccess.show(i.PREFIX)}}e.GotoLineAction=t,t.ID="editor.action.gotoLine",(0,u.registerEditorAction)(t),C.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:i,prefix:i.PREFIX,helpEntries:[{description:b.GoToLineNLS.gotoLineActionLabel,commandId:t.ID}]})}),define(re[723],ae([1,0,687,34,118,29,19,76,6,12,24,85,168,20,149,300]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoSymbolAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let r=class extends w.AbstractGotoSymbolQuickAccessProvider{constructor(a,s,o){super(s,o);this.editorService=a,this.onDidActiveTextEditorControlChange=v.Event.None}get activeTextEditorControl(){return(0,L.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};r=ke([me(0,I.ICodeEditorService),me(1,t.ILanguageFeaturesService),me(2,i.IOutlineModelService)],r),e.StandaloneGotoSymbolQuickAccessProvider=r;class l extends u.EditorAction{constructor(){super({id:l.ID,label:b.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:g.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:2048|1024|45,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(a){a.get(n.IQuickInputService).quickAccess.show(w.AbstractGotoSymbolQuickAccessProvider.PREFIX)}}e.GotoSymbolAction=l,l.ID="editor.action.quickOutline",(0,u.registerEditorAction)(l),C.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:r,prefix:w.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:b.QuickOutlineNLS.quickOutlineActionLabel,prefix:w.AbstractGotoSymbolQuickAccessProvider.PREFIX,commandId:l.ID},{description:b.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:w.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY}]})}),define(re[218],ae([1,0,7,48,133,483,43,190,2,17,609,38,16,78,9,42,39,79,15,56,19,399]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createActionViewItem=e.DropdownWithDefaultActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=e.createAndFillInActionBarActions=void 0;function f(E,N,T,R,F,O,D){const M=E.getActions(N);return _(M,T,!1,typeof R=="string"?B=>B===R:R,F,O,D),p(M)}e.createAndFillInActionBarActions=f;function p(E){const N=new v.DisposableStore;for(const[,T]of E)for(const R of T)N.add(R);return N}function _(E,N,T,R=M=>M==="navigation",F=Number.MAX_SAFE_INTEGER,O=()=>!1,D=!1){let M,P;Array.isArray(N)?(M=N,P=N):(M=N.primary,P=N.secondary);const B=new Set;for(const[W,V]of E){let A;R(W)?(A=M,A.length>0&&D&&A.push(new L.Separator)):(A=P,A.length>0&&A.push(new L.Separator));for(let Q of V){T&&(Q=Q instanceof n.MenuItemAction&&Q.alt?Q.alt:Q);const J=A.push(Q);Q instanceof L.SubmenuAction&&B.add({group:W,action:Q,index:J-1})}}for(const{group:W,action:V,index:A}of B){const Q=R(W)?M:P,J=V.actions;(J.length<=1||Q.length+J.length-2<=F)&&O(V,W,Q.length)&&Q.splice(A,1,...J)}if(M!==P&&M.length>F){const W=M.splice(F,M.length-F);P.unshift(...W,new L.Separator)}}let m=class extends k.ActionViewItem{constructor(N,T,R,F,O,D,M){super(void 0,N,{icon:!!(N.class||N.item.icon),label:!N.class&&!N.item.icon,draggable:T==null?void 0:T.draggable,keybinding:T==null?void 0:T.keybinding,hoverDelegate:T==null?void 0:T.hoverDelegate});this._keybindingService=R,this._notificationService=F,this._contextKeyService=O,this._themeService=D,this._contextMenuService=M,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new v.MutableDisposable),this._altKey=w.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(N){return Se(this,void 0,void 0,function*(){N.preventDefault(),N.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(T){this._notificationService.error(T)}})}render(N){super.render(N),N.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let T=!1,R=this._altKey.keyStatus.altKey||(u.isWindows||u.isLinux)&&this._altKey.keyStatus.shiftKey;const F=()=>{var O;const D=T&&R&&!!((O=this._commandAction.alt)===null||O===void 0?void 0:O.enabled);D!==this._wantsAltCommand&&(this._wantsAltCommand=D,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(O=>{R=O.altKey||(u.isWindows||u.isLinux)&&O.shiftKey,F()})),this._register((0,w.addDisposableListener)(N,"mouseleave",O=>{T=!1,F()})),this._register((0,w.addDisposableListener)(N,"mouseenter",O=>{T=!0,F()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var N;const T=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),R=T&&T.getLabel(),F=this._commandAction.tooltip||this._commandAction.label;let O=R?(0,g.localize)(0,null,F,R):F;if(!this._wantsAltCommand&&((N=this._menuItemAction.alt)===null||N===void 0?void 0:N.enabled)){const D=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,M=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),P=M&&M.getLabel(),B=P?(0,g.localize)(1,null,D,P):D;O=(0,g.localize)(2,null,O,b.UILabelProvider.modifierLabels[u.OS].altKey,B)}return O}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(N){var T;this._itemClassDispose.value=void 0;const{element:R,label:F}=this;if(!R||!F)return;const O=this._commandAction.checked&&((T=N.toggled)===null||T===void 0?void 0:T.icon)?N.toggled.icon:N.icon;if(!!O)if(s.ThemeIcon.isThemeIcon(O)){const D=s.ThemeIcon.asClassNameArray(O);F.classList.add(...D),this._itemClassDispose.value=(0,v.toDisposable)(()=>{F.classList.remove(...D)})}else F.style.backgroundImage=(0,o.isDark)(this._themeService.getColorTheme().type)?(0,w.asCSSUrl)(O.dark):(0,w.asCSSUrl)(O.light),F.classList.add("icon"),this._itemClassDispose.value=(0,v.combinedDisposable)((0,v.toDisposable)(()=>{F.style.backgroundImage="",F.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};m=ke([me(2,l.IKeybindingService),me(3,d.INotificationService),me(4,i.IContextKeyService),me(5,s.IThemeService),me(6,t.IContextMenuService)],m),e.MenuEntryActionViewItem=m;let h=class extends I.DropdownMenuActionViewItem{constructor(N,T,R,F){var O,D;const M=Object.assign({},T??Object.create(null),{menuAsChild:(O=T==null?void 0:T.menuAsChild)!==null&&O!==void 0?O:!1,classNames:(D=T==null?void 0:T.classNames)!==null&&D!==void 0?D:s.ThemeIcon.isThemeIcon(N.item.icon)?s.ThemeIcon.asClassName(N.item.icon):void 0});super(N,{getActions:()=>N.actions},R,M);this._contextMenuService=R,this._themeService=F}render(N){super.render(N),(0,c.assertType)(this.element),N.classList.add("menu-entry");const T=this._action,{icon:R}=T.item;if(R&&!s.ThemeIcon.isThemeIcon(R)){this.element.classList.add("icon");const F=()=>{this.element&&(this.element.style.backgroundImage=(0,o.isDark)(this._themeService.getColorTheme().type)?(0,w.asCSSUrl)(R.dark):(0,w.asCSSUrl)(R.light))};F(),this._register(this._themeService.onDidColorThemeChange(()=>{F()}))}}};h=ke([me(2,t.IContextMenuService),me(3,s.IThemeService)],h),e.SubmenuEntryActionViewItem=h;let S=class extends k.BaseActionViewItem{constructor(N,T,R,F,O,D,M,P){var B,W,V;super(null,N);this._keybindingService=R,this._notificationService=F,this._contextMenuService=O,this._menuService=D,this._instaService=M,this._storageService=P,this._container=null,this._options=T,this._storageKey=`${N.item.submenu.id}_lastActionId`;let A;const Q=P.get(this._storageKey,1);Q&&(A=N.actions.find(H=>Q===H.id)),A||(A=N.actions[0]),this._defaultAction=this._instaService.createInstance(m,A,{keybinding:this._getDefaultActionKeybindingLabel(A)});const J=Object.assign({},T??Object.create(null),{menuAsChild:(B=T==null?void 0:T.menuAsChild)!==null&&B!==void 0?B:!0,classNames:(W=T==null?void 0:T.classNames)!==null&&W!==void 0?W:["codicon","codicon-chevron-down"],actionRunner:(V=T==null?void 0:T.actionRunner)!==null&&V!==void 0?V:new L.ActionRunner});this._dropdown=new I.DropdownMenuActionViewItem(N,N.actions,this._contextMenuService,J),this._dropdown.actionRunner.onDidRun(H=>{H.action instanceof n.MenuItemAction&&this.update(H.action)})}update(N){this._storageService.store(this._storageKey,N.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(m,N,{keybinding:this._getDefaultActionKeybindingLabel(N)}),this._defaultAction.actionRunner=new class extends L.ActionRunner{runAction(T,R){return Se(this,void 0,void 0,function*(){yield T.run(void 0)})}},this._container&&this._defaultAction.render((0,w.prepend)(this._container,(0,w.$)(".action-container")))}_getDefaultActionKeybindingLabel(N){var T;let R;if((T=this._options)===null||T===void 0?void 0:T.renderKeybindingWithDefaultActionLabel){const F=this._keybindingService.lookupKeybinding(N.id);F&&(R=`(${F.getLabel()})`)}return R}setActionContext(N){super.setActionContext(N),this._defaultAction.setActionContext(N),this._dropdown.setActionContext(N)}render(N){this._container=N,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const T=(0,w.$)(".action-container");this._defaultAction.render((0,w.append)(this._container,T)),this._register((0,w.addDisposableListener)(T,w.EventType.KEY_DOWN,F=>{const O=new C.StandardKeyboardEvent(F);O.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),O.stopPropagation())}));const R=(0,w.$)(".dropdown-action-container");this._dropdown.render((0,w.append)(this._container,R)),this._register((0,w.addDisposableListener)(R,w.EventType.KEY_DOWN,F=>{var O;const D=new C.StandardKeyboardEvent(F);D.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(O=this._defaultAction.element)===null||O===void 0||O.focus(),D.stopPropagation())}))}focus(N){N?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(N){N?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};S=ke([me(2,l.IKeybindingService),me(3,d.INotificationService),me(4,t.IContextMenuService),me(5,n.IMenuService),me(6,r.IInstantiationService),me(7,a.IStorageService)],S),e.DropdownWithDefaultActionViewItem=S;function y(E,N,T){return N instanceof n.MenuItemAction?E.createInstance(m,N,T):N instanceof n.SubmenuItemAction?N.item.rememberDefaultAction?E.createInstance(S,N,T):E.createInstance(h,N,T):void 0}e.createActionViewItem=y}),define(re[724],ae([1,0,7,83,2,102,601,218,38,16,9]),function($,e,w,C,k,I,L,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class n extends b.MenuEntryActionViewItem{updateLabel(){const r=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!r)return super.updateLabel();this.label&&(this.label.textContent=(0,L.localize)(0,null,this._action.label,n.symbolPrintEnter(r)))}static symbolPrintEnter(r){var l;return(l=r.getLabel())===null||l===void 0?void 0:l.replace(/\benter\b/gi,"\u23CE")}}let i=class{constructor(r,l,d,a){this._menuService=d,this._contextKeyService=a,this._menuDisposables=new k.DisposableStore,this.element=w.append(r,w.$(".suggest-status-bar"));const s=o=>o instanceof v.MenuItemAction?l.createInstance(n,o,void 0):void 0;this._leftActions=new C.ActionBar(this.element,{actionViewItemProvider:s}),this._rightActions=new C.ActionBar(this.element,{actionViewItemProvider:s}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const r=this._menuService.createMenu(I.suggestWidgetStatusbarMenu,this._contextKeyService),l=()=>{const d=[],a=[];for(const[s,o]of r.getActions())s==="left"?d.push(...o):a.push(...o);this._leftActions.clear(),this._leftActions.push(d),this._rightActions.clear(),this._rightActions.push(a)};this._menuDisposables.add(r.onDidChange(()=>l())),this._menuDisposables.add(r)}hide(){this._menuDisposables.clear()}};i=ke([me(1,g.IInstantiationService),me(2,v.IMenuService),me(3,u.IContextKeyService)],i),e.SuggestWidgetStatus=i}),define(re[725],ae([1,0,10,6,2,38,26,16,43,79,18,610]),function($,e,w,C,k,I,L,b,v,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0;let i=class{constructor(a,s){this._commandService=a,this._hiddenStates=new t(s)}createMenu(a,s,o){return new r(a,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},o),this._commandService,s,this)}};i=ke([me(0,L.ICommandService),me(1,u.IStorageService)],i),e.MenuService=i;let t=class Pt{constructor(a){this._storageService=a,this._disposables=new k.DisposableStore,this._onDidChange=new C.Emitter,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1;try{const s=a.get(Pt._key,0,"{}");this._data=JSON.parse(s)}catch{this._data=Object.create(null)}this._disposables.add(a.onDidChangeValue(s=>{if(s.key===Pt._key){if(!this._ignoreChangeEvent)try{const o=a.get(Pt._key,0,"{}");this._data=JSON.parse(o)}catch(o){console.log("FAILED to read storage after UPDATE",o)}this._onDidChange.fire()}}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}isHidden(a,s){var o,c;return(c=(o=this._data[a.id])===null||o===void 0?void 0:o.includes(s))!==null&&c!==void 0?c:!1}updateHidden(a,s,o){const c=this._data[a.id];if(o)c?c.indexOf(s)<0&&c.push(s):this._data[a.id]=[s];else if(c){const f=c.indexOf(s);f>=0&&(0,g.removeFastWithoutKeepingOrder)(c,f),c.length===0&&delete this._data[a.id]}this._persist()}_persist(){try{this._ignoreChangeEvent=!0;const a=JSON.stringify(this._data);this._storageService.store(Pt._key,a,0,0)}finally{this._ignoreChangeEvent=!1}}};t._key="menu.hiddenCommands",t=ke([me(0,u.IStorageService)],t);let r=class Nt{constructor(a,s,o,c,f,p){this._id=a,this._hiddenStates=s,this._options=o,this._commandService=c,this._contextKeyService=f,this._menuService=p,this._disposables=new k.DisposableStore,this._menuGroups=[],this._contextKeys=new Set,this._build();const _=new w.RunOnceScheduler(()=>{this._build(),this._onDidChange.fire(this)},o.eventDebounceDelay);this._disposables.add(_),this._disposables.add(I.MenuRegistry.onDidChangeMenu(S=>{S.has(a)&&_.schedule()}));const m=this._disposables.add(new k.DisposableStore),h=()=>{const S=new w.RunOnceScheduler(()=>this._onDidChange.fire(this),o.eventDebounceDelay);m.add(S),m.add(f.onDidChangeContext(y=>{y.affectsSome(this._contextKeys)&&S.schedule()})),m.add(s.onDidChange(()=>{S.schedule()}))};this._onDidChange=new C.Emitter({onFirstListenerAdd:h,onLastListenerRemove:m.clear.bind(m)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const a=I.MenuRegistry.getMenuItems(this._id);let s;a.sort(Nt._compareMenuItems);for(const o of a){const c=o.group||"";(!s||s[0]!==c)&&(s=[c,[]],this._menuGroups.push(s)),s[1].push(o),this._collectContextKeys(o)}}_collectContextKeys(a){if(Nt._fillInKbExprKeys(a.when,this._contextKeys),(0,I.isIMenuItem)(a)){if(a.command.precondition&&Nt._fillInKbExprKeys(a.command.precondition,this._contextKeys),a.command.toggled){const s=a.command.toggled.condition||a.command.toggled;Nt._fillInKbExprKeys(s,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&I.MenuRegistry.getMenuItems(a.submenu).forEach(this._collectContextKeys,this)}getActions(a){const s=[],o=[];for(const c of this._menuGroups){const[f,p]=c,_=[],m=[];for(const h of p)if(this._contextKeyService.contextMatchesRules(h.when)){let S;if((0,I.isIMenuItem)(h)){const E=l(this._id,h.command,this._hiddenStates);S=new I.MenuItemAction(h.command,h.alt,a,E,this._contextKeyService,this._commandService)}else S=new I.SubmenuItemAction(h,this._menuService,this._contextKeyService,a),S.actions.length===0&&(S.dispose(),S=void 0);S&&m.push(S)}m.length>0&&s.push([f,m]),_.length>0&&o.push(_)}return s}static _fillInKbExprKeys(a,s){if(a)for(const o of a.keys())s.add(o)}static _compareMenuItems(a,s){const o=a.group,c=s.group;if(o!==c){if(o){if(!c)return-1}else return 1;if(o==="navigation")return-1;if(c==="navigation")return 1;const _=o.localeCompare(c);if(_!==0)return _}const f=a.order||0,p=s.order||0;return f<p?-1:f>p?1:Nt._compareTitles((0,I.isIMenuItem)(a)?a.command.title:a.title,(0,I.isIMenuItem)(s)?s.command.title:s.title)}static _compareTitles(a,s){const o=typeof a=="string"?a:a.original,c=typeof s=="string"?s:s.original;return o.localeCompare(c)}};r=ke([me(3,L.ICommandService),me(4,b.IContextKeyService),me(5,I.IMenuService)],r);function l(d,a,s){const o=`${d.id}/${a.id}`,c=typeof a.title=="string"?a.title:a.title.value,f=(0,v.toAction)({id:o,label:(0,n.localize)(0,null,c),run(){s.updateHidden(d,a.id,!0)}}),p=(0,v.toAction)({id:o,label:c,get checked(){return!s.isHidden(d,a.id)},run(){const _=!s.isHidden(d,a.id);s.updateHidden(d,a.id,_)}});return{hide:f,toggle:p,get isHidden(){return!p.checked}}}}),define(re[726],ae([1,0,7,6,2,42,39,86,15,665,78]),function($,e,w,C,k,I,L,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuService=void 0;let n=class extends k.Disposable{constructor(t,r,l,d,a){super();this._onDidShowContextMenu=new C.Emitter,this._onDidHideContextMenu=new C.Emitter,this.contextMenuHandler=new u.ContextMenuHandler(l,t,r,d,a)}configure(t){this.contextMenuHandler.configure(t)}showContextMenu(t){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},t),{onHide:r=>{var l;(l=t.onHide)===null||l===void 0||l.call(t,r),this._onDidHideContextMenu.fire()}})),w.ModifierKeyEmitter.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};n=ke([me(0,b.ITelemetryService),me(1,L.INotificationService),me(2,g.IContextViewService),me(3,I.IKeybindingService),me(4,v.IThemeService)],n),e.ContextMenuService=n}),define(re[171],ae([1,0,7,490,113,492,163,495,494,264,6,2,616,30,94,16,286,78,9,42,34,142,15]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.WorkbenchTreeFindOpen=e.WorkbenchTreeElementHasChild=e.WorkbenchTreeElementCanExpand=e.WorkbenchTreeElementHasParent=e.WorkbenchTreeElementCanCollapse=e.WorkbenchListSupportsFind=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.RawWorkbenchListFocusContextKey=e.ListService=e.IListService=void 0,e.IListService=(0,s.createDecorator)("listService");let _=class{constructor(K){this._themeService=K,this.disposables=new n.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(K){var ce,ee;K!==this._lastFocusedWidget&&((ce=this._lastFocusedWidget)===null||ce===void 0||ce.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=K,(ee=this._lastFocusedWidget)===null||ee===void 0||ee.getHTMLElement().classList.add("last-focused"))}register(K,ce){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const ue=new k.DefaultStyleController((0,w.createStyleSheet)(),"");this.disposables.add((0,f.attachListStyler)(ue,this._themeService))}if(this.lists.some(ue=>ue.widget===K))throw new Error("Cannot register the same widget multiple times");const ee={widget:K,extraContextKeys:ce};return this.lists.push(ee),K.getHTMLElement()===document.activeElement&&this.setLastFocusedList(K),(0,n.combinedDisposable)(K.onDidFocus(()=>this.setLastFocusedList(K)),(0,n.toDisposable)(()=>this.lists.splice(this.lists.indexOf(ee),1)),K.onDidDispose(()=>{this.lists=this.lists.filter(ue=>ue!==ee),this._lastFocusedWidget===K&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};_=ke([me(0,p.IThemeService)],_),e.ListService=_,e.RawWorkbenchListFocusContextKey=new l.RawContextKey("listFocus",!0),e.WorkbenchListSupportsMultiSelectContextKey=new l.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=l.ContextKeyExpr.and(e.RawWorkbenchListFocusContextKey,l.ContextKeyExpr.not(d.InputFocusedContextKey)),e.WorkbenchListHasSelectionOrFocus=new l.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new l.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new l.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new l.RawContextKey("listSelectionNavigation",!1),e.WorkbenchListSupportsFind=new l.RawContextKey("listSupportsFind",!0),e.WorkbenchTreeElementCanCollapse=new l.RawContextKey("treeElementCanCollapse",!1),e.WorkbenchTreeElementHasParent=new l.RawContextKey("treeElementHasParent",!1),e.WorkbenchTreeElementCanExpand=new l.RawContextKey("treeElementCanExpand",!1),e.WorkbenchTreeElementHasChild=new l.RawContextKey("treeElementHasChild",!1),e.WorkbenchTreeFindOpen=new l.RawContextKey("treeFindOpen",!1);const m="listTypeNavigationMode",h="listAutomaticKeyboardNavigation";function S(U,K){const ce=U.createScoped(K.getHTMLElement());return e.RawWorkbenchListFocusContextKey.bindTo(ce),ce}const y="workbench.list.multiSelectModifier",E="workbench.list.openMode",N="workbench.list.horizontalScrolling",T="workbench.list.defaultFindMode",R="workbench.list.keyboardNavigation",F="workbench.tree.indent",O="workbench.tree.renderIndentGuides",D="workbench.list.smoothScrolling",M="workbench.list.mouseWheelScrollSensitivity",P="workbench.list.fastScrollSensitivity",B="workbench.tree.expandMode";function W(U){return U.getValue(y)==="alt"}class V extends n.Disposable{constructor(K){super();this.configurationService=K,this.useAltAsMultipleSelectionModifier=W(K),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(K=>{K.affectsConfiguration(y)&&(this.useAltAsMultipleSelectionModifier=W(this.configurationService))}))}isSelectionSingleChangeEvent(K){return this.useAltAsMultipleSelectionModifier?K.browserEvent.altKey:(0,k.isSelectionSingleChangeEvent)(K)}isSelectionRangeChangeEvent(K){return(0,k.isSelectionRangeChangeEvent)(K)}}function A(U,K){var ce;const ee=U.get(t.IConfigurationService),ue=U.get(o.IKeybindingService),fe=new n.DisposableStore;return[Object.assign(Object.assign({},K),{keyboardNavigationDelegate:{mightProducePrintableCharacter(we){return ue.mightProducePrintableCharacter(we)}},smoothScrolling:Boolean(ee.getValue(D)),mouseWheelScrollSensitivity:ee.getValue(M),fastScrollSensitivity:ee.getValue(P),multipleSelectionController:(ce=K.multipleSelectionController)!==null&&ce!==void 0?ce:fe.add(new V(ee)),keyboardNavigationEventFilter:te(ue)}),fe]}let Q=class extends k.List{constructor(K,ce,ee,ue,fe,Ce,we,ye,De,Me){const pe=typeof fe.horizontalScrolling!="undefined"?fe.horizontalScrolling:Boolean(De.getValue(N)),[he,le]=Me.invokeFunction(A,fe);super(K,ce,ee,ue,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,f.computeStyles)(ye.getColorTheme(),f.defaultListStyles)),he),{horizontalScrolling:pe}));this.disposables.add(le),this.contextKeyService=S(Ce,this),this.themeService=ye,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(fe.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(fe.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=fe.horizontalScrolling,this._useAltAsMultipleSelectionModifier=W(De),this.disposables.add(this.contextKeyService),this.disposables.add(we.register(this)),fe.overrideStyles&&this.updateStyles(fe.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const _e=this.getSelection(),Le=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(_e.length>0||Le.length>0),this.listMultiSelection.set(_e.length>1),this.listDoubleSelection.set(_e.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const _e=this.getSelection(),Le=this.getFocus();this.listHasSelectionOrFocus.set(_e.length>0||Le.length>0)})),this.disposables.add(De.onDidChangeConfiguration(_e=>{_e.affectsConfiguration(y)&&(this._useAltAsMultipleSelectionModifier=W(De));let Le={};if(_e.affectsConfiguration(N)&&this.horizontalScrolling===void 0){const Ie=Boolean(De.getValue(N));Le=Object.assign(Object.assign({},Le),{horizontalScrolling:Ie})}if(_e.affectsConfiguration(D)){const Ie=Boolean(De.getValue(D));Le=Object.assign(Object.assign({},Le),{smoothScrolling:Ie})}if(_e.affectsConfiguration(M)){const Ie=De.getValue(M);Le=Object.assign(Object.assign({},Le),{mouseWheelScrollSensitivity:Ie})}if(_e.affectsConfiguration(P)){const Ie=De.getValue(P);Le=Object.assign(Object.assign({},Le),{fastScrollSensitivity:Ie})}Object.keys(Le).length>0&&this.updateOptions(Le)})),this.navigator=new Z(this,Object.assign({configurationService:De},fe)),this.disposables.add(this.navigator)}updateOptions(K){super.updateOptions(K),K.overrideStyles&&this.updateStyles(K.overrideStyles),K.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!K.multipleSelectionSupport)}updateStyles(K){var ce;(ce=this._styler)===null||ce===void 0||ce.dispose(),this._styler=(0,f.attachListStyler)(this,this.themeService,K)}dispose(){var K;(K=this._styler)===null||K===void 0||K.dispose(),super.dispose()}};Q=ke([me(5,l.IContextKeyService),me(6,e.IListService),me(7,p.IThemeService),me(8,t.IConfigurationService),me(9,s.IInstantiationService)],Q),e.WorkbenchList=Q;let J=class extends C.PagedList{constructor(K,ce,ee,ue,fe,Ce,we,ye,De,Me){const pe=typeof fe.horizontalScrolling!="undefined"?fe.horizontalScrolling:Boolean(De.getValue(N)),[he,le]=Me.invokeFunction(A,fe);super(K,ce,ee,ue,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,f.computeStyles)(ye.getColorTheme(),f.defaultListStyles)),he),{horizontalScrolling:pe}));this.disposables=new n.DisposableStore,this.disposables.add(le),this.contextKeyService=S(Ce,this),this.themeService=ye,this.horizontalScrolling=fe.horizontalScrolling,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(fe.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(fe.selectionNavigation)),this._useAltAsMultipleSelectionModifier=W(De),this.disposables.add(this.contextKeyService),this.disposables.add(we.register(this)),fe.overrideStyles&&this.updateStyles(fe.overrideStyles),fe.overrideStyles&&this.disposables.add((0,f.attachListStyler)(this,ye,fe.overrideStyles)),this.disposables.add(De.onDidChangeConfiguration(_e=>{_e.affectsConfiguration(y)&&(this._useAltAsMultipleSelectionModifier=W(De));let Le={};if(_e.affectsConfiguration(N)&&this.horizontalScrolling===void 0){const Ie=Boolean(De.getValue(N));Le=Object.assign(Object.assign({},Le),{horizontalScrolling:Ie})}if(_e.affectsConfiguration(D)){const Ie=Boolean(De.getValue(D));Le=Object.assign(Object.assign({},Le),{smoothScrolling:Ie})}if(_e.affectsConfiguration(M)){const Ie=De.getValue(M);Le=Object.assign(Object.assign({},Le),{mouseWheelScrollSensitivity:Ie})}if(_e.affectsConfiguration(P)){const Ie=De.getValue(P);Le=Object.assign(Object.assign({},Le),{fastScrollSensitivity:Ie})}Object.keys(Le).length>0&&this.updateOptions(Le)})),this.navigator=new Z(this,Object.assign({configurationService:De},fe)),this.disposables.add(this.navigator)}updateOptions(K){super.updateOptions(K),K.overrideStyles&&this.updateStyles(K.overrideStyles),K.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!K.multipleSelectionSupport)}updateStyles(K){var ce;(ce=this._styler)===null||ce===void 0||ce.dispose(),this._styler=(0,f.attachListStyler)(this,this.themeService,K)}dispose(){var K;(K=this._styler)===null||K===void 0||K.dispose(),this.disposables.dispose(),super.dispose()}};J=ke([me(5,l.IContextKeyService),me(6,e.IListService),me(7,p.IThemeService),me(8,t.IConfigurationService),me(9,s.IInstantiationService)],J),e.WorkbenchPagedList=J;let H=class extends I.Table{constructor(K,ce,ee,ue,fe,Ce,we,ye,De,Me,pe){const he=typeof Ce.horizontalScrolling!="undefined"?Ce.horizontalScrolling:Boolean(Me.getValue(N)),[le,ge]=pe.invokeFunction(A,Ce);super(K,ce,ee,ue,fe,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,f.computeStyles)(De.getColorTheme(),f.defaultListStyles)),le),{horizontalScrolling:he}));this.disposables.add(ge),this.contextKeyService=S(we,this),this.themeService=De,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Ce.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(Ce.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=Ce.horizontalScrolling,this._useAltAsMultipleSelectionModifier=W(Me),this.disposables.add(this.contextKeyService),this.disposables.add(ye.register(this)),Ce.overrideStyles&&this.updateStyles(Ce.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Le=this.getSelection(),Ie=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Le.length>0||Ie.length>0),this.listMultiSelection.set(Le.length>1),this.listDoubleSelection.set(Le.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Le=this.getSelection(),Ie=this.getFocus();this.listHasSelectionOrFocus.set(Le.length>0||Ie.length>0)})),this.disposables.add(Me.onDidChangeConfiguration(Le=>{Le.affectsConfiguration(y)&&(this._useAltAsMultipleSelectionModifier=W(Me));let Ie={};if(Le.affectsConfiguration(N)&&this.horizontalScrolling===void 0){const Ae=Boolean(Me.getValue(N));Ie=Object.assign(Object.assign({},Ie),{horizontalScrolling:Ae})}if(Le.affectsConfiguration(D)){const Ae=Boolean(Me.getValue(D));Ie=Object.assign(Object.assign({},Ie),{smoothScrolling:Ae})}if(Le.affectsConfiguration(M)){const Ae=Me.getValue(M);Ie=Object.assign(Object.assign({},Ie),{mouseWheelScrollSensitivity:Ae})}if(Le.affectsConfiguration(P)){const Ae=Me.getValue(P);Ie=Object.assign(Object.assign({},Ie),{fastScrollSensitivity:Ae})}Object.keys(Ie).length>0&&this.updateOptions(Ie)})),this.navigator=new ie(this,Object.assign({configurationService:Me},Ce)),this.disposables.add(this.navigator)}updateOptions(K){super.updateOptions(K),K.overrideStyles&&this.updateStyles(K.overrideStyles),K.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!K.multipleSelectionSupport)}updateStyles(K){var ce;(ce=this._styler)===null||ce===void 0||ce.dispose(),this._styler=(0,f.attachListStyler)(this,this.themeService,K)}dispose(){var K;(K=this._styler)===null||K===void 0||K.dispose(),this.disposables.dispose(),super.dispose()}};H=ke([me(6,l.IContextKeyService),me(7,e.IListService),me(8,p.IThemeService),me(9,t.IConfigurationService),me(10,s.IInstantiationService)],H),e.WorkbenchTable=H;class q extends n.Disposable{constructor(K,ce){var ee;super();this.widget=K,this._onDidOpen=this._register(new g.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(g.Event.filter(this.widget.onDidChangeSelection,ue=>ue.browserEvent instanceof KeyboardEvent)(ue=>this.onSelectionFromKeyboard(ue))),this._register(this.widget.onPointer(ue=>this.onPointer(ue.element,ue.browserEvent))),this._register(this.widget.onMouseDblClick(ue=>this.onMouseDblClick(ue.element,ue.browserEvent))),typeof(ce==null?void 0:ce.openOnSingleClick)!="boolean"&&(ce==null?void 0:ce.configurationService)?(this.openOnSingleClick=(ce==null?void 0:ce.configurationService.getValue(E))!=="doubleClick",this._register(ce==null?void 0:ce.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=(ce==null?void 0:ce.configurationService.getValue(E))!=="doubleClick"}))):this.openOnSingleClick=(ee=ce==null?void 0:ce.openOnSingleClick)!==null&&ee!==void 0?ee:!0}onSelectionFromKeyboard(K){if(K.elements.length!==1)return;const ce=K.browserEvent,ee=typeof ce.preserveFocus=="boolean"?ce.preserveFocus:!0,ue=typeof ce.pinned=="boolean"?ce.pinned:!ee,fe=!1;this._open(this.getSelectedElement(),ee,ue,fe,K.browserEvent)}onPointer(K,ce){if(!this.openOnSingleClick||ce.detail===2)return;const ue=ce.button===1,fe=!0,Ce=ue,we=ce.ctrlKey||ce.metaKey||ce.altKey;this._open(K,fe,Ce,we,ce)}onMouseDblClick(K,ce){if(!ce)return;const ee=ce.target;if(ee.classList.contains("monaco-tl-twistie")||ee.classList.contains("monaco-icon-label")&&ee.classList.contains("folder-icon")&&ce.offsetX<16)return;const fe=!1,Ce=!0,we=ce.ctrlKey||ce.metaKey||ce.altKey;this._open(K,fe,Ce,we,ce)}_open(K,ce,ee,ue,fe){!K||this._onDidOpen.fire({editorOptions:{preserveFocus:ce,pinned:ee,revealIfVisible:!0},sideBySide:ue,element:K,browserEvent:fe})}}class Z extends q{constructor(K,ce){super(K,ce);this.widget=K}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class ie extends q{constructor(K,ce){super(K,ce)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Y extends q{constructor(K,ce){super(K,ce)}getSelectedElement(){var K;return(K=this.widget.getSelection()[0])!==null&&K!==void 0?K:void 0}}function te(U){let K=!1;return ce=>{if(ce.toKeybinding().isModifierKey())return!1;if(K)return K=!1,!1;const ee=U.softDispatch(ce,ce.target);return(ee==null?void 0:ee.enterChord)?(K=!0,!1):(K=!1,!ee)}}let de=class extends u.ObjectTree{constructor(K,ce,ee,ue,fe,Ce,we,ye,De,Me){const{options:pe,getTypeNavigationMode:he,disposable:le}=Ce.invokeFunction(z,fe);super(K,ce,ee,ue,pe);this.disposables.add(le),this.internals=new X(this,fe,he,fe.overrideStyles,we,ye,De,Me),this.disposables.add(this.internals)}updateOptions(K){super.updateOptions(K),this.internals.updateOptions(K)}};de=ke([me(5,s.IInstantiationService),me(6,l.IContextKeyService),me(7,e.IListService),me(8,p.IThemeService),me(9,t.IConfigurationService)],de),e.WorkbenchObjectTree=de;let x=class extends u.CompressibleObjectTree{constructor(K,ce,ee,ue,fe,Ce,we,ye,De,Me){const{options:pe,getTypeNavigationMode:he,disposable:le}=Ce.invokeFunction(z,fe);super(K,ce,ee,ue,pe);this.disposables.add(le),this.internals=new X(this,fe,he,fe.overrideStyles,we,ye,De,Me),this.disposables.add(this.internals)}updateOptions(K={}){super.updateOptions(K),K.overrideStyles&&this.internals.updateStyleOverrides(K.overrideStyles),this.internals.updateOptions(K)}};x=ke([me(5,s.IInstantiationService),me(6,l.IContextKeyService),me(7,e.IListService),me(8,p.IThemeService),me(9,t.IConfigurationService)],x),e.WorkbenchCompressibleObjectTree=x;let oe=class extends v.DataTree{constructor(K,ce,ee,ue,fe,Ce,we,ye,De,Me,pe){const{options:he,getTypeNavigationMode:le,disposable:ge}=we.invokeFunction(z,Ce);super(K,ce,ee,ue,fe,he);this.disposables.add(ge),this.internals=new X(this,Ce,le,Ce.overrideStyles,ye,De,Me,pe),this.disposables.add(this.internals)}updateOptions(K={}){super.updateOptions(K),K.overrideStyles&&this.internals.updateStyleOverrides(K.overrideStyles),this.internals.updateOptions(K)}};oe=ke([me(6,s.IInstantiationService),me(7,l.IContextKeyService),me(8,e.IListService),me(9,p.IThemeService),me(10,t.IConfigurationService)],oe),e.WorkbenchDataTree=oe;let ne=class extends b.AsyncDataTree{constructor(K,ce,ee,ue,fe,Ce,we,ye,De,Me,pe){const{options:he,getTypeNavigationMode:le,disposable:ge}=we.invokeFunction(z,Ce);super(K,ce,ee,ue,fe,he);this.disposables.add(ge),this.internals=new X(this,Ce,le,Ce.overrideStyles,ye,De,Me,pe),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(K={}){super.updateOptions(K),K.overrideStyles&&this.internals.updateStyleOverrides(K.overrideStyles),this.internals.updateOptions(K)}};ne=ke([me(6,s.IInstantiationService),me(7,l.IContextKeyService),me(8,e.IListService),me(9,p.IThemeService),me(10,t.IConfigurationService)],ne),e.WorkbenchAsyncDataTree=ne;let j=class extends b.CompressibleAsyncDataTree{constructor(K,ce,ee,ue,fe,Ce,we,ye,De,Me,pe,he){const{options:le,getTypeNavigationMode:ge,disposable:_e}=ye.invokeFunction(z,we);super(K,ce,ee,ue,fe,Ce,le);this.disposables.add(_e),this.internals=new X(this,we,ge,we.overrideStyles,De,Me,pe,he),this.disposables.add(this.internals)}updateOptions(K){super.updateOptions(K),this.internals.updateOptions(K)}};j=ke([me(7,s.IInstantiationService),me(8,l.IContextKeyService),me(9,e.IListService),me(10,p.IThemeService),me(11,t.IConfigurationService)],j),e.WorkbenchCompressibleAsyncDataTree=j;function se(U){const K=U.getValue(T);if(K==="highlight")return L.TreeFindMode.Highlight;if(K==="filter")return L.TreeFindMode.Filter;const ce=U.getValue(R);if(ce==="simple"||ce==="highlight")return L.TreeFindMode.Highlight;if(ce==="filter")return L.TreeFindMode.Filter}function z(U,K){var ce;const ee=U.get(t.IConfigurationService),ue=U.get(a.IContextViewService),fe=U.get(l.IContextKeyService),Ce=U.get(s.IInstantiationService),we=()=>{const he=fe.getContextKeyValue(m);if(he==="automatic")return k.TypeNavigationMode.Automatic;if(he==="trigger"||fe.getContextKeyValue(h)===!1)return k.TypeNavigationMode.Trigger},ye=K.horizontalScrolling!==void 0?K.horizontalScrolling:Boolean(ee.getValue(N)),[De,Me]=Ce.invokeFunction(A,K),pe=K.additionalScrollHeight;return{getTypeNavigationMode:we,disposable:Me,options:Object.assign(Object.assign({keyboardSupport:!1},De),{indent:typeof ee.getValue(F)=="number"?ee.getValue(F):void 0,renderIndentGuides:ee.getValue(O),smoothScrolling:Boolean(ee.getValue(D)),defaultFindMode:se(ee),horizontalScrolling:ye,additionalScrollHeight:pe,hideTwistiesOfChildlessElements:K.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(ce=K.expandOnlyOnTwistieClick)!==null&&ce!==void 0?ce:ee.getValue(B)==="doubleClick",contextViewProvider:ue})}}let X=class{constructor(K,ce,ee,ue,fe,Ce,we,ye){var De;this.tree=K,this.themeService=we,this.disposables=[],this.contextKeyService=S(fe,K),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ce.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(ce.selectionNavigation)),this.listSupportFindWidget=e.WorkbenchListSupportsFind.bindTo(this.contextKeyService),this.listSupportFindWidget.set((De=ce.findWidgetEnabled)!==null&&De!==void 0?De:!0),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.treeElementCanCollapse=e.WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService),this.treeElementHasParent=e.WorkbenchTreeElementHasParent.bindTo(this.contextKeyService),this.treeElementCanExpand=e.WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService),this.treeElementHasChild=e.WorkbenchTreeElementHasChild.bindTo(this.contextKeyService),this.treeFindOpen=e.WorkbenchTreeFindOpen.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=W(ye),this.updateStyleOverrides(ue);const pe=()=>{const le=K.getFocus()[0];if(!le)return;const ge=K.getNode(le);this.treeElementCanCollapse.set(ge.collapsible&&!ge.collapsed),this.treeElementHasParent.set(!!K.getParentElement(le)),this.treeElementCanExpand.set(ge.collapsible&&ge.collapsed),this.treeElementHasChild.set(!!K.getFirstElementChild(le))},he=new Set;he.add(m),he.add(h),this.disposables.push(this.contextKeyService,Ce.register(K),K.onDidChangeSelection(()=>{const le=K.getSelection(),ge=K.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(le.length>0||ge.length>0),this.hasMultiSelection.set(le.length>1),this.hasDoubleSelection.set(le.length===2)})}),K.onDidChangeFocus(()=>{const le=K.getSelection(),ge=K.getFocus();this.hasSelectionOrFocus.set(le.length>0||ge.length>0),pe()}),K.onDidChangeCollapseState(pe),K.onDidChangeModel(pe),K.onDidChangeFindOpenState(le=>this.treeFindOpen.set(le)),ye.onDidChangeConfiguration(le=>{let ge={};if(le.affectsConfiguration(y)&&(this._useAltAsMultipleSelectionModifier=W(ye)),le.affectsConfiguration(F)){const _e=ye.getValue(F);ge=Object.assign(Object.assign({},ge),{indent:_e})}if(le.affectsConfiguration(O)){const _e=ye.getValue(O);ge=Object.assign(Object.assign({},ge),{renderIndentGuides:_e})}if(le.affectsConfiguration(D)){const _e=Boolean(ye.getValue(D));ge=Object.assign(Object.assign({},ge),{smoothScrolling:_e})}if((le.affectsConfiguration(T)||le.affectsConfiguration(R))&&K.updateOptions({defaultFindMode:se(ye)}),le.affectsConfiguration(N)&&ce.horizontalScrolling===void 0){const _e=Boolean(ye.getValue(N));ge=Object.assign(Object.assign({},ge),{horizontalScrolling:_e})}if(le.affectsConfiguration(B)&&ce.expandOnlyOnTwistieClick===void 0&&(ge=Object.assign(Object.assign({},ge),{expandOnlyOnTwistieClick:ye.getValue(B)==="doubleClick"})),le.affectsConfiguration(M)){const _e=ye.getValue(M);ge=Object.assign(Object.assign({},ge),{mouseWheelScrollSensitivity:_e})}if(le.affectsConfiguration(P)){const _e=ye.getValue(P);ge=Object.assign(Object.assign({},ge),{fastScrollSensitivity:_e})}Object.keys(ge).length>0&&K.updateOptions(ge)}),this.contextKeyService.onDidChangeContext(le=>{le.affectsSome(he)&&K.updateOptions({typeNavigationMode:ee()})})),this.navigator=new Y(K,Object.assign({configurationService:ye},ce)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(K){K.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!K.multipleSelectionSupport)}updateStyleOverrides(K){(0,n.dispose)(this.styler),this.styler=K?(0,f.attachListStyler)(this.tree,this.themeService,K):n.Disposable.None}dispose(){this.disposables=(0,n.dispose)(this.disposables),(0,n.dispose)(this.styler),this.styler=void 0}};X=ke([me(4,l.IContextKeyService),me(5,e.IListService),me(6,p.IThemeService),me(7,t.IConfigurationService)],X),c.Registry.as(r.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,i.localize)(0,null),type:"object",properties:{[y]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,i.localize)(1,null),(0,i.localize)(2,null)],default:"ctrlCmd",description:(0,i.localize)(3,null)},[E]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,i.localize)(4,null)},[N]:{type:"boolean",default:!1,description:(0,i.localize)(5,null)},[F]:{type:"number",default:8,minimum:4,maximum:40,description:(0,i.localize)(6,null)},[O]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,i.localize)(7,null)},[D]:{type:"boolean",default:!1,description:(0,i.localize)(8,null)},[M]:{type:"number",default:1,markdownDescription:(0,i.localize)(9,null)},[P]:{type:"number",default:5,description:(0,i.localize)(10,null)},[T]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,i.localize)(11,null),(0,i.localize)(12,null)],default:"highlight",description:(0,i.localize)(13,null)},[R]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,i.localize)(14,null),(0,i.localize)(15,null),(0,i.localize)(16,null)],default:"highlight",description:(0,i.localize)(17,null),deprecated:!0,deprecationMessage:(0,i.localize)(18,null)},[B]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,i.localize)(19,null)}}})}),define(re[727],ae([1,0,7,100,48,62,6,2,45,25,15]),function($,e,w,C,k,I,L,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Link=void 0;let n=class extends b.Disposable{constructor(t,r,l={},d){var a;super();this._link=r,this._enabled=!0,this.el=(0,w.append)(t,(0,w.$)("a.monaco-link",{tabIndex:(a=r.tabIndex)!==null&&a!==void 0?a:0,href:r.href,title:r.title},r.label)),this.el.setAttribute("role","button");const s=this._register(new C.DomEmitter(this.el,"click")),o=this._register(new C.DomEmitter(this.el,"keypress")),c=L.Event.chain(o.event).map(_=>new k.StandardKeyboardEvent(_)).filter(_=>_.keyCode===3).event,f=this._register(new C.DomEmitter(this.el,I.EventType.Tap)).event;this._register(I.Gesture.addTarget(this.el));const p=L.Event.any(s.event,c,f);this._register(p(_=>{!this.enabled||(w.EventHelper.stop(_,!0),(l==null?void 0:l.opener)?l.opener(this._link.href):d.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}get enabled(){return this._enabled}set enabled(t){t?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=t}};n=ke([me(3,v.IOpenerService)],n),e.Link=n,(0,g.registerThemingParticipant)((i,t)=>{const r=i.getColor(u.textLinkForeground);r&&t.addRule(`.monaco-link { color: ${r}; }`);const l=i.getColor(u.textLinkActiveForeground);l&&t.addRule(`.monaco-link:hover { color: ${l}; }`)})}),define(re[728],ae([1,0,21,521,77,16,9,116,171,661,25,142,15]),function($,e,w,C,k,I,L,b,v,u,g,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let t=class extends i.Themable{constructor(l,d,a,s,o){super(a);this.instantiationService=l,this.contextKeyService=d,this.accessibilityService=s,this.layoutService=o,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(u.QuickAccessController))),this._quickAccess}createController(l=this.layoutService,d){const a={idPrefix:"quickInput_",container:l.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:o=>this.setContextKey(o),returnFocus:()=>l.focus(),createList:(o,c,f,p,_)=>this.instantiationService.createInstance(v.WorkbenchList,o,c,f,p,_),styles:this.computeStyles()},s=this._register(new C.QuickInputController(Object.assign(Object.assign({},a),d)));return s.layout(l.dimension,l.offset.quickPickTop),this._register(l.onDidLayout(o=>s.layout(o,l.offset.quickPickTop))),this._register(s.onShow(()=>this.resetContextKeys())),this._register(s.onHide(()=>this.resetContextKeys())),s}setContextKey(l){let d;l&&(d=this.contexts.get(l),d||(d=new I.RawContextKey(l,!1).bindTo(this.contextKeyService),this.contexts.set(l,d))),!(d&&d.get())&&(this.resetContextKeys(),d==null||d.set(!0))}resetContextKeys(){this.contexts.forEach(l=>{l.get()&&l.reset()})}pick(l,d={},a=w.CancellationToken.None){return this.controller.pick(l,d,a)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,n.computeStyles)(this.theme,{quickInputBackground:g.quickInputBackground,quickInputForeground:g.quickInputForeground,quickInputTitleBackground:g.quickInputTitleBackground,contrastBorder:g.contrastBorder,widgetShadow:g.widgetShadow})),inputBox:(0,n.computeStyles)(this.theme,{inputForeground:g.inputForeground,inputBackground:g.inputBackground,inputBorder:g.inputBorder,inputValidationInfoBackground:g.inputValidationInfoBackground,inputValidationInfoForeground:g.inputValidationInfoForeground,inputValidationInfoBorder:g.inputValidationInfoBorder,inputValidationWarningBackground:g.inputValidationWarningBackground,inputValidationWarningForeground:g.inputValidationWarningForeground,inputValidationWarningBorder:g.inputValidationWarningBorder,inputValidationErrorBackground:g.inputValidationErrorBackground,inputValidationErrorForeground:g.inputValidationErrorForeground,inputValidationErrorBorder:g.inputValidationErrorBorder}),countBadge:(0,n.computeStyles)(this.theme,{badgeBackground:g.badgeBackground,badgeForeground:g.badgeForeground,badgeBorder:g.contrastBorder}),button:(0,n.computeStyles)(this.theme,{buttonForeground:g.buttonForeground,buttonBackground:g.buttonBackground,buttonHoverBackground:g.buttonHoverBackground,buttonBorder:g.contrastBorder}),progressBar:(0,n.computeStyles)(this.theme,{progressBarBackground:g.progressBarBackground}),keybindingLabel:(0,n.computeStyles)(this.theme,{keybindingLabelBackground:g.keybindingLabelBackground,keybindingLabelForeground:g.keybindingLabelForeground,keybindingLabelBorder:g.keybindingLabelBorder,keybindingLabelBottomBorder:g.keybindingLabelBottomBorder,keybindingLabelShadow:g.widgetShadow}),list:(0,n.computeStyles)(this.theme,{listBackground:g.quickInputBackground,listInactiveFocusForeground:g.quickInputListFocusForeground,listInactiveSelectionIconForeground:g.quickInputListFocusIconForeground,listInactiveFocusBackground:g.quickInputListFocusBackground,listFocusOutline:g.activeContrastBorder,listInactiveFocusOutline:g.activeContrastBorder,pickerGroupBorder:g.pickerGroupBorder,pickerGroupForeground:g.pickerGroupForeground})}}};t=ke([me(0,L.IInstantiationService),me(1,I.IContextKeyService),me(2,i.IThemeService),me(3,k.IAccessibilityService),me(4,b.ILayoutService)],t),e.QuickInputService=t}),define(re[729],ae([1,0,12,15,21,9,16,77,288,29,728,96,397]),function($,e,w,C,k,I,L,b,v,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputService=e.EditorScopedQuickInputService=void 0;let i=class extends g.QuickInputService{constructor(a,s,o,c,f,p){super(s,o,c,f,new v.EditorScopedLayoutService(a.getContainerDomNode(),p));this.host=void 0;const _=r.get(a);if(_){const m=_.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return m.getDomNode()},get dimension(){return a.getLayoutInfo()},get onDidLayout(){return a.onDidLayoutChange},focus:()=>a.focus(),offset:{top:0,quickPickTop:0}}}else this.host=void 0}createController(){return super.createController(this.host)}};i=ke([me(1,I.IInstantiationService),me(2,L.IContextKeyService),me(3,C.IThemeService),me(4,b.IAccessibilityService),me(5,u.ICodeEditorService)],i),e.EditorScopedQuickInputService=i;let t=class{constructor(a,s){this.instantiationService=a,this.codeEditorService=s,this.mapEditorToService=new Map}get activeService(){const a=this.codeEditorService.getFocusedCodeEditor();if(!a)throw new Error("Quick input service needs a focused editor to work.");let s=this.mapEditorToService.get(a);if(!s){const o=s=this.instantiationService.createInstance(i,a);this.mapEditorToService.set(a,s),(0,n.once)(a.onDidDispose)(()=>{o.dispose(),this.mapEditorToService.delete(a)})}return s}get quickAccess(){return this.activeService.quickAccess}pick(a,s={},o=k.CancellationToken.None){return this.activeService.pick(a,s,o)}createQuickPick(){return this.activeService.createQuickPick()}};t=ke([me(0,I.IInstantiationService),me(1,u.ICodeEditorService)],t),e.StandaloneQuickInputService=t;class r{constructor(a){this.editor=a,this.widget=new l(this.editor)}static get(a){return a.getContribution(r.ID)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=r,r.ID="editor.controller.quickInput";class l{constructor(a){this.codeEditor=a,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return l.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=l,l.ID="editor.contrib.quickInputWidget",(0,w.registerEditorContribution)(r.ID,r)}),define(re[730],ae([1,0,27,81,25,15]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var L;(function(b){function v(u){switch(u){case C.default.Ignore:return"severity-ignore "+w.Codicon.info.classNames;case C.default.Info:return w.Codicon.info.classNames;case C.default.Warning:return w.Codicon.warning.classNames;case C.default.Error:return w.Codicon.error.classNames;default:return""}}b.className=v})(L=e.SeverityIcon||(e.SeverityIcon={})),(0,I.registerThemingParticipant)((b,v)=>{const u=b.getColor(k.problemsErrorIconForeground);if(u){const i=w.Codicon.error.cssSelector;v.addRule(`
			.monaco-editor .zone-widget ${i},
			.markers-panel .marker-icon${i},
			.text-search-provider-messages .providerMessage ${i},
			.extensions-viewlet > .extensions ${i} {
				color: ${u};
			}
		`)}const g=b.getColor(k.problemsWarningIconForeground);if(g){const i=w.Codicon.warning.cssSelector;v.addRule(`
			.monaco-editor .zone-widget ${i},
			.markers-panel .marker-icon${i},
			.extensions-viewlet > .extensions ${i},
			.extension-editor ${i},
			.text-search-provider-messages .providerMessage ${i},
			.preferences-editor ${i} {
				color: ${g};
			}
		`)}const n=b.getColor(k.problemsInfoIconForeground);if(n){const i=w.Codicon.info.cssSelector;v.addRule(`
			.monaco-editor .zone-widget ${i},
			.markers-panel .marker-icon${i},
			.extensions-viewlet > .extensions ${i},
			.text-search-provider-messages .providerMessage ${i},
			.extension-editor ${i} {
				color: ${n};
			}
		`)}})}),define(re[80],ae([1,0,10,27,6,19,22,621,211,34,15]),function($,e,w,C,k,I,L,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spinningLoading=e.syncing=e.gotoNextLocation=e.gotoPreviousLocation=e.widgetClose=e.iconsSchemaId=e.getIconRegistry=e.registerIcon=e.IconFontDefinition=e.IconContribution=e.Extensions=void 0,e.Extensions={IconContribution:"base.contributions.icons"};var n;(function(c){function f(p,_){let m=p.defaults;for(;g.ThemeIcon.isThemeIcon(m);){const h=r.getIcon(m.id);if(!h)return;m=h.defaults}return m}c.getDefinition=f})(n=e.IconContribution||(e.IconContribution={}));var i;(function(c){function f(_){return{weight:_.weight,style:_.style,src:_.src.map(m=>({format:m.format,location:m.location.toString()}))}}c.toJSONObject=f;function p(_){const m=h=>(0,I.isString)(h)?h:void 0;if(_&&Array.isArray(_.src)&&_.src.every(h=>(0,I.isString)(h.format)&&(0,I.isString)(h.location)))return{weight:m(_.weight),style:m(_.style),src:_.src.map(h=>({format:h.format,location:L.URI.parse(h.location)}))}}c.fromJSONObject=p})(i=e.IconFontDefinition||(e.IconFontDefinition={}));class t{constructor(){this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,b.localize)(0,null)},fontCharacter:{type:"string",description:(0,b.localize)(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${C.CSSIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(f,p,_,m){const h=this.iconsById[f];if(h){if(_&&!h.description){h.description=_,this.iconSchema.properties[f].markdownDescription=`${_} $(${f})`;const E=this.iconReferenceSchema.enum.indexOf(f);E!==-1&&(this.iconReferenceSchema.enumDescriptions[E]=_),this._onDidChange.fire()}return h}const S={id:f,description:_,defaults:p,deprecationMessage:m};this.iconsById[f]=S;const y={$ref:"#/definitions/icons"};return m&&(y.deprecationMessage=m),_&&(y.markdownDescription=`${_}: $(${f})`),this.iconSchema.properties[f]=y,this.iconReferenceSchema.enum.push(f),this.iconReferenceSchema.enumDescriptions.push(_||""),this._onDidChange.fire(),{id:f}}getIcons(){return Object.keys(this.iconsById).map(f=>this.iconsById[f])}getIcon(f){return this.iconsById[f]}getIconSchema(){return this.iconSchema}toString(){const f=(h,S)=>h.id.localeCompare(S.id),p=h=>{for(;g.ThemeIcon.isThemeIcon(h.defaults);)h=this.iconsById[h.defaults.id];return`codicon codicon-${h?h.id:""}`},_=[];_.push("| preview     | identifier                        | default codicon ID                | description"),_.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const m=Object.keys(this.iconsById).map(h=>this.iconsById[h]);for(const h of m.filter(S=>!!S.description).sort(f))_.push(`|<i class="${p(h)}"></i>|${h.id}|${g.ThemeIcon.isThemeIcon(h.defaults)?h.defaults.id:h.id}|${h.description||""}|`);_.push("| preview     | identifier                        "),_.push("| ----------- | --------------------------------- |");for(const h of m.filter(S=>!g.ThemeIcon.isThemeIcon(S.defaults)).sort(f))_.push(`|<i class="${p(h)}"></i>|${h.id}|`);return _.join(`
`)}}const r=new t;u.Registry.add(e.Extensions.IconContribution,r);function l(c,f,p,_){return r.registerIcon(c,f,p,_)}e.registerIcon=l;function d(){return r}e.getIconRegistry=d;function a(){for(const c of C.Codicon.getAll())r.registerIcon(c.id,c.definition,c.description)}a(),e.iconsSchemaId="vscode://schemas/icons";const s=u.Registry.as(v.Extensions.JSONContribution);s.registerSchema(e.iconsSchemaId,r.getIconSchema());const o=new w.RunOnceScheduler(()=>s.notifySchemaChanged(e.iconsSchemaId),200);r.onDidChange(()=>{o.isScheduled()||o.schedule()}),e.widgetClose=l("widget-close",C.Codicon.close,(0,b.localize)(2,null)),e.gotoPreviousLocation=l("goto-previous-location",C.Codicon.arrowUp,(0,b.localize)(3,null)),e.gotoNextLocation=l("goto-next-location",C.Codicon.arrowDown,(0,b.localize)(4,null)),e.syncing=g.ThemeIcon.modify(C.Codicon.sync,"spin"),e.spinningLoading=g.ThemeIcon.modify(C.Codicon.loading,"spin")}),define(re[731],ae([1,0,527,7,33,83,75,43,2,65,12,29,36,82,11,54,114,74,16,25,15,27,80,37,369]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f,p,_){"use strict";var m;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffReview=void 0;const h=3;class S{constructor(P,B,W,V){this.originalLineStart=P,this.originalLineEnd=B,this.modifiedLineStart=W,this.modifiedLineEnd=V}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class y{constructor(P){this.entries=P}}const E=(0,p.registerIcon)("diff-review-insert",f.Codicon.add,w.localize(0,null)),N=(0,p.registerIcon)("diff-review-remove",f.Codicon.remove,w.localize(1,null)),T=(0,p.registerIcon)("diff-review-close",f.Codicon.close,w.localize(2,null));let R=class It extends v.Disposable{constructor(P,B){super();this._languageService=B,this._width=0,this._diffEditor=P,this._isVisible=!1,this.shadow=(0,k.createFastDomNode)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,k.createFastDomNode)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new I.ActionBar(this.actionBarContainer.domNode)),this._actionBar.push(new b.Action("diffreview.close",w.localize(3,null),"close-diff-review "+c.ThemeIcon.asClassName(T),!0,()=>Se(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,k.createFastDomNode)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new L.DomScrollableElement(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(P.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(P.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(C.addStandardDisposableListener(this.domNode.domNode,"click",W=>{W.preventDefault();const V=C.findParentWithClass(W.target,"diff-review-row");V&&this._goToRow(V)})),this._register(C.addStandardDisposableListener(this.domNode.domNode,"keydown",W=>{(W.equals(18)||W.equals(2048|18)||W.equals(512|18))&&(W.preventDefault(),this._goToRow(this._getNextRow())),(W.equals(16)||W.equals(2048|16)||W.equals(512|16))&&(W.preventDefault(),this._goToRow(this._getPrevRow())),(W.equals(9)||W.equals(2048|9)||W.equals(512|9)||W.equals(1024|9))&&(W.preventDefault(),this.hide()),(W.equals(10)||W.equals(3))&&(W.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let P=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let W=-1;for(let V=0,A=this._diffs.length;V<A;V++)if(this._diffs[V]===this._currentDiff){W=V;break}P=this._diffs.length+W-1}else P=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;P=P%this._diffs.length;const B=this._diffs[P].entries;this._diffEditor.setPosition(new r.Position(B[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:B[0].modifiedLineStart,endColumn:1073741824,endLineNumber:B[B.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let P=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let W=-1;for(let V=0,A=this._diffs.length;V<A;V++)if(this._diffs[V]===this._currentDiff){W=V;break}P=W+1}else P=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;P=P%this._diffs.length;const B=this._diffs[P].entries;this._diffEditor.setPosition(new r.Position(B[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:B[0].modifiedLineStart,endColumn:1073741824,endLineNumber:B[B.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let P=-1;const B=this._getCurrentFocusedRow();if(B){const W=parseInt(B.getAttribute("data-line"),10);isNaN(W)||(P=W)}this.hide(),P!==-1&&(this._diffEditor.setPosition(new r.Position(P,1)),this._diffEditor.revealPosition(new r.Position(P,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const P=this._getCurrentFocusedRow();return P?P.previousElementSibling?P.previousElementSibling:P:this._getFirstRow()}_getNextRow(){const P=this._getCurrentFocusedRow();return P?P.nextElementSibling?P.nextElementSibling:P:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const P=document.activeElement;return P&&/diff-review-row/.test(P.className)?P:null}_goToRow(P){const B=this._getCurrentFocusedRow();P.tabIndex=0,P.focus(),B&&B!==P&&(B.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(P,B,W){this._width=B,this.shadow.setTop(P-6),this.shadow.setWidth(B),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(P),this.domNode.setWidth(B),this.domNode.setHeight(W),this._content.setHeight(W),this._content.setWidth(B),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const P=this._diffEditor.getLineChanges();if(!P||P.length===0)return[];const B=this._diffEditor.getOriginalEditor().getModel(),W=this._diffEditor.getModifiedEditor().getModel();return!B||!W?[]:It._mergeAdjacent(P,B.getLineCount(),W.getLineCount())}static _mergeAdjacent(P,B,W){if(!P||P.length===0)return[];const V=[];let A=0;for(let q=0,Z=P.length;q<Z;q++){const ie=P[q],Y=ie.originalStartLineNumber,te=ie.originalEndLineNumber,de=ie.modifiedStartLineNumber,x=ie.modifiedEndLineNumber,oe=[];let ne=0;{const j=te===0?Y:Y-1,se=x===0?de:de-1;let z=1,X=1;if(q>0){const K=P[q-1];K.originalEndLineNumber===0?z=K.originalStartLineNumber+1:z=K.originalEndLineNumber+1,K.modifiedEndLineNumber===0?X=K.modifiedStartLineNumber+1:X=K.modifiedEndLineNumber+1}let G=j-h+1,U=se-h+1;if(G<z){const K=z-G;G=G+K,U=U+K}if(U<X){const K=X-U;G=G+K,U=U+K}oe[ne++]=new S(G,j,U,se)}te!==0&&(oe[ne++]=new S(Y,te,0,0)),x!==0&&(oe[ne++]=new S(0,0,de,x));{const j=te===0?Y+1:te+1,se=x===0?de+1:x+1;let z=B,X=W;if(q+1<Z){const K=P[q+1];K.originalEndLineNumber===0?z=K.originalStartLineNumber:z=K.originalStartLineNumber-1,K.modifiedEndLineNumber===0?X=K.modifiedStartLineNumber:X=K.modifiedStartLineNumber-1}let G=j+h-1,U=se+h-1;if(G>z){const K=z-G;G=G+K,U=U+K}if(U>X){const K=X-U;G=G+K,U=U+K}oe[ne++]=new S(j,G,se,U)}V[A++]=new y(oe)}let Q=V[0].entries;const J=[];let H=0;for(let q=1,Z=V.length;q<Z;q++){const ie=V[q].entries,Y=Q[Q.length-1],te=ie[0];if(Y.getType()===0&&te.getType()===0&&te.originalLineStart<=Y.originalLineEnd){Q[Q.length-1]=new S(Y.originalLineStart,te.originalLineEnd,Y.modifiedLineStart,te.modifiedLineEnd),Q=Q.concat(ie.slice(1));continue}J[H++]=new y(Q),Q=ie}return J[H++]=new y(Q),J}_findDiffIndex(P){const B=P.lineNumber;for(let W=0,V=this._diffs.length;W<V;W++){const A=this._diffs[W].entries,Q=A[A.length-1].modifiedLineEnd;if(B<=Q)return W}return 0}_render(){const P=this._diffEditor.getOriginalEditor().getOptions(),B=this._diffEditor.getModifiedEditor().getOptions(),W=this._diffEditor.getOriginalEditor().getModel(),V=this._diffEditor.getModifiedEditor().getModel(),A=W.getOptions(),Q=V.getOptions();if(!this._isVisible||!W||!V){C.clearNode(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const J=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[J]===this._currentDiff)return;this._currentDiff=this._diffs[J];const H=this._diffs[J].entries,q=document.createElement("div");q.className="diff-review-table",q.setAttribute("role","list"),q.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,u.applyFontInfo)(q,B.get(46));let Z=0,ie=0,Y=0,te=0;for(let U=0,K=H.length;U<K;U++){const ce=H[U],ee=ce.originalLineStart,ue=ce.originalLineEnd,fe=ce.modifiedLineStart,Ce=ce.modifiedLineEnd;ee!==0&&(Z===0||ee<Z)&&(Z=ee),ue!==0&&(ie===0||ue>ie)&&(ie=ue),fe!==0&&(Y===0||fe<Y)&&(Y=fe),Ce!==0&&(te===0||Ce>te)&&(te=Ce)}const de=document.createElement("div");de.className="diff-review-row";const x=document.createElement("div");x.className="diff-review-cell diff-review-summary";const oe=ie-Z+1,ne=te-Y+1;x.appendChild(document.createTextNode(`${J+1}/${this._diffs.length}: @@ -${Z},${oe} +${Y},${ne} @@`)),de.setAttribute("data-line",String(Y));const j=U=>U===0?w.localize(4,null):U===1?w.localize(5,null):w.localize(6,null,U),se=j(oe),z=j(ne);de.setAttribute("aria-label",w.localize(7,null,J+1,this._diffs.length,Z,se,Y,z)),de.appendChild(x),de.setAttribute("role","listitem"),q.appendChild(de);const X=B.get(61);let G=Y;for(let U=0,K=H.length;U<K;U++){const ce=H[U];It._renderSection(q,ce,G,X,this._width,P,W,A,B,V,Q,this._languageService.languageIdCodec),ce.modifiedLineStart!==0&&(G=ce.modifiedLineEnd)}C.clearNode(this._content.domNode),this._content.domNode.appendChild(q),this.scrollbar.scanDomNode()}static _renderSection(P,B,W,V,A,Q,J,H,q,Z,ie,Y){const te=B.getType();let de="diff-review-row",x="";const oe="diff-review-spacer";let ne=null;switch(te){case 1:de="diff-review-row line-insert",x=" char-insert",ne=E;break;case 2:de="diff-review-row line-delete",x=" char-delete",ne=N;break}const j=B.originalLineStart,se=B.originalLineEnd,z=B.modifiedLineStart,X=B.modifiedLineEnd,G=Math.max(X-z,se-j),U=Q.get(133),K=U.glyphMarginWidth+U.lineNumbersWidth,ce=q.get(133),ee=10+ce.glyphMarginWidth+ce.lineNumbersWidth;for(let ue=0;ue<=G;ue++){const fe=j===0?0:j+ue,Ce=z===0?0:z+ue,we=document.createElement("div");we.style.minWidth=A+"px",we.className=de,we.setAttribute("role","listitem"),Ce!==0&&(W=Ce),we.setAttribute("data-line",String(W));const ye=document.createElement("div");ye.className="diff-review-cell",ye.style.height=`${V}px`,we.appendChild(ye);const De=document.createElement("span");De.style.width=K+"px",De.style.minWidth=K+"px",De.className="diff-review-line-number"+x,fe!==0?De.appendChild(document.createTextNode(String(fe))):De.innerText="\xA0",ye.appendChild(De);const Me=document.createElement("span");Me.style.width=ee+"px",Me.style.minWidth=ee+"px",Me.style.paddingRight="10px",Me.className="diff-review-line-number"+x,Ce!==0?Me.appendChild(document.createTextNode(String(Ce))):Me.innerText="\xA0",ye.appendChild(Me);const pe=document.createElement("span");if(pe.className=oe,ne){const ge=document.createElement("span");ge.className=c.ThemeIcon.asClassName(ne),ge.innerText="\xA0\xA0",pe.appendChild(ge)}else pe.innerText="\xA0\xA0";ye.appendChild(pe);let he;if(Ce!==0){let ge=this._renderLine(Z,q,ie.tabSize,Ce,Y);It._ttPolicy&&(ge=It._ttPolicy.createHTML(ge)),ye.insertAdjacentHTML("beforeend",ge),he=Z.getLineContent(Ce)}else{let ge=this._renderLine(J,Q,H.tabSize,fe,Y);It._ttPolicy&&(ge=It._ttPolicy.createHTML(ge)),ye.insertAdjacentHTML("beforeend",ge),he=J.getLineContent(fe)}he.length===0&&(he=w.localize(8,null));let le="";switch(te){case 0:fe===Ce?le=w.localize(9,null,he,fe):le=w.localize(10,null,he,fe,Ce);break;case 1:le=w.localize(11,null,he,Ce);break;case 2:le=w.localize(12,null,he,fe);break}we.setAttribute("aria-label",le),P.appendChild(we)}}static _renderLine(P,B,W,V,A){const Q=P.getLineContent(V),J=B.get(46),H=t.LineTokens.createEmpty(Q,A),q=a.ViewLineRenderingData.isBasicASCII(Q,P.mightContainNonBasicASCII()),Z=a.ViewLineRenderingData.containsRTL(Q,q,P.mightContainRTL());return(0,d.renderViewLine2)(new d.RenderLineInput(J.isMonospace&&!B.get(29),J.canUseHalfwidthRightwardsArrow,Q,!1,q,Z,0,H,[],W,0,J.spaceWidth,J.middotWidth,J.wsmiddotWidth,B.get(107),B.get(90),B.get(85),B.get(47)!==i.EditorFontLigatures.OFF,null)).html}};R._ttPolicy=(m=window.trustedTypes)===null||m===void 0?void 0:m.createPolicy("diffReview",{createHTML:M=>M}),R=ke([me(1,_.ILanguageService)],R),e.DiffReview=R,(0,c.registerThemingParticipant)((M,P)=>{const B=M.getColor(l.editorLineNumbers);B&&P.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${B}; }`);const W=M.getColor(o.scrollbarShadow);W&&P.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${W} 0 -6px 6px -6px inset; }`)});class F extends g.EditorAction{constructor(){super({id:"editor.action.diffReview.next",label:w.localize(13,null),alias:"Go to Next Difference",precondition:s.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(P,B){const W=D(P);W&&W.diffReviewNext()}}class O extends g.EditorAction{constructor(){super({id:"editor.action.diffReview.prev",label:w.localize(14,null),alias:"Go to Previous Difference",precondition:s.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1024|65,weight:100}})}run(P,B){const W=D(P);W&&W.diffReviewPrev()}}function D(M){const P=M.get(n.ICodeEditorService),B=P.listDiffEditors(),W=P.getActiveCodeEditor();if(!W)return null;for(let V=0,A=B.length;V<A;V++){const Q=B[V];if(Q.getModifiedEditor().getId()===W.getId()||Q.getOriginalEditor().getId()===W.getId())return Q}return null}(0,g.registerEditorAction)(F),(0,g.registerEditorAction)(O)}),define(re[732],ae([1,0,7,49,75,27,6,2,8,19,37,20,117,631,210,586,16,45,25,80,56,15,386]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorHoverWidgetHighlightForeground=e.ParameterHintsWidget=void 0;const p=w.$,_=(0,o.registerIcon)("parameter-hints-next",I.Codicon.chevronDown,l.localize(0,null)),m=(0,o.registerIcon)("parameter-hints-previous",I.Codicon.chevronUp,l.localize(1,null));let h=class zi extends b.Disposable{constructor(y,E,N,T,R){super();this.editor=y,this.renderDisposeables=this._register(new b.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new i.MarkdownRenderer({editor:y},T,N)),this.model=this._register(new t.ParameterHintsModel(y,R.signatureHelpProvider)),this.keyVisible=r.Context.Visible.bindTo(E),this.keyMultipleSignatures=r.Context.MultipleSignatures.bindTo(E),this._register(this.model.onChangedHints(F=>{F?(this.show(),this.render(F)):this.hide()}))}createParameterHintDOMNodes(){const y=p(".editor-widget.parameter-hints-widget"),E=w.append(y,p(".phwrapper"));E.tabIndex=-1;const N=w.append(E,p(".controls")),T=w.append(N,p(".button"+f.ThemeIcon.asCSSSelector(m))),R=w.append(N,p(".overloads")),F=w.append(N,p(".button"+f.ThemeIcon.asCSSSelector(_)));this._register(w.addDisposableListener(T,"click",W=>{w.EventHelper.stop(W),this.previous()})),this._register(w.addDisposableListener(F,"click",W=>{w.EventHelper.stop(W),this.next()}));const O=p(".body"),D=new k.DomScrollableElement(O,{alwaysConsumeMouseWheel:!0});this._register(D),E.appendChild(D.getDomNode());const M=w.append(O,p(".signature")),P=w.append(O,p(".docs"));y.style.userSelect="text",this.domNodes={element:y,signature:M,overloads:R,docs:P,scrollbar:D},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(W=>{this.visible&&this.editor.layoutContentWidget(this)}));const B=()=>{if(!this.domNodes)return;const W=this.editor.getOption(46);this.domNodes.element.style.fontSize=`${W.fontSize}px`,this.domNodes.element.style.lineHeight=`${W.lineHeight/W.fontSize}`};B(),this._register(L.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(W=>W.hasChanged(46)).on(B,null)),this._register(this.editor.onDidLayoutChange(W=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var y;(y=this.domNodes)===null||y===void 0||y.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var y;this.renderDisposeables.clear(),!!this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(y=this.domNodes)===null||y===void 0||y.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(y){var E;if(this.renderDisposeables.clear(),!this.domNodes)return;const N=y.signatures.length>1;this.domNodes.element.classList.toggle("multiple",N),this.keyMultipleSignatures.set(N),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const T=y.signatures[y.activeSignature];if(!T)return;const R=w.append(this.domNodes.signature,p(".code")),F=this.editor.getOption(46);R.style.fontSize=`${F.fontSize}px`,R.style.fontFamily=F.fontFamily;const O=T.parameters.length>0,D=(E=T.activeParameter)!==null&&E!==void 0?E:y.activeParameter;if(O)this.renderParameters(R,T,D);else{const B=w.append(R,p("span"));B.textContent=T.label}const M=T.parameters[D];if(M==null?void 0:M.documentation){const B=p("span.documentation");if(typeof M.documentation=="string")B.textContent=M.documentation;else{const W=this.renderMarkdownDocs(M.documentation);B.appendChild(W.element)}w.append(this.domNodes.docs,p("p",{},B))}if(T.documentation!==void 0)if(typeof T.documentation=="string")w.append(this.domNodes.docs,p("p",{},T.documentation));else{const B=this.renderMarkdownDocs(T.documentation);w.append(this.domNodes.docs,B.element)}const P=this.hasDocs(T,M);if(this.domNodes.signature.classList.toggle("has-docs",P),this.domNodes.docs.classList.toggle("empty",!P),this.domNodes.overloads.textContent=String(y.activeSignature+1).padStart(y.signatures.length.toString().length,"0")+"/"+y.signatures.length,M){let B="";const W=T.parameters[D];Array.isArray(W.label)?B=T.label.substring(W.label[0],W.label[1]):B=W.label,W.documentation&&(B+=typeof W.documentation=="string"?`, ${W.documentation}`:`, ${W.documentation.value}`),T.documentation&&(B+=typeof T.documentation=="string"?`, ${T.documentation}`:`, ${T.documentation.value}`),this.announcedLabel!==B&&(C.alert(l.localize(2,null,B)),this.announcedLabel=B)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(y){const E=this.renderDisposeables.add(this.markdownRenderer.render(y,{asyncRenderCallback:()=>{var N;(N=this.domNodes)===null||N===void 0||N.scrollbar.scanDomNode()}}));return E.element.classList.add("markdown-docs"),E}hasDocs(y,E){return!!(E&&typeof E.documentation=="string"&&(0,u.assertIsDefined)(E.documentation).length>0||E&&typeof E.documentation=="object"&&(0,u.assertIsDefined)(E.documentation).value.length>0||y.documentation&&typeof y.documentation=="string"&&(0,u.assertIsDefined)(y.documentation).length>0||y.documentation&&typeof y.documentation=="object"&&(0,u.assertIsDefined)(y.documentation.value).length>0)}renderParameters(y,E,N){const[T,R]=this.getParameterLabelOffsets(E,N),F=document.createElement("span");F.textContent=E.label.substring(0,T);const O=document.createElement("span");O.textContent=E.label.substring(T,R),O.className="parameter active";const D=document.createElement("span");D.textContent=E.label.substring(R),w.append(y,F,O,D)}getParameterLabelOffsets(y,E){const N=y.parameters[E];if(N){if(Array.isArray(N.label))return N.label;if(N.label.length){const T=new RegExp(`(\\W|^)${(0,v.escapeRegExpCharacters)(N.label)}(?=\\W|$)`,"g");T.test(y.label);const R=T.lastIndex-N.label.length;return R>=0?[R,T.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return zi.ID}trigger(y){this.model.trigger(y,0)}updateMaxHeight(){if(!this.domNodes)return;const E=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=E;const N=this.domNodes.element.getElementsByClassName("phwrapper");N.length&&(N[0].style.maxHeight=E)}};h.ID="editor.widget.parameterHintsWidget",h=ke([me(1,d.IContextKeyService),me(2,a.IOpenerService),me(3,g.ILanguageService),me(4,n.ILanguageFeaturesService)],h),e.ParameterHintsWidget=h,e.editorHoverWidgetHighlightForeground=(0,s.registerColor)("editorHoverWidget.highlightForeground",{dark:s.listHighlightForeground,light:s.listHighlightForeground,hcDark:s.listHighlightForeground,hcLight:s.listHighlightForeground},l.localize(3,null)),(0,f.registerThemingParticipant)((S,y)=>{const E=S.getColor(s.editorHoverBorder);if(E){const M=(0,c.isHighContrast)(S.type)?2:1;y.addRule(`.monaco-editor .parameter-hints-widget { border: ${M}px solid ${E}; }`),y.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${E.transparent(.5)}; }`),y.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${E.transparent(.5)}; }`)}const N=S.getColor(s.editorHoverBackground);N&&y.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${N}; }`);const T=S.getColor(s.textLinkForeground);T&&y.addRule(`.monaco-editor .parameter-hints-widget a { color: ${T}; }`);const R=S.getColor(s.textLinkActiveForeground);R&&y.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${R}; }`);const F=S.getColor(s.editorHoverForeground);F&&y.addRule(`.monaco-editor .parameter-hints-widget { color: ${F}; }`);const O=S.getColor(s.textCodeBlockBackground);O&&y.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${O}; }`);const D=S.getColor(e.editorHoverWidgetHighlightForeground);D&&y.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${D}}`)})}),define(re[733],ae([1,0,2,12,24,28,210,585,16,9,732]),function($,e,w,C,k,I,L,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=void 0;let n=class Vi extends w.Disposable{constructor(d,a){super();this.editor=d,this.widget=this._register(a.createInstance(g.ParameterHintsWidget,this.editor))}static get(d){return d.getContribution(Vi.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(d){this.widget.trigger(d)}};n.ID="editor.controller.parameterHints",n=ke([me(1,u.IInstantiationService)],n);class i extends C.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:b.localize(0,null),alias:"Trigger Parameter Hints",precondition:k.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:k.EditorContextKeys.editorTextFocus,primary:2048|1024|10,weight:100}})}run(d,a){const s=n.get(a);s&&s.trigger({triggerKind:I.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=i,(0,C.registerEditorContribution)(n.ID,n),(0,C.registerEditorAction)(i);const t=100+75,r=C.EditorCommand.bindToContribution(n.get);(0,C.registerEditorCommand)(new r({id:"closeParameterHints",precondition:L.Context.Visible,handler:l=>l.cancel(),kbOpts:{weight:t,kbExpr:k.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,C.registerEditorCommand)(new r({id:"showPrevParameterHint",precondition:v.ContextKeyExpr.and(L.Context.Visible,L.Context.MultipleSignatures),handler:l=>l.previous(),kbOpts:{weight:t,kbExpr:k.EditorContextKeys.focus,primary:16,secondary:[512|16],mac:{primary:16,secondary:[512|16,256|46]}}})),(0,C.registerEditorCommand)(new r({id:"showNextParameterHint",precondition:v.ContextKeyExpr.and(L.Context.Visible,L.Context.MultipleSignatures),handler:l=>l.next(),kbOpts:{weight:t,kbExpr:k.EditorContextKeys.focus,primary:18,secondary:[512|18],mac:{primary:18,secondary:[512|18,256|44]}}}))}),define(re[734],ae([1,0,7,197,27,6,63,2,22,28,651,50,37,600,280,80,15,292]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=e.suggestMoreInfoIcon=e.getAriaId=void 0;function o(_){return`suggest-aria-id:${_}`}e.getAriaId=o,e.suggestMoreInfoIcon=(0,l.registerIcon)("suggest-more-info",k.Codicon.chevronRight,t.localize(0,null));const c=new(s=class qt{extract(m,h){if(m.textLabel.match(qt._regexStrict))return h[0]=m.textLabel,!0;if(m.completion.detail&&m.completion.detail.match(qt._regexStrict))return h[0]=m.completion.detail,!0;if(typeof m.completion.documentation=="string"){const S=qt._regexRelaxed.exec(m.completion.documentation);if(S&&(S.index===0||S.index+S[0].length===m.completion.documentation.length))return h[0]=S[0],!0}return!1}},s._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,s._regexStrict=new RegExp(`^${s._regexRelaxed.source}$`,"i"),s);let f=class{constructor(m,h,S,y){this._editor=m,this._modelService=h,this._languageService=S,this._themeService=y,this._onDidToggleDetails=new I.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(m){const h=Object.create(null);h.disposables=new b.DisposableStore,h.root=m,h.root.classList.add("show-file-icons"),h.icon=(0,w.append)(m,(0,w.$)(".icon")),h.colorspan=(0,w.append)(h.icon,(0,w.$)("span.colorspan"));const S=(0,w.append)(m,(0,w.$)(".contents")),y=(0,w.append)(S,(0,w.$)(".main"));h.iconContainer=(0,w.append)(y,(0,w.$)(".icon-label.codicon")),h.left=(0,w.append)(y,(0,w.$)("span.left")),h.right=(0,w.append)(y,(0,w.$)("span.right")),h.iconLabel=new C.IconLabel(h.left,{supportHighlights:!0,supportIcons:!0}),h.disposables.add(h.iconLabel),h.parametersLabel=(0,w.append)(h.left,(0,w.$)("span.signature-label")),h.qualifierLabel=(0,w.append)(h.left,(0,w.$)("span.qualifier-label")),h.detailsLabel=(0,w.append)(h.right,(0,w.$)("span.details-label")),h.readMore=(0,w.append)(h.right,(0,w.$)("span.readMore"+d.ThemeIcon.asCSSSelector(e.suggestMoreInfoIcon))),h.readMore.title=t.localize(1,null);const E=()=>{const N=this._editor.getOptions(),T=N.get(46),R=T.getMassagedFontFamily(),F=T.fontFeatureSettings,O=N.get(109)||T.fontSize,D=N.get(110)||T.lineHeight,M=T.fontWeight,P=T.letterSpacing,B=`${O}px`,W=`${D}px`,V=`${P}px`;h.root.style.fontSize=B,h.root.style.fontWeight=M,h.root.style.letterSpacing=V,y.style.fontFamily=R,y.style.fontFeatureSettings=F,y.style.lineHeight=W,h.icon.style.height=W,h.icon.style.width=W,h.readMore.style.height=W,h.readMore.style.width=W};return E(),h.disposables.add(this._editor.onDidChangeConfiguration(N=>{(N.hasChanged(46)||N.hasChanged(109)||N.hasChanged(110))&&E()})),h}renderElement(m,h,S){const{completion:y}=m;S.root.id=o(h),S.colorspan.style.backgroundColor="";const E={labelEscapeNewLines:!0,matches:(0,L.createMatches)(m.score)},N=[];if(y.kind===19&&c.extract(m,N))S.icon.className="icon customcolor",S.iconContainer.className="icon hide",S.colorspan.style.backgroundColor=N[0];else if(y.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){S.icon.className="icon hide",S.iconContainer.className="icon hide";const T=(0,g.getIconClasses)(this._modelService,this._languageService,v.URI.from({scheme:"fake",path:m.textLabel}),r.FileKind.FILE),R=(0,g.getIconClasses)(this._modelService,this._languageService,v.URI.from({scheme:"fake",path:y.detail}),r.FileKind.FILE);E.extraClasses=T.length>R.length?T:R}else y.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(S.icon.className="icon hide",S.iconContainer.className="icon hide",E.extraClasses=[(0,g.getIconClasses)(this._modelService,this._languageService,v.URI.from({scheme:"fake",path:m.textLabel}),r.FileKind.FOLDER),(0,g.getIconClasses)(this._modelService,this._languageService,v.URI.from({scheme:"fake",path:y.detail}),r.FileKind.FOLDER)].flat()):(S.icon.className="icon hide",S.iconContainer.className="",S.iconContainer.classList.add("suggest-icon",...k.CSSIcon.asClassNameArray(u.CompletionItemKinds.toIcon(y.kind))));y.tags&&y.tags.indexOf(1)>=0&&(E.extraClasses=(E.extraClasses||[]).concat(["deprecated"]),E.matches=[]),S.iconLabel.setLabel(m.textLabel,void 0,E),typeof y.label=="string"?(S.parametersLabel.textContent="",S.detailsLabel.textContent=p(y.detail||""),S.root.classList.add("string-label")):(S.parametersLabel.textContent=p(y.label.detail||""),S.detailsLabel.textContent=p(y.label.description||""),S.root.classList.remove("string-label")),this._editor.getOption(108).showInlineDetails?(0,w.show)(S.detailsLabel):(0,w.hide)(S.detailsLabel),(0,a.canExpandCompletionItem)(m)?(S.right.classList.add("can-expand-details"),(0,w.show)(S.readMore),S.readMore.onmousedown=T=>{T.stopPropagation(),T.preventDefault()},S.readMore.onclick=T=>{T.stopPropagation(),T.preventDefault(),this._onDidToggleDetails.fire()}):(S.right.classList.remove("can-expand-details"),(0,w.hide)(S.readMore),S.readMore.onmousedown=null,S.readMore.onclick=null)}disposeTemplate(m){m.disposables.dispose()}};f=ke([me(1,n.IModelService),me(2,i.ILanguageService),me(3,d.IThemeService)],f),e.ItemRenderer=f;function p(_){return _.replace(/\r\n|\r|\n/g,"")}}),define(re[735],ae([1,0,7,83,43,2,117,9,727,80,15,391]),function($,e,w,C,k,I,L,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BannerController=void 0;const n=26;let i=class extends I.Disposable{constructor(l,d){super();this._editor=l,this.instantiationService=d,this.banner=this._register(this.instantiationService.createInstance(t))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(l){this.banner.show(Object.assign(Object.assign({},l),{onClose:()=>{var d;this.hide(),(d=l.onClose)===null||d===void 0||d.call(l)}})),this._editor.setBanner(this.banner.element,n)}};i=ke([me(1,b.IInstantiationService)],i),e.BannerController=i;let t=class extends I.Disposable{constructor(l){super();this.instantiationService=l,this.markdownRenderer=this.instantiationService.createInstance(L.MarkdownRenderer,{}),this.element=(0,w.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(l){if(l.ariaLabel)return l.ariaLabel;if(typeof l.message=="string")return l.message}getBannerMessage(l){if(typeof l=="string"){const d=(0,w.$)("span");return d.innerText=l,d}return this.markdownRenderer.render(l).element}clear(){(0,w.clearNode)(this.element)}show(l){(0,w.clearNode)(this.element);const d=this.getAriaLabel(l);d&&this.element.setAttribute("aria-label",d);const a=(0,w.append)(this.element,(0,w.$)("div.icon-container"));a.setAttribute("aria-hidden","true"),l.icon&&a.appendChild((0,w.$)(`div${g.ThemeIcon.asCSSSelector(l.icon)}`));const s=(0,w.append)(this.element,(0,w.$)("div.message-container"));if(s.setAttribute("aria-hidden","true"),s.appendChild(this.getBannerMessage(l.message)),this.messageActionsContainer=(0,w.append)(this.element,(0,w.$)("div.message-actions-container")),l.actions)for(const c of l.actions)this._register(this.instantiationService.createInstance(v.Link,this.messageActionsContainer,Object.assign(Object.assign({},c),{tabIndex:-1}),{}));const o=(0,w.append)(this.element,(0,w.$)("div.action-container"));this.actionBar=this._register(new C.ActionBar(o)),this.actionBar.push(this._register(new k.Action("banner.close","Close Banner",g.ThemeIcon.asClassName(u.widgetClose),!0,()=>{typeof l.onClose=="function"&&l.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};t=ke([me(0,b.IInstantiationService)],t)}),define(re[736],ae([1,0,7,6,80,15]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnthemedProductIconTheme=e.getIconsStyleSheet=void 0;function L(v){const u=new C.Emitter,g=(0,k.getIconRegistry)();return g.onDidChange(()=>u.fire()),v==null||v.onDidProductIconThemeChange(()=>u.fire()),{onDidChange:u.event,getCSS(){const n=v?v.getProductIconTheme():new b,i={},t=l=>{const d=n.getIcon(l);if(!d)return;const a=d.font;return a?(i[a.id]=a.definition,`.codicon-${l.id}:before { content: '${d.fontCharacter}'; font-family: ${(0,w.asCSSPropertyValue)(a.id)}; }`):`.codicon-${l.id}:before { content: '${d.fontCharacter}'; }`},r=[];for(const l of g.getIcons()){const d=t(l);d&&r.push(d)}for(const l in i){const d=i[l],a=d.weight?`font-weight: ${d.weight};`:"",s=d.style?`font-style: ${d.style};`:"",o=d.src.map(c=>`${(0,w.asCSSUrl)(c.location)} format('${c.format}')`).join(", ");r.push(`@font-face { src: ${o}; font-family: ${(0,w.asCSSPropertyValue)(l)};${a}${s} font-display: block; }`)}return r.join(`
`)}}}e.getIconsStyleSheet=L;class b{getIcon(u){const g=(0,k.getIconRegistry)();let n=u.defaults;for(;I.ThemeIcon.isThemeIcon(n);){const i=g.getIcon(n.id);if(!i)return;n=i.defaults}return n}}e.UnthemedProductIconTheme=b}),define(re[309],ae([1,0,7,41,31,6,28,109,420,689,34,25,15,2,56,736]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeService=e.HC_LIGHT_THEME_NAME=e.HC_BLACK_THEME_NAME=e.VS_DARK_THEME_NAME=e.VS_LIGHT_THEME_NAME=void 0,e.VS_LIGHT_THEME_NAME="vs",e.VS_DARK_THEME_NAME="vs-dark",e.HC_BLACK_THEME_NAME="hc-black",e.HC_LIGHT_THEME_NAME="hc-light";const d=g.Registry.as(n.Extensions.ColorContribution),a=g.Registry.as(i.Extensions.ThemingContribution);class s{constructor(m,h){this.semanticHighlighting=!1,this.themeData=h;const S=h.base;m.length>0?(o(m)?this.id=m:this.id=S+" "+m,this.themeName=m):(this.id=S,this.themeName=S),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const m=new Map;for(const h in this.themeData.colors)m.set(h,k.Color.fromHex(this.themeData.colors[h]));if(this.themeData.inherit){const h=c(this.themeData.base);for(const S in h.colors)m.has(S)||m.set(S,k.Color.fromHex(h.colors[S]))}this.colors=m}return this.colors}getColor(m,h){const S=this.getColors().get(m);if(S)return S;if(h!==!1)return this.getDefault(m)}getDefault(m){let h=this.defaultColors[m];return h||(h=d.resolveDefaultColor(m,this),this.defaultColors[m]=h,h)}defines(m){return Object.prototype.hasOwnProperty.call(this.getColors(),m)}get type(){switch(this.base){case e.VS_LIGHT_THEME_NAME:return r.ColorScheme.LIGHT;case e.HC_BLACK_THEME_NAME:return r.ColorScheme.HIGH_CONTRAST_DARK;case e.HC_LIGHT_THEME_NAME:return r.ColorScheme.HIGH_CONTRAST_LIGHT;default:return r.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let m=[],h=[];if(this.themeData.inherit){const E=c(this.themeData.base);m=E.rules,E.encodedTokensColors&&(h=E.encodedTokensColors)}const S=this.themeData.colors["editor.foreground"],y=this.themeData.colors["editor.background"];if(S||y){const E={token:""};S&&(E.foreground=S),y&&(E.background=y),m.push(E)}m=m.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(h=this.themeData.encodedTokensColors),this._tokenTheme=v.TokenTheme.createFromRawTokenTheme(m,h)}return this._tokenTheme}getTokenStyleMetadata(m,h,S){const E=this.tokenTheme._match([m].concat(h).join(".")).metadata,N=b.TokenMetadata.getForeground(E),T=b.TokenMetadata.getFontStyle(E);return{foreground:N,italic:Boolean(T&1),bold:Boolean(T&2),underline:Boolean(T&4),strikethrough:Boolean(T&8)}}}function o(_){return _===e.VS_LIGHT_THEME_NAME||_===e.VS_DARK_THEME_NAME||_===e.HC_BLACK_THEME_NAME||_===e.HC_LIGHT_THEME_NAME}function c(_){switch(_){case e.VS_LIGHT_THEME_NAME:return u.vs;case e.VS_DARK_THEME_NAME:return u.vs_dark;case e.HC_BLACK_THEME_NAME:return u.hc_black;case e.HC_LIGHT_THEME_NAME:return u.hc_light}}function f(_){const m=c(_);return new s(_,m)}class p extends t.Disposable{constructor(){super();this._onColorThemeChange=this._register(new I.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new I.Emitter),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new l.UnthemedProductIconTheme,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(e.VS_LIGHT_THEME_NAME,f(e.VS_LIGHT_THEME_NAME)),this._knownThemes.set(e.VS_DARK_THEME_NAME,f(e.VS_DARK_THEME_NAME)),this._knownThemes.set(e.HC_BLACK_THEME_NAME,f(e.HC_BLACK_THEME_NAME)),this._knownThemes.set(e.HC_LIGHT_THEME_NAME,f(e.HC_LIGHT_THEME_NAME));const m=(0,l.getIconsStyleSheet)(this);this._codiconCSS=m.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(e.VS_LIGHT_THEME_NAME),this._onOSSchemeChanged(),m.onDidChange(()=>{this._codiconCSS=m.getCSS(),this._updateCSS()}),(0,C.addMatchMediaChangeListener)("(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(m){return w.isInShadowDOM(m)?this._registerShadowDomContainer(m):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=w.createStyleSheet(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),t.Disposable.None}_registerShadowDomContainer(m){const h=w.createStyleSheet(m);return h.className="monaco-colors",h.textContent=this._allCSS,this._styleElements.push(h),{dispose:()=>{for(let S=0;S<this._styleElements.length;S++)if(this._styleElements[S]===h){this._styleElements.splice(S,1);return}}}}defineTheme(m,h){if(!/^[a-z0-9\-]+$/i.test(m))throw new Error("Illegal theme name!");if(!o(h.base)&&!o(m))throw new Error("Illegal theme base!");this._knownThemes.set(m,new s(m,h)),o(m)&&this._knownThemes.forEach(S=>{S.base===m&&S.notifyBaseUpdated()}),this._theme.themeName===m&&this.setTheme(m)}getColorTheme(){return this._theme}setColorMapOverride(m){this._colorMapOverride=m,this._updateThemeOrColorMap()}setTheme(m){let h;this._knownThemes.has(m)?h=this._knownThemes.get(m):h=this._knownThemes.get(e.VS_LIGHT_THEME_NAME),this._updateActualTheme(h)}_updateActualTheme(m){!m||this._theme===m||(this._theme=m,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const m=window.matchMedia("(forced-colors: active)").matches;if(m!==(0,r.isHighContrast)(this._theme.type)){let h;(0,r.isDark)(this._theme.type)?h=m?e.HC_BLACK_THEME_NAME:e.VS_DARK_THEME_NAME:h=m?e.HC_LIGHT_THEME_NAME:e.VS_LIGHT_THEME_NAME,this._updateActualTheme(this._knownThemes.get(h))}}}setAutoDetectHighContrast(m){this._autoDetectHighContrast=m,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const m=[],h={},S={addRule:N=>{h[N]||(m.push(N),h[N]=!0)}};a.getThemingParticipants().forEach(N=>N(this._theme,S,this._environment));const y=[];for(const N of d.getColors()){const T=this._theme.getColor(N.id,!0);T&&y.push(`${(0,n.asCssVariableName)(N.id)}: ${T.toString()};`)}S.addRule(`.monaco-editor { ${y.join(`
`)} }`);const E=this._colorMapOverride||this._theme.tokenTheme.getColorMap();S.addRule((0,v.generateTokensCSSForColorMap)(E)),this._themeCSS=m.join(`
`),this._updateCSS(),L.TokenizationRegistry.setColorMap(E),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(m=>m.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}e.StandaloneThemeService=p}),define(re[737],ae([1,0,12,115,76,56,309]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class b extends w.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:k.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0});this._originalThemeName=null}run(u,g){const n=u.get(C.IStandaloneThemeService),i=n.getColorTheme();(0,I.isHighContrast)(i.type)?(n.setTheme(this._originalThemeName||((0,I.isDark)(i.type)?L.VS_DARK_THEME_NAME:L.VS_LIGHT_THEME_NAME)),this._originalThemeName=null):(n.setTheme((0,I.isDark)(i.type)?L.HC_BLACK_THEME_NAME:L.HC_LIGHT_THEME_NAME),this._originalThemeName=i.themeName)}}(0,w.registerEditorAction)(b)}),define(re[172],ae([1,0,9]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=(0,w.createDecorator)("undoRedoService");class C{constructor(b,v){this.resource=b,this.elements=v}}e.ResourceEditStackSnapshot=C;class k{constructor(){this.id=k._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=k,k._ID=0,k.None=new k;class I{constructor(){this.id=I._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=I,I._ID=0,I.None=new I}),define(re[35],ae([1,0,18,31,14,6,2,8,22,126,179,11,3,23,153,37,32,46,507,680,279,243,424,425,271,508,158,512,99,172]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f,p,_,m,h,S,y,E,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DidChangeContentEmitter=e.DidChangeDecorationsEmitter=e.ModelDecorationOptions=e.ModelDecorationInjectedTextOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationOverviewRulerOptions=e.TextModel=e.LONG_LINE_BOUNDARY=e.createTextBuffer=e.createTextBufferFactoryFromSnapshot=e.createTextBufferFactory=void 0;function T(ne){const j=new h.PieceTreeTextBufferBuilder;return j.acceptChunk(ne),j.finish()}e.createTextBufferFactory=T;function R(ne){const j=new h.PieceTreeTextBufferBuilder;let se;for(;typeof(se=ne.read())=="string";)j.acceptChunk(se);return j.finish()}e.createTextBufferFactoryFromSnapshot=R;function F(ne,j){let se;return typeof ne=="string"?se=T(ne):a.isITextSnapshot(ne)?se=R(ne):se=ne,se.create(j)}e.createTextBuffer=F;let O=0;const D=999;e.LONG_LINE_BOUNDARY=1e4;class M{constructor(j){this._source=j,this._eos=!1}read(){if(this._eos)return null;const j=[];let se=0,z=0;do{const X=this._source.read();if(X===null)return this._eos=!0,se===0?null:j.join("");if(X.length>0&&(j[se++]=X,z+=X.length),z>=64*1024)return j.join("")}while(!0)}}const P=()=>{throw new Error("Invalid change accessor")};let B=class Ot extends L.Disposable{constructor(j,se,z,X=null,G,U,K){super();this._undoRedoService=G,this._languageService=U,this._languageConfigurationService=K,this._onWillDispose=this._register(new I.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new x(Ce=>this.handleBeforeFireDecorationsChangedEvent(Ce))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new I.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new I.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new I.Emitter),this._eventEmitter=this._register(new oe),this._deltaDecorationCallCnt=0,O++,this.id="$model"+O,this.isForSimpleWidget=z.isForSimpleWidget,typeof X=="undefined"||X===null?this._associatedResource=v.URI.parse("inmemory://model/"+O):this._associatedResource=X,this._attachedEditorCount=0;const{textBuffer:ce,disposable:ee}=F(j,z.defaultEOL);this._buffer=ce,this._bufferDisposable=ee,this._options=Ot.resolveOptions(this._buffer,z),this._bracketPairs=this._register(new s.BracketPairsTextModelPart(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new f.GuidesTextModelPart(this,this._languageConfigurationService)),this._decorationProvider=this._register(new o.ColorizedBracketPairsDecorationProvider(this)),this._tokenizationTextModelPart=new y.TokenizationTextModelPart(this._languageService,this._languageConfigurationService,this,this._bracketPairs,se);const ue=this._buffer.getLineCount(),fe=this._buffer.getValueLengthInRange(new i.Range(1,1,ue,this._buffer.getLineLength(ue)+1),0);z.largeFileOptimizations?this._isTooLargeForTokenization=fe>Ot.LARGE_FILE_SIZE_THRESHOLD||ue>Ot.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=fe>Ot.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=b.singleLetterHash(O),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Q,this._commandManager=new c.EditStack(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(j,se){if(se.detectIndentation){const z=(0,p.guessIndentation)(j,se.tabSize,se.insertSpaces);return new a.TextModelResolvedOptions({tabSize:z.tabSize,indentSize:z.tabSize,insertSpaces:z.insertSpaces,trimAutoWhitespace:se.trimAutoWhitespace,defaultEOL:se.defaultEOL,bracketPairColorizationOptions:se.bracketPairColorizationOptions})}return new a.TextModelResolvedOptions({tabSize:se.tabSize,indentSize:se.indentSize,insertSpaces:se.insertSpaces,trimAutoWhitespace:se.trimAutoWhitespace,defaultEOL:se.defaultEOL,bracketPairColorizationOptions:se.bracketPairColorizationOptions})}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(j){return this._eventEmitter.slowEvent(se=>j(se.contentChangedEvent))}onDidChangeContentOrInjectedText(j){return(0,L.combinedDisposable)(this._eventEmitter.fastEvent(se=>j(se)),this._onDidChangeInjectedText.event(se=>j(se)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const j=new m.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);j.dispose(),this._buffer=j,this._bufferDisposable=L.Disposable.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(j,se){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(se),this._bracketPairs.handleDidChangeContent(se),this._eventEmitter.fire(new E.InternalModelContentChangeEvent(j,se)))}setValue(j){if(this._assertNotDisposed(),j===null)return;const{textBuffer:se,disposable:z}=F(j,this._options.defaultEOL);this._setValueFromTextBuffer(se,z)}_createContentChanged2(j,se,z,X,G,U,K){return{changes:[{range:j,rangeOffset:se,rangeLength:z,text:X}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:G,isRedoing:U,isFlush:K}}_setValueFromTextBuffer(j,se){this._assertNotDisposed();const z=this.getFullModelRange(),X=this.getValueLengthInRange(z),G=this.getLineCount(),U=this.getLineMaxColumn(G);this._buffer=j,this._bufferDisposable.dispose(),this._bufferDisposable=se,this._increaseVersionId(),this._tokenizationTextModelPart.flush(),this._decorations=Object.create(null),this._decorationsTree=new Q,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new E.ModelRawContentChangedEvent([new E.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,G,U),0,X,this.getValue(),!1,!1,!0))}setEOL(j){this._assertNotDisposed();const se=j===1?`\r
`:`
`;if(this._buffer.getEOL()===se)return;const z=this.getFullModelRange(),X=this.getValueLengthInRange(z),G=this.getLineCount(),U=this.getLineMaxColumn(G);this._onBeforeEOLChange(),this._buffer.setEOL(se),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new E.ModelRawContentChangedEvent([new E.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,G,U),0,X,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const j=this.getVersionId(),se=this._decorationsTree.collectNodesPostOrder();for(let z=0,X=se.length;z<X;z++){const G=se[z],U=G.range,K=G.cachedAbsoluteStart-G.start,ce=this._buffer.getOffsetAt(U.startLineNumber,U.startColumn),ee=this._buffer.getOffsetAt(U.endLineNumber,U.endColumn);G.cachedAbsoluteStart=ce,G.cachedAbsoluteEnd=ee,G.cachedVersionId=j,G.start=ce-K,G.end=ee-K,(0,_.recomputeMaxEnd)(G)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let j=0,se=0;const z=this._buffer.getLineCount();for(let X=1;X<=z;X++){const G=this._buffer.getLineLength(X);G>=e.LONG_LINE_BOUNDARY?se+=G:j+=G}return se>j}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(j){this._assertNotDisposed();const se=typeof j.tabSize!="undefined"?j.tabSize:this._options.tabSize,z=typeof j.indentSize!="undefined"?j.indentSize:this._options.indentSize,X=typeof j.insertSpaces!="undefined"?j.insertSpaces:this._options.insertSpaces,G=typeof j.trimAutoWhitespace!="undefined"?j.trimAutoWhitespace:this._options.trimAutoWhitespace,U=typeof j.bracketColorizationOptions!="undefined"?j.bracketColorizationOptions:this._options.bracketPairColorizationOptions,K=new a.TextModelResolvedOptions({tabSize:se,indentSize:z,insertSpaces:X,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:G,bracketPairColorizationOptions:U});if(this._options.equals(K))return;const ce=this._options.createChangeEvent(K);this._options=K,this._bracketPairs.handleDidChangeOptions(ce),this._decorationProvider.handleDidChangeOptions(ce),this._onDidChangeOptions.fire(ce)}detectIndentation(j,se){this._assertNotDisposed();const z=(0,p.guessIndentation)(this._buffer,se,j);this.updateOptions({insertSpaces:z.insertSpaces,tabSize:z.tabSize,indentSize:z.tabSize})}normalizeIndentation(j){return this._assertNotDisposed(),(0,g.normalizeIndentation)(j,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(j=null){const se=this.findMatches(b.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(j,se.map(z=>({range:z.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(j){this._assertNotDisposed();const se=this._validatePosition(j.lineNumber,j.column,0);return this._buffer.getOffsetAt(se.lineNumber,se.column)}getPositionAt(j){this._assertNotDisposed();const se=Math.min(this._buffer.getLength(),Math.max(0,j));return this._buffer.getPositionAt(se)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(j){this._versionId=j}_overwriteAlternativeVersionId(j){this._alternativeVersionId=j}_overwriteInitialUndoRedoSnapshot(j){this._initialUndoRedoSnapshot=j}getValue(j,se=!1){this._assertNotDisposed();const z=this.getFullModelRange(),X=this.getValueInRange(z,j);return se?this._buffer.getBOM()+X:X}createSnapshot(j=!1){return new M(this._buffer.createSnapshot(j))}getValueLength(j,se=!1){this._assertNotDisposed();const z=this.getFullModelRange(),X=this.getValueLengthInRange(z,j);return se?this._buffer.getBOM().length+X:X}getValueInRange(j,se=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(j),se)}getValueLengthInRange(j,se=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(j),se)}getCharacterCountInRange(j,se=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(j),se)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(j){if(this._assertNotDisposed(),j<1||j>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(j)}getLineLength(j){if(this._assertNotDisposed(),j<1||j>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(j)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(j){return this._assertNotDisposed(),1}getLineMaxColumn(j){if(this._assertNotDisposed(),j<1||j>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(j)+1}getLineFirstNonWhitespaceColumn(j){if(this._assertNotDisposed(),j<1||j>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(j)}getLineLastNonWhitespaceColumn(j){if(this._assertNotDisposed(),j<1||j>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(j)}_validateRangeRelaxedNoAllocations(j){const se=this._buffer.getLineCount(),z=j.startLineNumber,X=j.startColumn;let G=Math.floor(typeof z=="number"&&!isNaN(z)?z:1),U=Math.floor(typeof X=="number"&&!isNaN(X)?X:1);if(G<1)G=1,U=1;else if(G>se)G=se,U=this.getLineMaxColumn(G);else if(U<=1)U=1;else{const fe=this.getLineMaxColumn(G);U>=fe&&(U=fe)}const K=j.endLineNumber,ce=j.endColumn;let ee=Math.floor(typeof K=="number"&&!isNaN(K)?K:1),ue=Math.floor(typeof ce=="number"&&!isNaN(ce)?ce:1);if(ee<1)ee=1,ue=1;else if(ee>se)ee=se,ue=this.getLineMaxColumn(ee);else if(ue<=1)ue=1;else{const fe=this.getLineMaxColumn(ee);ue>=fe&&(ue=fe)}return z===G&&X===U&&K===ee&&ce===ue&&j instanceof i.Range&&!(j instanceof t.Selection)?j:new i.Range(G,U,ee,ue)}_isValidPosition(j,se,z){if(typeof j!="number"||typeof se!="number"||isNaN(j)||isNaN(se)||j<1||se<1||(j|0)!==j||(se|0)!==se)return!1;const X=this._buffer.getLineCount();if(j>X)return!1;if(se===1)return!0;const G=this.getLineMaxColumn(j);if(se>G)return!1;if(z===1){const U=this._buffer.getLineCharCode(j,se-2);if(b.isHighSurrogate(U))return!1}return!0}_validatePosition(j,se,z){const X=Math.floor(typeof j=="number"&&!isNaN(j)?j:1),G=Math.floor(typeof se=="number"&&!isNaN(se)?se:1),U=this._buffer.getLineCount();if(X<1)return new n.Position(1,1);if(X>U)return new n.Position(U,this.getLineMaxColumn(U));if(G<=1)return new n.Position(X,1);const K=this.getLineMaxColumn(X);if(G>=K)return new n.Position(X,K);if(z===1){const ce=this._buffer.getLineCharCode(X,G-2);if(b.isHighSurrogate(ce))return new n.Position(X,G-1)}return new n.Position(X,G)}validatePosition(j){const se=1;return this._assertNotDisposed(),j instanceof n.Position&&this._isValidPosition(j.lineNumber,j.column,se)?j:this._validatePosition(j.lineNumber,j.column,se)}_isValidRange(j,se){const z=j.startLineNumber,X=j.startColumn,G=j.endLineNumber,U=j.endColumn;if(!this._isValidPosition(z,X,0)||!this._isValidPosition(G,U,0))return!1;if(se===1){const K=X>1?this._buffer.getLineCharCode(z,X-2):0,ce=U>1&&U<=this._buffer.getLineLength(G)?this._buffer.getLineCharCode(G,U-2):0,ee=b.isHighSurrogate(K),ue=b.isHighSurrogate(ce);return!ee&&!ue}return!0}validateRange(j){const se=1;if(this._assertNotDisposed(),j instanceof i.Range&&!(j instanceof t.Selection)&&this._isValidRange(j,se))return j;const z=this._validatePosition(j.startLineNumber,j.startColumn,0),X=this._validatePosition(j.endLineNumber,j.endColumn,0),G=z.lineNumber,U=z.column,K=X.lineNumber,ce=X.column;if(se===1){const ee=U>1?this._buffer.getLineCharCode(G,U-2):0,ue=ce>1&&ce<=this._buffer.getLineLength(K)?this._buffer.getLineCharCode(K,ce-2):0,fe=b.isHighSurrogate(ee),Ce=b.isHighSurrogate(ue);return!fe&&!Ce?new i.Range(G,U,K,ce):G===K&&U===ce?new i.Range(G,U-1,K,ce-1):fe&&Ce?new i.Range(G,U-1,K,ce+1):fe?new i.Range(G,U-1,K,ce):new i.Range(G,U,K,ce+1)}return new i.Range(G,U,K,ce)}modifyPosition(j,se){this._assertNotDisposed();const z=this.getOffsetAt(j)+se;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,z)))}getFullModelRange(){this._assertNotDisposed();const j=this.getLineCount();return new i.Range(1,1,j,this.getLineMaxColumn(j))}findMatchesLineByLine(j,se,z,X){return this._buffer.findMatchesLineByLine(j,se,z,X)}findMatches(j,se,z,X,G,U,K=D){this._assertNotDisposed();let ce=null;se!==null&&(Array.isArray(se)||(se=[se]),se.every(fe=>i.Range.isIRange(fe))&&(ce=se.map(fe=>this.validateRange(fe)))),ce===null&&(ce=[this.getFullModelRange()]),ce=ce.sort((fe,Ce)=>fe.startLineNumber-Ce.startLineNumber||fe.startColumn-Ce.startColumn);const ee=[];ee.push(ce.reduce((fe,Ce)=>i.Range.areIntersecting(fe,Ce)?fe.plusRange(Ce):(ee.push(fe),Ce)));let ue;if(!z&&j.indexOf(`
`)<0){const Ce=new S.SearchParams(j,z,X,G).parseSearchRequest();if(!Ce)return[];ue=we=>this.findMatchesLineByLine(we,Ce,U,K)}else ue=fe=>S.TextModelSearch.findMatches(this,new S.SearchParams(j,z,X,G),fe,U,K);return ee.map(ue).reduce((fe,Ce)=>fe.concat(Ce),[])}findNextMatch(j,se,z,X,G,U){this._assertNotDisposed();const K=this.validatePosition(se);if(!z&&j.indexOf(`
`)<0){const ee=new S.SearchParams(j,z,X,G).parseSearchRequest();if(!ee)return null;const ue=this.getLineCount();let fe=new i.Range(K.lineNumber,K.column,ue,this.getLineMaxColumn(ue)),Ce=this.findMatchesLineByLine(fe,ee,U,1);return S.TextModelSearch.findNextMatch(this,new S.SearchParams(j,z,X,G),K,U),Ce.length>0||(fe=new i.Range(1,1,K.lineNumber,this.getLineMaxColumn(K.lineNumber)),Ce=this.findMatchesLineByLine(fe,ee,U,1),Ce.length>0)?Ce[0]:null}return S.TextModelSearch.findNextMatch(this,new S.SearchParams(j,z,X,G),K,U)}findPreviousMatch(j,se,z,X,G,U){this._assertNotDisposed();const K=this.validatePosition(se);return S.TextModelSearch.findPreviousMatch(this,new S.SearchParams(j,z,X,G),K,U)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(j){if((this.getEOL()===`
`?0:1)!==j)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(j)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(j){return j instanceof a.ValidAnnotatedEditOperation?j:new a.ValidAnnotatedEditOperation(j.identifier||null,this.validateRange(j.range),j.text,j.forceMoveMarkers||!1,j.isAutoWhitespaceEdit||!1,j._isTracked||!1)}_validateEditOperations(j){const se=[];for(let z=0,X=j.length;z<X;z++)se[z]=this._validateEditOperation(j[z]);return se}pushEditOperations(j,se,z){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(j,this._validateEditOperations(se),z)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(j,se,z){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const X=se.map(U=>({range:this.validateRange(U.range),text:U.text}));let G=!0;if(j)for(let U=0,K=j.length;U<K;U++){const ce=j[U];let ee=!1;for(let ue=0,fe=X.length;ue<fe;ue++){const Ce=X[ue].range,we=Ce.startLineNumber>ce.endLineNumber,ye=ce.startLineNumber>Ce.endLineNumber;if(!we&&!ye){ee=!0;break}}if(!ee){G=!1;break}}if(G)for(let U=0,K=this._trimAutoWhitespaceLines.length;U<K;U++){const ce=this._trimAutoWhitespaceLines[U],ee=this.getLineMaxColumn(ce);let ue=!0;for(let fe=0,Ce=X.length;fe<Ce;fe++){const we=X[fe].range,ye=X[fe].text;if(!(ce<we.startLineNumber||ce>we.endLineNumber)&&!(ce===we.startLineNumber&&we.startColumn===ee&&we.isEmpty()&&ye&&ye.length>0&&ye.charAt(0)===`
`)&&!(ce===we.startLineNumber&&we.startColumn===1&&we.isEmpty()&&ye&&ye.length>0&&ye.charAt(ye.length-1)===`
`)){ue=!1;break}}if(ue){const fe=new i.Range(ce,1,ce,ee);se.push(new a.ValidAnnotatedEditOperation(null,fe,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(j,se,z)}_applyUndo(j,se,z,X){const G=j.map(U=>{const K=this.getPositionAt(U.newPosition),ce=this.getPositionAt(U.newEnd);return{range:new i.Range(K.lineNumber,K.column,ce.lineNumber,ce.column),text:U.oldText}});this._applyUndoRedoEdits(G,se,!0,!1,z,X)}_applyRedo(j,se,z,X){const G=j.map(U=>{const K=this.getPositionAt(U.oldPosition),ce=this.getPositionAt(U.oldEnd);return{range:new i.Range(K.lineNumber,K.column,ce.lineNumber,ce.column),text:U.newText}});this._applyUndoRedoEdits(G,se,!1,!0,z,X)}_applyUndoRedoEdits(j,se,z,X,G,U){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=z,this._isRedoing=X,this.applyEdits(j,!1),this.setEOL(se),this._overwriteAlternativeVersionId(G)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(U),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(j,se=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const z=this._validateEditOperations(j);return this._doApplyEdits(z,se)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(j,se){const z=this._buffer.getLineCount(),X=this._buffer.applyEdits(j,this._options.trimAutoWhitespace,se),G=this._buffer.getLineCount(),U=X.changes;if(this._trimAutoWhitespaceLines=X.trimAutoWhitespaceLineNumbers,U.length!==0){for(let ee=0,ue=U.length;ee<ue;ee++){const fe=U[ee],[Ce,we,ye]=(0,u.countEOL)(fe.text);this._tokenizationTextModelPart.acceptEdit(fe.range,fe.text,Ce,we,ye),this._decorationsTree.acceptReplace(fe.rangeOffset,fe.rangeLength,fe.text.length,fe.forceMoveMarkers)}const K=[];this._increaseVersionId();let ce=z;for(let ee=0,ue=U.length;ee<ue;ee++){const fe=U[ee],[Ce]=(0,u.countEOL)(fe.text);this._onDidChangeDecorations.fire();const we=fe.range.startLineNumber,ye=fe.range.endLineNumber,De=ye-we,Me=Ce,pe=Math.min(De,Me),he=Me-De,le=G-ce-he+we,ge=le,_e=le+Me,Le=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new n.Position(ge,1)),this.getOffsetAt(new n.Position(_e,this.getLineMaxColumn(_e))),0),Ie=E.LineInjectedText.fromDecorations(Le),Ae=new w.ArrayQueue(Ie);for(let Oe=pe;Oe>=0;Oe--){const be=we+Oe,ve=le+Oe;Ae.takeFromEndWhile(Re=>Re.lineNumber>ve);const Ee=Ae.takeFromEndWhile(Re=>Re.lineNumber===ve);K.push(new E.ModelRawLineChanged(be,this.getLineContent(ve),Ee))}if(pe<De){const Oe=we+pe;K.push(new E.ModelRawLinesDeleted(Oe+1,ye))}if(pe<Me){const Oe=new w.ArrayQueue(Ie),be=we+pe,ve=Me-pe,Ee=G-ce-ve+be+1,Re=[],Te=[];for(let Be=0;Be<ve;Be++){const xe=Ee+Be;Te[Be]=this.getLineContent(xe),Oe.takeWhile(qe=>qe.lineNumber<xe),Re[Be]=Oe.takeWhile(qe=>qe.lineNumber===xe)}K.push(new E.ModelRawLinesInserted(be+1,we+Me,Te,Re))}ce+=he}this._emitContentChangedEvent(new E.ModelRawContentChangedEvent(K,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:U,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return X.reverseEdits===null?void 0:X.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(j){if(j===null||j.size===0)return;const z=Array.from(j).map(X=>new E.ModelRawLineChanged(X,this.getLineContent(X),this._getInjectedTextInLine(X)));this._onDidChangeInjectedText.fire(new E.ModelInjectedTextChangedEvent(z))}changeDecorations(j,se=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(se,j)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(j,se){const z={addDecoration:(G,U)=>this._deltaDecorationsImpl(j,[],[{range:G,options:U}])[0],changeDecoration:(G,U)=>{this._changeDecorationImpl(G,U)},changeDecorationOptions:(G,U)=>{this._changeDecorationOptionsImpl(G,de(U))},removeDecoration:G=>{this._deltaDecorationsImpl(j,[G],[])},deltaDecorations:(G,U)=>G.length===0&&U.length===0?[]:this._deltaDecorationsImpl(j,G,U)};let X=null;try{X=se(z)}catch(G){(0,k.onUnexpectedError)(G)}return z.addDecoration=P,z.changeDecoration=P,z.changeDecorationOptions=P,z.removeDecoration=P,z.deltaDecorations=P,X}deltaDecorations(j,se,z=0){if(this._assertNotDisposed(),j||(j=[]),j.length===0&&se.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,k.onUnexpectedError)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(z,j,se)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(j){return this.getDecorationRange(j)}_setTrackedRange(j,se,z){const X=j?this._decorations[j]:null;if(!X)return se?this._deltaDecorationsImpl(0,[],[{range:se,options:te[z]}])[0]:null;if(!se)return this._decorationsTree.delete(X),delete this._decorations[X.id],null;const G=this._validateRangeRelaxedNoAllocations(se),U=this._buffer.getOffsetAt(G.startLineNumber,G.startColumn),K=this._buffer.getOffsetAt(G.endLineNumber,G.endColumn);return this._decorationsTree.delete(X),X.reset(this.getVersionId(),U,K,G),X.setOptions(te[z]),this._decorationsTree.insert(X),X.id}removeAllDecorationsWithOwnerId(j){if(this._isDisposed)return;const se=this._decorationsTree.collectNodesFromOwner(j);for(let z=0,X=se.length;z<X;z++){const G=se[z];this._decorationsTree.delete(G),delete this._decorations[G.id]}}getDecorationOptions(j){const se=this._decorations[j];return se?se.options:null}getDecorationRange(j){const se=this._decorations[j];return se?this._decorationsTree.getNodeRange(this,se):null}getLineDecorations(j,se=0,z=!1){return j<1||j>this.getLineCount()?[]:this.getLinesDecorations(j,j,se,z)}getLinesDecorations(j,se,z=0,X=!1){const G=this.getLineCount(),U=Math.min(G,Math.max(1,j)),K=Math.min(G,Math.max(1,se)),ce=this.getLineMaxColumn(K),ee=new i.Range(U,1,K,ce),ue=this._getDecorationsInRange(ee,z,X);return(0,w.pushMany)(ue,this._decorationProvider.getDecorationsInRange(ee,z,X)),ue}getDecorationsInRange(j,se=0,z=!1){const X=this.validateRange(j),G=this._getDecorationsInRange(X,se,z);return(0,w.pushMany)(G,this._decorationProvider.getDecorationsInRange(X,se,z)),G}getOverviewRulerDecorations(j=0,se=!1){return this._decorationsTree.getAll(this,j,se,!0)}getInjectedTextDecorations(j=0){return this._decorationsTree.getAllInjectedText(this,j)}_getInjectedTextInLine(j){const se=this._buffer.getOffsetAt(j,1),z=se+this._buffer.getLineLength(j),X=this._decorationsTree.getInjectedTextInInterval(this,se,z,0);return E.LineInjectedText.fromDecorations(X).filter(G=>G.lineNumber===j)}getAllDecorations(j=0,se=!1){let z=this._decorationsTree.getAll(this,j,se,!1);return z=z.concat(this._decorationProvider.getAllDecorations(j,se)),z}_getDecorationsInRange(j,se,z){const X=this._buffer.getOffsetAt(j.startLineNumber,j.startColumn),G=this._buffer.getOffsetAt(j.endLineNumber,j.endColumn);return this._decorationsTree.getAllInInterval(this,X,G,se,z)}getRangeAt(j,se){return this._buffer.getRangeAt(j,se-j)}_changeDecorationImpl(j,se){const z=this._decorations[j];if(!z)return;if(z.options.after){const K=this.getDecorationRange(j);this._onDidChangeDecorations.recordLineAffectedByInjectedText(K.endLineNumber)}if(z.options.before){const K=this.getDecorationRange(j);this._onDidChangeDecorations.recordLineAffectedByInjectedText(K.startLineNumber)}const X=this._validateRangeRelaxedNoAllocations(se),G=this._buffer.getOffsetAt(X.startLineNumber,X.startColumn),U=this._buffer.getOffsetAt(X.endLineNumber,X.endColumn);this._decorationsTree.delete(z),z.reset(this.getVersionId(),G,U,X),this._decorationsTree.insert(z),this._onDidChangeDecorations.checkAffectedAndFire(z.options),z.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(X.endLineNumber),z.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(X.startLineNumber)}_changeDecorationOptionsImpl(j,se){const z=this._decorations[j];if(!z)return;const X=!!(z.options.overviewRuler&&z.options.overviewRuler.color),G=!!(se.overviewRuler&&se.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(z.options),this._onDidChangeDecorations.checkAffectedAndFire(se),z.options.after||se.after){const U=this._decorationsTree.getNodeRange(this,z);this._onDidChangeDecorations.recordLineAffectedByInjectedText(U.endLineNumber)}if(z.options.before||se.before){const U=this._decorationsTree.getNodeRange(this,z);this._onDidChangeDecorations.recordLineAffectedByInjectedText(U.startLineNumber)}X!==G?(this._decorationsTree.delete(z),z.setOptions(se),this._decorationsTree.insert(z)):z.setOptions(se)}_deltaDecorationsImpl(j,se,z){const X=this.getVersionId(),G=se.length;let U=0;const K=z.length;let ce=0;const ee=new Array(K);for(;U<G||ce<K;){let ue=null;if(U<G){do ue=this._decorations[se[U++]];while(!ue&&U<G);if(ue){if(ue.options.after){const fe=this._decorationsTree.getNodeRange(this,ue);this._onDidChangeDecorations.recordLineAffectedByInjectedText(fe.endLineNumber)}if(ue.options.before){const fe=this._decorationsTree.getNodeRange(this,ue);this._onDidChangeDecorations.recordLineAffectedByInjectedText(fe.startLineNumber)}this._decorationsTree.delete(ue),this._onDidChangeDecorations.checkAffectedAndFire(ue.options)}}if(ce<K){if(!ue){const Me=++this._lastDecorationId,pe=`${this._instanceId};${Me}`;ue=new _.IntervalNode(pe,0,0),this._decorations[pe]=ue}const fe=z[ce],Ce=this._validateRangeRelaxedNoAllocations(fe.range),we=de(fe.options),ye=this._buffer.getOffsetAt(Ce.startLineNumber,Ce.startColumn),De=this._buffer.getOffsetAt(Ce.endLineNumber,Ce.endColumn);ue.ownerId=j,ue.reset(X,ye,De,Ce),ue.setOptions(we),ue.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ce.endLineNumber),ue.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ce.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(we),this._decorationsTree.insert(ue),ee[ce]=ue.id,ce++}else ue&&delete this._decorations[ue.id]}return ee}getLanguageId(){return this.tokenization.getLanguageId()}setMode(j){this.tokenization.setLanguageId(j)}getLanguageIdAtPosition(j,se){return this.tokenization.getLanguageIdAtPosition(j,se)}getWordAtPosition(j){return this._tokenizationTextModelPart.getWordAtPosition(j)}getWordUntilPosition(j){return this._tokenizationTextModelPart.getWordUntilPosition(j)}normalizePosition(j,se){return j}getLineIndentColumn(j){return W(this.getLineContent(j))+1}};B.MODEL_SYNC_LIMIT=50*1024*1024,B.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,B.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,B.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:r.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:r.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:r.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:r.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:r.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,bracketPairColorizationOptions:r.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions},B=ke([me(4,N.IUndoRedoService),me(5,l.ILanguageService),me(6,d.ILanguageConfigurationService)],B),e.TextModel=B;function W(ne){let j=0;for(const se of ne)if(se===" "||se==="	")j++;else break;return j}function V(ne){return!!(ne.options.overviewRuler&&ne.options.overviewRuler.color)}function A(ne){return!!ne.options.after||!!ne.options.before}class Q{constructor(){this._decorationsTree0=new _.IntervalTree,this._decorationsTree1=new _.IntervalTree,this._injectedTextDecorationsTree=new _.IntervalTree}ensureAllNodesHaveRanges(j){this.getAll(j,0,!1,!1)}_ensureNodesHaveRanges(j,se){for(const z of se)z.range===null&&(z.range=j.getRangeAt(z.cachedAbsoluteStart,z.cachedAbsoluteEnd));return se}getAllInInterval(j,se,z,X,G){const U=j.getVersionId(),K=this._intervalSearch(se,z,X,G,U);return this._ensureNodesHaveRanges(j,K)}_intervalSearch(j,se,z,X,G){const U=this._decorationsTree0.intervalSearch(j,se,z,X,G),K=this._decorationsTree1.intervalSearch(j,se,z,X,G),ce=this._injectedTextDecorationsTree.intervalSearch(j,se,z,X,G);return U.concat(K).concat(ce)}getInjectedTextInInterval(j,se,z,X){const G=j.getVersionId(),U=this._injectedTextDecorationsTree.intervalSearch(se,z,X,!1,G);return this._ensureNodesHaveRanges(j,U).filter(K=>K.options.showIfCollapsed||!K.range.isEmpty())}getAllInjectedText(j,se){const z=j.getVersionId(),X=this._injectedTextDecorationsTree.search(se,!1,z);return this._ensureNodesHaveRanges(j,X).filter(G=>G.options.showIfCollapsed||!G.range.isEmpty())}getAll(j,se,z,X){const G=j.getVersionId(),U=this._search(se,z,X,G);return this._ensureNodesHaveRanges(j,U)}_search(j,se,z,X){if(z)return this._decorationsTree1.search(j,se,X);{const G=this._decorationsTree0.search(j,se,X),U=this._decorationsTree1.search(j,se,X),K=this._injectedTextDecorationsTree.search(j,se,X);return G.concat(U).concat(K)}}collectNodesFromOwner(j){const se=this._decorationsTree0.collectNodesFromOwner(j),z=this._decorationsTree1.collectNodesFromOwner(j),X=this._injectedTextDecorationsTree.collectNodesFromOwner(j);return se.concat(z).concat(X)}collectNodesPostOrder(){const j=this._decorationsTree0.collectNodesPostOrder(),se=this._decorationsTree1.collectNodesPostOrder(),z=this._injectedTextDecorationsTree.collectNodesPostOrder();return j.concat(se).concat(z)}insert(j){A(j)?this._injectedTextDecorationsTree.insert(j):V(j)?this._decorationsTree1.insert(j):this._decorationsTree0.insert(j)}delete(j){A(j)?this._injectedTextDecorationsTree.delete(j):V(j)?this._decorationsTree1.delete(j):this._decorationsTree0.delete(j)}getNodeRange(j,se){const z=j.getVersionId();return se.cachedVersionId!==z&&this._resolveNode(se,z),se.range===null&&(se.range=j.getRangeAt(se.cachedAbsoluteStart,se.cachedAbsoluteEnd)),se.range}_resolveNode(j,se){A(j)?this._injectedTextDecorationsTree.resolveNode(j,se):V(j)?this._decorationsTree1.resolveNode(j,se):this._decorationsTree0.resolveNode(j,se)}acceptReplace(j,se,z,X){this._decorationsTree0.acceptReplace(j,se,z,X),this._decorationsTree1.acceptReplace(j,se,z,X),this._injectedTextDecorationsTree.acceptReplace(j,se,z,X)}}function J(ne){return ne.replace(/[^a-z0-9\-_]/gi," ")}class H{constructor(j){this.color=j.color||"",this.darkColor=j.darkColor||""}}class q extends H{constructor(j){super(j);this._resolvedColor=null,this.position=typeof j.position=="number"?j.position:a.OverviewRulerLane.Center}getColor(j){return this._resolvedColor||(j.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,j):this._resolvedColor=this._resolveColor(this.color,j)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(j,se){if(typeof j=="string")return j;const z=j?se.getColor(j.id):null;return z?z.toString():""}}e.ModelDecorationOverviewRulerOptions=q;class Z extends H{constructor(j){super(j);this.position=j.position}getColor(j){return this._resolvedColor||(j.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,j):this._resolvedColor=this._resolveColor(this.color,j)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(j,se){return typeof j=="string"?C.Color.fromHex(j):se.getColor(j.id)}}e.ModelDecorationMinimapOptions=Z;class ie{constructor(j){this.content=j.content||"",this.inlineClassName=j.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=j.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=j.attachedData||null,this.cursorStops=j.cursorStops||null}static from(j){return j instanceof ie?j:new ie(j)}}e.ModelDecorationInjectedTextOptions=ie;class Y{constructor(j){var se,z;this.description=j.description,this.blockClassName=j.blockClassName?J(j.blockClassName):null,this.stickiness=j.stickiness||0,this.zIndex=j.zIndex||0,this.className=j.className?J(j.className):null,this.hoverMessage=j.hoverMessage||null,this.glyphMarginHoverMessage=j.glyphMarginHoverMessage||null,this.isWholeLine=j.isWholeLine||!1,this.showIfCollapsed=j.showIfCollapsed||!1,this.collapseOnReplaceEdit=j.collapseOnReplaceEdit||!1,this.overviewRuler=j.overviewRuler?new q(j.overviewRuler):null,this.minimap=j.minimap?new Z(j.minimap):null,this.glyphMarginClassName=j.glyphMarginClassName?J(j.glyphMarginClassName):null,this.linesDecorationsClassName=j.linesDecorationsClassName?J(j.linesDecorationsClassName):null,this.firstLineDecorationClassName=j.firstLineDecorationClassName?J(j.firstLineDecorationClassName):null,this.marginClassName=j.marginClassName?J(j.marginClassName):null,this.inlineClassName=j.inlineClassName?J(j.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=j.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=j.beforeContentClassName?J(j.beforeContentClassName):null,this.afterContentClassName=j.afterContentClassName?J(j.afterContentClassName):null,this.after=j.after?ie.from(j.after):null,this.before=j.before?ie.from(j.before):null,this.hideInCommentTokens=(se=j.hideInCommentTokens)!==null&&se!==void 0?se:!1,this.hideInStringTokens=(z=j.hideInStringTokens)!==null&&z!==void 0?z:!1}static register(j){return new Y(j)}static createDynamic(j){return new Y(j)}}e.ModelDecorationOptions=Y,Y.EMPTY=Y.register({description:"empty"});const te=[Y.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Y.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Y.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Y.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function de(ne){return ne instanceof Y?ne:Y.createDynamic(ne)}class x extends L.Disposable{constructor(j){super();this.handleBeforeFire=j,this._actual=this._register(new I.Emitter),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var j;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const se={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(se)}(j=this._affectedInjectedTextLines)===null||j===void 0||j.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(j){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(j)}checkAffectedAndFire(j){this._affectsMinimap||(this._affectsMinimap=!!(j.minimap&&j.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(j.overviewRuler&&j.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}e.DidChangeDecorationsEmitter=x;class oe extends L.Disposable{constructor(){super();this._fastEmitter=this._register(new I.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new I.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(j=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=j;const se=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(se),this._slowEmitter.fire(se)}}fire(j){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(j):this._deferredEvent=j;return}this._fastEmitter.fire(j),this._slowEmitter.fire(j)}}e.DidChangeContentEmitter=oe}),define(re[310],ae([1,0,6,2,17,14,35,153,72,37,50,166,30,10,21,15,69,172,105,279,52,298,281,40,32,70,57,20]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f,p,_,m,h,S,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelSemanticColoring=e.isSemanticColoringEnabled=e.SEMANTIC_HIGHLIGHTING_SETTING_ID=e.ModelService=void 0;function E(V){return V.toString()}function N(V){const A=new s.StringSHA1,Q=V.createSnapshot();let J;for(;J=Q.read();)A.update(J);return A.digest()}class T{constructor(A,Q,J){this._modelEventListeners=new C.DisposableStore,this.model=A,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(A.onWillDispose(()=>Q(A))),this._modelEventListeners.add(A.onDidChangeLanguage(H=>J(A,H)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(A){this._disposeLanguageSelection(),this._languageSelection=A,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(A.languageId)),this.model.setMode(A.languageId)}}const R=k.isLinux||k.isMacintosh?1:2;class F{constructor(A,Q,J,H,q,Z,ie,Y){this.uri=A,this.initialUndoRedoSnapshot=Q,this.time=J,this.sharesUndoRedoStack=H,this.heapSize=q,this.sha1=Z,this.versionId=ie,this.alternativeVersionId=Y}}let O=class Ft extends C.Disposable{constructor(A,Q,J,H,q,Z,ie,Y,te){super();this._configurationService=A,this._resourcePropertiesService=Q,this._themeService=J,this._logService=H,this._undoRedoService=q,this._languageService=Z,this._languageConfigurationService=ie,this._languageFeatureDebounceService=Y,this._onModelAdded=this._register(new w.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new w.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new w.Emitter),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new P(this._themeService,this._languageService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new M(this._semanticStyling,this,this._themeService,this._configurationService,this._languageFeatureDebounceService,te))}static _readModelOptions(A,Q){var J;let H=b.EDITOR_MODEL_DEFAULTS.tabSize;if(A.editor&&typeof A.editor.tabSize!="undefined"){const ne=parseInt(A.editor.tabSize,10);isNaN(ne)||(H=ne),H<1&&(H=1)}let q=H;if(A.editor&&typeof A.editor.indentSize!="undefined"&&A.editor.indentSize!=="tabSize"){const ne=parseInt(A.editor.indentSize,10);isNaN(ne)||(q=ne),q<1&&(q=1)}let Z=b.EDITOR_MODEL_DEFAULTS.insertSpaces;A.editor&&typeof A.editor.insertSpaces!="undefined"&&(Z=A.editor.insertSpaces==="false"?!1:Boolean(A.editor.insertSpaces));let ie=R;const Y=A.eol;Y===`\r
`?ie=2:Y===`
`&&(ie=1);let te=b.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;A.editor&&typeof A.editor.trimAutoWhitespace!="undefined"&&(te=A.editor.trimAutoWhitespace==="false"?!1:Boolean(A.editor.trimAutoWhitespace));let de=b.EDITOR_MODEL_DEFAULTS.detectIndentation;A.editor&&typeof A.editor.detectIndentation!="undefined"&&(de=A.editor.detectIndentation==="false"?!1:Boolean(A.editor.detectIndentation));let x=b.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;A.editor&&typeof A.editor.largeFileOptimizations!="undefined"&&(x=A.editor.largeFileOptimizations==="false"?!1:Boolean(A.editor.largeFileOptimizations));let oe=b.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions;return((J=A.editor)===null||J===void 0?void 0:J.bracketPairColorization)&&typeof A.editor.bracketPairColorization=="object"&&(oe={enabled:!!A.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!A.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:Q,tabSize:H,indentSize:q,insertSpaces:Z,detectIndentation:de,defaultEOL:ie,trimAutoWhitespace:te,largeFileOptimizations:x,bracketPairColorizationOptions:oe}}_getEOL(A,Q){if(A)return this._resourcePropertiesService.getEOL(A,Q);const J=this._configurationService.getValue("files.eol",{overrideIdentifier:Q});return J&&typeof J=="string"&&J!=="auto"?J:k.OS===3||k.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const A=this._configurationService.getValue("files.restoreUndoStack");return typeof A=="boolean"?A:!0}getCreationOptions(A,Q,J){let H=this._modelCreationOptionsByLanguageAndResource[A+Q];if(!H){const q=this._configurationService.getValue("editor",{overrideIdentifier:A,resource:Q}),Z=this._getEOL(Q,A);H=Ft._readModelOptions({editor:q,eol:Z},J),this._modelCreationOptionsByLanguageAndResource[A+Q]=H}return H}_updateModelOptions(){const A=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const Q=Object.keys(this._models);for(let J=0,H=Q.length;J<H;J++){const q=Q[J],Z=this._models[q],ie=Z.model.getLanguageId(),Y=Z.model.uri,te=A[ie+Y],de=this.getCreationOptions(ie,Y,Z.model.isForSimpleWidget);Ft._setModelOptionsForModel(Z.model,de,te)}}static _setModelOptionsForModel(A,Q,J){J&&J.defaultEOL!==Q.defaultEOL&&A.getLineCount()===1&&A.setEOL(Q.defaultEOL===1?0:1),!(J&&J.detectIndentation===Q.detectIndentation&&J.insertSpaces===Q.insertSpaces&&J.tabSize===Q.tabSize&&J.indentSize===Q.indentSize&&J.trimAutoWhitespace===Q.trimAutoWhitespace&&(0,_.equals)(J.bracketPairColorizationOptions,Q.bracketPairColorizationOptions))&&(Q.detectIndentation?(A.detectIndentation(Q.insertSpaces,Q.tabSize),A.updateOptions({trimAutoWhitespace:Q.trimAutoWhitespace,bracketColorizationOptions:Q.bracketPairColorizationOptions})):A.updateOptions({insertSpaces:Q.insertSpaces,tabSize:Q.tabSize,indentSize:Q.indentSize,trimAutoWhitespace:Q.trimAutoWhitespace,bracketColorizationOptions:Q.bracketPairColorizationOptions}))}_insertDisposedModel(A){this._disposedModels.set(E(A.uri),A),this._disposedModelsHeapSize+=A.heapSize}_removeDisposedModel(A){const Q=this._disposedModels.get(E(A));return Q&&(this._disposedModelsHeapSize-=Q.heapSize),this._disposedModels.delete(E(A)),Q}_ensureDisposedModelsHeapSize(A){if(this._disposedModelsHeapSize>A){const Q=[];for(this._disposedModels.forEach(J=>{J.sharesUndoRedoStack||Q.push(J)}),Q.sort((J,H)=>J.time-H.time);Q.length>0&&this._disposedModelsHeapSize>A;){const J=Q.shift();this._removeDisposedModel(J.uri),J.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(J.initialUndoRedoSnapshot)}}}_createModelData(A,Q,J,H){const q=this.getCreationOptions(Q,J,H),Z=new L.TextModel(A,Q,q,J,this._undoRedoService,this._languageService,this._languageConfigurationService);if(J&&this._disposedModels.has(E(J))){const te=this._removeDisposedModel(J),de=this._undoRedoService.getElements(J),x=N(Z)===te.sha1;if(x||te.sharesUndoRedoStack){for(const oe of de.past)(0,o.isEditStackElement)(oe)&&oe.matchesResource(J)&&oe.setModel(Z);for(const oe of de.future)(0,o.isEditStackElement)(oe)&&oe.matchesResource(J)&&oe.setModel(Z);this._undoRedoService.setElementsValidFlag(J,!0,oe=>(0,o.isEditStackElement)(oe)&&oe.matchesResource(J)),x&&(Z._overwriteVersionId(te.versionId),Z._overwriteAlternativeVersionId(te.alternativeVersionId),Z._overwriteInitialUndoRedoSnapshot(te.initialUndoRedoSnapshot))}else te.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(te.initialUndoRedoSnapshot)}const ie=E(Z.uri);if(this._models[ie])throw new Error("ModelService: Cannot add model because it already exists!");const Y=new T(Z,te=>this._onWillDispose(te),(te,de)=>this._onDidChangeLanguage(te,de));return this._models[ie]=Y,Y}createModel(A,Q,J,H=!1){let q;return Q?(q=this._createModelData(A,Q.languageId,J,H),this.setMode(q.model,Q)):q=this._createModelData(A,v.PLAINTEXT_LANGUAGE_ID,J,H),this._onModelAdded.fire(q.model),q.model}setMode(A,Q){if(!Q)return;const J=this._models[E(A.uri)];!J||J.setLanguage(Q)}getModels(){const A=[],Q=Object.keys(this._models);for(let J=0,H=Q.length;J<H;J++){const q=Q[J];A.push(this._models[q].model)}return A}getModel(A){const Q=E(A),J=this._models[Q];return J?J.model:null}getSemanticTokensProviderStyling(A){return this._semanticStyling.get(A)}_schemaShouldMaintainUndoRedoElements(A){return A.scheme===c.Schemas.file||A.scheme===c.Schemas.vscodeRemote||A.scheme===c.Schemas.vscodeUserData||A.scheme===c.Schemas.vscodeNotebookCell||A.scheme==="fake-fs"}_onWillDispose(A){const Q=E(A.uri),J=this._models[Q],H=this._undoRedoService.getUriComparisonKey(A.uri)!==A.uri.toString();let q=!1,Z=0;if(H||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(A.uri)){const Y=this._undoRedoService.getElements(A.uri);if(Y.past.length>0||Y.future.length>0){for(const te of Y.past)(0,o.isEditStackElement)(te)&&te.matchesResource(A.uri)&&(q=!0,Z+=te.heapSize(A.uri),te.setModel(A.uri));for(const te of Y.future)(0,o.isEditStackElement)(te)&&te.matchesResource(A.uri)&&(q=!0,Z+=te.heapSize(A.uri),te.setModel(A.uri))}}const ie=Ft.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(q)if(!H&&Z>ie){const Y=J.model.getInitialUndoRedoSnapshot();Y!==null&&this._undoRedoService.restoreSnapshot(Y)}else this._ensureDisposedModelsHeapSize(ie-Z),this._undoRedoService.setElementsValidFlag(A.uri,!1,Y=>(0,o.isEditStackElement)(Y)&&Y.matchesResource(A.uri)),this._insertDisposedModel(new F(A.uri,J.model.getInitialUndoRedoSnapshot(),Date.now(),H,Z,N(A),A.getVersionId(),A.getAlternativeVersionId()));else if(!H){const Y=J.model.getInitialUndoRedoSnapshot();Y!==null&&this._undoRedoService.restoreSnapshot(Y)}delete this._models[Q],J.dispose(),delete this._modelCreationOptionsByLanguageAndResource[A.getLanguageId()+A.uri],this._onModelRemoved.fire(A)}_onDidChangeLanguage(A,Q){const J=Q.oldLanguage,H=A.getLanguageId(),q=this.getCreationOptions(J,A.uri,A.isForSimpleWidget),Z=this.getCreationOptions(H,A.uri,A.isForSimpleWidget);Ft._setModelOptionsForModel(A,Z,q),this._onModelModeChanged.fire({model:A,oldLanguageId:J})}};O.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,O=ke([me(0,i.IConfigurationService),me(1,n.ITextResourcePropertiesService),me(2,l.IThemeService),me(3,d.ILogService),me(4,a.IUndoRedoService),me(5,u.ILanguageService),me(6,m.ILanguageConfigurationService),me(7,h.ILanguageFeatureDebounceService),me(8,y.ILanguageFeaturesService)],O),e.ModelService=O,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function D(V,A,Q){var J;const H=(J=Q.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:V.getLanguageId(),resource:V.uri}))===null||J===void 0?void 0:J.enabled;return typeof H=="boolean"?H:A.getColorTheme().semanticHighlighting}e.isSemanticColoringEnabled=D;let M=class extends C.Disposable{constructor(A,Q,J,H,q,Z){super();this._watchers=Object.create(null),this._semanticStyling=A;const ie=de=>{this._watchers[de.uri.toString()]=new W(de,this._semanticStyling,J,q,Z)},Y=(de,x)=>{x.dispose(),delete this._watchers[de.uri.toString()]},te=()=>{for(const de of Q.getModels()){const x=this._watchers[de.uri.toString()];D(de,J,H)?x||ie(de):x&&Y(de,x)}};this._register(Q.onModelAdded(de=>{D(de,J,H)&&ie(de)})),this._register(Q.onModelRemoved(de=>{const x=this._watchers[de.uri.toString()];x&&Y(de,x)})),this._register(H.onDidChangeConfiguration(de=>{de.affectsConfiguration(e.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&te()})),this._register(J.onDidColorThemeChange(te))}dispose(){for(const A of Object.values(this._watchers))A.dispose();super.dispose()}};M=ke([me(1,g.IModelService),me(2,l.IThemeService),me(3,i.IConfigurationService),me(4,h.ILanguageFeatureDebounceService),me(5,y.ILanguageFeaturesService)],M);class P extends C.Disposable{constructor(A,Q,J){super();this._themeService=A,this._languageService=Q,this._logService=J,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(A){return this._caches.has(A)||this._caches.set(A,new f.SemanticTokensProviderStyling(A.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(A)}}class B{constructor(A,Q,J){this.provider=A,this.resultId=Q,this.data=J}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}let W=class Dt extends C.Disposable{constructor(A,Q,J,H,q){super();this._isDisposed=!1,this._model=A,this._semanticStyling=Q,this._provider=q.documentSemanticTokensProvider,this._debounceInformation=H.for(this._provider,"DocumentSemanticTokens",{min:Dt.REQUEST_MIN_DELAY,max:Dt.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new t.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),Dt.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const Z=()=>{(0,C.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const ie of this._provider.all(A))typeof ie.onDidChange=="function"&&this._documentProvidersChangeListeners.push(ie.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};Z(),this._register(this._provider.onDidChange(()=>{Z(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(J.onDidColorThemeChange(ie=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,p.hasDocumentSemanticTokensProvider)(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}const A=new r.CancellationTokenSource,Q=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,J=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,H=(0,p.getDocumentSemanticTokens)(this._provider,this._model,Q,J,A.token);this._currentDocumentRequestCancellationTokenSource=A;const q=[],Z=this._model.onDidChangeContent(Y=>{q.push(Y)}),ie=new S.StopWatch(!1);H.then(Y=>{if(this._debounceInformation.update(this._model,ie.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,Z.dispose(),!Y)this._setDocumentSemanticTokens(null,null,null,q);else{const{provider:te,tokens:de}=Y,x=this._semanticStyling.get(te);this._setDocumentSemanticTokens(te,de||null,x,q)}},Y=>{Y&&(I.isCancellationError(Y)||typeof Y.message=="string"&&Y.message.indexOf("busy")!==-1)||I.onUnexpectedError(Y),this._currentDocumentRequestCancellationTokenSource=null,Z.dispose(),q.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(A,Q,J,H,q){q=Math.min(q,J.length-H,A.length-Q);for(let Z=0;Z<q;Z++)J[H+Z]=A[Q+Z]}_setDocumentSemanticTokens(A,Q,J,H){const q=this._currentDocumentResponse,Z=()=>{H.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){A&&Q&&A.releaseDocumentSemanticTokens(Q.resultId);return}if(!A||!J){this._model.tokenization.setSemanticTokens(null,!1);return}if(!Q){this._model.tokenization.setSemanticTokens(null,!0),Z();return}if((0,p.isSemanticTokensEdits)(Q)){if(!q){this._model.tokenization.setSemanticTokens(null,!0);return}if(Q.edits.length===0)Q={resultId:Q.resultId,data:q.data};else{let ie=0;for(const oe of Q.edits)ie+=(oe.data?oe.data.length:0)-oe.deleteCount;const Y=q.data,te=new Uint32Array(Y.length+ie);let de=Y.length,x=te.length;for(let oe=Q.edits.length-1;oe>=0;oe--){const ne=Q.edits[oe];if(ne.start>Y.length){J.warnInvalidEditStart(q.resultId,Q.resultId,oe,ne.start,Y.length),this._model.tokenization.setSemanticTokens(null,!0);return}const j=de-(ne.start+ne.deleteCount);j>0&&(Dt._copy(Y,de-j,te,x-j,j),x-=j),ne.data&&(Dt._copy(ne.data,0,te,x-ne.data.length,ne.data.length),x-=ne.data.length),de=ne.start}de>0&&Dt._copy(Y,0,te,0,de),Q={resultId:Q.resultId,data:te}}}if((0,p.isSemanticTokens)(Q)){this._currentDocumentResponse=new B(A,Q.resultId,Q.data);const ie=(0,f.toMultilineTokens2)(Q,J,this._model.getLanguageId());if(H.length>0)for(const Y of H)for(const te of ie)for(const de of Y.changes)te.applyEdit(de.range,de.text);this._model.tokenization.setSemanticTokens(ie,!0)}else this._model.tokenization.setSemanticTokens(null,!0);Z()}};W.REQUEST_MIN_DELAY=300,W.REQUEST_MAX_DELAY=2e3,W=ke([me(2,l.IThemeService),me(3,h.ILanguageFeatureDebounceService),me(4,y.ILanguageFeaturesService)],W),e.ModelSemanticColoring=W}),define(re[738],ae([1,0,18,11,3,185,35,99,187,444,238,74]),function($,e,w,C,k,I,L,b,v,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelLinesFromModelAsIs=e.ViewModelLinesFromProjectedModel=void 0;class i{constructor(c,f,p,_,m,h,S,y,E){this._editorId=c,this.model=f,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=p,this._monospaceLineBreaksComputerFactory=_,this.fontInfo=m,this.tabSize=h,this.wrappingStrategy=S,this.wrappingColumn=y,this.wrappingIndent=E,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new d(this)}_constructLines(c,f){this.modelLineProjections=[],c&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const p=this.model.getLinesContent(),_=this.model.getInjectedTextDecorations(this._editorId),m=p.length,h=this.createLineBreaksComputer(),S=new w.ArrayQueue(b.LineInjectedText.fromDecorations(_));for(let D=0;D<m;D++){const M=S.takeWhile(P=>P.lineNumber===D+1);h.addRequest(p[D],M,f?f[D]:null)}const y=h.finalize(),E=[],N=this.hiddenAreasDecorationIds.map(D=>this.model.getDecorationRange(D)).sort(k.Range.compareRangesUsingStarts);let T=1,R=0,F=-1,O=F+1<N.length?R+1:m+2;for(let D=0;D<m;D++){const M=D+1;M===O&&(F++,T=N[F].startLineNumber,R=N[F].endLineNumber,O=F+1<N.length?R+1:m+2);const P=M>=T&&M<=R,B=(0,u.createModelLineProjection)(y[D],!P);E[D]=B.getViewLineCount(),this.modelLineProjections[D]=B}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new g.ConstantTimePrefixSumComputer(E)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(c=>this.model.getDecorationRange(c))}setHiddenAreas(c){const f=c.map(R=>this.model.validateRange(R)),p=t(f),_=this.hiddenAreasDecorationIds.map(R=>this.model.getDecorationRange(R)).sort(k.Range.compareRangesUsingStarts);if(p.length===_.length){let R=!1;for(let F=0;F<p.length;F++)if(!p[F].equalsRange(_[F])){R=!0;break}if(!R)return!1}const m=p.map(R=>({range:R,options:L.ModelDecorationOptions.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,m);const h=p;let S=1,y=0,E=-1,N=E+1<h.length?y+1:this.modelLineProjections.length+2,T=!1;for(let R=0;R<this.modelLineProjections.length;R++){const F=R+1;F===N&&(E++,S=h[E].startLineNumber,y=h[E].endLineNumber,N=E+1<h.length?y+1:this.modelLineProjections.length+2);let O=!1;if(F>=S&&F<=y?this.modelLineProjections[R].isVisible()&&(this.modelLineProjections[R]=this.modelLineProjections[R].setVisible(!1),O=!0):(T=!0,this.modelLineProjections[R].isVisible()||(this.modelLineProjections[R]=this.modelLineProjections[R].setVisible(!0),O=!0)),O){const D=this.modelLineProjections[R].getViewLineCount();this.projectedModelLineLineCounts.setValue(R,D)}}return T||this.setHiddenAreas([]),!0}modelPositionIsVisible(c,f){return c<1||c>this.modelLineProjections.length?!1:this.modelLineProjections[c-1].isVisible()}getModelLineViewLineCount(c){return c<1||c>this.modelLineProjections.length?1:this.modelLineProjections[c-1].getViewLineCount()}setTabSize(c){return this.tabSize===c?!1:(this.tabSize=c,this._constructLines(!1,null),!0)}setWrappingSettings(c,f,p,_){const m=this.fontInfo.equals(c),h=this.wrappingStrategy===f,S=this.wrappingColumn===p,y=this.wrappingIndent===_;if(m&&h&&S&&y)return!1;const E=m&&h&&!S&&y;this.fontInfo=c,this.wrappingStrategy=f,this.wrappingColumn=p,this.wrappingIndent=_;let N=null;if(E){N=[];for(let T=0,R=this.modelLineProjections.length;T<R;T++)N[T]=this.modelLineProjections[T].getProjectionData()}return this._constructLines(!1,N),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(c,f,p){if(!c||c<=this._validModelVersionId)return null;const _=f===1?1:this.projectedModelLineLineCounts.getPrefixSum(f-1)+1,m=this.projectedModelLineLineCounts.getPrefixSum(p);return this.modelLineProjections.splice(f-1,p-f+1),this.projectedModelLineLineCounts.removeValues(f-1,p-f+1),new v.ViewLinesDeletedEvent(_,m)}onModelLinesInserted(c,f,p,_){if(!c||c<=this._validModelVersionId)return null;const m=f>2&&!this.modelLineProjections[f-2].isVisible(),h=f===1?1:this.projectedModelLineLineCounts.getPrefixSum(f-1)+1;let S=0;const y=[],E=[];for(let N=0,T=_.length;N<T;N++){const R=(0,u.createModelLineProjection)(_[N],!m);y.push(R);const F=R.getViewLineCount();S+=F,E[N]=F}return this.modelLineProjections=this.modelLineProjections.slice(0,f-1).concat(y).concat(this.modelLineProjections.slice(f-1)),this.projectedModelLineLineCounts.insertValues(f-1,E),new v.ViewLinesInsertedEvent(h,h+S-1)}onModelLineChanged(c,f,p){if(c!==null&&c<=this._validModelVersionId)return[!1,null,null,null];const _=f-1,m=this.modelLineProjections[_].getViewLineCount(),h=this.modelLineProjections[_].isVisible(),S=(0,u.createModelLineProjection)(p,h);this.modelLineProjections[_]=S;const y=this.modelLineProjections[_].getViewLineCount();let E=!1,N=0,T=-1,R=0,F=-1,O=0,D=-1;m>y?(N=this.projectedModelLineLineCounts.getPrefixSum(f-1)+1,T=N+y-1,O=T+1,D=O+(m-y)-1,E=!0):m<y?(N=this.projectedModelLineLineCounts.getPrefixSum(f-1)+1,T=N+m-1,R=T+1,F=R+(y-m)-1,E=!0):(N=this.projectedModelLineLineCounts.getPrefixSum(f-1)+1,T=N+y-1),this.projectedModelLineLineCounts.setValue(_,y);const M=N<=T?new v.ViewLinesChangedEvent(N,T-N+1):null,P=R<=F?new v.ViewLinesInsertedEvent(R,F):null,B=O<=D?new v.ViewLinesDeletedEvent(O,D):null;return[E,M,P,B]}acceptVersionId(c){this._validModelVersionId=c,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(c){if(c<1)return 1;const f=this.getViewLineCount();return c>f?f:c|0}getActiveIndentGuide(c,f,p){c=this._toValidViewLineNumber(c),f=this._toValidViewLineNumber(f),p=this._toValidViewLineNumber(p);const _=this.convertViewPositionToModelPosition(c,this.getViewLineMinColumn(c)),m=this.convertViewPositionToModelPosition(f,this.getViewLineMinColumn(f)),h=this.convertViewPositionToModelPosition(p,this.getViewLineMinColumn(p)),S=this.model.guides.getActiveIndentGuide(_.lineNumber,m.lineNumber,h.lineNumber),y=this.convertModelPositionToViewPosition(S.startLineNumber,1),E=this.convertModelPositionToViewPosition(S.endLineNumber,this.model.getLineMaxColumn(S.endLineNumber));return{startLineNumber:y.lineNumber,endLineNumber:E.lineNumber,indent:S.indent}}getViewLineInfo(c){c=this._toValidViewLineNumber(c);const f=this.projectedModelLineLineCounts.getIndexOf(c-1),p=f.index,_=f.remainder;return new r(p+1,_)}getMinColumnOfViewLine(c){return this.modelLineProjections[c.modelLineNumber-1].getViewLineMinColumn(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(c){return this.modelLineProjections[c.modelLineNumber-1].getViewLineMaxColumn(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(c){const f=this.modelLineProjections[c.modelLineNumber-1],p=f.getViewLineMinColumn(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx),_=f.getModelColumnOfViewPosition(c.modelLineWrappedLineIdx,p);return new C.Position(c.modelLineNumber,_)}getModelEndPositionOfViewLine(c){const f=this.modelLineProjections[c.modelLineNumber-1],p=f.getViewLineMaxColumn(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx),_=f.getModelColumnOfViewPosition(c.modelLineWrappedLineIdx,p);return new C.Position(c.modelLineNumber,_)}getViewLineInfosGroupedByModelRanges(c,f){const p=this.getViewLineInfo(c),_=this.getViewLineInfo(f),m=new Array;let h=this.getModelStartPositionOfViewLine(p),S=new Array;for(let y=p.modelLineNumber;y<=_.modelLineNumber;y++){const E=this.modelLineProjections[y-1];if(E.isVisible()){const N=y===p.modelLineNumber?p.modelLineWrappedLineIdx:0,T=y===_.modelLineNumber?_.modelLineWrappedLineIdx+1:E.getViewLineCount();for(let R=N;R<T;R++)S.push(new r(y,R))}if(!E.isVisible()&&h){const N=new C.Position(y-1,this.model.getLineMaxColumn(y-1)+1),T=k.Range.fromPositions(h,N);m.push(new l(T,S)),S=[],h=null}else E.isVisible()&&!h&&(h=new C.Position(y,1))}if(h){const y=k.Range.fromPositions(h,this.getModelEndPositionOfViewLine(_));m.push(new l(y,S))}return m}getViewLinesBracketGuides(c,f,p,_){const m=p?this.convertViewPositionToModelPosition(p.lineNumber,p.column):null,h=[];for(const S of this.getViewLineInfosGroupedByModelRanges(c,f)){const y=S.modelRange.startLineNumber,E=this.model.guides.getLinesBracketGuides(y,S.modelRange.endLineNumber,m,_);for(const N of S.viewLines){const R=E[N.modelLineNumber-y].map(F=>{if(F.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[N.modelLineNumber-1].getViewPositionOfModelPosition(0,F.forWrappedLinesAfterColumn).lineNumber>=N.modelLineWrappedLineIdx||F.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[N.modelLineNumber-1].getViewPositionOfModelPosition(0,F.forWrappedLinesBeforeOrAtColumn).lineNumber<N.modelLineWrappedLineIdx)return;if(!F.horizontalLine)return F;let O=-1;if(F.column!==-1){const P=this.modelLineProjections[N.modelLineNumber-1].getViewPositionOfModelPosition(0,F.column);if(P.lineNumber===N.modelLineWrappedLineIdx)O=P.column;else if(P.lineNumber<N.modelLineWrappedLineIdx)O=this.getMinColumnOfViewLine(N);else if(P.lineNumber>N.modelLineWrappedLineIdx)return}const D=this.convertModelPositionToViewPosition(N.modelLineNumber,F.horizontalLine.endColumn),M=this.modelLineProjections[N.modelLineNumber-1].getViewPositionOfModelPosition(0,F.horizontalLine.endColumn);return M.lineNumber===N.modelLineWrappedLineIdx?new I.IndentGuide(F.visibleColumn,O,F.className,new I.IndentGuideHorizontalLine(F.horizontalLine.top,D.column),-1,-1):M.lineNumber<N.modelLineWrappedLineIdx||F.visibleColumn!==-1?void 0:new I.IndentGuide(F.visibleColumn,O,F.className,new I.IndentGuideHorizontalLine(F.horizontalLine.top,this.getMaxColumnOfViewLine(N)),-1,-1)});h.push(R.filter(F=>!!F))}}return h}getViewLinesIndentGuides(c,f){c=this._toValidViewLineNumber(c),f=this._toValidViewLineNumber(f);const p=this.convertViewPositionToModelPosition(c,this.getViewLineMinColumn(c)),_=this.convertViewPositionToModelPosition(f,this.getViewLineMaxColumn(f));let m=[];const h=[],S=[],y=p.lineNumber-1,E=_.lineNumber-1;let N=null;for(let O=y;O<=E;O++){const D=this.modelLineProjections[O];if(D.isVisible()){const M=D.getViewLineNumberOfModelPosition(0,O===y?p.column:1),P=D.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(O+1)),B=P-M+1;let W=0;B>1&&D.getViewLineMinColumn(this.model,O+1,P)===1&&(W=M===0?1:2),h.push(B),S.push(W),N===null&&(N=new C.Position(O+1,0))}else N!==null&&(m=m.concat(this.model.guides.getLinesIndentGuides(N.lineNumber,O)),N=null)}N!==null&&(m=m.concat(this.model.guides.getLinesIndentGuides(N.lineNumber,_.lineNumber)),N=null);const T=f-c+1,R=new Array(T);let F=0;for(let O=0,D=m.length;O<D;O++){let M=m[O];const P=Math.min(T-F,h[O]),B=S[O];let W;B===2?W=0:B===1?W=1:W=P;for(let V=0;V<P;V++)V===W&&(M=0),R[F++]=M}return R}getViewLineContent(c){const f=this.getViewLineInfo(c);return this.modelLineProjections[f.modelLineNumber-1].getViewLineContent(this.model,f.modelLineNumber,f.modelLineWrappedLineIdx)}getViewLineLength(c){const f=this.getViewLineInfo(c);return this.modelLineProjections[f.modelLineNumber-1].getViewLineLength(this.model,f.modelLineNumber,f.modelLineWrappedLineIdx)}getViewLineMinColumn(c){const f=this.getViewLineInfo(c);return this.modelLineProjections[f.modelLineNumber-1].getViewLineMinColumn(this.model,f.modelLineNumber,f.modelLineWrappedLineIdx)}getViewLineMaxColumn(c){const f=this.getViewLineInfo(c);return this.modelLineProjections[f.modelLineNumber-1].getViewLineMaxColumn(this.model,f.modelLineNumber,f.modelLineWrappedLineIdx)}getViewLineData(c){const f=this.getViewLineInfo(c);return this.modelLineProjections[f.modelLineNumber-1].getViewLineData(this.model,f.modelLineNumber,f.modelLineWrappedLineIdx)}getViewLinesData(c,f,p){c=this._toValidViewLineNumber(c),f=this._toValidViewLineNumber(f);const _=this.projectedModelLineLineCounts.getIndexOf(c-1);let m=c;const h=_.index,S=_.remainder,y=[];for(let E=h,N=this.model.getLineCount();E<N;E++){const T=this.modelLineProjections[E];if(!T.isVisible())continue;const R=E===h?S:0;let F=T.getViewLineCount()-R,O=!1;if(m+F>f&&(O=!0,F=f-m+1),T.getViewLinesData(this.model,E+1,R,F,m-c,p,y),m+=F,O)break}return y}validateViewPosition(c,f,p){c=this._toValidViewLineNumber(c);const _=this.projectedModelLineLineCounts.getIndexOf(c-1),m=_.index,h=_.remainder,S=this.modelLineProjections[m],y=S.getViewLineMinColumn(this.model,m+1,h),E=S.getViewLineMaxColumn(this.model,m+1,h);f<y&&(f=y),f>E&&(f=E);const N=S.getModelColumnOfViewPosition(h,f);return this.model.validatePosition(new C.Position(m+1,N)).equals(p)?new C.Position(c,f):this.convertModelPositionToViewPosition(p.lineNumber,p.column)}validateViewRange(c,f){const p=this.validateViewPosition(c.startLineNumber,c.startColumn,f.getStartPosition()),_=this.validateViewPosition(c.endLineNumber,c.endColumn,f.getEndPosition());return new k.Range(p.lineNumber,p.column,_.lineNumber,_.column)}convertViewPositionToModelPosition(c,f){const p=this.getViewLineInfo(c),_=this.modelLineProjections[p.modelLineNumber-1].getModelColumnOfViewPosition(p.modelLineWrappedLineIdx,f);return this.model.validatePosition(new C.Position(p.modelLineNumber,_))}convertViewRangeToModelRange(c){const f=this.convertViewPositionToModelPosition(c.startLineNumber,c.startColumn),p=this.convertViewPositionToModelPosition(c.endLineNumber,c.endColumn);return new k.Range(f.lineNumber,f.column,p.lineNumber,p.column)}convertModelPositionToViewPosition(c,f,p=2){const _=this.model.validatePosition(new C.Position(c,f)),m=_.lineNumber,h=_.column;let S=m-1,y=!1;for(;S>0&&!this.modelLineProjections[S].isVisible();)S--,y=!0;if(S===0&&!this.modelLineProjections[S].isVisible())return new C.Position(1,1);const E=1+this.projectedModelLineLineCounts.getPrefixSum(S);let N;return y?N=this.modelLineProjections[S].getViewPositionOfModelPosition(E,this.model.getLineMaxColumn(S+1),p):N=this.modelLineProjections[m-1].getViewPositionOfModelPosition(E,h,p),N}convertModelRangeToViewRange(c,f=0){if(c.isEmpty()){const p=this.convertModelPositionToViewPosition(c.startLineNumber,c.startColumn,f);return k.Range.fromPositions(p)}else{const p=this.convertModelPositionToViewPosition(c.startLineNumber,c.startColumn,1),_=this.convertModelPositionToViewPosition(c.endLineNumber,c.endColumn,0);return new k.Range(p.lineNumber,p.column,_.lineNumber,_.column)}}getViewLineNumberOfModelPosition(c,f){let p=c-1;if(this.modelLineProjections[p].isVisible()){const m=1+this.projectedModelLineLineCounts.getPrefixSum(p);return this.modelLineProjections[p].getViewLineNumberOfModelPosition(m,f)}for(;p>0&&!this.modelLineProjections[p].isVisible();)p--;if(p===0&&!this.modelLineProjections[p].isVisible())return 1;const _=1+this.projectedModelLineLineCounts.getPrefixSum(p);return this.modelLineProjections[p].getViewLineNumberOfModelPosition(_,this.model.getLineMaxColumn(p+1))}getDecorationsInRange(c,f,p){const _=this.convertViewPositionToModelPosition(c.startLineNumber,c.startColumn),m=this.convertViewPositionToModelPosition(c.endLineNumber,c.endColumn);if(m.lineNumber-_.lineNumber<=c.endLineNumber-c.startLineNumber)return this.model.getDecorationsInRange(new k.Range(_.lineNumber,1,m.lineNumber,m.column),f,p);let h=[];const S=_.lineNumber-1,y=m.lineNumber-1;let E=null;for(let F=S;F<=y;F++)if(this.modelLineProjections[F].isVisible())E===null&&(E=new C.Position(F+1,F===S?_.column:1));else if(E!==null){const D=this.model.getLineMaxColumn(F);h=h.concat(this.model.getDecorationsInRange(new k.Range(E.lineNumber,E.column,F,D),f,p)),E=null}E!==null&&(h=h.concat(this.model.getDecorationsInRange(new k.Range(E.lineNumber,E.column,m.lineNumber,m.column),f,p)),E=null),h.sort((F,O)=>{const D=k.Range.compareRangesUsingStarts(F.range,O.range);return D===0?F.id<O.id?-1:F.id>O.id?1:0:D});const N=[];let T=0,R=null;for(const F of h){const O=F.id;R!==O&&(R=O,N[T++]=F)}return N}getInjectedTextAt(c){const f=this.getViewLineInfo(c.lineNumber);return this.modelLineProjections[f.modelLineNumber-1].getInjectedTextAt(f.modelLineWrappedLineIdx,c.column)}normalizePosition(c,f){const p=this.getViewLineInfo(c.lineNumber);return this.modelLineProjections[p.modelLineNumber-1].normalizePosition(p.modelLineWrappedLineIdx,c,f)}getLineIndentColumn(c){const f=this.getViewLineInfo(c);return f.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(f.modelLineNumber):0}}e.ViewModelLinesFromProjectedModel=i;function t(o){if(o.length===0)return[];const c=o.slice();c.sort(k.Range.compareRangesUsingStarts);const f=[];let p=c[0].startLineNumber,_=c[0].endLineNumber;for(let m=1,h=c.length;m<h;m++){const S=c[m];S.startLineNumber>_+1?(f.push(new k.Range(p,1,_,1)),p=S.startLineNumber,_=S.endLineNumber):S.endLineNumber>_&&(_=S.endLineNumber)}return f.push(new k.Range(p,1,_,1)),f}class r{constructor(c,f){this.modelLineNumber=c,this.modelLineWrappedLineIdx=f}}class l{constructor(c,f){this.modelRange=c,this.viewLines=f}}class d{constructor(c){this._lines=c}convertViewPositionToModelPosition(c){return this._lines.convertViewPositionToModelPosition(c.lineNumber,c.column)}convertViewRangeToModelRange(c){return this._lines.convertViewRangeToModelRange(c)}validateViewPosition(c,f){return this._lines.validateViewPosition(c.lineNumber,c.column,f)}validateViewRange(c,f){return this._lines.validateViewRange(c,f)}convertModelPositionToViewPosition(c,f){return this._lines.convertModelPositionToViewPosition(c.lineNumber,c.column,f)}convertModelRangeToViewRange(c,f){return this._lines.convertModelRangeToViewRange(c,f)}modelPositionIsVisible(c){return this._lines.modelPositionIsVisible(c.lineNumber,c.column)}getModelLineViewLineCount(c){return this._lines.getModelLineViewLineCount(c)}getViewLineNumberOfModelPosition(c,f){return this._lines.getViewLineNumberOfModelPosition(c,f)}}class a{constructor(c){this.model=c}dispose(){}createCoordinatesConverter(){return new s(this)}getHiddenAreas(){return[]}setHiddenAreas(c){return!1}setTabSize(c){return!1}setWrappingSettings(c,f,p,_){return!1}createLineBreaksComputer(){const c=[];return{addRequest:(f,p,_)=>{c.push(null)},finalize:()=>c}}onModelFlushed(){}onModelLinesDeleted(c,f,p){return new v.ViewLinesDeletedEvent(f,p)}onModelLinesInserted(c,f,p,_){return new v.ViewLinesInsertedEvent(f,p)}onModelLineChanged(c,f,p){return[!1,new v.ViewLinesChangedEvent(f,1),null,null]}acceptVersionId(c){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(c,f,p){return{startLineNumber:c,endLineNumber:c,indent:0}}getViewLinesBracketGuides(c,f,p){return new Array(f-c+1).fill([])}getViewLinesIndentGuides(c,f){const p=f-c+1,_=new Array(p);for(let m=0;m<p;m++)_[m]=0;return _}getViewLineContent(c){return this.model.getLineContent(c)}getViewLineLength(c){return this.model.getLineLength(c)}getViewLineMinColumn(c){return this.model.getLineMinColumn(c)}getViewLineMaxColumn(c){return this.model.getLineMaxColumn(c)}getViewLineData(c){const f=this.model.tokenization.getLineTokens(c),p=f.getLineContent();return new n.ViewLineData(p,!1,1,p.length+1,0,f.inflate(),null)}getViewLinesData(c,f,p){const _=this.model.getLineCount();c=Math.min(Math.max(1,c),_),f=Math.min(Math.max(1,f),_);const m=[];for(let h=c;h<=f;h++){const S=h-c;m[S]=p[S]?this.getViewLineData(h):null}return m}getDecorationsInRange(c,f,p){return this.model.getDecorationsInRange(c,f,p)}normalizePosition(c,f){return this.model.normalizePosition(c,f)}getLineIndentColumn(c){return this.model.getLineIndentColumn(c)}getInjectedTextAt(c){return null}}e.ViewModelLinesFromModelAsIs=a;class s{constructor(c){this._lines=c}_validPosition(c){return this._lines.model.validatePosition(c)}_validRange(c){return this._lines.model.validateRange(c)}convertViewPositionToModelPosition(c){return this._validPosition(c)}convertViewRangeToModelRange(c){return this._validRange(c)}validateViewPosition(c,f){return this._validPosition(f)}validateViewRange(c,f){return this._validRange(f)}convertModelPositionToViewPosition(c){return this._validPosition(c)}convertModelRangeToViewRange(c){return this._validRange(c)}modelPositionIsVisible(c){const f=this._lines.model.getLineCount();return!(c.lineNumber<1||c.lineNumber>f)}getModelLineViewLineCount(c){return 1}getViewLineNumberOfModelPosition(c,f){return c}}}),define(re[739],ae([1,0,18,10,31,2,17,8,36,291,61,11,3,99,28,72,272,187,514,274,74,278,204,738]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f,p,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const m=!0;class h extends I.Disposable{constructor(N,T,R,F,O,D,M,P){super();if(this.languageConfigurationService=M,this._themeService=P,this._editorId=N,this._configuration=T,this.model=R,this._eventDispatcher=new p.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new C.RunOnceScheduler(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new C.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=S.create(this.model),m&&this.model.isTooLargeForTokenization())this._lines=new _.ViewModelLinesFromModelAsIs(this.model);else{const B=this._configuration.options,W=B.get(46),V=B.get(127),A=B.get(134),Q=B.get(126);this._lines=new _.ViewModelLinesFromProjectedModel(this._editorId,this.model,F,O,W,this.model.getOptions().tabSize,V,A.wrappingColumn,Q)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new u.CursorsController(R,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new s.ViewLayout(this._configuration,this.getLineCount(),D)),this._register(this.viewLayout.onDidScroll(B=>{B.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),B.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new a.ViewScrollChangedEvent(B)),this._eventDispatcher.emitOutgoingEvent(new p.ScrollChangedEvent(B.oldScrollWidth,B.oldScrollLeft,B.oldScrollHeight,B.oldScrollTop,B.scrollWidth,B.scrollLeft,B.scrollHeight,B.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(B=>{this._eventDispatcher.emitOutgoingEvent(B)})),this._decorations=new f.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(B=>{try{const W=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(W,B)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(o.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new a.ViewTokensColorsChangedEvent)})),this._register(this._themeService.onDidColorThemeChange(B=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new a.ViewThemeChangedEvent(B))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(N){this._eventDispatcher.addViewEventHandler(N)}removeViewEventHandler(N){this._eventDispatcher.removeViewEventHandler(N)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const N=this.viewLayout.getLinesViewportData(),T=new i.Range(N.startLineNumber,this.getLineMinColumn(N.startLineNumber),N.endLineNumber,this.getLineMaxColumn(N.endLineNumber)),R=this._toModelVisibleRanges(T);for(const F of R)this.model.tokenization.tokenizeViewport(F.startLineNumber,F.endLineNumber)}setHasFocus(N){this._hasFocus=N,this._cursor.setHasFocus(N),this._eventDispatcher.emitSingleViewEvent(new a.ViewFocusChangedEvent(N)),this._eventDispatcher.emitOutgoingEvent(new p.FocusChangedEvent(!N,N))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new a.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new a.ViewCompositionEndEvent)}_onConfigurationChanged(N,T){let R=null;if(this._viewportStart.isValid){const W=new n.Position(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber));R=this.coordinatesConverter.convertViewPositionToModelPosition(W)}let F=!1;const O=this._configuration.options,D=O.get(46),M=O.get(127),P=O.get(134),B=O.get(126);if(this._lines.setWrappingSettings(D,M,P.wrappingColumn,B)&&(N.emitViewEvent(new a.ViewFlushedEvent),N.emitViewEvent(new a.ViewLineMappingChangedEvent),N.emitViewEvent(new a.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(N),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(F=!0),this._updateConfigurationViewLineCount.schedule()),T.hasChanged(83)&&(this._decorations.reset(),N.emitViewEvent(new a.ViewDecorationsChangedEvent(null))),N.emitViewEvent(new a.ViewConfigurationChangedEvent(T)),this.viewLayout.onConfigurationChanged(T),F&&R){const W=this.coordinatesConverter.convertModelPositionToViewPosition(R),V=this.viewLayout.getVerticalOffsetForLineNumber(W.lineNumber);this.viewLayout.setScrollPosition({scrollTop:V+this._viewportStart.startLineDelta},1)}g.CursorConfiguration.shouldRecreate(T)&&(this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(N=>{try{const R=this._eventDispatcher.beginEmitViewEvents();let F=!1,O=!1;const D=N instanceof t.InternalModelContentChangeEvent?N.rawContentChangedEvent.changes:N.changes,M=N instanceof t.InternalModelContentChangeEvent?N.rawContentChangedEvent.versionId:null,P=this._lines.createLineBreaksComputer();for(const V of D)switch(V.changeType){case 4:{for(let A=0;A<V.detail.length;A++){const Q=V.detail[A];let J=V.injectedTexts[A];J&&(J=J.filter(H=>!H.ownerId||H.ownerId===this._editorId)),P.addRequest(Q,J,null)}break}case 2:{let A=null;V.injectedText&&(A=V.injectedText.filter(Q=>!Q.ownerId||Q.ownerId===this._editorId)),P.addRequest(V.detail,A,null);break}}const B=P.finalize(),W=new w.ArrayQueue(B);for(const V of D)switch(V.changeType){case 1:{this._lines.onModelFlushed(),R.emitViewEvent(new a.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),F=!0;break}case 3:{const A=this._lines.onModelLinesDeleted(M,V.fromLineNumber,V.toLineNumber);A!==null&&(R.emitViewEvent(A),this.viewLayout.onLinesDeleted(A.fromLineNumber,A.toLineNumber)),F=!0;break}case 4:{const A=W.takeCount(V.detail.length),Q=this._lines.onModelLinesInserted(M,V.fromLineNumber,V.toLineNumber,A);Q!==null&&(R.emitViewEvent(Q),this.viewLayout.onLinesInserted(Q.fromLineNumber,Q.toLineNumber)),F=!0;break}case 2:{const A=W.dequeue(),[Q,J,H,q]=this._lines.onModelLineChanged(M,V.lineNumber,A);O=Q,J&&R.emitViewEvent(J),H&&(R.emitViewEvent(H),this.viewLayout.onLinesInserted(H.fromLineNumber,H.toLineNumber)),q&&(R.emitViewEvent(q),this.viewLayout.onLinesDeleted(q.fromLineNumber,q.toLineNumber));break}case 5:break}M!==null&&this._lines.acceptVersionId(M),this.viewLayout.onHeightMaybeChanged(),!F&&O&&(R.emitViewEvent(new a.ViewLineMappingChangedEvent),R.emitViewEvent(new a.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(R),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const T=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&T){const R=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(R){const F=this.coordinatesConverter.convertModelPositionToViewPosition(R.getStartPosition()),O=this.viewLayout.getVerticalOffsetForLineNumber(F.lineNumber);this.viewLayout.setScrollPosition({scrollTop:O+this._viewportStart.startLineDelta},1)}}try{const R=this._eventDispatcher.beginEmitViewEvents();N instanceof t.InternalModelContentChangeEvent&&R.emitOutgoingEvent(new p.ModelContentChangedEvent(N.contentChangedEvent)),this._cursor.onModelContentChanged(R,N)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeTokens(N=>{const T=[];for(let R=0,F=N.ranges.length;R<F;R++){const O=N.ranges[R],D=this.coordinatesConverter.convertModelPositionToViewPosition(new n.Position(O.fromLineNumber,1)).lineNumber,M=this.coordinatesConverter.convertModelPositionToViewPosition(new n.Position(O.toLineNumber,this.model.getLineMaxColumn(O.toLineNumber))).lineNumber;T[R]={fromLineNumber:D,toLineNumber:M}}this._eventDispatcher.emitSingleViewEvent(new a.ViewTokensChangedEvent(T)),N.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitOutgoingEvent(new p.ModelTokensChangedEvent(N))})),this._register(this.model.onDidChangeLanguageConfiguration(N=>{this._eventDispatcher.emitSingleViewEvent(new a.ViewLanguageConfigurationEvent),this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new p.ModelLanguageConfigurationChangedEvent(N))})),this._register(this.model.onDidChangeLanguage(N=>{this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new p.ModelLanguageChangedEvent(N))})),this._register(this.model.onDidChangeOptions(N=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const T=this._eventDispatcher.beginEmitViewEvents();T.emitViewEvent(new a.ViewFlushedEvent),T.emitViewEvent(new a.ViewLineMappingChangedEvent),T.emitViewEvent(new a.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(T),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new g.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new p.ModelOptionsChangedEvent(N))})),this._register(this.model.onDidChangeDecorations(N=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new a.ViewDecorationsChangedEvent(N)),this._eventDispatcher.emitOutgoingEvent(new p.ModelDecorationsChangedEvent(N))}))}setHiddenAreas(N){let T=!1;try{const R=this._eventDispatcher.beginEmitViewEvents();T=this._lines.setHiddenAreas(N),T&&(R.emitViewEvent(new a.ViewFlushedEvent),R.emitViewEvent(new a.ViewLineMappingChangedEvent),R.emitViewEvent(new a.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(R),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),T&&this._eventDispatcher.emitOutgoingEvent(new p.HiddenAreasChangedEvent)}getVisibleRangesPlusViewportAboveBelow(){const N=this._configuration.options.get(133),T=this._configuration.options.get(61),R=Math.max(20,Math.round(N.height/T)),F=this.viewLayout.getLinesViewportData(),O=Math.max(1,F.completelyVisibleStartLineNumber-R),D=Math.min(this.getLineCount(),F.completelyVisibleEndLineNumber+R);return this._toModelVisibleRanges(new i.Range(O,this.getLineMinColumn(O),D,this.getLineMaxColumn(D)))}getVisibleRanges(){const N=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(N)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(N){const T=this.coordinatesConverter.convertViewRangeToModelRange(N),R=this._lines.getHiddenAreas();if(R.length===0)return[T];const F=[];let O=0,D=T.startLineNumber,M=T.startColumn;const P=T.endLineNumber,B=T.endColumn;for(let W=0,V=R.length;W<V;W++){const A=R[W].startLineNumber,Q=R[W].endLineNumber;Q<D||A>P||(D<A&&(F[O++]=new i.Range(D,M,A-1,this.model.getLineMaxColumn(A-1))),D=Q+1,M=1)}return(D<P||D===P&&M<B)&&(F[O++]=new i.Range(D,M,P,B)),F}getCompletelyVisibleViewRange(){const N=this.viewLayout.getLinesViewportData(),T=N.completelyVisibleStartLineNumber,R=N.completelyVisibleEndLineNumber;return new i.Range(T,this.getLineMinColumn(T),R,this.getLineMaxColumn(R))}getCompletelyVisibleViewRangeAtScrollTop(N){const T=this.viewLayout.getLinesViewportDataAtScrollTop(N),R=T.completelyVisibleStartLineNumber,F=T.completelyVisibleEndLineNumber;return new i.Range(R,this.getLineMinColumn(R),F,this.getLineMaxColumn(F))}saveState(){const N=this.viewLayout.saveState(),T=N.scrollTop,R=this.viewLayout.getLineNumberAtVerticalOffset(T),F=this.coordinatesConverter.convertViewPositionToModelPosition(new n.Position(R,this.getLineMinColumn(R))),O=this.viewLayout.getVerticalOffsetForLineNumber(R)-T;return{scrollLeft:N.scrollLeft,firstPosition:F,firstPositionDeltaTop:O}}reduceRestoreState(N){if(typeof N.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(N);const T=this.model.validatePosition(N.firstPosition),R=this.coordinatesConverter.convertModelPositionToViewPosition(T),F=this.viewLayout.getVerticalOffsetForLineNumber(R.lineNumber)-N.firstPositionDeltaTop;return{scrollLeft:N.scrollLeft,scrollTop:F}}_reduceRestoreStateCompatibility(N){return{scrollLeft:N.scrollLeft,scrollTop:N.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(N,T,R){this._viewportStart.update(this,N)}getActiveIndentGuide(N,T,R){return this._lines.getActiveIndentGuide(N,T,R)}getLinesIndentGuides(N,T){return this._lines.getViewLinesIndentGuides(N,T)}getBracketGuidesInRangeByLine(N,T,R,F){return this._lines.getViewLinesBracketGuides(N,T,R,F)}getLineContent(N){return this._lines.getViewLineContent(N)}getLineLength(N){return this._lines.getViewLineLength(N)}getLineMinColumn(N){return this._lines.getViewLineMinColumn(N)}getLineMaxColumn(N){return this._lines.getViewLineMaxColumn(N)}getLineFirstNonWhitespaceColumn(N){const T=b.firstNonWhitespaceIndex(this.getLineContent(N));return T===-1?0:T+1}getLineLastNonWhitespaceColumn(N){const T=b.lastNonWhitespaceIndex(this.getLineContent(N));return T===-1?0:T+2}getDecorationsInViewport(N){return this._decorations.getDecorationsViewportData(N).decorations}getInjectedTextAt(N){return this._lines.getInjectedTextAt(N)}getViewportViewLineRenderingData(N,T){const F=this._decorations.getDecorationsViewportData(N).inlineDecorations[T-N.startLineNumber];return this._getViewLineRenderingData(T,F)}getViewLineRenderingData(N){const T=this._decorations.getInlineDecorationsOnLine(N);return this._getViewLineRenderingData(N,T)}_getViewLineRenderingData(N,T){const R=this.model.mightContainRTL(),F=this.model.mightContainNonBasicASCII(),O=this.getTabSize(),D=this._lines.getViewLineData(N);return D.inlineDecorations&&(T=[...T,...D.inlineDecorations.map(M=>M.toInlineDecoration(N))]),new c.ViewLineRenderingData(D.minColumn,D.maxColumn,D.content,D.continuesWithWrappedLine,R,F,D.tokens,T,O,D.startVisibleColumn)}getViewLineData(N){return this._lines.getViewLineData(N)}getMinimapLinesRenderingData(N,T,R){const F=this._lines.getViewLinesData(N,T,R);return new c.MinimapLinesRenderingData(this.getTabSize(),F)}getAllOverviewRulerDecorations(N){const T=this.model.getOverviewRulerDecorations(this._editorId,(0,v.filterValidationDecorations)(this._configuration.options)),R=new y;for(const F of T){const O=F.options,D=O.overviewRuler;if(!D)continue;const M=D.position;if(M===0)continue;const P=D.getColor(N.value),B=this.coordinatesConverter.getViewLineNumberOfModelPosition(F.range.startLineNumber,F.range.startColumn),W=this.coordinatesConverter.getViewLineNumberOfModelPosition(F.range.endLineNumber,F.range.endColumn);R.accept(P,O.zIndex,B,W,M)}return R.asArray}_invalidateDecorationsColorCache(){const N=this.model.getOverviewRulerDecorations();for(const T of N){const R=T.options.overviewRuler;R&&R.invalidateCachedColor();const F=T.options.minimap;F&&F.invalidateCachedColor()}}getValueInRange(N,T){const R=this.coordinatesConverter.convertViewRangeToModelRange(N);return this.model.getValueInRange(R,T)}deduceModelPositionRelativeToViewPosition(N,T,R){const F=this.coordinatesConverter.convertViewPositionToModelPosition(N);this.model.getEOL().length===2&&(T<0?T-=R:T+=R);const D=this.model.getOffsetAt(F)+T;return this.model.getPositionAt(D)}getPlainTextToCopy(N,T,R){const F=R?`\r
`:this.model.getEOL();N=N.slice(0),N.sort(i.Range.compareRangesUsingStarts);let O=!1,D=!1;for(const P of N)P.isEmpty()?O=!0:D=!0;if(!D){if(!T)return"";const P=N.map(W=>W.startLineNumber);let B="";for(let W=0;W<P.length;W++)W>0&&P[W-1]===P[W]||(B+=this.model.getLineContent(P[W])+F);return B}if(O&&T){const P=[];let B=0;for(const W of N){const V=W.startLineNumber;W.isEmpty()?V!==B&&P.push(this.model.getLineContent(V)):P.push(this.model.getValueInRange(W,R?2:0)),B=V}return P.length===1?P[0]:P}const M=[];for(const P of N)P.isEmpty()||M.push(this.model.getValueInRange(P,R?2:0));return M.length===1?M[0]:M}getRichTextToCopy(N,T){const R=this.model.getLanguageId();if(R===l.PLAINTEXT_LANGUAGE_ID||N.length!==1)return null;let F=N[0];if(F.isEmpty()){if(!T)return null;const W=F.startLineNumber;F=new i.Range(W,this.model.getLineMinColumn(W),W,this.model.getLineMaxColumn(W))}const O=this._configuration.options.get(46),D=this._getColorMap(),P=/[:;\\\/<>]/.test(O.fontFamily)||O.fontFamily===v.EDITOR_FONT_DEFAULTS.fontFamily;let B;return P?B=v.EDITOR_FONT_DEFAULTS.fontFamily:(B=O.fontFamily,B=B.replace(/"/g,"'"),/[,']/.test(B)||/[+ ]/.test(B)&&(B=`'${B}'`),B=`${B}, ${v.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:R,html:`<div style="color: ${D[1]};background-color: ${D[2]};font-family: ${B};font-weight: ${O.fontWeight};font-size: ${O.fontSize}px;line-height: ${O.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(F,D)+"</div>"}}_getHTMLToCopy(N,T){const R=N.startLineNumber,F=N.startColumn,O=N.endLineNumber,D=N.endColumn,M=this.getTabSize();let P="";for(let B=R;B<=O;B++){const W=this.model.tokenization.getLineTokens(B),V=W.getLineContent(),A=B===R?F-1:0,Q=B===O?D-1:V.length;V===""?P+="<br>":P+=(0,d.tokenizeLineToHTML)(V,W.inflate(),T,A,Q,M,L.isWindows)}return P}_getColorMap(){const N=r.TokenizationRegistry.getColorMap(),T=["#000000"];if(N)for(let R=1,F=N.length;R<F;R++)T[R]=k.Color.Format.CSS.formatHex(N[R]);return T}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(N,T,R){return this._withViewEventsCollector(F=>this._cursor.setStates(F,N,T,R))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(N){this._cursor.setCursorColumnSelectData(N)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(N){this._cursor.setPrevEditOperationType(N)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(N,T,R=0){this._withViewEventsCollector(F=>this._cursor.setSelections(F,N,T,R))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(N){this._withViewEventsCollector(T=>this._cursor.restoreState(T,N))}_executeCursorEdit(N){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new p.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(N)}executeEdits(N,T,R){this._executeCursorEdit(F=>this._cursor.executeEdits(F,N,T,R))}startComposition(){this._executeCursorEdit(N=>this._cursor.startComposition(N))}endComposition(N){this._executeCursorEdit(T=>this._cursor.endComposition(T,N))}type(N,T){this._executeCursorEdit(R=>this._cursor.type(R,N,T))}compositionType(N,T,R,F,O){this._executeCursorEdit(D=>this._cursor.compositionType(D,N,T,R,F,O))}paste(N,T,R,F){this._executeCursorEdit(O=>this._cursor.paste(O,N,T,R,F))}cut(N){this._executeCursorEdit(T=>this._cursor.cut(T,N))}executeCommand(N,T){this._executeCursorEdit(R=>this._cursor.executeCommand(R,N,T))}executeCommands(N,T){this._executeCursorEdit(R=>this._cursor.executeCommands(R,N,T))}revealPrimaryCursor(N,T,R=!1){this._withViewEventsCollector(F=>this._cursor.revealPrimary(F,N,R,0,T,0))}revealTopMostCursor(N){const T=this._cursor.getTopMostViewPosition(),R=new i.Range(T.lineNumber,T.column,T.lineNumber,T.column);this._withViewEventsCollector(F=>F.emitViewEvent(new a.ViewRevealRangeRequestEvent(N,!1,R,null,0,!0,0)))}revealBottomMostCursor(N){const T=this._cursor.getBottomMostViewPosition(),R=new i.Range(T.lineNumber,T.column,T.lineNumber,T.column);this._withViewEventsCollector(F=>F.emitViewEvent(new a.ViewRevealRangeRequestEvent(N,!1,R,null,0,!0,0)))}revealRange(N,T,R,F,O){this._withViewEventsCollector(D=>D.emitViewEvent(new a.ViewRevealRangeRequestEvent(N,!1,R,null,F,T,O)))}changeWhitespace(N){this.viewLayout.changeWhitespace(N)&&(this._eventDispatcher.emitSingleViewEvent(new a.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new p.ViewZonesChangedEvent))}_withViewEventsCollector(N){try{const T=this._eventDispatcher.beginEmitViewEvents();return N(T)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(N,T){return this._lines.normalizePosition(N,T)}getLineIndentColumn(N){return this._lines.getLineIndentColumn(N)}}e.ViewModel=h;class S{constructor(N,T,R,F,O){this._model=N,this._viewLineNumber=T,this._isValid=R,this._modelTrackedRange=F,this._startLineDelta=O}static create(N){const T=N._setTrackedRange(null,new i.Range(1,1,1,1),1);return new S(N,1,!1,T,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(N,T){const R=N.coordinatesConverter.convertViewPositionToModelPosition(new n.Position(T,N.getLineMinColumn(T))),F=N.model._setTrackedRange(this._modelTrackedRange,new i.Range(R.lineNumber,R.column,R.lineNumber,R.column),1),O=N.viewLayout.getVerticalOffsetForLineNumber(T),D=N.viewLayout.getCurrentScrollTop();this._viewLineNumber=T,this._isValid=!0,this._modelTrackedRange=F,this._startLineDelta=D-O}invalidate(){this._isValid=!1}}class y{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(N,T,R,F,O){const D=this._asMap[N];if(D){const M=D.data,P=M[M.length-3],B=M[M.length-1];if(P===O&&B+1>=R){F>B&&(M[M.length-1]=F);return}M.push(O,R,F)}else{const M=new c.OverviewRulerDecorationsGroup(N,T,[O,R,F]);this._asMap[N]=M,this.asArray.push(M)}}}}),define(re[173],ae([1,0,525,7,14,6,2,52,634,12,29,692,229,36,291,66,11,3,23,234,154,24,35,54,25,739,26,16,9,167,39,15,77,19,445,501,156,32,65,20,690,370]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f,p,_,m,h,S,y,E,N,T,R,F,O,D,M,P,B,W,V){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let A=0;class Q{constructor(z,X,G,U,K){this.model=z,this.viewModel=X,this.view=G,this.hasRealView=U,this.listenersToRemove=K}dispose(){(0,L.dispose)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let J=class Tt extends L.Disposable{constructor(z,X,G,U,K,ce,ee,ue,fe,Ce,we,ye){super();this.languageConfigurationService=we,this._deliveryQueue=new I.EventDeliveryQueue,this._onDidDispose=this._register(new I.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new H({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new H({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onWillType=this._onWillType.event,this._onDidType=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection();const De=Object.assign({},X);this._domElement=z,this._overflowWidgetsDomNode=De.overflowWidgetsDomNode,delete De.overflowWidgetsDomNode,this._id=++A,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=G.telemetryData,this._configuration=this._register(this._createConfiguration(G.isSimpleWidget||!1,De,Ce)),this._register(this._configuration.onDidChange(he=>{this._onDidChangeConfiguration.fire(he);const le=this._configuration.options;if(he.hasChanged(133)){const ge=le.get(133);this._onDidLayoutChange.fire(ge)}})),this._contextKeyService=this._register(ee.createScoped(this._domElement)),this._notificationService=fe,this._codeEditorService=K,this._commandService=ce,this._themeService=ue,this._register(new q(this,this._contextKeyService)),this._register(new Z(this,this._contextKeyService,ye)),this._instantiationService=U.createChild(new N.ServiceCollection([y.IContextKeyService,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new ie(z),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let Me;Array.isArray(G.contributions)?Me=G.contributions:Me=u.EditorExtensionsRegistry.getEditorContributions();for(const he of Me){if(this._contributions[he.id]){(0,k.onUnexpectedError)(new Error(`Cannot have two contributions with the same id ${he.id}`));continue}try{const le=this._instantiationService.createInstance(he.ctor,this);this._contributions[he.id]=le}catch(le){(0,k.onUnexpectedError)(le)}}u.EditorExtensionsRegistry.getEditorActions().forEach(he=>{if(this._actions[he.id]){(0,k.onUnexpectedError)(new Error(`Cannot have two actions with the same id ${he.id}`));return}const le=new o.InternalEditorAction(he.id,he.label,he.alias,(0,O.withNullAsUndefined)(he.precondition),()=>this._instantiationService.invokeFunction(ge=>Promise.resolve(he.runEditorCommand(ge,this,null))),this._contextKeyService);this._actions[le.id]=le});const pe=()=>!this._configuration.options.get(83)&&this._configuration.options.get(32).enabled;this._register(new C.DragAndDropObserver(this._domElement,{onDragEnter:()=>{},onDragOver:he=>{if(!pe())return;const le=this.getTargetAtClientPoint(he.clientX,he.clientY);(le==null?void 0:le.position)&&this.showDropIndicatorAt(le.position)},onDrop:he=>Se(this,void 0,void 0,function*(){if(!pe()||(this.removeDropIndicator(),!he.dataTransfer))return;const le=this.getTargetAtClientPoint(he.clientX,he.clientY);(le==null?void 0:le.position)&&this._onDropIntoEditor.fire({position:le.position,event:he})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}get isSimpleWidget(){return this._configuration.isSimpleWidget}_createConfiguration(z,X,G){return new v.EditorConfiguration(z,X,this._domElement,G)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return c.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const z=Object.keys(this._contributions);for(let X=0,G=z.length;X<G;X++){const U=z[X];this._contributions[U].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(z){return this._instantiationService.invokeFunction(z)}updateOptions(z){this._configuration.updateOptions(z||{})}getOptions(){return this._configuration.options}getOption(z){return this._configuration.options.get(z)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(z){return this._modelData?P.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(119),z):null}getValue(z=null){if(!this._modelData)return"";const X=!!(z&&z.preserveBOM);let G=0;return z&&z.lineEnding&&z.lineEnding===`
`?G=1:z&&z.lineEnding&&z.lineEnding===`\r
`&&(G=2),this._modelData.model.getValue(G,X)}setValue(z){!this._modelData||this._modelData.model.setValue(z)}getModel(){return this._modelData?this._modelData.model:null}setModel(z=null){const X=z;if(this._modelData===null&&X===null||this._modelData&&this._modelData.model===X)return;const G=this.hasTextFocus(),U=this._detachModel();this._attachModel(X),G&&this.hasModel()&&this.focus();const K={oldModelUrl:U?U.uri:null,newModelUrl:X?X.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(K),this._postDetachModelCleanup(U)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const z in this._decorationTypeSubtypes){const X=this._decorationTypeSubtypes[z];for(const G in X)this._removeDecorationType(z+"-"+G)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(z,X,G,U){const K=z.model.validatePosition({lineNumber:X,column:G}),ce=z.viewModel.coordinatesConverter.convertModelPositionToViewPosition(K);return z.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(ce.lineNumber,U)}getTopForLineNumber(z,X=!1){return this._modelData?Tt._getVerticalOffsetForPosition(this._modelData,z,1,X):-1}getTopForPosition(z,X){return this._modelData?Tt._getVerticalOffsetForPosition(this._modelData,z,X,!1):-1}static _getVerticalOffsetForPosition(z,X,G,U=!1){const K=z.model.validatePosition({lineNumber:X,column:G}),ce=z.viewModel.coordinatesConverter.convertModelPositionToViewPosition(K);return z.viewModel.viewLayout.getVerticalOffsetForLineNumber(ce.lineNumber,U)}getBottomForLineNumber(z,X=!1){return this._modelData?Tt._getVerticalOffsetAfterPosition(this._modelData,z,1,X):-1}setHiddenAreas(z){var X;(X=this._modelData)===null||X===void 0||X.viewModel.setHiddenAreas(z.map(G=>a.Range.lift(G)))}getVisibleColumnFromPosition(z){if(!this._modelData)return z.column;const X=this._modelData.model.validatePosition(z),G=this._modelData.model.getOptions().tabSize;return l.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(X.lineNumber),X.column,G)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(z,X="api"){if(!!this._modelData){if(!d.Position.isIPosition(z))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(X,[{selectionStartLineNumber:z.lineNumber,selectionStartColumn:z.column,positionLineNumber:z.lineNumber,positionColumn:z.column}])}}_sendRevealRange(z,X,G,U){if(!this._modelData)return;if(!a.Range.isIRange(z))throw new Error("Invalid arguments");const K=this._modelData.model.validateRange(z),ce=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(K);this._modelData.viewModel.revealRange("api",G,ce,X,U)}revealLine(z,X=0){this._revealLine(z,0,X)}revealLineInCenter(z,X=0){this._revealLine(z,1,X)}revealLineInCenterIfOutsideViewport(z,X=0){this._revealLine(z,2,X)}revealLineNearTop(z,X=0){this._revealLine(z,5,X)}_revealLine(z,X,G){if(typeof z!="number")throw new Error("Invalid arguments");this._sendRevealRange(new a.Range(z,1,z,1),X,!1,G)}revealPosition(z,X=0){this._revealPosition(z,0,!0,X)}revealPositionInCenter(z,X=0){this._revealPosition(z,1,!0,X)}revealPositionInCenterIfOutsideViewport(z,X=0){this._revealPosition(z,2,!0,X)}revealPositionNearTop(z,X=0){this._revealPosition(z,5,!0,X)}_revealPosition(z,X,G,U){if(!d.Position.isIPosition(z))throw new Error("Invalid arguments");this._sendRevealRange(new a.Range(z.lineNumber,z.column,z.lineNumber,z.column),X,G,U)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(z,X="api"){const G=s.Selection.isISelection(z),U=a.Range.isIRange(z);if(!G&&!U)throw new Error("Invalid arguments");if(G)this._setSelectionImpl(z,X);else if(U){const K={selectionStartLineNumber:z.startLineNumber,selectionStartColumn:z.startColumn,positionLineNumber:z.endLineNumber,positionColumn:z.endColumn};this._setSelectionImpl(K,X)}}_setSelectionImpl(z,X){if(!this._modelData)return;const G=new s.Selection(z.selectionStartLineNumber,z.selectionStartColumn,z.positionLineNumber,z.positionColumn);this._modelData.viewModel.setSelections(X,[G])}revealLines(z,X,G=0){this._revealLines(z,X,0,G)}revealLinesInCenter(z,X,G=0){this._revealLines(z,X,1,G)}revealLinesInCenterIfOutsideViewport(z,X,G=0){this._revealLines(z,X,2,G)}revealLinesNearTop(z,X,G=0){this._revealLines(z,X,5,G)}_revealLines(z,X,G,U){if(typeof z!="number"||typeof X!="number")throw new Error("Invalid arguments");this._sendRevealRange(new a.Range(z,1,X,1),G,!1,U)}revealRange(z,X=0,G=!1,U=!0){this._revealRange(z,G?1:0,U,X)}revealRangeInCenter(z,X=0){this._revealRange(z,1,!0,X)}revealRangeInCenterIfOutsideViewport(z,X=0){this._revealRange(z,2,!0,X)}revealRangeNearTop(z,X=0){this._revealRange(z,5,!0,X)}revealRangeNearTopIfOutsideViewport(z,X=0){this._revealRange(z,6,!0,X)}revealRangeAtTop(z,X=0){this._revealRange(z,3,!0,X)}_revealRange(z,X,G,U){if(!a.Range.isIRange(z))throw new Error("Invalid arguments");this._sendRevealRange(a.Range.lift(z),X,G,U)}setSelections(z,X="api",G=0){if(!!this._modelData){if(!z||z.length===0)throw new Error("Invalid arguments");for(let U=0,K=z.length;U<K;U++)if(!s.Selection.isISelection(z[U]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(X,z,G)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(z,X=1){if(!!this._modelData){if(typeof z!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:z},X)}}setScrollTop(z,X=1){if(!!this._modelData){if(typeof z!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:z},X)}}setScrollPosition(z,X=1){!this._modelData||this._modelData.viewModel.viewLayout.setScrollPosition(z,X)}saveViewState(){if(!this._modelData)return null;const z={},X=Object.keys(this._contributions);for(const K of X){const ce=this._contributions[K];typeof ce.saveViewState=="function"&&(z[K]=ce.saveViewState())}const G=this._modelData.viewModel.saveCursorState(),U=this._modelData.viewModel.saveState();return{cursorState:G,viewState:U,contributionsState:z}}restoreViewState(z){if(!this._modelData||!this._modelData.hasRealView)return;const X=z;if(X&&X.cursorState&&X.viewState){const G=X.cursorState;Array.isArray(G)?G.length>0&&this._modelData.viewModel.restoreCursorState(G):this._modelData.viewModel.restoreCursorState([G]);const U=X.contributionsState||{},K=Object.keys(this._contributions);for(let ee=0,ue=K.length;ee<ue;ee++){const fe=K[ee],Ce=this._contributions[fe];typeof Ce.restoreViewState=="function"&&Ce.restoreViewState(U[fe])}const ce=this._modelData.viewModel.reduceRestoreState(X.viewState);this._modelData.view.restoreState(ce)}}getContribution(z){return this._contributions[z]||null}getActions(){const z=[],X=Object.keys(this._actions);for(let G=0,U=X.length;G<U;G++){const K=X[G];z.push(this._actions[K])}return z}getSupportedActions(){let z=this.getActions();return z=z.filter(X=>X.isSupported()),z}getAction(z){return this._actions[z]||null}trigger(z,X,G){switch(G=G||{},X){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(z);return;case"type":{const K=G;this._type(z,K.text||"");return}case"replacePreviousChar":{const K=G;this._compositionType(z,K.text||"",K.replaceCharCnt||0,0,0);return}case"compositionType":{const K=G;this._compositionType(z,K.text||"",K.replacePrevCharCnt||0,K.replaceNextCharCnt||0,K.positionDelta||0);return}case"paste":{const K=G;this._paste(z,K.text||"",K.pasteOnNewLine||!1,K.multicursorText||null,K.mode||null);return}case"cut":this._cut(z);return}const U=this.getAction(X);if(U){Promise.resolve(U.run()).then(void 0,k.onUnexpectedError);return}!this._modelData||this._triggerEditorCommand(z,X,G)||this._triggerCommand(X,G)}_triggerCommand(z,X){this._commandService.executeCommand(z,X)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(z){!this._modelData||(this._modelData.viewModel.endComposition(z),this._onDidCompositionEnd.fire())}_type(z,X){!this._modelData||X.length===0||(z==="keyboard"&&this._onWillType.fire(X),this._modelData.viewModel.type(X,z),z==="keyboard"&&this._onDidType.fire(X))}_compositionType(z,X,G,U,K){!this._modelData||this._modelData.viewModel.compositionType(X,G,U,K,z)}_paste(z,X,G,U,K){if(!this._modelData||X.length===0)return;const ce=this._modelData.viewModel,ee=ce.getSelection().getStartPosition();ce.paste(X,G,U,z);const ue=ce.getSelection().getStartPosition();z==="keyboard"&&this._onDidPaste.fire({range:new a.Range(ee.lineNumber,ee.column,ue.lineNumber,ue.column),languageId:K})}_cut(z){!this._modelData||this._modelData.viewModel.cut(z)}_triggerEditorCommand(z,X,G){const U=u.EditorExtensionsRegistry.getEditorCommand(X);return U?(G=G||{},G.source=z,this._instantiationService.invokeFunction(K=>{Promise.resolve(U.runEditorCommand(K,this,G)).then(void 0,k.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(83)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(83)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(z,X,G){if(!this._modelData||this._configuration.options.get(83))return!1;let U;return G?Array.isArray(G)?U=()=>G:U=G:U=()=>null,this._modelData.viewModel.executeEdits(z,X,U),!0}executeCommand(z,X){!this._modelData||this._modelData.viewModel.executeCommand(X,z)}executeCommands(z,X){!this._modelData||this._modelData.viewModel.executeCommands(X,z)}createDecorationsCollection(z){return new Y(this,z)}changeDecorations(z){return this._modelData?this._modelData.model.changeDecorations(z,this._id):null}getLineDecorations(z){return this._modelData?this._modelData.model.getLineDecorations(z,this._id,(0,t.filterValidationDecorations)(this._configuration.options)):null}getDecorationsInRange(z){return this._modelData?this._modelData.model.getDecorationsInRange(z,this._id,(0,t.filterValidationDecorations)(this._configuration.options)):null}deltaDecorations(z,X){return this._modelData?z.length===0&&X.length===0?z:this._modelData.model.deltaDecorations(z,X,this._id):[]}removeDecorations(z){!this._modelData||z.length===0||this._modelData.model.changeDecorations(X=>{X.deltaDecorations(z,[])})}removeDecorationsByType(z){const X=this._decorationTypeKeysToIds[z];X&&this.deltaDecorations(X,[]),this._decorationTypeKeysToIds.hasOwnProperty(z)&&delete this._decorationTypeKeysToIds[z],this._decorationTypeSubtypes.hasOwnProperty(z)&&delete this._decorationTypeSubtypes[z]}getLayoutInfo(){return this._configuration.options.get(133)}createOverviewRuler(z){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(z)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(z){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(z)}layout(z){this._configuration.observeContainer(z),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(z){const X={widget:z,position:z.getPosition()};this._contentWidgets.hasOwnProperty(z.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[z.getId()]=X,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(X)}layoutContentWidget(z){const X=z.getId();if(this._contentWidgets.hasOwnProperty(X)){const G=this._contentWidgets[X];G.position=z.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(G)}}removeContentWidget(z){const X=z.getId();if(this._contentWidgets.hasOwnProperty(X)){const G=this._contentWidgets[X];delete this._contentWidgets[X],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(G)}}addOverlayWidget(z){const X={widget:z,position:z.getPosition()};this._overlayWidgets.hasOwnProperty(z.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[z.getId()]=X,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(X)}layoutOverlayWidget(z){const X=z.getId();if(this._overlayWidgets.hasOwnProperty(X)){const G=this._overlayWidgets[X];G.position=z.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(G)}}removeOverlayWidget(z){const X=z.getId();if(this._overlayWidgets.hasOwnProperty(X)){const G=this._overlayWidgets[X];delete this._overlayWidgets[X],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(G)}}changeViewZones(z){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(z)}getTargetAtClientPoint(z,X){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(z,X)}getScrolledVisiblePosition(z){if(!this._modelData||!this._modelData.hasRealView)return null;const X=this._modelData.model.validatePosition(z),G=this._configuration.options,U=G.get(133),K=Tt._getVerticalOffsetForPosition(this._modelData,X.lineNumber,X.column)-this.getScrollTop(),ce=this._modelData.view.getOffsetForColumn(X.lineNumber,X.column)+U.glyphMarginWidth+U.lineNumbersWidth+U.decorationsWidth-this.getScrollLeft();return{top:K,left:ce,height:G.get(61)}}getOffsetForColumn(z,X){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(z,X)}render(z=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,z)}setAriaOptions(z){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(z)}applyFontInfo(z){(0,W.applyFontInfo)(z,this._configuration.options.get(46))}setBanner(z,X){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=z,this._configuration.setReservedHeight(z?X:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(z){if(!z){this._modelData=null;return}const X=[];this._domElement.setAttribute("data-mode-id",z.getLanguageId()),this._configuration.setIsDominatedByLongLines(z.isDominatedByLongLines()),this._configuration.setModelLineCount(z.getLineCount()),z.onBeforeAttached();const G=new h.ViewModel(this._id,this._configuration,z,M.DOMLineBreaksComputerFactory.create(),D.MonospaceLineBreaksComputerFactory.create(this._configuration.options),ce=>C.scheduleAtNextAnimationFrame(ce),this.languageConfigurationService,this._themeService);X.push(z.onWillDispose(()=>this.setModel(null))),X.push(G.onEvent(ce=>{switch(ce.kind){case 0:this._onDidContentSizeChange.fire(ce);break;case 1:this._editorTextFocus.setValue(ce.hasFocus);break;case 2:this._onDidScrollChange.fire(ce);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{ce.reachedMaxCursorCount&&this._notificationService.warn(w.localize(0,null,r.CursorsController.MAX_CURSOR_COUNT));const ee=[];for(let Ce=0,we=ce.selections.length;Ce<we;Ce++)ee[Ce]=ce.selections[Ce].getPosition();const ue={position:ee[0],secondaryPositions:ee.slice(1),reason:ce.reason,source:ce.source};this._onDidChangeCursorPosition.fire(ue);const fe={selection:ce.selections[0],secondarySelections:ce.selections.slice(1),modelVersionId:ce.modelVersionId,oldSelections:ce.oldSelections,oldModelVersionId:ce.oldModelVersionId,source:ce.source,reason:ce.reason};this._onDidChangeCursorSelection.fire(fe);break}case 7:this._onDidChangeModelDecorations.fire(ce.event);break;case 8:this._domElement.setAttribute("data-mode-id",z.getLanguageId()),this._onDidChangeModelLanguage.fire(ce.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(ce.event);break;case 10:this._onDidChangeModelContent.fire(ce.event);break;case 11:this._onDidChangeModelOptions.fire(ce.event);break;case 12:this._onDidChangeModelTokens.fire(ce.event);break}}));const[U,K]=this._createView(G);if(K){this._domElement.appendChild(U.domNode.domNode);let ce=Object.keys(this._contentWidgets);for(let ee=0,ue=ce.length;ee<ue;ee++){const fe=ce[ee];U.addContentWidget(this._contentWidgets[fe])}ce=Object.keys(this._overlayWidgets);for(let ee=0,ue=ce.length;ee<ue;ee++){const fe=ce[ee];U.addOverlayWidget(this._overlayWidgets[fe])}U.render(!1,!0),U.domNode.domNode.setAttribute("data-uri",z.uri.toString())}this._modelData=new Q(z,G,U,K,X)}_createView(z){let X;this.isSimpleWidget?X={paste:(K,ce,ee,ue)=>{this._paste("keyboard",K,ce,ee,ue)},type:K=>{this._type("keyboard",K)},compositionType:(K,ce,ee,ue)=>{this._compositionType("keyboard",K,ce,ee,ue)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:X={paste:(K,ce,ee,ue)=>{const fe={text:K,pasteOnNewLine:ce,multicursorText:ee,mode:ue};this._commandService.executeCommand("paste",fe)},type:K=>{const ce={text:K};this._commandService.executeCommand("type",ce)},compositionType:(K,ce,ee,ue)=>{if(ee||ue){const fe={text:K,replacePrevCharCnt:ce,replaceNextCharCnt:ee,positionDelta:ue};this._commandService.executeCommand("compositionType",fe)}else{const fe={text:K,replaceCharCnt:ce};this._commandService.executeCommand("replacePreviousChar",fe)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const G=new i.ViewUserInputEvents(z.coordinatesConverter);return G.onKeyDown=K=>this._onKeyDown.fire(K),G.onKeyUp=K=>this._onKeyUp.fire(K),G.onContextMenu=K=>this._onContextMenu.fire(K),G.onMouseMove=K=>this._onMouseMove.fire(K),G.onMouseLeave=K=>this._onMouseLeave.fire(K),G.onMouseDown=K=>this._onMouseDown.fire(K),G.onMouseUp=K=>this._onMouseUp.fire(K),G.onMouseDrag=K=>this._onMouseDrag.fire(K),G.onMouseDrop=K=>this._onMouseDrop.fire(K),G.onMouseDropCanceled=K=>this._onMouseDropCanceled.fire(K),G.onMouseWheel=K=>this._onMouseWheel.fire(K),[new n.View(X,this._configuration,this._themeService.getColorTheme(),z,G,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(z){z==null||z.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const z=this._modelData.model,X=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),X&&this._domElement.contains(X)&&this._domElement.removeChild(X),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),z}_removeDecorationType(z){this._codeEditorService.removeDecorationType(z)}hasModel(){return this._modelData!==null}showDropIndicatorAt(z){const X=[{range:new a.Range(z.lineNumber,z.column,z.lineNumber,z.column),options:Tt.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(X),this.revealPosition(z,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}};J.dropIntoEditorDecorationOptions=p.ModelDecorationOptions.register({description:"workbench-dnd-target",className:"dnd-target"}),J=ke([me(3,E.IInstantiationService),me(4,g.ICodeEditorService),me(5,S.ICommandService),me(6,y.IContextKeyService),me(7,R.IThemeService),me(8,T.INotificationService),me(9,F.IAccessibilityService),me(10,B.ILanguageConfigurationService),me(11,V.ILanguageFeaturesService)],J),e.CodeEditorWidget=J;class H extends L.Disposable{constructor(z){super();this._emitterOptions=z,this._onDidChangeToTrue=this._register(new I.Emitter(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new I.Emitter(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(z){const X=z?2:1;this._value!==X&&(this._value=X,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=H;class q extends L.Disposable{constructor(z,X){super();this._editor=z,X.createKey("editorId",z.getId()),this._editorSimpleInput=f.EditorContextKeys.editorSimpleInput.bindTo(X),this._editorFocus=f.EditorContextKeys.focus.bindTo(X),this._textInputFocus=f.EditorContextKeys.textInputFocus.bindTo(X),this._editorTextFocus=f.EditorContextKeys.editorTextFocus.bindTo(X),this._editorTabMovesFocus=f.EditorContextKeys.tabMovesFocus.bindTo(X),this._editorReadonly=f.EditorContextKeys.readOnly.bindTo(X),this._inDiffEditor=f.EditorContextKeys.inDiffEditor.bindTo(X),this._editorColumnSelection=f.EditorContextKeys.columnSelection.bindTo(X),this._hasMultipleSelections=f.EditorContextKeys.hasMultipleSelections.bindTo(X),this._hasNonEmptySelection=f.EditorContextKeys.hasNonEmptySelection.bindTo(X),this._canUndo=f.EditorContextKeys.canUndo.bindTo(X),this._canRedo=f.EditorContextKeys.canRedo.bindTo(X),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const z=this._editor.getOptions();this._editorTabMovesFocus.set(z.get(132)),this._editorReadonly.set(z.get(83)),this._inDiffEditor.set(z.get(56)),this._editorColumnSelection.set(z.get(18))}_updateFromSelection(){const z=this._editor.getSelections();z?(this._hasMultipleSelections.set(z.length>1),this._hasNonEmptySelection.set(z.some(X=>!X.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const z=this._editor.getModel();this._canUndo.set(Boolean(z&&z.canUndo())),this._canRedo.set(Boolean(z&&z.canRedo()))}}class Z extends L.Disposable{constructor(z,X,G){super();this._editor=z,this._contextKeyService=X,this._languageFeaturesService=G,this._langId=f.EditorContextKeys.languageId.bindTo(X),this._hasCompletionItemProvider=f.EditorContextKeys.hasCompletionItemProvider.bindTo(X),this._hasCodeActionsProvider=f.EditorContextKeys.hasCodeActionsProvider.bindTo(X),this._hasCodeLensProvider=f.EditorContextKeys.hasCodeLensProvider.bindTo(X),this._hasDefinitionProvider=f.EditorContextKeys.hasDefinitionProvider.bindTo(X),this._hasDeclarationProvider=f.EditorContextKeys.hasDeclarationProvider.bindTo(X),this._hasImplementationProvider=f.EditorContextKeys.hasImplementationProvider.bindTo(X),this._hasTypeDefinitionProvider=f.EditorContextKeys.hasTypeDefinitionProvider.bindTo(X),this._hasHoverProvider=f.EditorContextKeys.hasHoverProvider.bindTo(X),this._hasDocumentHighlightProvider=f.EditorContextKeys.hasDocumentHighlightProvider.bindTo(X),this._hasDocumentSymbolProvider=f.EditorContextKeys.hasDocumentSymbolProvider.bindTo(X),this._hasReferenceProvider=f.EditorContextKeys.hasReferenceProvider.bindTo(X),this._hasRenameProvider=f.EditorContextKeys.hasRenameProvider.bindTo(X),this._hasSignatureHelpProvider=f.EditorContextKeys.hasSignatureHelpProvider.bindTo(X),this._hasInlayHintsProvider=f.EditorContextKeys.hasInlayHintsProvider.bindTo(X),this._hasDocumentFormattingProvider=f.EditorContextKeys.hasDocumentFormattingProvider.bindTo(X),this._hasDocumentSelectionFormattingProvider=f.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(X),this._hasMultipleDocumentFormattingProvider=f.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(X),this._hasMultipleDocumentSelectionFormattingProvider=f.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(X),this._isInWalkThrough=f.EditorContextKeys.isInWalkThroughSnippet.bindTo(X);const U=()=>this._update();this._register(z.onDidChangeModel(U)),this._register(z.onDidChangeModelLanguage(U)),this._register(G.completionProvider.onDidChange(U)),this._register(G.codeActionProvider.onDidChange(U)),this._register(G.codeLensProvider.onDidChange(U)),this._register(G.definitionProvider.onDidChange(U)),this._register(G.declarationProvider.onDidChange(U)),this._register(G.implementationProvider.onDidChange(U)),this._register(G.typeDefinitionProvider.onDidChange(U)),this._register(G.hoverProvider.onDidChange(U)),this._register(G.documentHighlightProvider.onDidChange(U)),this._register(G.documentSymbolProvider.onDidChange(U)),this._register(G.referenceProvider.onDidChange(U)),this._register(G.renameProvider.onDidChange(U)),this._register(G.documentFormattingEditProvider.onDidChange(U)),this._register(G.documentRangeFormattingEditProvider.onDidChange(U)),this._register(G.signatureHelpProvider.onDidChange(U)),this._register(G.inlayHintsProvider.onDidChange(U)),U()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const z=this._editor.getModel();if(!z){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(z.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(z)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(z)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(z)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(z)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(z)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(z)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(z)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(z)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(z)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(z)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(z)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(z)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(z)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(z)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(z)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(z)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(z)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(z).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(z).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(z).length>1),this._isInWalkThrough.set(z.uri.scheme===b.Schemas.walkThroughSnippet)})}}e.EditorModeContext=Z;class ie extends L.Disposable{constructor(z){super();this._onChange=this._register(new I.Emitter),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(C.trackFocus(z)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}class Y{constructor(z,X){this._editor=z,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(X)&&X.length>0&&this.set(X)}get length(){return this._decorationIds.length}onDidChange(z,X,G){return this._editor.onDidChangeModelDecorations(U=>{this._isChangingDecorations||z.call(X,U)},G)}getRange(z){return!this._editor.hasModel()||z>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[z])}getRanges(){if(!this._editor.hasModel())return[];const z=this._editor.getModel(),X=[];for(const G of this._decorationIds){const U=z.getDecorationRange(G);U&&X.push(U)}return X}has(z){return this._decorationIds.includes(z.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(z){try{this._isChangingDecorations=!0,this._editor.changeDecorations(X=>{this._decorationIds=X.deltaDecorations(this._decorationIds,z)})}finally{this._isChangingDecorations=!1}}}const te=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),de=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function x(se){return te+encodeURIComponent(se.toString())+de}const oe=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),ne=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function j(se){return oe+encodeURIComponent(se.toString())+ne}(0,R.registerThemingParticipant)((se,z)=>{const X=se.getColor(m.editorErrorBorder);X&&z.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${X}; }`);const G=se.getColor(m.editorErrorForeground);G&&z.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${x(G)}") repeat-x bottom left; }`);const U=se.getColor(m.editorErrorBackground);U&&z.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${U}; }`);const K=se.getColor(m.editorWarningBorder);K&&z.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${K}; }`);const ce=se.getColor(m.editorWarningForeground);ce&&z.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${x(ce)}") repeat-x bottom left; }`);const ee=se.getColor(m.editorWarningBackground);ee&&z.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${ee}; }`);const ue=se.getColor(m.editorInfoBorder);ue&&z.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${ue}; }`);const fe=se.getColor(m.editorInfoForeground);fe&&z.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${x(fe)}") repeat-x bottom left; }`);const Ce=se.getColor(m.editorInfoBackground);Ce&&z.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${Ce}; }`);const we=se.getColor(m.editorHintBorder);we&&z.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${we}; }`);const ye=se.getColor(m.editorHintForeground);ye&&z.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${j(ye)}") no-repeat bottom left; }`);const De=se.getColor(_.editorUnnecessaryCodeOpacity);De&&z.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${De.rgba.a}; }`);const Me=se.getColor(_.editorUnnecessaryCodeBorder);Me&&z.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${Me}; }`);const pe=se.getColor(m.editorForeground)||"inherit";z.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${pe}}`)})}),define(re[311],ae([1,0,526,7,177,33,135,10,6,2,65,152,29,173,731,36,11,3,91,154,35,92,245,130,114,74,16,9,167,39,25,15,78,529,93,12,14,71,267,27,150,80,56,368]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f,p,_,m,h,S,y,E,N,T,R,F,O,D,M,P,B,W,V,A,Q,J){"use strict";var H;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=void 0;class q{constructor(he,le){this._contextMenuService=he,this._clipboardService=le,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(he){return he.filter(le=>!this._zonesMap[String(le.id)])}clean(he){this._zones.length>0&&he.changeViewZones(le=>{for(const ge of this._zones)le.removeZone(ge)}),this._zones=[],this._zonesMap={},he.changeDecorations(le=>{this._decorations=le.deltaDecorations(this._decorations,[])})}apply(he,le,ge,_e){const Le=_e?n.StableEditorScrollState.capture(he):null;he.changeViewZones(Ie=>{var Ae;for(const Oe of this._zones)Ie.removeZone(Oe);for(const Oe of this._inlineDiffMargins)Oe.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let Oe=0,be=ge.zones.length;Oe<be;Oe++){const ve=ge.zones[Oe];ve.suppressMouseDown=!0;const Ee=Ie.addZone(ve);this._zones.push(Ee),this._zonesMap[String(Ee)]=!0,ge.zones[Oe].diff&&ve.marginDomNode&&(ve.suppressMouseDown=!1,((Ae=ge.zones[Oe].diff)===null||Ae===void 0?void 0:Ae.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new O.InlineDiffMargin(Ee,ve.marginDomNode,he,ge.zones[Oe].diff,this._contextMenuService,this._clipboardService)))}}),Le==null||Le.restore(he),he.changeDecorations(Ie=>{this._decorations=Ie.deltaDecorations(this._decorations,ge.decorations)}),le==null||le.setZones(ge.overviewZones)}}let Z=0;const ie=(0,Q.registerIcon)("diff-insert",V.Codicon.add,w.localize(0,null)),Y=(0,Q.registerIcon)("diff-remove",V.Codicon.remove,w.localize(1,null)),te=(H=window.trustedTypes)===null||H===void 0?void 0:H.createPolicy("diffEditorWidget",{createHTML:pe=>pe});let de=class at extends u.Disposable{constructor(he,le,ge,_e,Le,Ie,Ae,Oe,be,ve,Ee,Re){super();this._editorProgressService=Re,this._onDidDispose=this._register(new v.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new v.Emitter),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new v.Emitter),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=Le,this._codeEditorService=Oe,this._contextKeyService=this._register(Ie.createScoped(he)),this._instantiationService=Ae.createChild(new E.ServiceCollection([S.IContextKeyService,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=be,this._notificationService=ve,this._id=++Z,this._state=0,this._updatingDiffProgress=null,this._domElement=he,le=le||{},this._options=De(le,{enableSplitViewResizing:!0,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),typeof le.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",le.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new b.RunOnceScheduler(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=at._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,I.createFastDomNode)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(C.addStandardDisposableListener(this._overviewDomElement,C.EventType.POINTER_DOWN,Be=>{this._modifiedEditor.delegateVerticalScrollbarPointerDown(Be)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new q(Ee,_e),this._modifiedEditorState=new q(Ee,_e),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new W.ElementSizeObserver(this._containerDomElement,le.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),le.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(le,ge.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(le,ge.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=Ae.createInstance(r.DiffReview,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new z(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new G(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(be.onDidColorThemeChange(Be=>{this._strategy&&this._strategy.applyColors(Be)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=at._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const Te=M.EditorExtensionsRegistry.getDiffEditorContributions();for(const Be of Te)try{this._register(Ae.createInstance(Be.ctor,this))}catch(xe){(0,P.onUnexpectedError)(xe)}this._codeEditorService.addDiffEditor(this)}_setState(he){this._state!==he&&(this._state=he,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(he,le){let ge="monaco-diff-editor monaco-editor-background ";return le&&(ge+="side-by-side "),ge+=(0,R.getThemeTypeSelector)(he.type),ge}_disposeOverviewRulers(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose(),this._originalOverviewRuler=null),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose(),this._modifiedOverviewRuler=null)}_createOverviewRulers(){!this._options.renderOverviewRuler||(k.ok(!this._originalOverviewRuler&&!this._modifiedOverviewRuler),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(he,le){const ge=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(he),le);this._register(ge.onDidScrollChange(Le=>{this._isHandlingScrollEvent||!Le.scrollTopChanged&&!Le.scrollLeftChanged&&!Le.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:Le.scrollLeft,scrollTop:Le.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(ge.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(ge.onDidChangeConfiguration(Le=>{!ge.getModel()||(Le.hasChanged(46)&&this._updateDecorationsRunner.schedule(),Le.hasChanged(134)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(ge.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(ge.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const _e=this._contextKeyService.createKey("isInDiffLeftEditor",ge.hasWidgetFocus());return this._register(ge.onDidFocusEditorWidget(()=>_e.set(!0))),this._register(ge.onDidBlurEditorWidget(()=>_e.set(!1))),this._register(ge.onDidContentSizeChange(Le=>{const Ie=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+at.ONE_OVERVIEW_WIDTH,Ae=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Ae,contentWidth:Ie,contentHeightChanged:Le.contentHeightChanged,contentWidthChanged:Le.contentWidthChanged})})),ge}_createRightHandSideEditor(he,le){const ge=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(he),le);this._register(ge.onDidScrollChange(Le=>{this._isHandlingScrollEvent||!Le.scrollTopChanged&&!Le.scrollLeftChanged&&!Le.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:Le.scrollLeft,scrollTop:Le.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(ge.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(ge.onDidChangeConfiguration(Le=>{!ge.getModel()||(Le.hasChanged(46)&&this._updateDecorationsRunner.schedule(),Le.hasChanged(134)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(ge.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(ge.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(ge.onDidChangeModelOptions(Le=>{Le.tabSize&&this._updateDecorationsRunner.schedule()}));const _e=this._contextKeyService.createKey("isInDiffRightEditor",ge.hasWidgetFocus());return this._register(ge.onDidFocusEditorWidget(()=>_e.set(!0))),this._register(ge.onDidBlurEditorWidget(()=>_e.set(!1))),this._register(ge.onDidContentSizeChange(Le=>{const Ie=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+at.ONE_OVERVIEW_WIDTH,Ae=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Ae,contentWidth:Ie,contentHeightChanged:Le.contentHeightChanged,contentWidthChanged:Le.contentWidthChanged})})),this._register(ge.onMouseDown(Le=>{var Ie,Ae;if(!Le.event.rightButton&&Le.target.position&&((Ie=Le.target.element)===null||Ie===void 0?void 0:Ie.className.includes("arrow-revert-change"))){const Oe=Le.target.position.lineNumber,be=(Ae=this._diffComputationResult)===null||Ae===void 0?void 0:Ae.changes.find(ve=>ve.modifiedStartLineNumber===Oe-1||ve.modifiedStartLineNumber===Oe);be&&this.revertChange(be),Le.event.stopPropagation(),this._updateDecorations();return}})),ge}revertChange(he){const le=this._modifiedEditor,ge=this._originalEditor.getModel(),_e=this._modifiedEditor.getModel();if(!ge||!_e||!le)return;const Le=he.originalEndLineNumber>0?new a.Range(he.originalStartLineNumber,1,he.originalEndLineNumber,ge.getLineMaxColumn(he.originalEndLineNumber)):null,Ie=Le?ge.getValueInRange(Le):null,Ae=he.modifiedEndLineNumber>0?new a.Range(he.modifiedStartLineNumber,1,he.modifiedEndLineNumber,_e.getLineMaxColumn(he.modifiedEndLineNumber)):null,Oe=_e.getEOL();if(he.originalEndLineNumber===0&&Ae){let be=Ae;he.modifiedStartLineNumber>1?be=Ae.setStartPosition(he.modifiedStartLineNumber-1,_e.getLineMaxColumn(he.modifiedStartLineNumber-1)):he.modifiedEndLineNumber<_e.getLineCount()&&(be=Ae.setEndPosition(he.modifiedEndLineNumber+1,1)),le.executeEdits("diffEditor",[{range:be,text:""}])}else if(he.modifiedEndLineNumber===0&&Ie!==null){const be=he.modifiedStartLineNumber<_e.getLineCount()?new d.Position(he.modifiedStartLineNumber+1,1):new d.Position(he.modifiedStartLineNumber,_e.getLineMaxColumn(he.modifiedStartLineNumber));le.executeEdits("diffEditor",[{range:a.Range.fromPositions(be,be),text:he.modifiedStartLineNumber<_e.getLineCount()?Ie+Oe:Oe+Ie}])}else Ae&&Ie!==null&&le.executeEdits("diffEditor",[{range:Ae,text:Ie}])}_createInnerEditor(he,le,ge,_e){return he.createInstance(t.CodeEditorWidget,le,ge,_e)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return o.EditorType.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(he){const le=De(he,this._options),ge=Me(this._options,le);this._options=le;const _e=ge.ignoreTrimWhitespace||ge.renderIndicators||ge.renderMarginRevertIcon,Le=this._isVisible&&(ge.maxComputationTime||ge.maxFileSize);_e?this._beginUpdateDecorations():Le&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(he)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(he)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),ge.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new z(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new G(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=at._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),ge.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(he){if(he&&(!he.original||!he.modified))throw new Error(he.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._disposeOverviewRulers(),this._originalEditor.setModel(he?he.original:null),this._modifiedEditor.setModel(he?he.modified:null),this._updateDecorationsRunner.cancel(),he&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),he&&(this._createOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(he){return this._modifiedEditor.getVisibleColumnFromPosition(he)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(he,le="api"){this._modifiedEditor.setPosition(he,le)}revealLine(he,le=0){this._modifiedEditor.revealLine(he,le)}revealLineInCenter(he,le=0){this._modifiedEditor.revealLineInCenter(he,le)}revealLineInCenterIfOutsideViewport(he,le=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(he,le)}revealLineNearTop(he,le=0){this._modifiedEditor.revealLineNearTop(he,le)}revealPosition(he,le=0){this._modifiedEditor.revealPosition(he,le)}revealPositionInCenter(he,le=0){this._modifiedEditor.revealPositionInCenter(he,le)}revealPositionInCenterIfOutsideViewport(he,le=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(he,le)}revealPositionNearTop(he,le=0){this._modifiedEditor.revealPositionNearTop(he,le)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(he,le="api"){this._modifiedEditor.setSelection(he,le)}setSelections(he,le="api"){this._modifiedEditor.setSelections(he,le)}revealLines(he,le,ge=0){this._modifiedEditor.revealLines(he,le,ge)}revealLinesInCenter(he,le,ge=0){this._modifiedEditor.revealLinesInCenter(he,le,ge)}revealLinesInCenterIfOutsideViewport(he,le,ge=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(he,le,ge)}revealLinesNearTop(he,le,ge=0){this._modifiedEditor.revealLinesNearTop(he,le,ge)}revealRange(he,le=0,ge=!1,_e=!0){this._modifiedEditor.revealRange(he,le,ge,_e)}revealRangeInCenter(he,le=0){this._modifiedEditor.revealRangeInCenter(he,le)}revealRangeInCenterIfOutsideViewport(he,le=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(he,le)}revealRangeNearTop(he,le=0){this._modifiedEditor.revealRangeNearTop(he,le)}revealRangeNearTopIfOutsideViewport(he,le=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(he,le)}revealRangeAtTop(he,le=0){this._modifiedEditor.revealRangeAtTop(he,le)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const he=this._originalEditor.saveViewState(),le=this._modifiedEditor.saveViewState();return{original:he,modified:le}}restoreViewState(he){if(he&&he.original&&he.modified){const le=he;this._originalEditor.restoreViewState(le.original),this._modifiedEditor.restoreViewState(le.modified)}}layout(he){this._elementSizeObserver.observe(he)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(he,le,ge){this._modifiedEditor.trigger(he,le,ge)}createDecorationsCollection(he){return this._modifiedEditor.createDecorationsCollection(he)}changeDecorations(he){return this._modifiedEditor.changeDecorations(he)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const he=this._elementSizeObserver.getHeight(),le=this._getReviewHeight(),ge=at.ENTIRE_DIFF_OVERVIEW_WIDTH-2*at.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:at.ONE_OVERVIEW_WIDTH,right:ge+at.ONE_OVERVIEW_WIDTH,height:he-le}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:at.ONE_OVERVIEW_WIDTH,height:he-le}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),at.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(he,le){return!he&&!le?!0:!he||!le?!1:he.toString()===le.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const he=this._originalEditor.getModel(),le=this._modifiedEditor.getModel();if(!he||!le)return;this._diffComputationToken++;const ge=this._diffComputationToken,_e=this._options.maxFileSize*1024*1024,Le=Ie=>{const Ae=Ie.getValueLength();return _e===0||Ae<=_e};if(!Le(he)||!Le(le)){(!at._equals(he.uri,this._lastOriginalWarning)||!at._equals(le.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=he.uri,this._lastModifiedWarning=le.uri,this._notificationService.warn(w.localize(2,null)));return}this._setState(1),this._editorWorkerService.computeDiff(he.uri,le.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(Ie=>{ge===this._diffComputationToken&&he===this._originalEditor.getModel()&&le===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=Ie,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},Ie=>{ge===this._diffComputationToken&&he===this._originalEditor.getModel()&&le===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const he=this._diffComputationResult?this._diffComputationResult.changes:[],le=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),ge=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),_e=this._strategy.getEditorsDiffDecorations(he,this._options.ignoreTrimWhitespace,this._options.renderIndicators,this._options.renderMarginRevertIcon,le,ge);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,_e.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,_e.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(he){const le=Object.assign({},he);return le.inDiffEditor=!0,le.automaticLayout=!1,le.scrollbar=Object.assign({},le.scrollbar||{}),le.scrollbar.vertical="visible",le.folding=!1,le.codeLens=this._options.diffCodeLens,le.fixedOverflowWidgets=!0,le.minimap=Object.assign({},le.minimap||{}),le.minimap.enabled=!1,le}_adjustOptionsForLeftHandSide(he){const le=this._adjustOptionsForSubEditor(he);return this._options.renderSideBySide?le.wordWrapOverride1=this._options.diffWordWrap:(le.wordWrapOverride1="off",le.wordWrapOverride2="off"),he.originalAriaLabel&&(le.ariaLabel=he.originalAriaLabel),le.readOnly=!this._options.originalEditable,le.dropIntoEditor={enabled:!le.readOnly},le.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},le),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(he){const le=this._adjustOptionsForSubEditor(he);return he.modifiedAriaLabel&&(le.ariaLabel=he.modifiedAriaLabel),le.wordWrapOverride1=this._options.diffWordWrap,le.revealHorizontalRightPadding=l.EditorOptions.revealHorizontalRightPadding.defaultValue+at.ENTIRE_DIFF_OVERVIEW_WIDTH,le.scrollbar.verticalHasArrows=!1,le.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},le),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const he=this._elementSizeObserver.getWidth(),le=this._elementSizeObserver.getHeight(),ge=this._getReviewHeight(),_e=this._strategy.layout();this._originalDomNode.style.width=_e+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=he-_e+"px",this._modifiedDomNode.style.left=_e+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=le-ge+"px",this._overviewDomElement.style.width=at.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=he-at.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(at.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:_e,height:le-ge}),this._modifiedEditor.layout({width:he-_e-(this._options.renderOverviewRuler?at.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:le-ge}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(le-ge,he,ge),this._layoutOverviewViewport()}_layoutOverviewViewport(){const he=this._computeOverviewViewport();he?(this._overviewViewportDomElement.setTop(he.top),this._overviewViewportDomElement.setHeight(he.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const he=this._modifiedEditor.getLayoutInfo();if(!he)return null;const le=this._modifiedEditor.getScrollTop(),ge=this._modifiedEditor.getScrollHeight(),_e=Math.max(0,he.height),Le=Math.max(0,_e-2*0),Ie=ge>0?Le/ge:0,Ae=Math.max(0,Math.floor(he.height*Ie)),Oe=Math.floor(le*Ie);return{height:Ae,top:Oe}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(he){this._strategy&&this._strategy.dispose(),this._strategy=he,he.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(he,le){const ge=this._diffComputationResult?this._diffComputationResult.changes:[];if(ge.length===0||he<le(ge[0]))return null;let _e=0,Le=ge.length-1;for(;_e<Le;){const Ie=Math.floor((_e+Le)/2),Ae=le(ge[Ie]),Oe=Ie+1<=Le?le(ge[Ie+1]):1073741824;he<Ae?Le=Ie-1:he>=Oe?_e=Ie+1:(_e=Ie,Le=Ie)}return ge[_e]}_getEquivalentLineForOriginalLineNumber(he){const le=this._getLineChangeAtOrBeforeLineNumber(he,Oe=>Oe.originalStartLineNumber);if(!le)return he;const ge=le.originalStartLineNumber+(le.originalEndLineNumber>0?-1:0),_e=le.modifiedStartLineNumber+(le.modifiedEndLineNumber>0?-1:0),Le=le.originalEndLineNumber>0?le.originalEndLineNumber-le.originalStartLineNumber+1:0,Ie=le.modifiedEndLineNumber>0?le.modifiedEndLineNumber-le.modifiedStartLineNumber+1:0,Ae=he-ge;return Ae<=Le?_e+Math.min(Ae,Ie):_e+Ie-Le+Ae}_getEquivalentLineForModifiedLineNumber(he){const le=this._getLineChangeAtOrBeforeLineNumber(he,Oe=>Oe.modifiedStartLineNumber);if(!le)return he;const ge=le.originalStartLineNumber+(le.originalEndLineNumber>0?-1:0),_e=le.modifiedStartLineNumber+(le.modifiedEndLineNumber>0?-1:0),Le=le.originalEndLineNumber>0?le.originalEndLineNumber-le.originalStartLineNumber+1:0,Ie=le.modifiedEndLineNumber>0?le.modifiedEndLineNumber-le.modifiedStartLineNumber+1:0,Ae=he-_e;return Ae<=Ie?ge+Math.min(Ae,Le):ge+Le-Ie+Ae}getDiffLineInformationForOriginal(he){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(he)}:null}getDiffLineInformationForModified(he){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(he)}:null}};de.ONE_OVERVIEW_WIDTH=15,de.ENTIRE_DIFF_OVERVIEW_WIDTH=30,de.UPDATE_DIFF_DECORATIONS_DELAY=200,de=ke([me(3,D.IClipboardService),me(4,f.IEditorWorkerService),me(5,S.IContextKeyService),me(6,y.IInstantiationService),me(7,i.ICodeEditorService),me(8,R.IThemeService),me(9,N.INotificationService),me(10,F.IContextMenuService),me(11,B.IEditorProgressService)],de),e.DiffEditorWidget=de;class x extends u.Disposable{constructor(he){super();this._dataSource=he,this._insertColor=null,this._removeColor=null}applyColors(he){const le=he.getColor(T.diffOverviewRulerInserted)||(he.getColor(T.diffInserted)||T.defaultInsertColor).transparent(2),ge=he.getColor(T.diffOverviewRulerRemoved)||(he.getColor(T.diffRemoved)||T.defaultRemoveColor).transparent(2),_e=!le.equals(this._insertColor)||!ge.equals(this._removeColor);return this._insertColor=le,this._removeColor=ge,_e}getEditorsDiffDecorations(he,le,ge,_e,Le,Ie){Ie=Ie.sort((ve,Ee)=>ve.afterLineNumber-Ee.afterLineNumber),Le=Le.sort((ve,Ee)=>ve.afterLineNumber-Ee.afterLineNumber);const Ae=this._getViewZones(he,Le,Ie,ge),Oe=this._getOriginalEditorDecorations(Ae,he,le,ge),be=this._getModifiedEditorDecorations(Ae,he,le,ge,_e);return{original:{decorations:Oe.decorations,overviewZones:Oe.overviewZones,zones:Ae.original},modified:{decorations:be.decorations,overviewZones:be.overviewZones,zones:Ae.modified}}}}class oe{constructor(he){this._source=he,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class ne{constructor(he,le,ge,_e,Le){this._lineChanges=he,this._originalForeignVZ=le,this._modifiedForeignVZ=ge,this._originalEditor=_e,this._modifiedEditor=Le}static _getViewLineCount(he,le,ge){const _e=he.getModel(),Le=he._getViewModel();if(_e&&Le){const Ie=ye(_e,Le,le,ge);return Ie.endLineNumber-Ie.startLineNumber+1}return ge-le+1}getViewZones(){const he=this._originalEditor.getOption(61),le=this._modifiedEditor.getOption(61),ge=this._originalEditor.getOption(134).wrappingColumn!==-1,_e=this._modifiedEditor.getOption(134).wrappingColumn!==-1,Le=ge||_e,Ie=this._originalEditor.getModel(),Ae=this._originalEditor._getViewModel().coordinatesConverter,Oe=this._modifiedEditor._getViewModel().coordinatesConverter,be={original:[],modified:[]};let ve=0,Ee=0,Re=0,Te=0,Be=0,xe=0;const qe=(Fe,He)=>Fe.afterLineNumber-He.afterLineNumber,Ze=(Fe,He)=>{if(He.domNode===null&&Fe.length>0){const Ve=Fe[Fe.length-1];if(Ve.afterLineNumber===He.afterLineNumber&&Ve.domNode===null){Ve.heightInLines+=He.heightInLines;return}}Fe.push(He)},nt=new oe(this._modifiedForeignVZ),ot=new oe(this._originalForeignVZ);let ze=1,Ne=1;for(let Fe=0,He=this._lineChanges.length;Fe<=He;Fe++){const Ve=Fe<He?this._lineChanges[Fe]:null;Ve!==null?(Re=Ve.originalStartLineNumber+(Ve.originalEndLineNumber>0?-1:0),Te=Ve.modifiedStartLineNumber+(Ve.modifiedEndLineNumber>0?-1:0),Ee=Ve.originalEndLineNumber>0?ne._getViewLineCount(this._originalEditor,Ve.originalStartLineNumber,Ve.originalEndLineNumber):0,ve=Ve.modifiedEndLineNumber>0?ne._getViewLineCount(this._modifiedEditor,Ve.modifiedStartLineNumber,Ve.modifiedEndLineNumber):0,Be=Math.max(Ve.originalStartLineNumber,Ve.originalEndLineNumber),xe=Math.max(Ve.modifiedStartLineNumber,Ve.modifiedEndLineNumber)):(Re+=1e7+Ee,Te+=1e7+ve,Be=Re,xe=Te);let Je=[],Qe=[];if(Le){let $e;Ve?Ve.originalEndLineNumber>0?$e=Ve.originalStartLineNumber-ze:$e=Ve.modifiedStartLineNumber-Ne:$e=Ie.getLineCount()-ze+1;for(let je=0;je<$e;je++){const Pe=ze+je,We=Ne+je,Ue=Ae.getModelLineViewLineCount(Pe),Ke=Oe.getModelLineViewLineCount(We);Ue<Ke?Je.push({afterLineNumber:Pe,heightInLines:Ke-Ue,domNode:null,marginDomNode:null}):Ue>Ke&&Qe.push({afterLineNumber:We,heightInLines:Ue-Ke,domNode:null,marginDomNode:null})}Ve&&(ze=(Ve.originalEndLineNumber>0?Ve.originalEndLineNumber:Ve.originalStartLineNumber)+1,Ne=(Ve.modifiedEndLineNumber>0?Ve.modifiedEndLineNumber:Ve.modifiedStartLineNumber)+1)}for(;nt.current&&nt.current.afterLineNumber<=xe;){let $e;nt.current.afterLineNumber<=Te?$e=Re-Te+nt.current.afterLineNumber:$e=Be;let je=null;Ve&&Ve.modifiedStartLineNumber<=nt.current.afterLineNumber&&nt.current.afterLineNumber<=Ve.modifiedEndLineNumber&&(je=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),Je.push({afterLineNumber:$e,heightInLines:nt.current.height/le,domNode:null,marginDomNode:je}),nt.advance()}for(;ot.current&&ot.current.afterLineNumber<=Be;){let $e;ot.current.afterLineNumber<=Re?$e=Te-Re+ot.current.afterLineNumber:$e=xe,Qe.push({afterLineNumber:$e,heightInLines:ot.current.height/he,domNode:null}),ot.advance()}if(Ve!==null&&ce(Ve)){const $e=this._produceOriginalFromDiff(Ve,Ee,ve);$e&&Je.push($e)}if(Ve!==null&&ee(Ve)){const $e=this._produceModifiedFromDiff(Ve,Ee,ve);$e&&Qe.push($e)}let Ye=0,tt=0;for(Je=Je.sort(qe),Qe=Qe.sort(qe);Ye<Je.length&&tt<Qe.length;){const $e=Je[Ye],je=Qe[tt],Pe=$e.afterLineNumber-Re,We=je.afterLineNumber-Te;Pe<We?(Ze(be.original,$e),Ye++):We<Pe?(Ze(be.modified,je),tt++):$e.shouldNotShrink?(Ze(be.original,$e),Ye++):je.shouldNotShrink?(Ze(be.modified,je),tt++):$e.heightInLines>=je.heightInLines?($e.heightInLines-=je.heightInLines,tt++):(je.heightInLines-=$e.heightInLines,Ye++)}for(;Ye<Je.length;)Ze(be.original,Je[Ye]),Ye++;for(;tt<Qe.length;)Ze(be.modified,Qe[tt]),tt++}return{original:ne._ensureDomNodes(be.original),modified:ne._ensureDomNodes(be.modified)}}static _ensureDomNodes(he){return he.map(le=>(le.domNode||(le.domNode=Ce()),le))}}function j(pe,he,le,ge,_e){return{range:new a.Range(pe,he,le,ge),options:_e}}const se={arrowRevertChange:c.ModelDecorationOptions.register({description:"diff-editor-arrow-revert-change",glyphMarginClassName:"arrow-revert-change "+R.ThemeIcon.asClassName(V.Codicon.arrowRight)}),charDelete:c.ModelDecorationOptions.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:c.ModelDecorationOptions.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:c.ModelDecorationOptions.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:c.ModelDecorationOptions.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:c.ModelDecorationOptions.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:c.ModelDecorationOptions.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+R.ThemeIcon.asClassName(ie),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:c.ModelDecorationOptions.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:c.ModelDecorationOptions.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+R.ThemeIcon.asClassName(Y),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:c.ModelDecorationOptions.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};class z extends x{constructor(he,le){super(he);this._disableSash=le===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new L.Sash(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(ge=>this._onSashDrag(ge)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(he){const le=he===!1;this._disableSash!==le&&(this._disableSash=le,this._sash.state=this._disableSash?0:3)}layout(he=this._sashRatio){const ge=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?de.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let _e=Math.floor((he||.5)*ge);const Le=Math.floor(.5*ge);return _e=this._disableSash?Le:_e||Le,ge>z.MINIMUM_EDITOR_WIDTH*2?(_e<z.MINIMUM_EDITOR_WIDTH&&(_e=z.MINIMUM_EDITOR_WIDTH),_e>ge-z.MINIMUM_EDITOR_WIDTH&&(_e=ge-z.MINIMUM_EDITOR_WIDTH)):_e=Le,this._sashPosition!==_e&&(this._sashPosition=_e),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(he){const ge=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?de.ENTIRE_DIFF_OVERVIEW_WIDTH:0),_e=this.layout((this._startSashPosition+(he.currentX-he.startX))/ge);this._sashRatio=_e/ge,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(he){return 0}getVerticalSashLeft(he){return this._sashPosition}getVerticalSashHeight(he){return this._dataSource.getHeight()}_getViewZones(he,le,ge){const _e=this._dataSource.getOriginalEditor(),Le=this._dataSource.getModifiedEditor();return new X(he,le,ge,_e,Le).getViewZones()}_getOriginalEditorDecorations(he,le,ge,_e){const Le=this._dataSource.getOriginalEditor(),Ie=String(this._removeColor),Ae={decorations:[],overviewZones:[]},Oe=Le.getModel(),be=Le._getViewModel();for(const ve of le)if(ee(ve)){Ae.decorations.push({range:new a.Range(ve.originalStartLineNumber,1,ve.originalEndLineNumber,1073741824),options:_e?se.lineDeleteWithSign:se.lineDelete}),(!ce(ve)||!ve.charChanges)&&Ae.decorations.push(j(ve.originalStartLineNumber,1,ve.originalEndLineNumber,1073741824,se.charDeleteWholeLine));const Ee=ye(Oe,be,ve.originalStartLineNumber,ve.originalEndLineNumber);if(Ae.overviewZones.push(new p.OverviewRulerZone(Ee.startLineNumber,Ee.endLineNumber,0,Ie)),ve.charChanges){for(const Re of ve.charChanges)if(fe(Re))if(ge)for(let Te=Re.originalStartLineNumber;Te<=Re.originalEndLineNumber;Te++){let Be,xe;Te===Re.originalStartLineNumber?Be=Re.originalStartColumn:Be=Oe.getLineFirstNonWhitespaceColumn(Te),Te===Re.originalEndLineNumber?xe=Re.originalEndColumn:xe=Oe.getLineLastNonWhitespaceColumn(Te),Ae.decorations.push(j(Te,Be,Te,xe,se.charDelete))}else Ae.decorations.push(j(Re.originalStartLineNumber,Re.originalStartColumn,Re.originalEndLineNumber,Re.originalEndColumn,se.charDelete))}}return Ae}_getModifiedEditorDecorations(he,le,ge,_e,Le){const Ie=this._dataSource.getModifiedEditor(),Ae=String(this._insertColor),Oe={decorations:[],overviewZones:[]},be=Ie.getModel(),ve=Ie._getViewModel();for(const Ee of le){if(Le)if(Ee.modifiedEndLineNumber>0)Oe.decorations.push({range:new a.Range(Ee.modifiedStartLineNumber,1,Ee.modifiedStartLineNumber,1),options:se.arrowRevertChange});else{const Re=he.modified.find(Te=>Te.afterLineNumber===Ee.modifiedStartLineNumber);Re&&(Re.marginDomNode=we())}if(ce(Ee)){Oe.decorations.push({range:new a.Range(Ee.modifiedStartLineNumber,1,Ee.modifiedEndLineNumber,1073741824),options:_e?se.lineInsertWithSign:se.lineInsert}),(!ee(Ee)||!Ee.charChanges)&&Oe.decorations.push(j(Ee.modifiedStartLineNumber,1,Ee.modifiedEndLineNumber,1073741824,se.charInsertWholeLine));const Re=ye(be,ve,Ee.modifiedStartLineNumber,Ee.modifiedEndLineNumber);if(Oe.overviewZones.push(new p.OverviewRulerZone(Re.startLineNumber,Re.endLineNumber,0,Ae)),Ee.charChanges){for(const Te of Ee.charChanges)if(ue(Te))if(ge)for(let Be=Te.modifiedStartLineNumber;Be<=Te.modifiedEndLineNumber;Be++){let xe,qe;Be===Te.modifiedStartLineNumber?xe=Te.modifiedStartColumn:xe=be.getLineFirstNonWhitespaceColumn(Be),Be===Te.modifiedEndLineNumber?qe=Te.modifiedEndColumn:qe=be.getLineLastNonWhitespaceColumn(Be),Oe.decorations.push(j(Be,xe,Be,qe,se.charInsert))}else Oe.decorations.push(j(Te.modifiedStartLineNumber,Te.modifiedStartColumn,Te.modifiedEndLineNumber,Te.modifiedEndColumn,se.charInsert))}}}return Oe}}z.MINIMUM_EDITOR_WIDTH=100;class X extends ne{constructor(he,le,ge,_e,Le){super(he,le,ge,_e,Le)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(he,le,ge){return ge>le?{afterLineNumber:Math.max(he.originalStartLineNumber,he.originalEndLineNumber),heightInLines:ge-le,domNode:null}:null}_produceModifiedFromDiff(he,le,ge){return le>ge?{afterLineNumber:Math.max(he.modifiedStartLineNumber,he.modifiedEndLineNumber),heightInLines:le-ge,domNode:null}:null}}class G extends x{constructor(he,le){super(he);this._decorationsLeft=he.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(he.getOriginalEditor().onDidLayoutChange(ge=>{this._decorationsLeft!==ge.decorationsLeft&&(this._decorationsLeft=ge.decorationsLeft,he.relayoutEditors())}))}setEnableSplitViewResizing(he){}_getViewZones(he,le,ge,_e){const Le=this._dataSource.getOriginalEditor(),Ie=this._dataSource.getModifiedEditor();return new U(he,le,ge,Le,Ie,_e).getViewZones()}_getOriginalEditorDecorations(he,le,ge,_e){const Le=String(this._removeColor),Ie={decorations:[],overviewZones:[]},Ae=this._dataSource.getOriginalEditor(),Oe=Ae.getModel(),be=Ae._getViewModel();let ve=0;for(const Ee of le)if(ee(Ee)){for(Ie.decorations.push({range:new a.Range(Ee.originalStartLineNumber,1,Ee.originalEndLineNumber,1073741824),options:se.lineDeleteMargin});ve<he.modified.length;){const Be=he.modified[ve];if(Be.diff&&Be.diff.originalStartLineNumber>=Ee.originalStartLineNumber)break;ve++}let Re=0;if(ve<he.modified.length){const Be=he.modified[ve];Be.diff&&Be.diff.originalStartLineNumber===Ee.originalStartLineNumber&&Be.diff.originalEndLineNumber===Ee.originalEndLineNumber&&Be.diff.modifiedStartLineNumber===Ee.modifiedStartLineNumber&&Be.diff.modifiedEndLineNumber===Ee.modifiedEndLineNumber&&(Re=Be.heightInLines)}const Te=ye(Oe,be,Ee.originalStartLineNumber,Ee.originalEndLineNumber);Ie.overviewZones.push(new p.OverviewRulerZone(Te.startLineNumber,Te.endLineNumber,Re,Le))}return Ie}_getModifiedEditorDecorations(he,le,ge,_e,Le){const Ie=this._dataSource.getModifiedEditor(),Ae=String(this._insertColor),Oe={decorations:[],overviewZones:[]},be=Ie.getModel(),ve=Ie._getViewModel();for(const Ee of le)if(ce(Ee)){Oe.decorations.push({range:new a.Range(Ee.modifiedStartLineNumber,1,Ee.modifiedEndLineNumber,1073741824),options:_e?se.lineInsertWithSign:se.lineInsert});const Re=ye(be,ve,Ee.modifiedStartLineNumber,Ee.modifiedEndLineNumber);if(Oe.overviewZones.push(new p.OverviewRulerZone(Re.startLineNumber,Re.endLineNumber,0,Ae)),Ee.charChanges){for(const Te of Ee.charChanges)if(ue(Te))if(ge)for(let Be=Te.modifiedStartLineNumber;Be<=Te.modifiedEndLineNumber;Be++){let xe,qe;Be===Te.modifiedStartLineNumber?xe=Te.modifiedStartColumn:xe=be.getLineFirstNonWhitespaceColumn(Be),Be===Te.modifiedEndLineNumber?qe=Te.modifiedEndColumn:qe=be.getLineLastNonWhitespaceColumn(Be),Oe.decorations.push(j(Be,xe,Be,qe,se.charInsert))}else Oe.decorations.push(j(Te.modifiedStartLineNumber,Te.modifiedStartColumn,Te.modifiedEndLineNumber,Te.modifiedEndColumn,se.charInsert))}else Oe.decorations.push(j(Ee.modifiedStartLineNumber,1,Ee.modifiedEndLineNumber,1073741824,se.charInsertWholeLine))}return Oe}layout(){return Math.max(5,this._decorationsLeft)}}class U extends ne{constructor(he,le,ge,_e,Le,Ie){super(he,le,ge,_e,Le);this._originalModel=_e.getModel(),this._renderIndicators=Ie,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const he=super.getViewZones();return this._finalize(he),he}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const he=document.createElement("div");return he.className="inline-added-margin-view-zone",he}_produceOriginalFromDiff(he,le,ge){const _e=document.createElement("div");return _e.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(he.originalStartLineNumber,he.originalEndLineNumber),heightInLines:ge,domNode:document.createElement("div"),marginDomNode:_e}}_produceModifiedFromDiff(he,le,ge){const _e=document.createElement("div");_e.className=`view-lines line-delete ${A.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`;const Le=document.createElement("div");Le.className="inline-deleted-margin-view-zone";const Ie={shouldNotShrink:!0,afterLineNumber:he.modifiedEndLineNumber===0?he.modifiedStartLineNumber:he.modifiedStartLineNumber-1,heightInLines:le,minWidthInPx:0,domNode:_e,marginDomNode:Le,diff:{originalStartLineNumber:he.originalStartLineNumber,originalEndLineNumber:he.originalEndLineNumber,modifiedStartLineNumber:he.modifiedStartLineNumber,modifiedEndLineNumber:he.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let Ae=he.originalStartLineNumber;Ae<=he.originalEndLineNumber;Ae++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(Ae),null,null);return this._pendingLineChange.push(he),this._pendingViewZones.push(Ie),Ie}_finalize(he){const le=this._modifiedEditor.getOptions(),ge=this._modifiedEditor.getModel().getOptions().tabSize,_e=le.get(46),Le=le.get(29),Ie=_e.typicalHalfwidthCharacterWidth,Ae=le.get(95),Oe=this._originalModel.mightContainNonBasicASCII(),be=this._originalModel.mightContainRTL(),ve=le.get(61),Re=le.get(133).decorationsWidth,Te=le.get(107),Be=le.get(90),xe=le.get(85),qe=le.get(47),Ze=this._lineBreaksComputer.finalize();let nt=0;for(let ot=0;ot<this._pendingLineChange.length;ot++){const ze=this._pendingLineChange[ot],Ne=this._pendingViewZones[ot],Fe=Ne.domNode;(0,g.applyFontInfo)(Fe,_e);const He=Ne.marginDomNode;(0,g.applyFontInfo)(He,_e);const Ve=[];if(ze.charChanges)for(const We of ze.charChanges)fe(We)&&Ve.push(new h.InlineDecoration(new a.Range(We.originalStartLineNumber,We.originalStartColumn,We.originalEndLineNumber,We.originalEndColumn),"char-delete",0));const Je=Ve.length>0,Qe=(0,s.createStringBuilder)(1e4);let Ye=0,tt=0,$e=null;for(let We=ze.originalStartLineNumber;We<=ze.originalEndLineNumber;We++){const Ue=We-ze.originalStartLineNumber,Ke=this._originalModel.tokenization.getLineTokens(We),et=Ke.getLineContent(),Ge=Ze[nt++],it=_.LineDecoration.filter(Ve,We,1,et.length+1);if(Ge){let st=0;for(const ct of Ge.breakOffsets){const ht=Ke.sliceAndInflate(st,ct,0),dt=et.substring(st,ct);Ye=Math.max(Ye,this._renderOriginalLine(tt++,dt,ht,_.LineDecoration.extractWrapped(it,st,ct),Je,Oe,be,_e,Le,ve,Re,Te,Be,xe,qe,ge,Qe,He)),st=ct}for($e||($e=[]);$e.length<Ue;)$e[$e.length]=1;$e[Ue]=Ge.breakOffsets.length,Ne.heightInLines+=Ge.breakOffsets.length-1;const gt=document.createElement("div");gt.className="gutter-delete",he.original.push({afterLineNumber:We,afterColumn:0,heightInLines:Ge.breakOffsets.length-1,domNode:Ce(),marginDomNode:gt})}else Ye=Math.max(Ye,this._renderOriginalLine(tt++,et,Ke,it,Je,Oe,be,_e,Le,ve,Re,Te,Be,xe,qe,ge,Qe,He))}Ye+=Ae;const je=Qe.build(),Pe=te?te.createHTML(je):je;if(Fe.innerHTML=Pe,Ne.minWidthInPx=Ye*Ie,$e){const We=ze.originalEndLineNumber-ze.originalStartLineNumber;for(;$e.length<=We;)$e[$e.length]=1}Ne.diff.viewLineCounts=$e}he.original.sort((ot,ze)=>ot.afterLineNumber-ze.afterLineNumber)}_renderOriginalLine(he,le,ge,_e,Le,Ie,Ae,Oe,be,ve,Ee,Re,Te,Be,xe,qe,Ze,nt){Ze.appendASCIIString('<div class="view-line'),Le||Ze.appendASCIIString(" char-delete"),Ze.appendASCIIString('" style="top:'),Ze.appendASCIIString(String(he*ve)),Ze.appendASCIIString('px;width:1000000px;">');const ot=h.ViewLineRenderingData.isBasicASCII(le,Ie),ze=h.ViewLineRenderingData.containsRTL(le,ot,Ae),Ne=(0,m.renderViewLine)(new m.RenderLineInput(Oe.isMonospace&&!be,Oe.canUseHalfwidthRightwardsArrow,le,!1,ot,ze,0,ge,_e,qe,0,Oe.spaceWidth,Oe.middotWidth,Oe.wsmiddotWidth,Re,Te,Be,xe!==l.EditorFontLigatures.OFF,null),Ze);if(Ze.appendASCIIString("</div>"),this._renderIndicators){const Fe=document.createElement("div");Fe.className=`delete-sign ${R.ThemeIcon.asClassName(Y)}`,Fe.setAttribute("style",`position:absolute;top:${he*ve}px;width:${Ee}px;height:${ve}px;right:0;`),nt.appendChild(Fe)}return Ne.characterMapping.getHorizontalOffset(Ne.characterMapping.length)}}function K(pe,he){return(0,l.stringSet)(pe,he,["off","on","inherit"])}function ce(pe){return pe.modifiedEndLineNumber>0}function ee(pe){return pe.originalEndLineNumber>0}function ue(pe){return pe.modifiedStartLineNumber===pe.modifiedEndLineNumber?pe.modifiedEndColumn-pe.modifiedStartColumn>0:pe.modifiedEndLineNumber-pe.modifiedStartLineNumber>0}function fe(pe){return pe.originalStartLineNumber===pe.originalEndLineNumber?pe.originalEndColumn-pe.originalStartColumn>0:pe.originalEndLineNumber-pe.originalStartLineNumber>0}function Ce(){const pe=document.createElement("div");return pe.className="diagonal-fill",pe}function we(){const pe=document.createElement("div");return pe.className="arrow-revert-change "+R.ThemeIcon.asClassName(V.Codicon.arrowRight),C.$("div",{},pe)}function ye(pe,he,le,ge){const _e=pe.getLineCount();return le=Math.min(_e,Math.max(1,le)),ge=Math.min(_e,Math.max(1,ge)),he.coordinatesConverter.convertModelRangeToViewRange(new a.Range(le,pe.getLineMinColumn(le),ge,pe.getLineMaxColumn(ge)))}function De(pe,he){return{enableSplitViewResizing:(0,l.boolean)(pe.enableSplitViewResizing,he.enableSplitViewResizing),renderSideBySide:(0,l.boolean)(pe.renderSideBySide,he.renderSideBySide),renderMarginRevertIcon:(0,l.boolean)(pe.renderMarginRevertIcon,he.renderMarginRevertIcon),maxComputationTime:(0,l.clampedInt)(pe.maxComputationTime,he.maxComputationTime,0,1073741824),maxFileSize:(0,l.clampedInt)(pe.maxFileSize,he.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,l.boolean)(pe.ignoreTrimWhitespace,he.ignoreTrimWhitespace),renderIndicators:(0,l.boolean)(pe.renderIndicators,he.renderIndicators),originalEditable:(0,l.boolean)(pe.originalEditable,he.originalEditable),diffCodeLens:(0,l.boolean)(pe.diffCodeLens,he.diffCodeLens),renderOverviewRuler:(0,l.boolean)(pe.renderOverviewRuler,he.renderOverviewRuler),diffWordWrap:K(pe.diffWordWrap,he.diffWordWrap)}}function Me(pe,he){return{enableSplitViewResizing:pe.enableSplitViewResizing!==he.enableSplitViewResizing,renderSideBySide:pe.renderSideBySide!==he.renderSideBySide,renderMarginRevertIcon:pe.renderMarginRevertIcon!==he.renderMarginRevertIcon,maxComputationTime:pe.maxComputationTime!==he.maxComputationTime,maxFileSize:pe.maxFileSize!==he.maxFileSize,ignoreTrimWhitespace:pe.ignoreTrimWhitespace!==he.ignoreTrimWhitespace,renderIndicators:pe.renderIndicators!==he.renderIndicators,originalEditable:pe.originalEditable!==he.originalEditable,diffCodeLens:pe.diffCodeLens!==he.diffCodeLens,renderOverviewRuler:pe.renderOverviewRuler!==he.renderOverviewRuler,diffWordWrap:pe.diffWordWrap!==he.diffWordWrap}}(0,R.registerThemingParticipant)((pe,he)=>{const le=pe.getColor(T.diffInserted);le&&he.addRule(`.monaco-editor .char-insert, .monaco-diff-editor .char-insert { background-color: ${le}; }`);const ge=pe.getColor(T.diffInsertedLine)||le;ge&&he.addRule(`.monaco-editor .line-insert, .monaco-diff-editor .line-insert { background-color: ${ge}; }`);const _e=pe.getColor(T.diffInsertedLineGutter)||ge;_e&&(he.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${_e}; }`),he.addRule(`.monaco-editor .gutter-insert, .monaco-diff-editor .gutter-insert { background-color: ${_e}; }`));const Le=pe.getColor(T.diffRemoved);Le&&he.addRule(`.monaco-editor .char-delete, .monaco-diff-editor .char-delete { background-color: ${Le}; }`);const Ie=pe.getColor(T.diffRemovedLine)||Le;Ie&&he.addRule(`.monaco-editor .line-delete, .monaco-diff-editor .line-delete { background-color: ${Ie}; }`);const Ae=pe.getColor(T.diffRemovedLineGutter)||Ie;Ae&&(he.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${Ae}; }`),he.addRule(`.monaco-editor .gutter-delete, .monaco-diff-editor .gutter-delete { background-color: ${Ae}; }`));const Oe=pe.getColor(T.diffInsertedOutline);Oe&&he.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${(0,J.isHighContrast)(pe.type)?"dashed":"solid"} ${Oe}; }`);const be=pe.getColor(T.diffRemovedOutline);be&&he.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${(0,J.isHighContrast)(pe.type)?"dashed":"solid"} ${be}; }`);const ve=pe.getColor(T.scrollbarShadow);ve&&he.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${ve}; }`);const Ee=pe.getColor(T.diffBorder);Ee&&he.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${Ee}; }`);const Re=pe.getColor(T.scrollbarSliderBackground);Re&&he.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${Re};
			}
		`);const Te=pe.getColor(T.scrollbarSliderHoverBackground);Te&&he.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${Te};
			}
		`);const Be=pe.getColor(T.scrollbarSliderActiveBackground);Be&&he.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${Be};
			}
		`);const xe=pe.getColor(T.diffDiagonalFill);he.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${xe} 12.5%,
			#0000 12.5%, #0000 50%,
			${xe} 50%, ${xe} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)})}),define(re[174],ae([1,0,40,29,173,26,16,9,39,15,77,32,20]),function($,e,w,C,k,I,L,b,v,u,g,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let t=class extends k.CodeEditorWidget{constructor(l,d,a,s,o,c,f,p,_,m,h,S){super(l,Object.assign(Object.assign({},a.getRawOptions()),{overflowWidgetsDomNode:a.getOverflowWidgetsDomNode()}),{},s,o,c,f,p,_,m,h,S);this._parentEditor=a,this._overwriteOptions=d,super.updateOptions(this._overwriteOptions),this._register(a.onDidChangeConfiguration(y=>this._onParentConfigurationChanged(y)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(l){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(l){w.mixin(this._overwriteOptions,l,!0),super.updateOptions(this._overwriteOptions)}};t=ke([me(3,b.IInstantiationService),me(4,C.ICodeEditorService),me(5,I.ICommandService),me(6,L.IContextKeyService),me(7,u.IThemeService),me(8,v.INotificationService),me(9,g.IAccessibilityService),me(10,n.ILanguageConfigurationService),me(11,i.ILanguageFeaturesService)],t),e.EmbeddedCodeEditorWidget=t}),define(re[740],ae([1,0,10,2,12,11,3,23,24,46,35,54,539,38,25,15,372]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const d=(0,r.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},i.localize(0,null));class a extends k.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:i.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|1024|88,weight:100}})}run(p,_){var m;(m=c.get(_))===null||m===void 0||m.jumpToBracket()}}class s extends k.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:i.localize(2,null),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(p,_,m){var h;let S=!0;m&&m.selectBrackets===!1&&(S=!1),(h=c.get(_))===null||h===void 0||h.selectToBracket(S)}}class o{constructor(p,_,m){this.position=p,this.brackets=_,this.options=m}}class c extends C.Disposable{constructor(p){super();this._editor=p,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new w.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(66),this._updateBracketsSoon.schedule(),this._register(p.onDidChangeCursorPosition(_=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(p.onDidChangeModelContent(_=>{this._updateBracketsSoon.schedule()})),this._register(p.onDidChangeModel(_=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(p.onDidChangeModelLanguageConfiguration(_=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(p.onDidChangeConfiguration(_=>{_.hasChanged(66)&&(this._matchBrackets=this._editor.getOption(66),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(p.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(p.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(p){return p.getContribution(c.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const p=this._editor.getModel(),_=this._editor.getSelections().map(m=>{const h=m.getStartPosition(),S=p.bracketPairs.matchBracket(h);let y=null;if(S)S[0].containsPosition(h)&&!S[1].containsPosition(h)?y=S[1].getStartPosition():S[1].containsPosition(h)&&(y=S[0].getStartPosition());else{const E=p.bracketPairs.findEnclosingBrackets(h);if(E)y=E[1].getStartPosition();else{const N=p.bracketPairs.findNextBracket(h);N&&N.range&&(y=N.range.getStartPosition())}}return y?new b.Selection(y.lineNumber,y.column,y.lineNumber,y.column):new b.Selection(h.lineNumber,h.column,h.lineNumber,h.column)});this._editor.setSelections(_),this._editor.revealRange(_[0])}selectToBracket(p){if(!this._editor.hasModel())return;const _=this._editor.getModel(),m=[];this._editor.getSelections().forEach(h=>{const S=h.getStartPosition();let y=_.bracketPairs.matchBracket(S);if(!y&&(y=_.bracketPairs.findEnclosingBrackets(S),!y)){const T=_.bracketPairs.findNextBracket(S);T&&T.range&&(y=_.bracketPairs.matchBracket(T.range.getStartPosition()))}let E=null,N=null;if(y){y.sort(L.Range.compareRangesUsingStarts);const[T,R]=y;if(E=p?T.getStartPosition():T.getEndPosition(),N=p?R.getEndPosition():R.getStartPosition(),R.containsPosition(S)){const F=E;E=N,N=F}}E&&N&&m.push(new b.Selection(E.lineNumber,E.column,N.lineNumber,N.column))}),m.length>0&&(this._editor.setSelections(m),this._editor.revealRange(m[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const p=[];let _=0;for(const m of this._lastBracketsData){const h=m.brackets;h&&(p[_++]={range:h[0],options:m.options},p[_++]={range:h[1],options:m.options})}this._decorations.set(p)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const p=this._editor.getSelections();if(p.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const _=this._editor.getModel(),m=_.getVersionId();let h=[];this._lastVersionId===m&&(h=this._lastBracketsData);const S=[];let y=0;for(let F=0,O=p.length;F<O;F++){const D=p[F];D.isEmpty()&&(S[y++]=D.getStartPosition())}S.length>1&&S.sort(I.Position.compare);const E=[];let N=0,T=0;const R=h.length;for(let F=0,O=S.length;F<O;F++){const D=S[F];for(;T<R&&h[T].position.isBefore(D);)T++;if(T<R&&h[T].position.equals(D))E[N++]=h[T];else{let M=_.bracketPairs.matchBracket(D,20),P=c._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!M&&this._matchBrackets==="always"&&(M=_.bracketPairs.findEnclosingBrackets(D,20),P=c._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),E[N++]=new o(D,M,P)}}this._lastBracketsData=E,this._lastVersionId=m}}e.BracketMatchingController=c,c.ID="editor.contrib.bracketMatchingController",c._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=g.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,l.themeColorFromId)(d),position:u.OverviewRulerLane.Center}}),c._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=g.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,k.registerEditorContribution)(c.ID,c),(0,k.registerEditorAction)(s),(0,k.registerEditorAction)(a),(0,l.registerThemingParticipant)((f,p)=>{const _=f.getColor(n.editorBracketMatchBackground);_&&p.addRule(`.monaco-editor .bracket-match { background-color: ${_}; }`);const m=f.getColor(n.editorBracketMatchBorder);m&&p.addRule(`.monaco-editor .bracket-match { border: 1px solid ${m}; }`)}),t.MenuRegistry.appendMenuItem(t.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:i.localize(3,null)},order:2})}),define(re[741],ae([1,0,7,134,3,35,375]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class L{constructor(n,i,t){this.afterColumn=1073741824,this.afterLineNumber=n,this.heightInPx=i,this._onHeight=t,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(n){this._lastHeight===void 0?this._lastHeight=n:this._lastHeight!==n&&(this._lastHeight=n,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class b{constructor(n,i,t){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=n,this._id=`codelens.widget-${b._idPool++}`,this.updatePosition(t),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${i}`}withCommands(n,i){this._commands.clear();const t=[];let r=!1;for(let l=0;l<n.length;l++){const d=n[l];if(!!d&&(r=!0,d.command)){const a=(0,C.renderLabelWithIcons)(d.command.title.trim());d.command.id?(t.push(w.$("a",{id:String(l),title:d.command.tooltip,role:"button"},...a)),this._commands.set(String(l),d.command)):t.push(w.$("span",{title:d.command.tooltip},...a)),l+1<n.length&&t.push(w.$("span",void 0,"\xA0|\xA0"))}}r?(w.reset(this._domNode,...t),this._isEmpty&&i&&this._domNode.classList.add("fadein"),this._isEmpty=!1):w.reset(this._domNode,w.$("span",void 0,"no commands"))}getCommand(n){return n.parentElement===this._domNode?this._commands.get(n.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(n){const i=this._editor.getModel().getLineFirstNonWhitespaceColumn(n);this._widgetPosition={position:{lineNumber:n,column:i},preference:[1]}}getPosition(){return this._widgetPosition||null}}b._idPool=0;class v{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(n,i){this._addDecorations.push(n),this._addDecorationsCallbacks.push(i)}removeDecoration(n){this._removeDecorations.push(n)}commit(n){const i=n.deltaDecorations(this._removeDecorations,this._addDecorations);for(let t=0,r=i.length;t<r;t++)this._addDecorationsCallbacks[t](i[t])}}e.CodeLensHelper=v;class u{constructor(n,i,t,r,l,d,a){this._isDisposed=!1,this._editor=i,this._className=t,this._data=n,this._decorationIds=[];let s;const o=[];this._data.forEach((c,f)=>{c.symbol.command&&o.push(c.symbol),r.addDecoration({range:c.symbol.range,options:I.ModelDecorationOptions.EMPTY},p=>this._decorationIds[f]=p),s?s=k.Range.plusRange(s,c.symbol.range):s=k.Range.lift(c.symbol.range)}),this._viewZone=new L(s.startLineNumber-1,d,a),this._viewZoneId=l.addZone(this._viewZone),o.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(o,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new b(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(n,i){this._decorationIds.forEach(n.removeDecoration,n),this._decorationIds=[],i==null||i.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((n,i)=>{const t=this._editor.getModel().getDecorationRange(n),r=this._data[i].symbol;return!!(t&&k.Range.isEmpty(r.range)===t.isEmpty())})}updateCodeLensSymbols(n,i){this._decorationIds.forEach(i.removeDecoration,i),this._decorationIds=[],this._data=n,this._data.forEach((t,r)=>{i.addDecoration({range:t.symbol.range,options:I.ModelDecorationOptions.EMPTY},l=>this._decorationIds[r]=l)})}updateHeight(n,i){this._viewZone.heightInPx=n,i.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(n){if(!this._viewZone.isVisible())return null;for(let i=0;i<this._decorationIds.length;i++){const t=n.getDecorationRange(this._decorationIds[i]);t&&(this._data[i].symbol.range=t)}return this._data}updateCommands(n){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(n,!0);for(let i=0;i<this._data.length;i++){const t=n[i];if(t){const{symbol:r}=this._data[i];r.command=t.command||r.command}}}getCommand(n){var i;return(i=this._contentWidget)===null||i===void 0?void 0:i.getCommand(n)}getLineNumber(){const n=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return n?n.startLineNumber:-1}update(n){if(this.isValid()){const i=this._editor.getModel().getDecorationRange(this._decorationIds[0]);i&&(this._viewZone.afterLineNumber=i.startLineNumber-1,n.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(i.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}e.CodeLensWidget=u}),define(re[742],ae([1,0,7,10,14,105,2,152,12,36,24,282,662,741,547,26,39,85,70,20]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let c=class{constructor(p,_,m,h,S,y){this._editor=p,this._languageFeaturesService=_,this._commandService=h,this._notificationService=S,this._codeLensCache=y,this._disposables=new L.DisposableStore,this._localToDispose=new L.DisposableStore,this._lenses=[],this._oldCodeLensModels=new L.DisposableStore,this._provideCodeLensDebounce=m.for(_.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=m.for(_.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new C.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(E=>{(E.hasChanged(46)||E.hasChanged(16)||E.hasChanged(15))&&this._updateLensStyle(),E.hasChanged(14)&&this._onModelChange()})),this._disposables.add(_.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,I.hash)(this._editor.getId()).toString(16),this._styleElement=w.createStyleSheet(w.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var p;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(p=this._currentCodeLensModel)===null||p===void 0||p.dispose(),this._styleElement.remove()}_getLayoutInfo(){const p=Math.max(1.3,this._editor.getOption(61)/this._editor.getOption(48));let _=this._editor.getOption(16);return(!_||_<5)&&(_=this._editor.getOption(48)*.9|0),{fontSize:_,codeLensHeight:_*p|0}}_updateLensStyle(){const{codeLensHeight:p,fontSize:_}=this._getLayoutInfo(),m=this._editor.getOption(15),h=this._editor.getOption(46),S=`--codelens-font-family${this._styleClassName}`,y=`--codelens-font-features${this._styleClassName}`;let E=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${p}px; font-size: ${_}px; padding-right: ${Math.round(_*.5)}px; font-feature-settings: var(${y}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${p}px; font-size: ${_}px; }
		`;m&&(E+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${S}), ${u.EDITOR_FONT_DEFAULTS.fontFamily}}`),this._styleElement.textContent=E,this._editor.getContainerDomNode().style.setProperty(S,m??"inherit"),this._editor.getContainerDomNode().style.setProperty(y,h.fontFeatureSettings),this._editor.changeViewZones(N=>{for(const T of this._lenses)T.updateHeight(p,N)})}_localDispose(){var p,_,m;(p=this._getCodeLensModelPromise)===null||p===void 0||p.cancel(),this._getCodeLensModelPromise=void 0,(_=this._resolveCodeLensesPromise)===null||_===void 0||_.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(m=this._currentCodeLensModel)===null||m===void 0||m.dispose()}_onModelChange(){this._localDispose();const p=this._editor.getModel();if(!p||!this._editor.getOption(14))return;const _=this._codeLensCache.get(p);if(_&&this._renderCodeLensSymbols(_),!this._languageFeaturesService.codeLensProvider.has(p)){_&&this._localToDispose.add((0,C.disposableTimeout)(()=>{const h=this._codeLensCache.get(p);_===h&&(this._codeLensCache.delete(p),this._onModelChange())},30*1e3));return}for(const h of this._languageFeaturesService.codeLensProvider.all(p))if(typeof h.onDidChange=="function"){const S=h.onDidChange(()=>m.schedule());this._localToDispose.add(S)}const m=new C.RunOnceScheduler(()=>{var h;const S=Date.now();(h=this._getCodeLensModelPromise)===null||h===void 0||h.cancel(),this._getCodeLensModelPromise=(0,C.createCancelablePromise)(y=>(0,n.getCodeLensModel)(this._languageFeaturesService.codeLensProvider,p,y)),this._getCodeLensModelPromise.then(y=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=y,this._codeLensCache.put(p,y);const E=this._provideCodeLensDebounce.update(p,Date.now()-S);m.delay=E,this._renderCodeLensSymbols(y),this._resolveCodeLensesInViewportSoon()},k.onUnexpectedError)},this._provideCodeLensDebounce.get(p));this._localToDispose.add(m),this._localToDispose.add((0,L.toDisposable)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(h=>{this._editor.changeViewZones(S=>{const y=[];let E=-1;this._lenses.forEach(T=>{!T.isValid()||E===T.getLineNumber()?y.push(T):(T.update(S),E=T.getLineNumber())});const N=new t.CodeLensHelper;y.forEach(T=>{T.dispose(N,S),this._lenses.splice(this._lenses.indexOf(T),1)}),N.commit(h)})}),m.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{m.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(h=>{h.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,L.toDisposable)(()=>{if(this._editor.getModel()){const h=b.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(S=>{this._editor.changeViewZones(y=>{this._disposeAllLenses(S,y)})}),h.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(h=>{if(h.target.type!==9)return;let S=h.target.element;if((S==null?void 0:S.tagName)==="SPAN"&&(S=S.parentElement),(S==null?void 0:S.tagName)==="A")for(const y of this._lenses){const E=y.getCommand(S);if(E){this._commandService.executeCommand(E.id,...E.arguments||[]).catch(N=>this._notificationService.error(N));break}}})),m.schedule()}_disposeAllLenses(p,_){const m=new t.CodeLensHelper;for(const h of this._lenses)h.dispose(m,_);p&&m.commit(p),this._lenses.length=0}_renderCodeLensSymbols(p){if(!this._editor.hasModel())return;const _=this._editor.getModel().getLineCount(),m=[];let h;for(const E of p.lenses){const N=E.symbol.range.startLineNumber;N<1||N>_||(h&&h[h.length-1].symbol.range.startLineNumber===N?h.push(E):(h=[E],m.push(h)))}const S=b.StableEditorScrollState.capture(this._editor),y=this._getLayoutInfo();this._editor.changeDecorations(E=>{this._editor.changeViewZones(N=>{const T=new t.CodeLensHelper;let R=0,F=0;for(;F<m.length&&R<this._lenses.length;){const O=m[F][0].symbol.range.startLineNumber,D=this._lenses[R].getLineNumber();D<O?(this._lenses[R].dispose(T,N),this._lenses.splice(R,1)):D===O?(this._lenses[R].updateCodeLensSymbols(m[F],T),F++,R++):(this._lenses.splice(R,0,new t.CodeLensWidget(m[F],this._editor,this._styleClassName,T,N,y.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),R++,F++)}for(;R<this._lenses.length;)this._lenses[R].dispose(T,N),this._lenses.splice(R,1);for(;F<m.length;)this._lenses.push(new t.CodeLensWidget(m[F],this._editor,this._styleClassName,T,N,y.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),F++;T.commit(E)})}),S.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var p;(p=this._resolveCodeLensesPromise)===null||p===void 0||p.cancel(),this._resolveCodeLensesPromise=void 0;const _=this._editor.getModel();if(!_)return;const m=[],h=[];if(this._lenses.forEach(E=>{const N=E.computeIfNecessary(_);N&&(m.push(N),h.push(E))}),m.length===0)return;const S=Date.now(),y=(0,C.createCancelablePromise)(E=>{const N=m.map((T,R)=>{const F=new Array(T.length),O=T.map((D,M)=>!D.symbol.command&&typeof D.provider.resolveCodeLens=="function"?Promise.resolve(D.provider.resolveCodeLens(_,D.symbol,E)).then(P=>{F[M]=P},k.onUnexpectedExternalError):(F[M]=D.symbol,Promise.resolve(void 0)));return Promise.all(O).then(()=>{!E.isCancellationRequested&&!h[R].isDisposed()&&h[R].updateCommands(F)})});return Promise.all(N)});this._resolveCodeLensesPromise=y,this._resolveCodeLensesPromise.then(()=>{const E=this._resolveCodeLensesDebounce.update(_,Date.now()-S);this._resolveCodeLensesScheduler.delay=E,this._currentCodeLensModel&&this._codeLensCache.put(_,this._currentCodeLensModel),this._oldCodeLensModels.clear(),y===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},E=>{(0,k.onUnexpectedError)(E),y===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};c.ID="css.editor.codeLens",c=ke([me(1,o.ILanguageFeaturesService),me(2,s.ILanguageFeatureDebounceService),me(3,l.ICommandService),me(4,d.INotificationService),me(5,i.ICodeLensCache)],c),e.CodeLensContribution=c,(0,v.registerEditorContribution)(c.ID,c),(0,v.registerEditorAction)(class extends v.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:g.EditorContextKeys.hasCodeLensProvider,label:(0,r.localize)(0,null),alias:"Show CodeLens Commands For Current Line"})}run(p,_){return Se(this,void 0,void 0,function*(){if(!_.hasModel())return;const m=p.get(a.IQuickInputService),h=p.get(l.ICommandService),S=p.get(d.INotificationService),y=_.getSelection().positionLineNumber,E=_.getContribution(c.ID);if(!E)return;const N=E.getModel();if(!N)return;const T=[];for(const F of N.lenses)F.symbol.command&&F.symbol.range.startLineNumber===y&&T.push({label:F.symbol.command.title,command:F.symbol.command});if(T.length===0)return;const R=yield m.pick(T,{canPickMany:!1});if(!!R){if(N.isDisposed)return yield h.executeCommand(this.id);try{yield h.executeCommand(R.command.id,...R.command.arguments||[])}catch(F){S.error(F)}}})}})}),define(re[312],ae([1,0,10,31,14,2,57,8,141,12,3,35,70,20,283,30]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorDetector=e.ColorDecorationInjectedTextMarker=void 0,e.ColorDecorationInjectedTextMarker=Object.create({});const d=500;let a=class Hi extends I.Disposable{constructor(o,c,f,p){super();this._editor=o,this._configurationService=c,this._languageFeaturesService=f,this._localToDispose=this._register(new I.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new v.DynamicCssRules(this._editor),this._colorDecorationClassRefs=this._register(new I.DisposableStore),this._debounceInformation=p.for(f.colorProvider,"Document Colors",{min:Hi.RECOMPUTE_TIME}),this._register(o.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(o.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(f.colorProvider.onDidChange(()=>this.onModelChanged())),this._register(o.onDidChangeConfiguration(()=>{const _=this._isEnabled;this._isEnabled=this.isEnabled(),_!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const o=this._editor.getModel();if(!o)return!1;const c=o.getLanguageId(),f=this._configurationService.getValue(c);if(f&&typeof f=="object"){const p=f.colorDecorators;if(p&&p.enable!==void 0&&!p.enable)return p.enable}return this._editor.getOption(17)}static get(o){return o.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const o=this._editor.getModel();!o||!this._languageFeaturesService.colorProvider.has(o)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new w.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(o)))})),this.beginCompute())}beginCompute(){this._computePromise=(0,w.createCancelablePromise)(o=>Se(this,void 0,void 0,function*(){const c=this._editor.getModel();if(!c)return Promise.resolve([]);const f=new L.StopWatch(!1),p=yield(0,r.getColors)(this._languageFeaturesService.colorProvider,c,o);return this._debounceInformation.update(c,f.elapsed()),p})),this._computePromise.then(o=>{this.updateDecorations(o),this.updateColorDecorators(o),this._computePromise=null},k.onUnexpectedError)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(o){const c=o.map(f=>({range:{startLineNumber:f.colorInfo.range.startLineNumber,startColumn:f.colorInfo.range.startColumn,endLineNumber:f.colorInfo.range.endLineNumber,endColumn:f.colorInfo.range.endColumn},options:n.ModelDecorationOptions.EMPTY}));this._editor.changeDecorations(f=>{this._decorationsIds=f.deltaDecorations(this._decorationsIds,c),this._colorDatas=new Map,this._decorationsIds.forEach((p,_)=>this._colorDatas.set(p,o[_]))})}updateColorDecorators(o){this._colorDecorationClassRefs.clear();const c=[];for(let f=0;f<o.length&&c.length<d;f++){const{red:p,green:_,blue:m,alpha:h}=o[f].colorInfo.color,S=new C.RGBA(Math.round(p*255),Math.round(_*255),Math.round(m*255),h),y=`rgba(${S.r}, ${S.g}, ${S.b}, ${S.a})`,E=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:y}));c.push({range:{startLineNumber:o[f].colorInfo.range.startLineNumber,startColumn:o[f].colorInfo.range.startColumn,endLineNumber:o[f].colorInfo.range.endLineNumber,endColumn:o[f].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:b.noBreakWhitespace,inlineClassName:`${E.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:e.ColorDecorationInjectedTextMarker}}})}this._colorDecoratorIds.set(c)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(o){const c=this._editor.getModel();if(!c)return null;const f=c.getDecorationsInRange(g.Range.fromPositions(o,o)).filter(p=>this._colorDatas.has(p.id));return f.length===0?null:this._colorDatas.get(f[0].id)}isColorDecoration(o){return this._colorDecoratorIds.has(o)}};a.ID="editor.contrib.colorDetector",a.RECOMPUTE_TIME=1e3,a=ke([me(1,l.IConfigurationService),me(2,t.ILanguageFeaturesService),me(3,i.ILanguageFeatureDebounceService)],a),e.ColorDetector=a,(0,u.registerEditorContribution)(a.ID,a)}),define(re[743],ae([1,0,10,21,31,2,3,283,312,515,683,15]),function($,e,w,C,k,I,L,b,v,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorHoverParticipant=e.ColorHover=void 0;class i{constructor(l,d,a,s){this.owner=l,this.range=d,this.model=a,this.provider=s,this.forceShowAtRange=!0}isValidForHoverAnchor(l){return l.type===1&&this.range.startColumn<=l.range.startColumn&&this.range.endColumn>=l.range.endColumn}}e.ColorHover=i;let t=class{constructor(l,d){this._editor=l,this._themeService=d,this.hoverOrdinal=1}computeSync(l,d){return[]}computeAsync(l,d,a){return w.AsyncIterableObject.fromPromise(this._computeAsync(l,d,a))}_computeAsync(l,d,a){return Se(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const s=v.ColorDetector.get(this._editor);if(!s)return[];for(const o of d){if(!s.isColorDecoration(o))continue;const c=s.getColorData(o.range.getStartPosition());if(c)return[yield this._createColorHover(this._editor.getModel(),c.colorInfo,c.provider)]}return[]})}_createColorHover(l,d,a){return Se(this,void 0,void 0,function*(){const s=l.getValueInRange(d.range),{red:o,green:c,blue:f,alpha:p}=d.color,_=new k.RGBA(Math.round(o*255),Math.round(c*255),Math.round(f*255),p),m=new k.Color(_),h=yield(0,b.getColorPresentations)(l,d,a,C.CancellationToken.None),S=new u.ColorPickerModel(m,[],0);return S.colorPresentations=h||[],S.guessColorPresentation(m,s),new i(this,L.Range.lift(d.range),S,a)})}renderHoverParts(l,d){if(d.length===0||!this._editor.hasModel())return I.Disposable.None;const a=new I.DisposableStore,s=d[0],o=this._editor.getModel(),c=s.model,f=a.add(new g.ColorPickerWidget(l.fragment,c,this._editor.getOption(131),this._themeService));l.setColorPicker(f);let p=new L.Range(s.range.startLineNumber,s.range.startColumn,s.range.endLineNumber,s.range.endColumn);const _=()=>{let h,S;if(c.presentation.textEdit){h=[c.presentation.textEdit],S=new L.Range(c.presentation.textEdit.range.startLineNumber,c.presentation.textEdit.range.startColumn,c.presentation.textEdit.range.endLineNumber,c.presentation.textEdit.range.endColumn);const y=this._editor.getModel()._setTrackedRange(null,S,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",h),S=this._editor.getModel()._getTrackedRange(y)||S}else h=[{range:p,text:c.presentation.label,forceMoveMarkers:!1}],S=p.setEndPosition(p.endLineNumber,p.startColumn+c.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",h);c.presentation.additionalTextEdits&&(h=[...c.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",h),l.hide()),this._editor.pushUndoStop(),p=S},m=h=>(0,b.getColorPresentations)(o,{range:p,color:{red:h.rgba.r/255,green:h.rgba.g/255,blue:h.rgba.b/255,alpha:h.rgba.a}},s.provider,C.CancellationToken.None).then(S=>{c.colorPresentations=S||[]});return a.add(c.onColorFlushed(h=>{m(h).then(_)})),a.add(c.onDidChangeColor(m)),a}};t=ke([me(1,n.IThemeService)],t),e.ColorHoverParticipant=t}),define(re[744],ae([1,0,2,17,12,11,3,23,35,450,377]),function($,e,w,C,k,I,L,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function g(i){return C.isMacintosh?i.altKey:i.ctrlKey}class n extends w.Disposable{constructor(t){super();this._editor=t,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(r=>this._onEditorMouseDown(r))),this._register(this._editor.onMouseUp(r=>this._onEditorMouseUp(r))),this._register(this._editor.onMouseDrag(r=>this._onEditorMouseDrag(r))),this._register(this._editor.onMouseDrop(r=>this._onEditorMouseDrop(r))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(r=>this.onEditorKeyDown(r))),this._register(this._editor.onKeyUp(r=>this.onEditorKeyUp(r))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(t){!this._editor.getOption(31)||this._editor.getOption(18)||(g(t)&&(this._modifierPressed=!0),this._mouseDown&&g(t)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(t){!this._editor.getOption(31)||this._editor.getOption(18)||(g(t)&&(this._modifierPressed=!1),this._mouseDown&&t.keyCode===n.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(t){this._mouseDown=!0}_onEditorMouseUp(t){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(t){const r=t.target;if(this._dragSelection===null){const d=(this._editor.getSelections()||[]).filter(a=>r.position&&a.containsPosition(r.position));if(d.length===1)this._dragSelection=d[0];else return}g(t.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),r.position&&(this._dragSelection.containsPosition(r.position)?this._removeDecoration():this.showAt(r.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(t){if(t.target&&(this._hitContent(t.target)||this._hitMargin(t.target))&&t.target.position){const r=new I.Position(t.target.position.lineNumber,t.target.position.column);if(this._dragSelection===null){let l=null;if(t.event.shiftKey){const d=this._editor.getSelection();if(d){const{selectionStartLineNumber:a,selectionStartColumn:s}=d;l=[new b.Selection(a,s,r.lineNumber,r.column)]}}else l=(this._editor.getSelections()||[]).map(d=>d.containsPosition(r)?new b.Selection(r.lineNumber,r.column,r.lineNumber,r.column):d);this._editor.setSelections(l||[],"mouse",3)}else(!this._dragSelection.containsPosition(r)||(g(t.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(r)||this._dragSelection.getStartPosition().equals(r)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(n.ID,new u.DragAndDropCommand(this._dragSelection,r,g(t.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(t){this._dndDecorationIds.set([{range:new L.Range(t.lineNumber,t.column,t.lineNumber,t.column),options:n._DECORATION_OPTIONS}]),this._editor.revealPosition(t,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(t){return t.type===6||t.type===7}_hitMargin(t){return t.type===2||t.type===3||t.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=n,n.ID="editor.contrib.dragAndDrop",n.TRIGGER_KEY_VALUE=C.isMacintosh?6:5,n._DECORATION_OPTIONS=v.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),(0,k.registerEditorContribution)(n.ID,n)}),define(re[745],ae([1,0,3,46,35,25,15]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class b{constructor(u){this._editor=u,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const u=this._findScopeDecorationIds.map(g=>this._editor.getModel().getDecorationRange(g)).filter(g=>!!g);if(u.length)return u}return null}getStartPosition(){return this._startPosition}setStartPosition(u){this._startPosition=u,this.setCurrentFindMatch(null)}_getDecorationIndex(u){const g=this._decorations.indexOf(u);return g>=0?g+1:1}getCurrentMatchesPosition(u){const g=this._editor.getModel().getDecorationsInRange(u);for(const n of g){const i=n.options;if(i===b._FIND_MATCH_DECORATION||i===b._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(n.id)}return 0}setCurrentFindMatch(u){let g=null,n=0;if(u)for(let i=0,t=this._decorations.length;i<t;i++){const r=this._editor.getModel().getDecorationRange(this._decorations[i]);if(u.equalsRange(r)){g=this._decorations[i],n=i+1;break}}return(this._highlightedDecorationId!==null||g!==null)&&this._editor.changeDecorations(i=>{if(this._highlightedDecorationId!==null&&(i.changeDecorationOptions(this._highlightedDecorationId,b._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),g!==null&&(this._highlightedDecorationId=g,i.changeDecorationOptions(this._highlightedDecorationId,b._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),g!==null){let t=this._editor.getModel().getDecorationRange(g);if(t.startLineNumber!==t.endLineNumber&&t.endColumn===1){const r=t.endLineNumber-1,l=this._editor.getModel().getLineMaxColumn(r);t=new w.Range(t.startLineNumber,t.startColumn,r,l)}this._rangeHighlightDecorationId=i.addDecoration(t,b._RANGE_HIGHLIGHT_DECORATION)}}),n}set(u,g){this._editor.changeDecorations(n=>{let i=b._FIND_MATCH_DECORATION;const t=[];if(u.length>1e3){i=b._FIND_MATCH_NO_OVERVIEW_DECORATION;const l=this._editor.getModel().getLineCount(),a=this._editor.getLayoutInfo().height/l,s=Math.max(2,Math.ceil(3/a));let o=u[0].range.startLineNumber,c=u[0].range.endLineNumber;for(let f=1,p=u.length;f<p;f++){const _=u[f].range;c+s>=_.startLineNumber?_.endLineNumber>c&&(c=_.endLineNumber):(t.push({range:new w.Range(o,1,c,1),options:b._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),o=_.startLineNumber,c=_.endLineNumber)}t.push({range:new w.Range(o,1,c,1),options:b._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const r=new Array(u.length);for(let l=0,d=u.length;l<d;l++)r[l]={range:u[l].range,options:i};this._decorations=n.deltaDecorations(this._decorations,r),this._overviewRulerApproximateDecorations=n.deltaDecorations(this._overviewRulerApproximateDecorations,t),this._rangeHighlightDecorationId&&(n.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(l=>n.removeDecoration(l)),this._findScopeDecorationIds=[]),(g==null?void 0:g.length)&&(this._findScopeDecorationIds=g.map(l=>n.addDecoration(l,b._FIND_SCOPE_DECORATION)))})}matchBeforePosition(u){if(this._decorations.length===0)return null;for(let g=this._decorations.length-1;g>=0;g--){const n=this._decorations[g],i=this._editor.getModel().getDecorationRange(n);if(!(!i||i.endLineNumber>u.lineNumber)){if(i.endLineNumber<u.lineNumber)return i;if(!(i.endColumn>u.column))return i}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(u){if(this._decorations.length===0)return null;for(let g=0,n=this._decorations.length;g<n;g++){const i=this._decorations[g],t=this._editor.getModel().getDecorationRange(i);if(!(!t||t.startLineNumber<u.lineNumber)){if(t.startLineNumber>u.lineNumber)return t;if(!(t.startColumn<u.column))return t}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let u=[];return u=u.concat(this._decorations),u=u.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&u.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&u.push(this._rangeHighlightDecorationId),u}}e.FindDecorations=b,b._CURRENT_FIND_MATCH_DECORATION=k.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,L.themeColorFromId)(I.overviewRulerFindMatchForeground),position:C.OverviewRulerLane.Center},minimap:{color:(0,L.themeColorFromId)(I.minimapFindMatch),position:C.MinimapPosition.Inline}}),b._FIND_MATCH_DECORATION=k.ModelDecorationOptions.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,L.themeColorFromId)(I.overviewRulerFindMatchForeground),position:C.OverviewRulerLane.Center},minimap:{color:(0,L.themeColorFromId)(I.minimapFindMatch),position:C.MinimapPosition.Inline}}),b._FIND_MATCH_NO_OVERVIEW_DECORATION=k.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),b._FIND_MATCH_ONLY_OVERVIEW_DECORATION=k.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,L.themeColorFromId)(I.overviewRulerFindMatchForeground),position:C.OverviewRulerLane.Center}}),b._RANGE_HIGHLIGHT_DECORATION=k.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),b._FIND_SCOPE_DECORATION=k.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})}),define(re[175],ae([1,0,18,10,2,108,11,3,23,158,745,451,452,16]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new t.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE.toNegated(),e.CONTEXT_FIND_INPUT_FOCUSED=new t.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new t.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:512|33,mac:{primary:2048|512|33}},e.ToggleWholeWordKeybinding={primary:512|53,mac:{primary:2048|512|53}},e.ToggleRegexKeybinding={primary:512|48,mac:{primary:2048|512|48}},e.ToggleSearchScopeKeybinding={primary:512|42,mac:{primary:2048|512|42}},e.TogglePreserveCaseKeybinding={primary:512|46,mac:{primary:2048|512|46}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const r=240;class l{constructor(a,s){this._toDispose=new k.DisposableStore,this._editor=a,this._state=s,this._isDisposed=!1,this._startSearchingTimer=new C.TimeoutTimer,this._decorations=new g.FindDecorations(a),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new C.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(o=>{(o.reason===3||o.reason===5||o.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(o=>{this._ignoreModelContentChanged||(o.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(o=>this._onStateChanged(o))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,k.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(a){this._isDisposed||!this._editor.hasModel()||(a.searchString||a.isReplaceRevealed||a.isRegex||a.wholeWord||a.matchCase||a.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{a.searchScope?this.research(a.moveCursor,this._state.searchScope):this.research(a.moveCursor)},r)):a.searchScope?this.research(a.moveCursor,this._state.searchScope):this.research(a.moveCursor))}static _getSearchRange(a,s){return s||a.getFullModelRange()}research(a,s){let o=null;typeof s!="undefined"?s!==null&&(Array.isArray(s)?o=s:o=[s]):o=this._decorations.getFindScopes(),o!==null&&(o=o.map(_=>{if(_.startLineNumber!==_.endLineNumber){let m=_.endLineNumber;return _.endColumn===1&&(m=m-1),new b.Range(_.startLineNumber,1,m,this._editor.getModel().getLineMaxColumn(m))}return _}));const c=this._findMatches(o,!1,e.MATCHES_LIMIT);this._decorations.set(c,o);const f=this._editor.getSelection();let p=this._decorations.getCurrentMatchesPosition(f);if(p===0&&c.length>0){const _=(0,w.findFirstInSorted)(c.map(m=>m.range),m=>b.Range.compareRangesUsingStarts(m,f)>=0);p=_>0?_-1+1:p}this._state.changeMatchInfo(p,this._decorations.getCount(),void 0),a&&this._editor.getOption(37).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const a=this._decorations.getFindScope();return a&&this._editor.revealRangeInCenterIfOutsideViewport(a,0),!0}return!1}_setCurrentFindMatch(a){const s=this._decorations.setCurrentFindMatch(a);this._state.changeMatchInfo(s,this._decorations.getCount(),a),this._editor.setSelection(a),this._editor.revealRangeInCenterIfOutsideViewport(a,0)}_prevSearchPosition(a){const s=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:o,column:c}=a;const f=this._editor.getModel();return s||c===1?(o===1?o=f.getLineCount():o--,c=f.getLineMaxColumn(o)):c--,new L.Position(o,c)}_moveToPrevMatch(a,s=!1){if(!this._state.canNavigateBack()){const S=this._decorations.matchAfterPosition(a);S&&this._setCurrentFindMatch(S);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let S=this._decorations.matchBeforePosition(a);S&&S.isEmpty()&&S.getStartPosition().equals(a)&&(a=this._prevSearchPosition(a),S=this._decorations.matchBeforePosition(a)),S&&this._setCurrentFindMatch(S);return}if(this._cannotFind())return;const o=this._decorations.getFindScope(),c=l._getSearchRange(this._editor.getModel(),o);c.getEndPosition().isBefore(a)&&(a=c.getEndPosition()),a.isBefore(c.getStartPosition())&&(a=c.getEndPosition());const{lineNumber:f,column:p}=a,_=this._editor.getModel();let m=new L.Position(f,p),h=_.findPreviousMatch(this._state.searchString,m,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,!1);if(h&&h.range.isEmpty()&&h.range.getStartPosition().equals(m)&&(m=this._prevSearchPosition(m),h=_.findPreviousMatch(this._state.searchString,m,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,!1)),!!h){if(!s&&!c.containsRange(h.range))return this._moveToPrevMatch(h.range.getStartPosition(),!0);this._setCurrentFindMatch(h.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(a){const s=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:o,column:c}=a;const f=this._editor.getModel();return s||c===f.getLineMaxColumn(o)?(o===f.getLineCount()?o=1:o++,c=1):c++,new L.Position(o,c)}_moveToNextMatch(a){if(!this._state.canNavigateForward()){const o=this._decorations.matchBeforePosition(a);o&&this._setCurrentFindMatch(o);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let o=this._decorations.matchAfterPosition(a);o&&o.isEmpty()&&o.getStartPosition().equals(a)&&(a=this._nextSearchPosition(a),o=this._decorations.matchAfterPosition(a)),o&&this._setCurrentFindMatch(o);return}const s=this._getNextMatch(a,!1,!0);s&&this._setCurrentFindMatch(s.range)}_getNextMatch(a,s,o,c=!1){if(this._cannotFind())return null;const f=this._decorations.getFindScope(),p=l._getSearchRange(this._editor.getModel(),f);p.getEndPosition().isBefore(a)&&(a=p.getStartPosition()),a.isBefore(p.getStartPosition())&&(a=p.getStartPosition());const{lineNumber:_,column:m}=a,h=this._editor.getModel();let S=new L.Position(_,m),y=h.findNextMatch(this._state.searchString,S,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,s);return o&&y&&y.range.isEmpty()&&y.range.getStartPosition().equals(S)&&(S=this._nextSearchPosition(S),y=h.findNextMatch(this._state.searchString,S,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,s)),y?!c&&!p.containsRange(y.range)?this._getNextMatch(y.range.getEndPosition(),s,o,!0):y:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?(0,i.parseReplaceString)(this._state.replaceString):i.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const a=this._getReplacePattern(),s=this._editor.getSelection(),o=this._getNextMatch(s.getStartPosition(),!0,!1);if(o)if(s.equalsRange(o.range)){const c=a.buildReplaceString(o.matches,this._state.preserveCase),f=new I.ReplaceCommand(s,c);this._executeEditorCommand("replace",f),this._decorations.setStartPosition(new L.Position(s.startLineNumber,s.startColumn+c.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(o.range)}_findMatches(a,s,o){const c=(a||[null]).map(f=>l._getSearchRange(this._editor.getModel(),f));return this._editor.getModel().findMatches(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,s,o)}replaceAll(){if(!this._hasMatches())return;const a=this._decorations.getFindScopes();a===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(a),this.research(!1)}_largeReplaceAll(){const s=new u.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null).parseSearchRequest();if(!s)return;let o=s.regex;if(!o.multiline){let y="mu";o.ignoreCase&&(y+="i"),o.global&&(y+="g"),o=new RegExp(o.source,y)}const c=this._editor.getModel(),f=c.getValue(1),p=c.getFullModelRange(),_=this._getReplacePattern();let m;const h=this._state.preserveCase;_.hasReplacementPatterns||h?m=f.replace(o,function(){return _.buildReplaceString(arguments,h)}):m=f.replace(o,_.buildReplaceString(null,h));const S=new I.ReplaceCommandThatPreservesSelection(p,m,this._editor.getSelection());this._executeEditorCommand("replaceAll",S)}_regularReplaceAll(a){const s=this._getReplacePattern(),o=this._findMatches(a,s.hasReplacementPatterns||this._state.preserveCase,1073741824),c=[];for(let p=0,_=o.length;p<_;p++)c[p]=s.buildReplaceString(o[p].matches,this._state.preserveCase);const f=new n.ReplaceAllCommand(this._editor.getSelection(),o.map(p=>p.range),c);this._executeEditorCommand("replaceAll",f)}selectAllMatches(){if(!this._hasMatches())return;const a=this._decorations.getFindScopes();let o=this._findMatches(a,!1,1073741824).map(f=>new v.Selection(f.range.startLineNumber,f.range.startColumn,f.range.endLineNumber,f.range.endColumn));const c=this._editor.getSelection();for(let f=0,p=o.length;f<p;f++)if(o[f].equalsRange(c)){o=[c].concat(o.slice(0,f)).concat(o.slice(f+1));break}this._editor.setSelections(o)}_executeEditorCommand(a,s){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(a,s),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=l}),define(re[746],ae([1,0,7,262,68,10,175,25,15]),function($,e,w,C,k,I,L,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class u extends k.Widget{constructor(n,i,t,r){super();this._hideSoon=this._register(new I.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=n,this._state=i,this._keybindingService=t,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const l=r.getColorTheme().getColor(b.inputActiveOptionBorder),d=r.getColorTheme().getColor(b.inputActiveOptionForeground),a=r.getColorTheme().getColor(b.inputActiveOptionBackground);this.caseSensitive=this._register(new C.CaseSensitiveToggle({appendTitle:this._keybindingLabelFor(L.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:l,inputActiveOptionForeground:d,inputActiveOptionBackground:a})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new C.WholeWordsToggle({appendTitle:this._keybindingLabelFor(L.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:l,inputActiveOptionForeground:d,inputActiveOptionBackground:a})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new C.RegexToggle({appendTitle:this._keybindingLabelFor(L.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:l,inputActiveOptionForeground:d,inputActiveOptionBackground:a})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(s=>{let o=!1;s.isRegex&&(this.regex.checked=this._state.isRegex,o=!0),s.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,o=!0),s.matchCase&&(this.caseSensitive.checked=this._state.matchCase,o=!0),!this._state.isRevealed&&o&&this._revealTemporarily()})),this._register(w.addDisposableListener(this._domNode,w.EventType.MOUSE_LEAVE,s=>this._onMouseLeave())),this._register(w.addDisposableListener(this._domNode,"mouseover",s=>this._onMouseOver())),this._applyTheme(r.getColorTheme()),this._register(r.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(n){const i=this._keybindingService.lookupKeybinding(n);return i?` (${i.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return u.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(n){const i={inputActiveOptionBorder:n.getColor(b.inputActiveOptionBorder),inputActiveOptionForeground:n.getColor(b.inputActiveOptionForeground),inputActiveOptionBackground:n.getColor(b.inputActiveOptionBackground)};this.caseSensitive.style(i),this.wholeWords.style(i),this.regex.style(i)}}e.FindOptionsWidget=u,u.ID="editor.contrib.findOptionsWidget",(0,v.registerThemingParticipant)((g,n)=>{const i=g.getColor(b.editorWidgetBackground);i&&n.addRule(`.monaco-editor .findOptionsWidget { background-color: ${i}; }`);const t=g.getColor(b.editorWidgetForeground);t&&n.addRule(`.monaco-editor .findOptionsWidget { color: ${t}; }`);const r=g.getColor(b.widgetShadow);r&&n.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${r}; }`);const l=g.getColor(b.contrastBorder);l&&n.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${l}; }`)})}),define(re[747],ae([1,0,6,2,3,175]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function L(v,u){return v===1?!0:v===2?!1:u}class b extends C.Disposable{constructor(){super();this._onFindReplaceStateChange=this._register(new w.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return L(this._isRegexOverride,this._isRegex)}get wholeWord(){return L(this._wholeWordOverride,this._wholeWord)}get matchCase(){return L(this._matchCaseOverride,this._matchCase)}get preserveCase(){return L(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(u,g,n){const i={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let t=!1;g===0&&(u=0),u>g&&(u=g),this._matchesPosition!==u&&(this._matchesPosition=u,i.matchesPosition=!0,t=!0),this._matchesCount!==g&&(this._matchesCount=g,i.matchesCount=!0,t=!0),typeof n!="undefined"&&(k.Range.equalsRange(this._currentMatch,n)||(this._currentMatch=n,i.currentMatch=!0,t=!0)),t&&this._onFindReplaceStateChange.fire(i)}change(u,g,n=!0){var i;const t={moveCursor:g,updateHistory:n,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let r=!1;const l=this.isRegex,d=this.wholeWord,a=this.matchCase,s=this.preserveCase;typeof u.searchString!="undefined"&&this._searchString!==u.searchString&&(this._searchString=u.searchString,t.searchString=!0,r=!0),typeof u.replaceString!="undefined"&&this._replaceString!==u.replaceString&&(this._replaceString=u.replaceString,t.replaceString=!0,r=!0),typeof u.isRevealed!="undefined"&&this._isRevealed!==u.isRevealed&&(this._isRevealed=u.isRevealed,t.isRevealed=!0,r=!0),typeof u.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==u.isReplaceRevealed&&(this._isReplaceRevealed=u.isReplaceRevealed,t.isReplaceRevealed=!0,r=!0),typeof u.isRegex!="undefined"&&(this._isRegex=u.isRegex),typeof u.wholeWord!="undefined"&&(this._wholeWord=u.wholeWord),typeof u.matchCase!="undefined"&&(this._matchCase=u.matchCase),typeof u.preserveCase!="undefined"&&(this._preserveCase=u.preserveCase),typeof u.searchScope!="undefined"&&(((i=u.searchScope)===null||i===void 0?void 0:i.every(o=>{var c;return(c=this._searchScope)===null||c===void 0?void 0:c.some(f=>!k.Range.equalsRange(f,o))}))||(this._searchScope=u.searchScope,t.searchScope=!0,r=!0)),typeof u.loop!="undefined"&&this._loop!==u.loop&&(this._loop=u.loop,t.loop=!0,r=!0),typeof u.isSearching!="undefined"&&this._isSearching!==u.isSearching&&(this._isSearching=u.isSearching,t.isSearching=!0,r=!0),typeof u.filters!="undefined"&&(this._filters?this._filters.update(u.filters):this._filters=u.filters,t.filters=!0,r=!0),this._isRegexOverride=typeof u.isRegexOverride!="undefined"?u.isRegexOverride:0,this._wholeWordOverride=typeof u.wholeWordOverride!="undefined"?u.wholeWordOverride:0,this._matchCaseOverride=typeof u.matchCaseOverride!="undefined"?u.matchCaseOverride:0,this._preserveCaseOverride=typeof u.preserveCaseOverride!="undefined"?u.preserveCaseOverride:0,l!==this.isRegex&&(r=!0,t.isRegex=!0),d!==this.wholeWord&&(r=!0,t.wholeWord=!0),a!==this.matchCase&&(r=!0,t.matchCase=!0),s!==this.preserveCase&&(r=!0,t.preserveCase=!0),r&&this._onFindReplaceStateChange.fire(t)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=I.MATCHES_LIMIT}}e.FindReplaceState=b}),define(re[748],ae([1,0,7,49,162,135,68,10,27,14,2,17,8,3,175,556,293,626,25,80,15,56,378]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const p=(0,o.registerIcon)("find-selection",v.Codicon.selection,l.localize(0,null)),_=(0,o.registerIcon)("find-collapsed",v.Codicon.chevronRight,l.localize(1,null)),m=(0,o.registerIcon)("find-expanded",v.Codicon.chevronDown,l.localize(2,null));e.findReplaceIcon=(0,o.registerIcon)("find-replace",v.Codicon.replace,l.localize(3,null)),e.findReplaceAllIcon=(0,o.registerIcon)("find-replace-all",v.Codicon.replaceAll,l.localize(4,null)),e.findPreviousMatchIcon=(0,o.registerIcon)("find-previous-match",v.Codicon.arrowUp,l.localize(5,null)),e.findNextMatchIcon=(0,o.registerIcon)("find-next-match",v.Codicon.arrowDown,l.localize(6,null));const h=l.localize(7,null),S=l.localize(8,null),y=l.localize(9,null),E=l.localize(10,null),N=l.localize(11,null),T=l.localize(12,null),R=l.localize(13,null),F=l.localize(14,null),O=l.localize(15,null),D=l.localize(16,null),M=l.localize(17,null),P=l.localize(18,null,r.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=l.localize(19,null),e.NLS_NO_RESULTS=l.localize(20,null);const B=419,V=275-54;let A=69;const Q=33,J="ctrlEnterReplaceAll.windows.donotask",H=n.isMacintosh?256:2048;class q{constructor(x){this.afterLineNumber=x,this.heightInPx=Q,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=q;function Z(de,x,oe){const ne=!!x.match(/\n/);if(oe&&ne&&oe.selectionStart>0){de.stopPropagation();return}}function ie(de,x,oe){const ne=!!x.match(/\n/);if(oe&&ne&&oe.selectionEnd<oe.value.length){de.stopPropagation();return}}class Y extends L.Widget{constructor(x,oe,ne,j,se,z,X,G,U){super();this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=x,this._controller=oe,this._state=ne,this._contextViewProvider=j,this._keybindingService=se,this._contextKeyService=z,this._storageService=G,this._notificationService=U,this._ctrlEnterReplaceAllWarningPrompted=!!G.getBoolean(J,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new b.Delayer(500),this._register((0,g.toDisposable)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(K=>this._onStateChanged(K))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(K=>{if(K.hasChanged(83)&&(this._codeEditor.getOption(83)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),K.hasChanged(133)&&this._tryUpdateWidgetWidth(),K.hasChanged(2)&&this.updateAccessibilitySupport(),K.hasChanged(37)){const ce=this._codeEditor.getOption(37).addExtraSpaceOnTop;ce&&!this._viewZone&&(this._viewZone=new q(0),this._showViewZone()),!ce&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>Se(this,void 0,void 0,function*(){if(this._isVisible){const K=yield this._controller.getGlobalBufferTerm();K&&K!==this._state.searchString&&(this._state.change({searchString:K},!1),this._findInput.select())}}))),this._findInputFocused=r.CONTEXT_FIND_INPUT_FOCUSED.bindTo(z),this._findFocusTracker=this._register(w.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=r.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(z),this._replaceFocusTracker=this._register(w.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(37).addExtraSpaceOnTop&&(this._viewZone=new q(0)),this._applyTheme(X.getColorTheme()),this._register(X.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(K=>{if(K.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return Y.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(x){if(x.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(x.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),x.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),x.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(83)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=w.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(x.isRevealed||x.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),x.isRegex&&this._findInput.setRegex(this._state.isRegex),x.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),x.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),x.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),x.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),x.searchString||x.matchesCount||x.matchesPosition){const oe=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",oe),this._updateMatchesCount(),this._updateButtons()}(x.searchString||x.currentMatch)&&this._layoutViewZone(),x.updateHistory&&this._delayedUpdateHistory(),x.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,u.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=A+"px",this._state.matchesCount>=r.MATCHES_LIMIT?this._matchesCount.title=P:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let x;if(this._state.matchesCount>0){let oe=String(this._state.matchesCount);this._state.matchesCount>=r.MATCHES_LIMIT&&(oe+="+");let ne=String(this._state.matchesPosition);ne==="0"&&(ne="?"),x=i.format(e.NLS_MATCHES_LOCATION,ne,oe)}else x=e.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(x)),(0,C.alert)(this._getAriaLabel(x,this._state.currentMatch,this._state.searchString)),A=Math.max(A,this._matchesCount.clientWidth)}_getAriaLabel(x,oe,ne){if(x===e.NLS_NO_RESULTS)return ne===""?l.localize(21,null,x):l.localize(22,null,x,ne);if(oe){const j=l.localize(23,null,x,ne,oe.startLineNumber+":"+oe.startColumn),se=this._codeEditor.getModel();return se&&oe.startLineNumber<=se.getLineCount()&&oe.startLineNumber>=1?`${se.getLineContent(oe.startLineNumber)}, ${j}`:j}return l.localize(24,null,x,ne)}_updateToggleSelectionFindButton(){const x=this._codeEditor.getSelection(),oe=x?x.startLineNumber!==x.endLineNumber||x.startColumn!==x.endColumn:!1,ne=this._toggleSelectionFind.checked;this._isVisible&&(ne||oe)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const x=this._state.searchString.length>0,oe=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&x&&oe&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&x&&oe&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&x),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&x),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const ne=!this._codeEditor.getOption(83);this._toggleReplaceBtn.setEnabled(this._isVisible&&ne)}_reveal(){if(this._revealTimeouts.forEach(x=>{clearTimeout(x)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const x=this._codeEditor.getSelection();switch(this._codeEditor.getOption(37).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const ne=!!x&&x.startLineNumber!==x.endLineNumber;this._toggleSelectionFind.checked=ne;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let oe=!0;if(this._codeEditor.getOption(37).seedSearchStringFromSelection&&x){const ne=this._codeEditor.getDomNode();if(ne){const j=w.getDomNodePagePosition(ne),se=this._codeEditor.getScrolledVisiblePosition(x.getStartPosition()),z=j.left+(se?se.left:0),X=se?se.top:0;if(this._viewZone&&X<this._viewZone.heightInPx){x.endLineNumber>x.startLineNumber&&(oe=!1);const G=w.getTopLeftOffset(this._domNode).left;z>G&&(oe=!1);const U=this._codeEditor.getScrolledVisiblePosition(x.getEndPosition());j.left+(U?U.left:0)>G&&(oe=!1)}}}this._showViewZone(oe)}}_hide(x){this._revealTimeouts.forEach(oe=>{clearTimeout(oe)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),x&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(x){if(!this._codeEditor.getOption(37).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const ne=this._viewZone;this._viewZoneId!==void 0||!ne||this._codeEditor.changeViewZones(j=>{ne.heightInPx=this._getHeight(),this._viewZoneId=j.addZone(ne),this._codeEditor.setScrollTop(x||this._codeEditor.getScrollTop()+ne.heightInPx)})}_showViewZone(x=!0){if(!this._isVisible||!this._codeEditor.getOption(37).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new q(0));const ne=this._viewZone;this._codeEditor.changeViewZones(j=>{if(this._viewZoneId!==void 0){const se=this._getHeight();if(se===ne.heightInPx)return;const z=se-ne.heightInPx;ne.heightInPx=se,j.layoutZone(this._viewZoneId),x&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+z);return}else{let se=this._getHeight();if(se-=this._codeEditor.getOption(77).top,se<=0)return;ne.heightInPx=se,this._viewZoneId=j.addZone(ne),x&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+se)}})}_removeViewZone(){this._codeEditor.changeViewZones(x=>{this._viewZoneId!==void 0&&(x.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(x){const oe={inputActiveOptionBorder:x.getColor(s.inputActiveOptionBorder),inputActiveOptionBackground:x.getColor(s.inputActiveOptionBackground),inputActiveOptionForeground:x.getColor(s.inputActiveOptionForeground),inputBackground:x.getColor(s.inputBackground),inputForeground:x.getColor(s.inputForeground),inputBorder:x.getColor(s.inputBorder),inputValidationInfoBackground:x.getColor(s.inputValidationInfoBackground),inputValidationInfoForeground:x.getColor(s.inputValidationInfoForeground),inputValidationInfoBorder:x.getColor(s.inputValidationInfoBorder),inputValidationWarningBackground:x.getColor(s.inputValidationWarningBackground),inputValidationWarningForeground:x.getColor(s.inputValidationWarningForeground),inputValidationWarningBorder:x.getColor(s.inputValidationWarningBorder),inputValidationErrorBackground:x.getColor(s.inputValidationErrorBackground),inputValidationErrorForeground:x.getColor(s.inputValidationErrorForeground),inputValidationErrorBorder:x.getColor(s.inputValidationErrorBorder)};this._findInput.style(oe),this._replaceInput.style(oe),this._toggleSelectionFind.style(oe)}_tryUpdateWidgetWidth(){if(!this._isVisible||!w.isInDOM(this._domNode))return;const x=this._codeEditor.getLayoutInfo();if(x.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const ne=x.width,j=x.minimap.minimapWidth;let se=!1,z=!1,X=!1;if(this._resized&&w.getTotalWidth(this._domNode)>B){this._domNode.style.maxWidth=`${ne-28-j-15}px`,this._replaceInput.width=w.getTotalWidth(this._findInput.domNode);return}if(B+28+j>=ne&&(z=!0),B+28+j-A>=ne&&(X=!0),B+28+j-A>=ne+50&&(se=!0),this._domNode.classList.toggle("collapsed-find-widget",se),this._domNode.classList.toggle("narrow-find-widget",X),this._domNode.classList.toggle("reduced-find-widget",z),!X&&!se&&(this._domNode.style.maxWidth=`${ne-28-j-15}px`),this._resized){this._findInput.inputBox.layout();const G=this._findInput.inputBox.element.clientWidth;G>0&&(this._replaceInput.width=G)}else this._isReplaceVisible&&(this._replaceInput.width=w.getTotalWidth(this._findInput.domNode))}_getHeight(){let x=0;return x+=4,x+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(x+=4,x+=this._replaceInput.inputBox.height+2),x+=4,x}_tryUpdateHeight(){const x=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===x?!1:(this._cachedHeight=x,this._domNode.style.height=`${x}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const x=this._codeEditor.getSelections();x.map(oe=>{oe.endColumn===1&&oe.endLineNumber>oe.startLineNumber&&(oe=oe.setEndPosition(oe.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(oe.endLineNumber-1)));const ne=this._state.currentMatch;return oe.startLineNumber!==oe.endLineNumber&&!t.Range.equalsRange(oe,ne)?oe:null}).filter(oe=>!!oe),x.length&&this._state.change({searchScope:x},!0)}}_onFindInputMouseDown(x){x.middleButton&&x.stopPropagation()}_onFindInputKeyDown(x){if(x.equals(H|3))if(this._keybindingService.dispatchEvent(x,x.target)){x.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),x.preventDefault();return}if(x.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),x.preventDefault();return}if(x.equals(2048|18)){this._codeEditor.focus(),x.preventDefault();return}if(x.equals(16))return Z(x,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(x.equals(18))return ie(x,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(x){if(x.equals(H|3))if(this._keybindingService.dispatchEvent(x,x.target)){x.preventDefault();return}else{n.isWindows&&n.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(l.localize(25,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(J,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),x.preventDefault();return}if(x.equals(2)){this._findInput.focusOnCaseSensitive(),x.preventDefault();return}if(x.equals(1024|2)){this._findInput.focus(),x.preventDefault();return}if(x.equals(2048|18)){this._codeEditor.focus(),x.preventDefault();return}if(x.equals(16))return Z(x,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(x.equals(18))return ie(x,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(x){return 0}_keybindingLabelFor(x){const oe=this._keybindingService.lookupKeybinding(x);return oe?` (${oe.getLabel()})`:""}_buildDomNode(){const x=!0,oe=!0;this._findInput=this._register(new d.ContextScopedFindInput(null,this._contextViewProvider,{width:V,label:h,placeholder:S,appendCaseSensitiveLabel:this._keybindingLabelFor(r.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(r.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(r.FIND_IDS.ToggleRegexCommand),validation:G=>{if(G.length===0||!this._findInput.getRegex())return null;try{return new RegExp(G,"gu"),null}catch(U){return{content:U.message}}},flexibleHeight:x,flexibleWidth:oe,flexibleMaxHeight:118,showHistoryHint:()=>(0,a.showHistoryKeybindingHint)(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(G=>this._onFindInputKeyDown(G))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(G=>{G.equals(1024|2)&&this._isReplaceVisible&&(this._replaceInput.focus(),G.preventDefault())})),this._register(this._findInput.onRegexKeyDown(G=>{G.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),G.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(G=>{this._tryUpdateHeight()&&this._showViewZone()})),n.isLinux&&this._register(this._findInput.onMouseDown(G=>this._onFindInputMouseDown(G))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new te({label:y+this._keybindingLabelFor(r.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,onTrigger:()=>{this._codeEditor.getAction(r.FIND_IDS.PreviousMatchFindAction).run().then(void 0,u.onUnexpectedError)}})),this._nextBtn=this._register(new te({label:E+this._keybindingLabelFor(r.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,onTrigger:()=>{this._codeEditor.getAction(r.FIND_IDS.NextMatchFindAction).run().then(void 0,u.onUnexpectedError)}}));const ne=document.createElement("div");ne.className="find-part",ne.appendChild(this._findInput.domNode);const j=document.createElement("div");j.className="find-actions",ne.appendChild(j),j.appendChild(this._matchesCount),j.appendChild(this._prevBtn.domNode),j.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new k.Toggle({icon:p,title:N+this._keybindingLabelFor(r.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){const G=this._codeEditor.getSelections();G.map(U=>(U.endColumn===1&&U.endLineNumber>U.startLineNumber&&(U=U.setEndPosition(U.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(U.endLineNumber-1))),U.isEmpty()?null:U)).filter(U=>!!U),G.length&&this._state.change({searchScope:G},!0)}}else this._state.change({searchScope:null},!0)})),j.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new te({label:T+this._keybindingLabelFor(r.FIND_IDS.CloseFindWidgetCommand),icon:o.widgetClose,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:G=>{G.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),G.preventDefault())}})),j.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new d.ContextScopedReplaceInput(null,void 0,{label:R,placeholder:F,appendPreserveCaseLabel:this._keybindingLabelFor(r.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:x,flexibleWidth:oe,flexibleMaxHeight:118,showHistoryHint:()=>(0,a.showHistoryKeybindingHint)(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(G=>this._onReplaceInputKeyDown(G))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(G=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(G=>{G.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),G.preventDefault())})),this._replaceBtn=this._register(new te({label:O+this._keybindingLabelFor(r.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,onTrigger:()=>{this._controller.replace()},onKeyDown:G=>{G.equals(1024|2)&&(this._closeBtn.focus(),G.preventDefault())}})),this._replaceAllBtn=this._register(new te({label:D+this._keybindingLabelFor(r.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,onTrigger:()=>{this._controller.replaceAll()}}));const se=document.createElement("div");se.className="replace-part",se.appendChild(this._replaceInput.domNode);const z=document.createElement("div");z.className="replace-actions",se.appendChild(z),z.appendChild(this._replaceBtn.domNode),z.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new te({label:M,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=w.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${B}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(ne),this._domNode.appendChild(se),this._resizeSash=new I.Sash(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let X=B;this._register(this._resizeSash.onDidStart(()=>{X=w.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange(G=>{this._resized=!0;const U=X+G.startX-G.currentX;if(U<B)return;const K=parseFloat(w.getComputedStyle(this._domNode).maxWidth)||0;U>K||(this._domNode.style.width=`${U}px`,this._isReplaceVisible&&(this._replaceInput.width=w.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const G=w.getTotalWidth(this._domNode);if(G<B)return;let U=B;if(!this._resized||G===B){const K=this._codeEditor.getLayoutInfo();U=K.width-28-K.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${U}px`,this._isReplaceVisible&&(this._replaceInput.width=w.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const x=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(x!==2)}}e.FindWidget=Y,Y.ID="editor.contrib.findWidget";class te extends L.Widget{constructor(x){super();this._opts=x;let oe="button";this._opts.className&&(oe=oe+" "+this._opts.className),this._opts.icon&&(oe=oe+" "+c.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=oe,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,ne=>{this._opts.onTrigger(),ne.preventDefault()}),this.onkeydown(this._domNode,ne=>{var j,se;if(ne.equals(10)||ne.equals(3)){this._opts.onTrigger(),ne.preventDefault();return}(se=(j=this._opts).onKeyDown)===null||se===void 0||se.call(j,ne)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(x){this._domNode.classList.toggle("disabled",!x),this._domNode.setAttribute("aria-disabled",String(!x)),this._domNode.tabIndex=x?0:-1}setExpanded(x){this._domNode.setAttribute("aria-expanded",String(!!x)),x?(this._domNode.classList.remove(...c.ThemeIcon.asClassNameArray(_)),this._domNode.classList.add(...c.ThemeIcon.asClassNameArray(m))):(this._domNode.classList.remove(...c.ThemeIcon.asClassNameArray(m)),this._domNode.classList.add(...c.ThemeIcon.asClassNameArray(_)))}}e.SimpleButton=te,(0,c.registerThemingParticipant)((de,x)=>{const oe=(fe,Ce)=>{Ce&&x.addRule(`.monaco-editor ${fe} { background-color: ${Ce}; }`)};oe(".findMatch",de.getColor(s.editorFindMatchHighlight)),oe(".currentFindMatch",de.getColor(s.editorFindMatch)),oe(".findScope",de.getColor(s.editorFindRangeHighlight));const ne=de.getColor(s.editorWidgetBackground);oe(".find-widget",ne);const j=de.getColor(s.widgetShadow);j&&x.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${j}; }`);const se=de.getColor(s.editorFindMatchHighlightBorder);se&&x.addRule(`.monaco-editor .findMatch { border: 1px ${(0,f.isHighContrast)(de.type)?"dotted":"solid"} ${se}; box-sizing: border-box; }`);const z=de.getColor(s.editorFindMatchBorder);z&&x.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${z}; padding: 1px; box-sizing: border-box; }`);const X=de.getColor(s.editorFindRangeHighlightBorder);X&&x.addRule(`.monaco-editor .findScope { border: 1px ${(0,f.isHighContrast)(de.type)?"dashed":"solid"} ${X}; }`);const G=de.getColor(s.contrastBorder);G&&x.addRule(`.monaco-editor .find-widget { border: 1px solid ${G}; }`);const U=de.getColor(s.editorWidgetForeground);U&&x.addRule(`.monaco-editor .find-widget { color: ${U}; }`);const K=de.getColor(s.errorForeground);K&&x.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${K}; }`);const ce=de.getColor(s.editorWidgetResizeBorder);if(ce)x.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ce}; }`);else{const fe=de.getColor(s.editorWidgetBorder);fe&&x.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${fe}; }`)}const ee=de.getColor(s.toolbarHoverBackground);ee&&x.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${ee} !important;
		}
	`);const ue=de.getColor(s.focusBorder);ue&&x.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${ue}; }`)})}),define(re[313],ae([1,0,10,2,8,12,24,175,746,747,748,555,38,93,16,78,42,39,79,15]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.PreviousMatchFindAction=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindWithArgsAction=e.StartFindAction=e.FindController=e.CommonFindController=e.getSelectionSearchString=void 0;const c=524288;function f(D,M="single",P=!1){if(!D.hasModel())return null;const B=D.getSelection();if(M==="single"&&B.startLineNumber===B.endLineNumber||M==="multiple"){if(B.isEmpty()){const W=D.getConfiguredWordAtPosition(B.getStartPosition());if(W&&P===!1)return W.word}else if(D.getModel().getValueLengthInRange(B)<c)return D.getModel().getValueInRange(B)}return null}e.getSelectionSearchString=f;let p=class Ui extends C.Disposable{constructor(M,P,B,W){super();this._editor=M,this._findWidgetVisible=b.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(P),this._contextKeyService=P,this._storageService=B,this._clipboardService=W,this._updateHistoryDelayer=new w.Delayer(500),this._state=this._register(new u.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(V=>this._onStateChanged(V))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const V=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),V&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(37).loop})}))}get editor(){return this._editor}static get(M){return M.getContribution(Ui.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(M){this.saveQueryState(M),M.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),M.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(M){M.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),M.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),M.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),M.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!b.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){const M=this._editor.getSelections();M.map(P=>(P.endColumn===1&&P.endLineNumber>P.startLineNumber&&(P=P.setEndPosition(P.endLineNumber-1,this._editor.getModel().getLineMaxColumn(P.endLineNumber-1))),P.isEmpty()?null:P)).filter(P=>!!P),M.length&&this._state.change({searchScope:M},!0)}}setSearchString(M){this._state.isRegex&&(M=k.escapeRegExpCharacters(M)),this._state.change({searchString:M},!1)}highlightFindOptions(M=!1){}_start(M,P){return Se(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;const B=Object.assign(Object.assign({},P),{isRevealed:!0});if(M.seedSearchStringFromSelection==="single"){const W=f(this._editor,M.seedSearchStringFromSelection,M.seedSearchStringFromNonEmptySelection);W&&(this._state.isRegex?B.searchString=k.escapeRegExpCharacters(W):B.searchString=W)}else if(M.seedSearchStringFromSelection==="multiple"&&!M.updateSearchScope){const W=f(this._editor,M.seedSearchStringFromSelection);W&&(B.searchString=W)}if(!B.searchString&&M.seedSearchStringFromGlobalClipboard){const W=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;W&&(B.searchString=W)}if(M.forceRevealReplace||B.isReplaceRevealed?B.isReplaceRevealed=!0:this._findWidgetVisible.get()||(B.isReplaceRevealed=!1),M.updateSearchScope){const W=this._editor.getSelections();W.some(V=>!V.isEmpty())&&(B.searchScope=W)}B.loop=M.loop,this._state.change(B,!1),this._model||(this._model=new b.FindModelBoundToEditorModel(this._editor,this._state))})}start(M,P){return this._start(M,P)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return Se(this,void 0,void 0,function*(){return this._editor.getOption(37).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(M){this._editor.getOption(37).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(M)}};p.ID="editor.contrib.findController",p=ke([me(1,r.IContextKeyService),me(2,s.IStorageService),me(3,t.IClipboardService)],p),e.CommonFindController=p;let _=class extends p{constructor(M,P,B,W,V,A,Q,J){super(M,B,Q,J);this._contextViewService=P,this._keybindingService=W,this._themeService=V,this._notificationService=A,this._widget=null,this._findOptionsWidget=null}_start(M,P){const B=Object.create(null,{_start:{get:()=>super._start}});return Se(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const W=this._editor.getSelection();let V=!1;switch(this._editor.getOption(37).autoFindInSelection){case"always":V=!0;break;case"never":V=!1;break;case"multiline":{V=!!W&&W.startLineNumber!==W.endLineNumber;break}default:break}M.updateSearchScope=M.updateSearchScope||V,yield B._start.call(this,M,P),this._widget&&(M.shouldFocus===2?this._widget.focusReplaceInput():M.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(M=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!M?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new g.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new v.FindOptionsWidget(this._editor,this._state,this._keybindingService,this._themeService))}};_=ke([me(1,l.IContextViewService),me(2,r.IContextKeyService),me(3,d.IKeybindingService),me(4,o.IThemeService),me(5,a.INotificationService),me(6,s.IStorageService),me(7,t.IClipboardService)],_),e.FindController=_,e.StartFindAction=(0,I.registerMultiEditorAction)(new I.MultiEditorAction({id:b.FIND_IDS.StartFindAction,label:n.localize(0,null),alias:"Find",precondition:r.ContextKeyExpr.or(L.EditorContextKeys.focus,r.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|36,weight:100},menuOpts:{menuId:i.MenuId.MenubarEditMenu,group:"3_find",title:n.localize(1,null),order:1}})),e.StartFindAction.addImplementation(0,(D,M,P)=>{const B=p.get(M);return B?B.start({forceRevealReplace:!1,seedSearchStringFromSelection:M.getOption(37).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:M.getOption(37).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:M.getOption(37).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:M.getOption(37).loop}):!1});const m={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:n.localize(2,null)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:n.localize(3,null)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:n.localize(4,null)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:n.localize(5,null)},findInSelection:{type:"boolean"}}}}]};class h extends I.EditorAction{constructor(){super({id:b.FIND_IDS.StartFindWithArgs,label:n.localize(6,null),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:m})}run(M,P,B){return Se(this,void 0,void 0,function*(){const W=p.get(P);if(W){const V=B?{searchString:B.searchString,replaceString:B.replaceString,isReplaceRevealed:B.replaceString!==void 0,isRegex:B.isRegex,wholeWord:B.matchWholeWord,matchCase:B.isCaseSensitive,preserveCase:B.preserveCase}:{};yield W.start({forceRevealReplace:!1,seedSearchStringFromSelection:W.getState().searchString.length===0&&P.getOption(37).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:P.getOption(37).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(B==null?void 0:B.findInSelection)||!1,loop:P.getOption(37).loop},V),W.setGlobalBufferTerm(W.getState().searchString)}})}}e.StartFindWithArgsAction=h;class S extends I.EditorAction{constructor(){super({id:b.FIND_IDS.StartFindWithSelection,label:n.localize(7,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2048|35},weight:100}})}run(M,P){return Se(this,void 0,void 0,function*(){const B=p.get(P);B&&(yield B.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:P.getOption(37).loop}),B.setGlobalBufferTerm(B.getState().searchString))})}}e.StartFindWithSelectionAction=S;class y extends I.EditorAction{run(M,P){return Se(this,void 0,void 0,function*(){const B=p.get(P);B&&!this._run(B)&&(yield B.start({forceRevealReplace:!1,seedSearchStringFromSelection:B.getState().searchString.length===0&&P.getOption(37).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:P.getOption(37).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:P.getOption(37).loop}),this._run(B))})}}e.MatchFindAction=y;class E extends y{constructor(){super({id:b.FIND_IDS.NextMatchFindAction,label:n.localize(8,null),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:L.EditorContextKeys.focus,primary:61,mac:{primary:2048|37,secondary:[61]},weight:100},{kbExpr:r.ContextKeyExpr.and(L.EditorContextKeys.focus,b.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}_run(M){return M.moveToNextMatch()?(M.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=E;class N extends y{constructor(){super({id:b.FIND_IDS.PreviousMatchFindAction,label:n.localize(9,null),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:L.EditorContextKeys.focus,primary:1024|61,mac:{primary:2048|1024|37,secondary:[1024|61]},weight:100},{kbExpr:r.ContextKeyExpr.and(L.EditorContextKeys.focus,b.CONTEXT_FIND_INPUT_FOCUSED),primary:1024|3,weight:100}]})}_run(M){return M.moveToPrevMatch()}}e.PreviousMatchFindAction=N;class T extends I.EditorAction{run(M,P){return Se(this,void 0,void 0,function*(){const B=p.get(P);if(!B)return;const W=P.getOption(37).seedSearchStringFromSelection==="selection";let V=null;P.getOption(37).seedSearchStringFromSelection!=="never"&&(V=f(P,"single",W)),V&&B.setSearchString(V),this._run(B)||(yield B.start({forceRevealReplace:!1,seedSearchStringFromSelection:P.getOption(37).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:W,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:P.getOption(37).loop}),this._run(B))})}}e.SelectionMatchFindAction=T;class R extends T{constructor(){super({id:b.FIND_IDS.NextSelectionMatchFindAction,label:n.localize(10,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.focus,primary:2048|61,weight:100}})}_run(M){return M.moveToNextMatch()}}e.NextSelectionMatchFindAction=R;class F extends T{constructor(){super({id:b.FIND_IDS.PreviousSelectionMatchFindAction,label:n.localize(11,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.focus,primary:2048|1024|61,weight:100}})}_run(M){return M.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=F,e.StartFindReplaceAction=(0,I.registerMultiEditorAction)(new I.MultiEditorAction({id:b.FIND_IDS.StartFindReplaceAction,label:n.localize(12,null),alias:"Replace",precondition:r.ContextKeyExpr.or(L.EditorContextKeys.focus,r.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|38,mac:{primary:2048|512|36},weight:100},menuOpts:{menuId:i.MenuId.MenubarEditMenu,group:"3_find",title:n.localize(13,null),order:2}})),e.StartFindReplaceAction.addImplementation(0,(D,M,P)=>{if(!M.hasModel()||M.getOption(83))return!1;const B=p.get(M);if(!B)return!1;const W=M.getSelection(),V=B.isFindInputFocused(),A=!W.isEmpty()&&W.startLineNumber===W.endLineNumber&&M.getOption(37).seedSearchStringFromSelection!=="never"&&!V,Q=V||A?2:1;return B.start({forceRevealReplace:!0,seedSearchStringFromSelection:A?"single":"none",seedSearchStringFromNonEmptySelection:M.getOption(37).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:M.getOption(37).seedSearchStringFromSelection!=="never",shouldFocus:Q,shouldAnimate:!0,updateSearchScope:!1,loop:M.getOption(37).loop})}),(0,I.registerEditorContribution)(p.ID,_),(0,I.registerEditorAction)(h),(0,I.registerEditorAction)(S),(0,I.registerEditorAction)(E),(0,I.registerEditorAction)(N),(0,I.registerEditorAction)(R),(0,I.registerEditorAction)(F);const O=I.EditorCommand.bindToContribution(p.get);(0,I.registerEditorCommand)(new O({id:b.FIND_IDS.CloseFindWidgetCommand,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:D=>D.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:r.ContextKeyExpr.and(L.EditorContextKeys.focus,r.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1024|9]}})),(0,I.registerEditorCommand)(new O({id:b.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:D=>D.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:b.ToggleCaseSensitiveKeybinding.primary,mac:b.ToggleCaseSensitiveKeybinding.mac,win:b.ToggleCaseSensitiveKeybinding.win,linux:b.ToggleCaseSensitiveKeybinding.linux}})),(0,I.registerEditorCommand)(new O({id:b.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:D=>D.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:b.ToggleWholeWordKeybinding.primary,mac:b.ToggleWholeWordKeybinding.mac,win:b.ToggleWholeWordKeybinding.win,linux:b.ToggleWholeWordKeybinding.linux}})),(0,I.registerEditorCommand)(new O({id:b.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:D=>D.toggleRegex(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:b.ToggleRegexKeybinding.primary,mac:b.ToggleRegexKeybinding.mac,win:b.ToggleRegexKeybinding.win,linux:b.ToggleRegexKeybinding.linux}})),(0,I.registerEditorCommand)(new O({id:b.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:D=>D.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:b.ToggleSearchScopeKeybinding.primary,mac:b.ToggleSearchScopeKeybinding.mac,win:b.ToggleSearchScopeKeybinding.win,linux:b.ToggleSearchScopeKeybinding.linux}})),(0,I.registerEditorCommand)(new O({id:b.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:D=>D.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:b.TogglePreserveCaseKeybinding.primary,mac:b.TogglePreserveCaseKeybinding.mac,win:b.TogglePreserveCaseKeybinding.win,linux:b.TogglePreserveCaseKeybinding.linux}})),(0,I.registerEditorCommand)(new O({id:b.FIND_IDS.ReplaceOneAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:D=>D.replace(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:2048|1024|22}})),(0,I.registerEditorCommand)(new O({id:b.FIND_IDS.ReplaceOneAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:D=>D.replace(),kbOpts:{weight:100+5,kbExpr:r.ContextKeyExpr.and(L.EditorContextKeys.focus,b.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,I.registerEditorCommand)(new O({id:b.FIND_IDS.ReplaceAllAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:D=>D.replaceAll(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:2048|512|3}})),(0,I.registerEditorCommand)(new O({id:b.FIND_IDS.ReplaceAllAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:D=>D.replaceAll(),kbOpts:{weight:100+5,kbExpr:r.ContextKeyExpr.and(L.EditorContextKeys.focus,b.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2048|3}}})),(0,I.registerEditorCommand)(new O({id:b.FIND_IDS.SelectAllMatchesAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:D=>D.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:512|3}}))}),define(re[749],ae([1,0,27,35,558,80,15]),function($,e,w,C,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingManualExpandedIcon=e.foldingManualCollapsedIcon=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0,e.foldingExpandedIcon=(0,I.registerIcon)("folding-expanded",w.Codicon.chevronDown,(0,k.localize)(0,null)),e.foldingCollapsedIcon=(0,I.registerIcon)("folding-collapsed",w.Codicon.chevronRight,(0,k.localize)(1,null)),e.foldingManualCollapsedIcon=(0,I.registerIcon)("folding-manual-collapsed",e.foldingCollapsedIcon,(0,k.localize)(2,null)),e.foldingManualExpandedIcon=(0,I.registerIcon)("folding-manual-expanded",e.foldingExpandedIcon,(0,k.localize)(3,null));class b{constructor(u){this.editor=u,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(u,g,n){return g||this.showFoldingControls==="never"?b.HIDDEN_RANGE_DECORATION:u?n?this.showFoldingHighlights?b.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:b.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?b.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:b.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?n?b.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:b.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:n?b.MANUALLY_EXPANDED_VISUAL_DECORATION:b.EXPANDED_VISUAL_DECORATION}changeDecorations(u){return this.editor.changeDecorations(u)}removeDecorations(u){this.editor.removeDecorations(u)}}e.FoldingDecorationProvider=b,b.COLLAPSED_VISUAL_DECORATION=C.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:L.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),b.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=C.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:L.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),b.MANUALLY_COLLAPSED_VISUAL_DECORATION=C.ModelDecorationOptions.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+L.ThemeIcon.asClassName(e.foldingExpandedIcon)}),b.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=C.ModelDecorationOptions.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:L.ThemeIcon.asClassName(e.foldingManualCollapsedIcon)}),b.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=C.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:L.ThemeIcon.asClassName(e.foldingExpandedIcon)}),b.EXPANDED_VISUAL_DECORATION=C.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+L.ThemeIcon.asClassName(e.foldingExpandedIcon)}),b.MANUALLY_EXPANDED_VISUAL_DECORATION=C.ModelDecorationOptions.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+L.ThemeIcon.asClassName(e.foldingManualExpandedIcon)}),b.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=C.ModelDecorationOptions.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:L.ThemeIcon.asClassName(e.foldingManualExpandedIcon)}),b.HIDDEN_RANGE_DECORATION=C.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})}),define(re[750],ae([1,0,10,14,59,2,8,19,152,12,24,28,32,516,517,453,557,16,25,15,749,160,454,39,81,70,57,20,379]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f,p,_,m,h,S,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorFoldForeground=e.foldBackgroundBackground=e.FoldingController=void 0;const E=new a.RawContextKey("foldingEnabled",!1);let N=class Ki extends I.Disposable{constructor(oe,ne,j,se,z,X){super();this.contextKeyService=ne,this.languageConfigurationService=j,this.languageFeaturesService=X,this._tooManyRegionsNotified=!1,this.localToDispose=this._register(new I.DisposableStore),this.editor=oe;const G=this.editor.getOptions();this._isEnabled=G.get(39),this._useFoldingProviders=G.get(40)!=="indentation",this._unfoldOnClickAfterEndOfLine=G.get(44),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=G.get(42),this._maxFoldingRegions=G.get(43),this.updateDebounceInfo=z.for(X.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new c.FoldingDecorationProvider(oe),this.foldingDecorationProvider.showFoldingControls=G.get(101),this.foldingDecorationProvider.showFoldingHighlights=G.get(41),this.foldingEnabled=E.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._notifyTooManyRegions=U=>{this._tooManyRegionsNotified||(se.notify({severity:m.default.Warning,sticky:!0,message:d.localize(0,null,U)}),this._tooManyRegionsNotified=!0)},this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(U=>{if(U.hasChanged(39)&&(this._isEnabled=this.editor.getOptions().get(39),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),U.hasChanged(43)&&(this._maxFoldingRegions=this.editor.getOptions().get(43),this._tooManyRegionsNotified=!1,this.onModelChanged()),U.hasChanged(101)||U.hasChanged(41)){const K=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=K.get(101),this.foldingDecorationProvider.showFoldingHighlights=K.get(41),this.triggerFoldingModelChanged()}U.hasChanged(40)&&(this._useFoldingProviders=this.editor.getOptions().get(40)!=="indentation",this.onFoldingStrategyChanged()),U.hasChanged(44)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(44)),U.hasChanged(42)&&(this._foldingImportsByDefault=this.editor.getOptions().get(42))})),this.onModelChanged()}static get(oe){return oe.getContribution(Ki.ID)}saveViewState(){const oe=this.editor.getModel();if(!oe||!this._isEnabled||oe.isTooLargeForTokenization())return{};if(this.foldingModel){const ne=this.foldingModel.getMemento(),j=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:ne,lineCount:oe.getLineCount(),provider:j,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(oe){const ne=this.editor.getModel();if(!(!ne||!this._isEnabled||ne.isTooLargeForTokenization()||!this.hiddenRangeModel)&&!(!oe||oe.lineCount!==ne.getLineCount())&&(this._currentModelHasFoldedImports=!!oe.foldedImports,oe.collapsedRegions&&oe.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(oe.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const oe=this.editor.getModel();!this._isEnabled||!oe||oe.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new t.FoldingModel(oe,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new r.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(ne=>this.onHiddenRangesChanges(ne))),this.updateScheduler=new w.Delayer(this.updateDebounceInfo.get(oe)),this.cursorChangedScheduler=new w.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(ne=>this.onDidChangeModelContent(ne))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(ne=>this.onEditorMouseDown(ne))),this.localToDispose.add(this.editor.onMouseUp(ne=>this.onEditorMouseUp(ne))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(oe){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new l.IndentRangeProvider(oe,this.languageConfigurationService,this._maxFoldingRegions),this._useFoldingProviders&&this.foldingModel){const ne=this.languageFeaturesService.foldingRangeProvider.ordered(this.foldingModel.textModel);ne.length>0&&(this.rangeProvider=new p.SyntaxRangeProvider(oe,ne,()=>this.triggerFoldingModelChanged(),this._maxFoldingRegions))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(oe){var ne;(ne=this.hiddenRangeModel)===null||ne===void 0||ne.notifyChangeModelContent(oe),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const oe=this.foldingModel;if(!oe)return null;const ne=new S.StopWatch(!0),j=this.getRangeProvider(oe.textModel),se=this.foldingRegionPromise=(0,w.createCancelablePromise)(z=>j.compute(z,this._notifyTooManyRegions));return se.then(z=>{if(z&&se===this.foldingRegionPromise){let X;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const ce=z.setCollapsedAllOfType(n.FoldingRangeKind.Imports.value,!0);ce&&(X=v.StableEditorScrollState.capture(this.editor),this._currentModelHasFoldedImports=ce)}const G=this.editor.getSelections(),U=G?G.map(ce=>ce.startLineNumber):[];oe.update(z,U),X==null||X.restore(this.editor);const K=this.updateDebounceInfo.update(oe.textModel,ne.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=K)}return oe})}).then(void 0,oe=>((0,C.onUnexpectedError)(oe),null)))}onHiddenRangesChanges(oe){if(this.hiddenRangeModel&&oe.length&&!this._restoringViewState){const ne=this.editor.getSelections();ne&&this.hiddenRangeModel.adjustSelections(ne)&&this.editor.setSelections(ne)}this.editor.setHiddenAreas(oe)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const oe=this.getFoldingModel();!oe||oe.then(ne=>{if(ne){const j=this.editor.getSelections();if(j&&j.length>0){const se=[];for(const z of j){const X=z.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(X)&&se.push(...ne.getAllRegionsAtLine(X,G=>G.isCollapsed&&X>G.startLineNumber))}se.length&&(ne.toggleCollapseState(se),this.reveal(j[0].getPosition()))}}}).then(void 0,C.onUnexpectedError)}onEditorMouseDown(oe){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!oe.target||!oe.target.range||!oe.event.leftButton&&!oe.event.middleButton)return;const ne=oe.target.range;let j=!1;switch(oe.target.type){case 4:{const se=oe.target.detail,z=oe.target.element.offsetLeft;if(se.offsetX-z<5)return;j=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!oe.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const se=this.editor.getModel();if(se&&ne.startColumn===se.getLineMaxColumn(ne.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:ne.startLineNumber,iconClicked:j}}onEditorMouseUp(oe){const ne=this.foldingModel;if(!ne||!this.mouseDownInfo||!oe.target)return;const j=this.mouseDownInfo.lineNumber,se=this.mouseDownInfo.iconClicked,z=oe.target.range;if(!z||z.startLineNumber!==j)return;if(se){if(oe.target.type!==4)return}else{const G=this.editor.getModel();if(!G||z.startColumn!==G.getLineMaxColumn(j))return}const X=ne.getRegionAtLine(j);if(X&&X.startLineNumber===j){const G=X.isCollapsed;if(se||G){const U=oe.event.altKey;let K=[];if(U){const ce=ue=>!ue.containedBy(X)&&!X.containedBy(ue),ee=ne.getRegionsInside(null,ce);for(const ue of ee)ue.isCollapsed&&K.push(ue);K.length===0&&(K=ee)}else{const ce=oe.event.middleButton||oe.event.shiftKey;if(ce)for(const ee of ne.getRegionsInside(X))ee.isCollapsed===G&&K.push(ee);(G||!ce||K.length===0)&&K.push(X)}ne.toggleCollapseState(K),this.reveal({lineNumber:j,column:1})}}}reveal(oe){this.editor.revealPositionInCenterIfOutsideViewport(oe,0)}};N.ID="editor.contrib.folding",N=ke([me(1,a.IContextKeyService),me(2,i.ILanguageConfigurationService),me(3,_.INotificationService),me(4,h.ILanguageFeatureDebounceService),me(5,y.ILanguageFeaturesService)],N),e.FoldingController=N;class T extends u.EditorAction{runEditorCommand(oe,ne,j){const se=oe.get(i.ILanguageConfigurationService),z=N.get(ne);if(!z)return;const X=z.getFoldingModel();if(X)return this.reportTelemetry(oe,ne),X.then(G=>{if(G){this.invoke(z,G,ne,j,se);const U=ne.getSelection();U&&z.reveal(U.getStartPosition())}})}getSelectedLines(oe){const ne=oe.getSelections();return ne?ne.map(j=>j.startLineNumber):[]}getLineNumbers(oe,ne){return oe&&oe.selectionLines?oe.selectionLines.map(j=>j+1):this.getSelectedLines(ne)}run(oe,ne){}}function R(x){if(!b.isUndefined(x)){if(!b.isObject(x))return!1;const oe=x;if(!b.isUndefined(oe.levels)&&!b.isNumber(oe.levels)||!b.isUndefined(oe.direction)&&!b.isString(oe.direction)||!b.isUndefined(oe.selectionLines)&&(!b.isArray(oe.selectionLines)||!oe.selectionLines.every(b.isNumber)))return!1}return!0}class F extends T{constructor(){super({id:"editor.unfold",label:d.localize(1,null),alias:"Unfold",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2048|1024|89,mac:{primary:2048|512|89},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:R,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(oe,ne,j,se){const z=se&&se.levels||1,X=this.getLineNumbers(se,j);se&&se.direction==="up"?(0,t.setCollapseStateLevelsUp)(ne,!1,z,X):(0,t.setCollapseStateLevelsDown)(ne,!1,z,X)}}class O extends T{constructor(){super({id:"editor.unfoldRecursively",label:d.localize(2,null),alias:"Unfold Recursively",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|89),weight:100}})}invoke(oe,ne,j,se){(0,t.setCollapseStateLevelsDown)(ne,!1,Number.MAX_VALUE,this.getSelectedLines(j))}}class D extends T{constructor(){super({id:"editor.fold",label:d.localize(3,null),alias:"Fold",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2048|1024|87,mac:{primary:2048|512|87},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:R,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(oe,ne,j,se){const z=this.getLineNumbers(se,j),X=se&&se.levels,G=se&&se.direction;typeof X!="number"&&typeof G!="string"?(0,t.setCollapseStateUp)(ne,!0,z):G==="up"?(0,t.setCollapseStateLevelsUp)(ne,!0,X||1,z):(0,t.setCollapseStateLevelsDown)(ne,!0,X||1,z)}}class M extends T{constructor(){super({id:"editor.toggleFold",label:d.localize(4,null),alias:"Toggle Fold",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|42),weight:100}})}invoke(oe,ne,j){const se=this.getSelectedLines(j);(0,t.toggleCollapseState)(ne,1,se)}}class P extends T{constructor(){super({id:"editor.foldRecursively",label:d.localize(5,null),alias:"Fold Recursively",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|87),weight:100}})}invoke(oe,ne,j){const se=this.getSelectedLines(j);(0,t.setCollapseStateLevelsDown)(ne,!0,Number.MAX_VALUE,se)}}class B extends T{constructor(){super({id:"editor.foldAllBlockComments",label:d.localize(6,null),alias:"Fold All Block Comments",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|85),weight:100}})}invoke(oe,ne,j,se,z){if(ne.regions.hasTypes())(0,t.setCollapseStateForType)(ne,n.FoldingRangeKind.Comment.value,!0);else{const X=j.getModel();if(!X)return;const G=z.getLanguageConfiguration(X.getLanguageId()).comments;if(G&&G.blockCommentStartToken){const U=new RegExp("^\\s*"+(0,L.escapeRegExpCharacters)(G.blockCommentStartToken));(0,t.setCollapseStateForMatchingLines)(ne,U,!0)}}}}class W extends T{constructor(){super({id:"editor.foldAllMarkerRegions",label:d.localize(7,null),alias:"Fold All Regions",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|29),weight:100}})}invoke(oe,ne,j,se,z){if(ne.regions.hasTypes())(0,t.setCollapseStateForType)(ne,n.FoldingRangeKind.Region.value,!0);else{const X=j.getModel();if(!X)return;const G=z.getLanguageConfiguration(X.getLanguageId()).foldingRules;if(G&&G.markers&&G.markers.start){const U=new RegExp(G.markers.start);(0,t.setCollapseStateForMatchingLines)(ne,U,!0)}}}}class V extends T{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:d.localize(8,null),alias:"Unfold All Regions",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|30),weight:100}})}invoke(oe,ne,j,se,z){if(ne.regions.hasTypes())(0,t.setCollapseStateForType)(ne,n.FoldingRangeKind.Region.value,!1);else{const X=j.getModel();if(!X)return;const G=z.getLanguageConfiguration(X.getLanguageId()).foldingRules;if(G&&G.markers&&G.markers.start){const U=new RegExp(G.markers.start);(0,t.setCollapseStateForMatchingLines)(ne,U,!1)}}}}class A extends T{constructor(){super({id:"editor.foldAllExcept",label:d.localize(9,null),alias:"Fold All Regions Except Selected",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|83),weight:100}})}invoke(oe,ne,j){const se=this.getSelectedLines(j);(0,t.setCollapseStateForRest)(ne,!0,se)}}class Q extends T{constructor(){super({id:"editor.unfoldAllExcept",label:d.localize(10,null),alias:"Unfold All Regions Except Selected",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|81),weight:100}})}invoke(oe,ne,j){const se=this.getSelectedLines(j);(0,t.setCollapseStateForRest)(ne,!1,se)}}class J extends T{constructor(){super({id:"editor.foldAll",label:d.localize(11,null),alias:"Fold All",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|21),weight:100}})}invoke(oe,ne,j){(0,t.setCollapseStateLevelsDown)(ne,!0)}}class H extends T{constructor(){super({id:"editor.unfoldAll",label:d.localize(12,null),alias:"Unfold All",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|40),weight:100}})}invoke(oe,ne,j){(0,t.setCollapseStateLevelsDown)(ne,!1)}}class q extends T{getFoldingLevel(){return parseInt(this.id.substr(q.ID_PREFIX.length))}invoke(oe,ne,j){(0,t.setCollapseStateAtLevel)(ne,this.getFoldingLevel(),!0,this.getSelectedLines(j))}}q.ID_PREFIX="editor.foldLevel",q.ID=x=>q.ID_PREFIX+x;class Z extends T{constructor(){super({id:"editor.gotoParentFold",label:d.localize(13,null),alias:"Go to Parent Fold",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,weight:100}})}invoke(oe,ne,j){const se=this.getSelectedLines(j);if(se.length>0){const z=(0,t.getParentFoldLine)(se[0],ne);z!==null&&j.setSelection({startLineNumber:z,startColumn:1,endLineNumber:z,endColumn:1})}}}class ie extends T{constructor(){super({id:"editor.gotoPreviousFold",label:d.localize(14,null),alias:"Go to Previous Folding Range",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,weight:100}})}invoke(oe,ne,j){const se=this.getSelectedLines(j);if(se.length>0){const z=(0,t.getPreviousFoldLine)(se[0],ne);z!==null&&j.setSelection({startLineNumber:z,startColumn:1,endLineNumber:z,endColumn:1})}}}class Y extends T{constructor(){super({id:"editor.gotoNextFold",label:d.localize(15,null),alias:"Go to Next Folding Range",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,weight:100}})}invoke(oe,ne,j){const se=this.getSelectedLines(j);if(se.length>0){const z=(0,t.getNextFoldLine)(se[0],ne);z!==null&&j.setSelection({startLineNumber:z,startColumn:1,endLineNumber:z,endColumn:1})}}}class te extends T{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:d.localize(16,null),alias:"Create Folding Range from Selection",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|82),weight:100}})}invoke(oe,ne,j){var se;const z=[],X=j.getSelections();if(X){for(const G of X){let U=G.endLineNumber;G.endColumn===1&&--U,U>G.startLineNumber&&(z.push({startLineNumber:G.startLineNumber,endLineNumber:U,type:void 0,isCollapsed:!0,source:1}),j.setSelection({startLineNumber:G.startLineNumber,startColumn:1,endLineNumber:G.startLineNumber,endColumn:1}))}if(z.length>0){z.sort((U,K)=>U.startLineNumber-K.startLineNumber);const G=f.FoldingRegions.sanitizeAndMerge(ne.regions,z,(se=j.getModel())===null||se===void 0?void 0:se.getLineCount());ne.updatePost(f.FoldingRegions.fromFoldRanges(G))}}}}class de extends T{constructor(){super({id:"editor.removeManualFoldingRanges",label:d.localize(17,null),alias:"Remove Manual Folding Ranges",precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|84),weight:100}})}invoke(oe,ne,j){const se=j.getSelections();if(se){const z=[];for(const X of se){const{startLineNumber:G,endLineNumber:U}=X;z.push(U>=G?{startLineNumber:G,endLineNumber:U}:{endLineNumber:U,startLineNumber:G})}ne.removeManualRanges(z),oe.triggerFoldingModelChanged()}}}(0,u.registerEditorContribution)(N.ID,N),(0,u.registerEditorAction)(F),(0,u.registerEditorAction)(O),(0,u.registerEditorAction)(D),(0,u.registerEditorAction)(P),(0,u.registerEditorAction)(J),(0,u.registerEditorAction)(H),(0,u.registerEditorAction)(B),(0,u.registerEditorAction)(W),(0,u.registerEditorAction)(V),(0,u.registerEditorAction)(A),(0,u.registerEditorAction)(Q),(0,u.registerEditorAction)(M),(0,u.registerEditorAction)(Z),(0,u.registerEditorAction)(ie),(0,u.registerEditorAction)(Y),(0,u.registerEditorAction)(te),(0,u.registerEditorAction)(de);for(let x=1;x<=7;x++)(0,u.registerInstantiatedEditorAction)(new q({id:q.ID(x),label:d.localize(18,null,x),alias:`Fold Level ${x}`,precondition:E,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|21+x),weight:100}}));e.foldBackgroundBackground=(0,s.registerColor)("editor.foldBackground",{light:(0,s.transparent)(s.editorSelectionBackground,.3),dark:(0,s.transparent)(s.editorSelectionBackground,.3),hcDark:null,hcLight:null},d.localize(19,null),!0),e.editorFoldForeground=(0,s.registerColor)("editorGutter.foldingControlForeground",{dark:s.iconForeground,light:s.iconForeground,hcDark:s.iconForeground,hcLight:s.iconForeground},d.localize(20,null)),(0,o.registerThemingParticipant)((x,oe)=>{const ne=x.getColor(e.foldBackgroundBackground);ne&&oe.addRule(`.monaco-editor .folded-background { background-color: ${ne}; }`);const j=x.getColor(e.editorFoldForeground);j&&oe.addRule(`
		.monaco-editor .cldr${o.ThemeIcon.asCSSSelector(c.foldingExpandedIcon)},
		.monaco-editor .cldr${o.ThemeIcon.asCSSSelector(c.foldingCollapsedIcon)},
		.monaco-editor .cldr${o.ThemeIcon.asCSSSelector(c.foldingManualExpandedIcon)},
		.monaco-editor .cldr${o.ThemeIcon.asCSSSelector(c.foldingManualCollapsedIcon)} {
			color: ${j} !important;
		}
		`)})}),define(re[751],ae([1,0,7,260,18,2,11,3,35,28,275,88,16,9,42,102,10,24]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContentHoverWidget=e.ContentHoverController=void 0;const s=w.$;let o=class li extends I.Disposable{constructor(h,S,y){super();this._editor=h,this._instantiationService=S,this._keybindingService=y,this._widget=this._register(this._instantiationService.createInstance(f,this._editor)),this._isChangingDecorations=!1,this._messages=[],this._messagesAreComplete=!1,this._participants=[];for(const E of n.HoverParticipantRegistry.getAll())this._participants.push(this._instantiationService.createInstance(E,this._editor));this._participants.sort((E,N)=>E.hoverOrdinal-N.hoverOrdinal),this._computer=new _(this._editor,this._participants),this._hoverOperation=this._register(new g.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(E=>{this._withResult(E.value,E.isComplete,E.hasLoadingMessage)})),this._register(this._editor.onDidChangeModelDecorations(()=>{this._isChangingDecorations||this._onModelDecorationsChanged()})),this._register(w.addStandardDisposableListener(this._widget.getDomNode(),"keydown",E=>{E.equals(9)&&this.hide()})),this._register(u.TokenizationRegistry.onDidChange(()=>{this._widget.position&&this._computer.anchor&&this._messages.length>0&&(this._widget.clear(),this._renderMessages(this._computer.anchor,this._messages))}))}_onModelDecorationsChanged(){this._widget.position&&(this._hoverOperation.cancel(),this._widget.isColorPickerVisible||this._hoverOperation.start(0))}maybeShowAt(h){const S=[];for(const E of this._participants)if(E.suggestHoverAnchor){const N=E.suggestHoverAnchor(h);N&&S.push(N)}const y=h.target;if(y.type===6&&S.push(new n.HoverRangeAnchor(0,y.range)),y.type===7){const E=this._editor.getOption(46).typicalHalfwidthCharacterWidth/2;!y.detail.isAfterLines&&typeof y.detail.horizontalDistanceToText=="number"&&y.detail.horizontalDistanceToText<E&&S.push(new n.HoverRangeAnchor(0,y.range))}return S.length===0?!1:(S.sort((E,N)=>N.priority-E.priority),this._startShowingAt(S[0],0,!1),!0)}startShowingAtRange(h,S,y){this._startShowingAt(new n.HoverRangeAnchor(0,h),S,y)}_startShowingAt(h,S,y){if(!(this._computer.anchor&&this._computer.anchor.equals(h))){if(this._hoverOperation.cancel(),this._widget.position)if(!this._computer.anchor||!h.canAdoptVisibleHover(this._computer.anchor,this._widget.position))this.hide();else{const E=this._messages.filter(N=>N.isValidForHoverAnchor(h));if(E.length===0)this.hide();else{if(E.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(h,E)}}this._computer.anchor=h,this._computer.shouldFocus=y,this._hoverOperation.start(S)}}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._widget.hide()}isColorPickerVisible(){return this._widget.isColorPickerVisible}containsNode(h){return this._widget.getDomNode().contains(h)}_addLoadingMessage(h){if(this._computer.anchor){for(const S of this._participants)if(S.createLoadingMessage){const y=S.createLoadingMessage(this._computer.anchor);if(y)return h.slice(0).concat([y])}}return h}_withResult(h,S,y){this._messages=y?this._addLoadingMessage(h):h,this._messagesAreComplete=S,this._computer.anchor&&this._messages.length>0?this._renderMessages(this._computer.anchor,this._messages):S&&this.hide()}_renderMessages(h,S){const{showAtPosition:y,showAtRange:E,highlightRange:N}=li.computeHoverRanges(h.range,S),T=new I.DisposableStore,R=T.add(new p(this._keybindingService)),F=document.createDocumentFragment();let O=null;const D={fragment:F,statusBar:R,setColorPicker:M=>O=M,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const M of this._participants){const P=S.filter(B=>B.owner===M);P.length>0&&T.add(M.renderHoverParts(D,P))}if(R.hasContent&&F.appendChild(R.hoverElement),F.hasChildNodes()){if(N){const M=this._editor.createDecorationsCollection();try{this._isChangingDecorations=!0,M.set([{range:N,options:li._DECORATION_OPTIONS}])}finally{this._isChangingDecorations=!1}T.add((0,I.toDisposable)(()=>{try{this._isChangingDecorations=!0,M.clear()}finally{this._isChangingDecorations=!1}}))}this._widget.showAt(F,new c(O,y,E,this._editor.getOption(55).above,this._computer.shouldFocus,T))}else T.dispose()}static computeHoverRanges(h,S){const y=h.startLineNumber;let E=h.startColumn,N=h.endColumn,T=S[0].range,R=null;for(const F of S)T=b.Range.plusRange(T,F.range),F.range.startLineNumber===y&&F.range.endLineNumber===y&&(E=Math.min(E,F.range.startColumn),N=Math.max(N,F.range.endColumn)),F.forceShowAtRange&&(R=F.range);return{showAtPosition:R?R.getStartPosition():new L.Position(h.startLineNumber,E),showAtRange:R||new b.Range(y,E,y,N),highlightRange:T}}};o._DECORATION_OPTIONS=v.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),o=ke([me(1,t.IInstantiationService),me(2,r.IKeybindingService)],o),e.ContentHoverController=o;class c{constructor(h,S,y,E,N,T){this.colorPicker=h,this.showAtPosition=S,this.showAtRange=y,this.preferAbove=E,this.stoleFocus=N,this.disposables=T}}let f=class ji extends I.Disposable{constructor(h,S){super();this._editor=h,this._contextKeyService=S,this.allowEditorOverflow=!0,this._hoverVisibleKey=a.EditorContextKeys.hoverVisible.bindTo(this._contextKeyService),this._hover=this._register(new C.HoverWidget),this._visibleData=null,this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(y=>{y.hasChanged(46)&&this._updateFont()})),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this)}get position(){var h,S;return(S=(h=this._visibleData)===null||h===void 0?void 0:h.showAtPosition)!==null&&S!==void 0?S:null}get isColorPickerVisible(){var h;return Boolean((h=this._visibleData)===null||h===void 0?void 0:h.colorPicker)}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return ji.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let h=this._visibleData.preferAbove;return!h&&this._contextKeyService.getContextKeyValue(l.Context.Visible.key)&&(h=!0),{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:h?[1,2]:[2,1]}}_setVisibleData(h){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=h,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const h=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:S,lineHeight:y}=this._editor.getOption(46);this._hover.contentsDomNode.style.fontSize=`${S}px`,this._hover.contentsDomNode.style.lineHeight=`${y/S}`,this._hover.contentsDomNode.style.maxHeight=`${h}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(S=>this._editor.applyFontInfo(S))}showAt(h,S){this._setVisibleData(S),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(h),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this.onContentsChanged(),this._editor.render(),this.onContentsChanged(),S.stoleFocus&&this._hover.containerDomNode.focus(),S.colorPicker&&S.colorPicker.layout()}hide(){if(this._visibleData){const h=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),h&&this._editor.focus()}}onContentsChanged(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged();const h=this._hover.scrollbar.getScrollDimensions();if(h.scrollWidth>h.width){const y=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==y&&(this._hover.contentsDomNode.style.paddingBottom=y,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}};f.ID="editor.contrib.contentHoverWidget",f=ke([me(1,i.IContextKeyService)],f),e.ContentHoverWidget=f;let p=class extends I.Disposable{constructor(h){super();this._keybindingService=h,this._hasContent=!1,this.hoverElement=s("div.hover-row.status-bar"),this.actionsElement=w.append(this.hoverElement,s("div.actions"))}get hasContent(){return this._hasContent}addAction(h){const S=this._keybindingService.lookupKeybinding(h.commandId),y=S?S.getLabel():null;return this._hasContent=!0,this._register(C.HoverAction.render(this.actionsElement,h,y))}append(h){const S=w.append(this.actionsElement,h);return this._hasContent=!0,S}};p=ke([me(0,r.IKeybindingService)],p);class _{constructor(h,S){this._editor=h,this._participants=S,this._anchor=null,this._shouldFocus=!1}get anchor(){return this._anchor}set anchor(h){this._anchor=h}get shouldFocus(){return this._shouldFocus}set shouldFocus(h){this._shouldFocus=h}static _getLineDecorations(h,S){if(S.type!==1)return[];const y=h.getModel(),E=S.range.startLineNumber;if(E>y.getLineCount())return[];const N=y.getLineMaxColumn(E);return h.getLineDecorations(E).filter(T=>{if(T.options.isWholeLine)return!0;const R=T.range.startLineNumber===E?T.range.startColumn:1,F=T.range.endLineNumber===E?T.range.endColumn:N;if(T.options.showIfCollapsed){if(R>S.range.startColumn+1||S.range.endColumn-1>F)return!1}else if(R>S.range.startColumn||S.range.endColumn>F)return!1;return!0})}computeAsync(h){const S=this._anchor;if(!this._editor.hasModel()||!S)return d.AsyncIterableObject.EMPTY;const y=_._getLineDecorations(this._editor,S);return d.AsyncIterableObject.merge(this._participants.map(E=>E.computeAsync?E.computeAsync(S,y,h):d.AsyncIterableObject.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const h=_._getLineDecorations(this._editor,this._anchor);let S=[];for(const y of this._participants)S=S.concat(y.computeSync(this._anchor,h));return(0,k.coalesce)(S)}}}),define(re[752],ae([1,0,10,14,95,12,3,23,24,35,92,54,574,15,455]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let l=class di{constructor(o,c){this.editor=o,this.editorWorkerService=c,this.decorations=this.editor.createDecorationsCollection()}static get(o){return o.getContribution(di.ID)}dispose(){}run(o,c){this.currentRequest&&this.currentRequest.cancel();const f=this.editor.getSelection(),p=this.editor.getModel();if(!p||!f)return;let _=f;if(_.startLineNumber!==_.endLineNumber)return;const m=new k.EditorState(this.editor,1|4),h=p.uri;return this.editorWorkerService.canNavigateValueSet(h)?(this.currentRequest=(0,w.createCancelablePromise)(S=>this.editorWorkerService.navigateValueSet(h,_,c)),this.currentRequest.then(S=>{if(!S||!S.range||!S.value||!m.validate(this.editor))return;const y=L.Range.lift(S.range);let E=S.range;const N=S.value.length-(_.endColumn-_.startColumn);E={startLineNumber:E.startLineNumber,startColumn:E.startColumn,endLineNumber:E.endLineNumber,endColumn:E.startColumn+S.value.length},N>1&&(_=new b.Selection(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn+N-1));const T=new r.InPlaceReplaceCommand(y,_,S.value);this.editor.pushUndoStop(),this.editor.executeCommand(o,T),this.editor.pushUndoStop(),this.decorations.set([{range:E,options:di.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,w.timeout)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(C.onUnexpectedError)}).catch(C.onUnexpectedError)):Promise.resolve(void 0)}};l.ID="editor.contrib.inPlaceReplaceController",l.DECORATION=u.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),l=ke([me(1,g.IEditorWorkerService)],l);class d extends I.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:i.localize(0,null),alias:"Replace with Previous Value",precondition:v.EditorContextKeys.writable,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|1024|82,weight:100}})}run(o,c){const f=l.get(c);return f?f.run(this.id,!0):Promise.resolve(void 0)}}class a extends I.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:i.localize(1,null),alias:"Replace with Next Value",precondition:v.EditorContextKeys.writable,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|1024|84,weight:100}})}run(o,c){const f=l.get(c);return f?f.run(this.id,!1):Promise.resolve(void 0)}}(0,I.registerEditorContribution)(l.ID,l),(0,I.registerEditorAction)(d),(0,I.registerEditorAction)(a),(0,t.registerThemingParticipant)((s,o)=>{const c=s.getColor(n.editorBracketMatchBorder);c&&o.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${c}; }`)})}),define(re[753],ae([1,0,18,10,21,31,14,6,2,8,22,12,29,11,3,24,35,32,581,16,25,15,20,70,57]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f,p,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new o.RawContextKey("LinkedEditingInputVisible",!1);const h="linked-editing-decoration";let S=class ci extends v.Disposable{constructor(R,F,O,D,M){super();this.languageConfigurationService=D,this._syncRangesToken=0,this._localToDispose=this._register(new v.DisposableStore),this._editor=R,this._providers=O.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(F),this._debounceInformation=M.for(this._providers,"Linked Editing",{min:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new v.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(P=>{(P.hasChanged(64)||P.hasChanged(84))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(R){return R.getContribution(ci.ID)}reinitialize(R){const F=this._editor.getModel(),O=F!==null&&(this._editor.getOption(64)||this._editor.getOption(84))&&this._providers.has(F);if(O===this._enabled&&!R||(this._enabled=O,this.clearRanges(),this._localToDispose.clear(),!O||F===null))return;this._localToDispose.add(b.Event.runAndSubscribe(F.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(F.getLanguageId()).getWordDefinition()}));const D=new C.Delayer(this._debounceInformation.get(F)),M=()=>{var W;this._rangeUpdateTriggerPromise=D.trigger(()=>this.updateRanges(),(W=this._debounceDuration)!==null&&W!==void 0?W:this._debounceInformation.get(F))},P=new C.Delayer(0),B=W=>{this._rangeSyncTriggerPromise=P.trigger(()=>this._syncRanges(W))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{M()})),this._localToDispose.add(this._editor.onDidChangeModelContent(W=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const V=this._currentDecorations.getRange(0);if(V&&W.changes.every(A=>V.intersectRanges(A.range))){B(this._syncRangesToken);return}}M()})),this._localToDispose.add({dispose:()=>{D.dispose(),P.dispose()}}),this.updateRanges()}_syncRanges(R){if(!this._editor.hasModel()||R!==this._syncRangesToken||this._currentDecorations.length===0)return;const F=this._editor.getModel(),O=this._currentDecorations.getRange(0);if(!O||O.startLineNumber!==O.endLineNumber)return this.clearRanges();const D=F.getValueInRange(O);if(this._currentWordPattern){const P=D.match(this._currentWordPattern);if((P?P[0].length:0)!==D.length)return this.clearRanges()}const M=[];for(let P=1,B=this._currentDecorations.length;P<B;P++){const W=this._currentDecorations.getRange(P);if(!!W)if(W.startLineNumber!==W.endLineNumber)M.push({range:W,text:D});else{let V=F.getValueInRange(W),A=D,Q=W.startColumn,J=W.endColumn;const H=u.commonPrefixLength(V,A);Q+=H,V=V.substr(H),A=A.substr(H);const q=u.commonSuffixLength(V,A);J-=q,V=V.substr(0,V.length-q),A=A.substr(0,A.length-q),(Q!==J||A.length!==0)&&M.push({range:new r.Range(W.startLineNumber,Q,W.endLineNumber,J),text:A})}}if(M.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const P=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",M),this._editor._getViewModel().setPrevEditOperationType(P)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(R=!1){return Se(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const F=this._editor.getPosition();if(!this._enabled&&!R||this._editor.getSelections().length>1){this.clearRanges();return}const O=this._editor.getModel(),D=O.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===D){if(F.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const P=this._currentDecorations.getRange(0);if(P&&P.containsPosition(F))return}}this._currentRequestPosition=F,this._currentRequestModelVersion=D;const M=(0,C.createCancelablePromise)(P=>Se(this,void 0,void 0,function*(){try{const B=new m.StopWatch(!1),W=yield N(this._providers,O,F,P);if(this._debounceInformation.update(O,B.elapsed()),M!==this._currentRequest||(this._currentRequest=null,D!==O.getVersionId()))return;let V=[];(W==null?void 0:W.ranges)&&(V=W.ranges),this._currentWordPattern=(W==null?void 0:W.wordPattern)||this._languageWordPattern;let A=!1;for(let J=0,H=V.length;J<H;J++)if(r.Range.containsPosition(V[J],F)){if(A=!0,J!==0){const q=V[J];V.splice(J,1),V.unshift(q)}break}if(!A){this.clearRanges();return}const Q=V.map(J=>({range:J,options:ci.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(Q),this._syncRangesToken++}catch(B){(0,L.isCancellationError)(B)||(0,L.onUnexpectedError)(B),(this._currentRequest===M||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=M,M})}};S.ID="editor.contrib.linkedEditing",S.DECORATION=d.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:h}),S=ke([me(1,o.IContextKeyService),me(2,p.ILanguageFeaturesService),me(3,a.ILanguageConfigurationService),me(4,_.ILanguageFeatureDebounceService)],S),e.LinkedEditingContribution=S;class y extends n.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:s.localize(0,null),alias:"Start Linked Editing",precondition:o.ContextKeyExpr.and(l.EditorContextKeys.writable,l.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:2048|1024|60,weight:100}})}runCommand(R,F){const O=R.get(i.ICodeEditorService),[D,M]=Array.isArray(F)&&F||[void 0,void 0];return g.URI.isUri(D)&&t.Position.isIPosition(M)?O.openCodeEditor({resource:D},O.getActiveCodeEditor()).then(P=>{!P||(P.setPosition(M),P.invokeWithinContext(B=>(this.reportTelemetry(B,P),this.run(B,P))))},L.onUnexpectedError):super.runCommand(R,F)}run(R,F){const O=S.get(F);return O?Promise.resolve(O.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=y;const E=n.EditorCommand.bindToContribution(S.get);(0,n.registerEditorCommand)(new E({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:T=>T.clearRanges(),kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,weight:100+99,primary:9,secondary:[1024|9]}}));function N(T,R,F,O){const D=T.ordered(R);return(0,C.first)(D.map(M=>()=>Se(this,void 0,void 0,function*(){try{return yield M.provideLinkedEditingRanges(R,F,O)}catch(P){(0,L.onUnexpectedExternalError)(P);return}})),M=>!!M&&w.isNonEmptyArray(M==null?void 0:M.ranges))}e.editorLinkedEditingBackground=(0,c.registerColor)("editor.linkedEditingBackground",{dark:I.Color.fromHex("#f00").transparent(.3),light:I.Color.fromHex("#f00").transparent(.3),hcDark:I.Color.fromHex("#f00").transparent(.3),hcLight:I.Color.white},s.localize(1,null)),(0,f.registerThemingParticipant)((T,R)=>{const F=T.getColor(e.editorLinkedEditingBackground);F&&R.addRule(`.monaco-editor .${h} { background: ${F}; border-left-color: ${F}; }`)}),(0,n.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(T,R,F)=>{const{linkedEditingRangeProvider:O}=T.get(p.ILanguageFeaturesService);return N(O,R,F,k.CancellationToken.None)}),(0,n.registerEditorContribution)(S.ID,S),(0,n.registerEditorAction)(y)}),define(re[754],ae([1,0,10,21,14,64,2,52,17,44,57,22,12,35,70,20,205,629,582,39,45,25,15,384]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;let _=class qi extends L.Disposable{constructor(N,T,R,F,O){super();this.editor=N,this.openerService=T,this.notificationService=R,this.languageFeaturesService=F,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=O.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new w.RunOnceScheduler(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const D=this._register(new d.ClickLinkGesture(N));this._register(D.onMouseMoveOrRelevantKeyDown(([M,P])=>{this._onEditorMouseMove(M,P)})),this._register(D.onExecute(M=>{this.onEditorMouseUp(M)})),this._register(D.onCancel(M=>{this.cleanUpActiveLinkDecoration()})),this._register(N.onDidChangeConfiguration(M=>{!M.hasChanged(65)||(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(N.onDidChangeModelContent(M=>{!this.editor.hasModel()||this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(N.onDidChangeModel(M=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(N.onDidChangeModelLanguage(M=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(M=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}static get(N){return N.getContribution(qi.ID)}computeLinksNow(){return Se(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.editor.getOption(65))return;const N=this.editor.getModel();if(!!this.providers.has(N)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,w.createCancelablePromise)(T=>(0,a.getLinks)(this.providers,N,T));try{const T=new g.StopWatch(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(N,T.elapsed()),N.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(T){(0,k.onUnexpectedError)(T)}finally{this.computePromise=null}}})}updateDecorations(N){const T=this.editor.getOption(72)==="altKey",R=[],F=Object.keys(this.currentOccurrences);for(const D of F){const M=this.currentOccurrences[D];R.push(M.decorationId)}const O=[];if(N)for(const D of N)O.push(h.decoration(D,T));this.editor.changeDecorations(D=>{const M=D.deltaDecorations(R,O);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let P=0,B=M.length;P<B;P++){const W=new h(N[P],M[P]);this.currentOccurrences[W.decorationId]=W}})}_onEditorMouseMove(N,T){const R=this.editor.getOption(72)==="altKey";if(this.isEnabled(N,T)){this.cleanUpActiveLinkDecoration();const F=this.getLinkOccurrence(N.target.position);F&&this.editor.changeDecorations(O=>{F.activate(O,R),this.activeLinkDecorationId=F.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const N=this.editor.getOption(72)==="altKey";if(this.activeLinkDecorationId){const T=this.currentOccurrences[this.activeLinkDecorationId];T&&this.editor.changeDecorations(R=>{T.deactivate(R,N)}),this.activeLinkDecorationId=null}}onEditorMouseUp(N){if(!this.isEnabled(N))return;const T=this.getLinkOccurrence(N.target.position);!T||this.openLinkOccurrence(T,N.hasSideBySideModifier,!0)}openLinkOccurrence(N,T,R=!1){if(!this.openerService)return;const{link:F}=N;F.resolve(C.CancellationToken.None).then(O=>{if(typeof O=="string"&&this.editor.hasModel()){const D=this.editor.getModel().uri;if(D.scheme===b.Schemas.file&&O.startsWith(`${b.Schemas.file}:`)){const M=n.URI.parse(O);if(M.scheme===b.Schemas.file){const P=u.originalFSPath(M);let B=null;P.startsWith("/./")?B=`.${P.substr(1)}`:P.startsWith("//./")&&(B=`.${P.substr(2)}`),B&&(O=u.joinPath(D,B))}}}return this.openerService.open(O,{openToSide:T,fromUserGesture:R,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},O=>{const D=O instanceof Error?O.message:O;D==="invalid"?this.notificationService.warn(s.localize(0,null,F.url.toString())):D==="missing"?this.notificationService.warn(s.localize(1,null)):(0,k.onUnexpectedError)(O)})}getLinkOccurrence(N){if(!this.editor.hasModel()||!N)return null;const T=this.editor.getModel().getDecorationsInRange({startLineNumber:N.lineNumber,startColumn:N.column,endLineNumber:N.lineNumber,endColumn:N.column},0,!0);for(const R of T){const F=this.currentOccurrences[R.id];if(F)return F}return null}isEnabled(N,T){return Boolean(N.target.type===6&&(N.hasTriggerModifier||T&&T.keyCodeIsTriggerKey))}stop(){var N;this.computeLinks.cancel(),this.activeLinksList&&((N=this.activeLinksList)===null||N===void 0||N.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};_.ID="editor.linkDetector",_=ke([me(1,c.IOpenerService),me(2,o.INotificationService),me(3,l.ILanguageFeaturesService),me(4,r.ILanguageFeatureDebounceService)],_),e.LinkDetector=_;const m={general:t.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:t.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class h{constructor(N,T){this.link=N,this.decorationId=T}static decoration(N,T){return{range:N.range,options:h._getOptions(N,T,!1)}}static _getOptions(N,T,R){const F=Object.assign({},R?m.active:m.general);return F.hoverMessage=S(N,T),F}activate(N,T){N.changeDecorationOptions(this.decorationId,h._getOptions(this.link,T,!0))}deactivate(N,T){N.changeDecorationOptions(this.decorationId,h._getOptions(this.link,T,!1))}}function S(E,N){const T=E.url&&/^command:/i.test(E.url.toString()),R=E.tooltip?E.tooltip:T?s.localize(2,null):s.localize(3,null),F=N?v.isMacintosh?s.localize(4,null):s.localize(5,null):v.isMacintosh?s.localize(6,null):s.localize(7,null);if(E.url){let O="";if(/^command:/i.test(E.url.toString())){const M=E.url.toString().match(/^command:([^?#]+)/);if(M){const P=M[1];O=s.localize(8,null,P)}}return new I.MarkdownString("",!0).appendLink(E.url.toString(!0).replace(/ /g,"%20"),R,O).appendMarkdown(` (${F})`)}else return new I.MarkdownString().appendText(`${R} (${F})`)}class y extends i.EditorAction{constructor(){super({id:"editor.action.openLink",label:s.localize(9,null),alias:"Open Link",precondition:void 0})}run(N,T){const R=_.get(T);if(!R||!T.hasModel())return;const F=T.getSelections();for(const O of F){const D=R.getLinkOccurrence(O.getEndPosition());D&&R.openLinkOccurrence(D,!1)}}}(0,i.registerEditorContribution)(_.ID,_),(0,i.registerEditorAction)(y),(0,p.registerThemingParticipant)((E,N)=>{const T=E.getColor(f.editorActiveLinkForeground);T&&N.addRule(`.monaco-editor .detected-link-active { color: ${T} !important; }`)})}),define(re[755],ae([1,0,49,10,59,2,12,182,3,23,24,46,35,313,584,38,16,25,15,20]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FocusPreviousCursor=e.FocusNextCursor=e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function c(J,H){const q=H.filter(Z=>!J.find(ie=>ie.equals(Z)));if(q.length>=1){const Z=q.map(Y=>`line ${Y.viewState.position.lineNumber} column ${Y.viewState.position.column}`).join(", "),ie=q.length===1?r.localize(0,null,Z):r.localize(1,null,Z);(0,w.status)(ie)}}class f extends L.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:r.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2048|512|16,linux:{primary:1024|512|16,secondary:[2048|1024|16]},weight:100},menuOpts:{menuId:l.MenuId.MenubarSelectionMenu,group:"3_multi",title:r.localize(3,null),order:2}})}run(H,q,Z){if(!q.hasModel())return;let ie=!0;Z&&Z.logicalLine===!1&&(ie=!1);const Y=q._getViewModel();if(Y.cursorConfig.readOnly)return;Y.model.pushStackElement();const te=Y.getCursorStates();Y.setCursorStates(Z.source,3,b.CursorMoveCommands.addCursorUp(Y,te,ie)),Y.revealTopMostCursor(Z.source),c(te,Y.getCursorStates())}}e.InsertCursorAbove=f;class p extends L.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:r.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2048|512|18,linux:{primary:1024|512|18,secondary:[2048|1024|18]},weight:100},menuOpts:{menuId:l.MenuId.MenubarSelectionMenu,group:"3_multi",title:r.localize(5,null),order:3}})}run(H,q,Z){if(!q.hasModel())return;let ie=!0;Z&&Z.logicalLine===!1&&(ie=!1);const Y=q._getViewModel();if(Y.cursorConfig.readOnly)return;Y.model.pushStackElement();const te=Y.getCursorStates();Y.setCursorStates(Z.source,3,b.CursorMoveCommands.addCursorDown(Y,te,ie)),Y.revealBottomMostCursor(Z.source),c(te,Y.getCursorStates())}}e.InsertCursorBelow=p;class _ extends L.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:r.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:1024|512|39,weight:100},menuOpts:{menuId:l.MenuId.MenubarSelectionMenu,group:"3_multi",title:r.localize(7,null),order:4}})}getCursorsForSelection(H,q,Z){if(!H.isEmpty()){for(let ie=H.startLineNumber;ie<H.endLineNumber;ie++){const Y=q.getLineMaxColumn(ie);Z.push(new u.Selection(ie,Y,ie,Y))}H.endColumn>1&&Z.push(new u.Selection(H.endLineNumber,H.endColumn,H.endLineNumber,H.endColumn))}}run(H,q){if(!q.hasModel())return;const Z=q.getModel(),ie=q.getSelections(),Y=q._getViewModel(),te=Y.getCursorStates(),de=[];ie.forEach(x=>this.getCursorsForSelection(x,Z,de)),de.length>0&&q.setSelections(de),c(te,Y.getCursorStates())}}class m extends L.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:r.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(H,q){if(!q.hasModel())return;const Z=q.getSelections(),ie=q.getModel().getLineCount(),Y=[];for(let x=Z[0].startLineNumber;x<=ie;x++)Y.push(new u.Selection(x,Z[0].startColumn,x,Z[0].endColumn));const te=q._getViewModel(),de=te.getCursorStates();Y.length>0&&q.setSelections(Y),c(de,te.getCursorStates())}}class h extends L.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:r.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run(H,q){if(!q.hasModel())return;const Z=q.getSelections(),ie=[];for(let de=Z[0].startLineNumber;de>=1;de--)ie.push(new u.Selection(de,Z[0].startColumn,de,Z[0].endColumn));const Y=q._getViewModel(),te=Y.getCursorStates();ie.length>0&&q.setSelections(ie),c(te,Y.getCursorStates())}}class S{constructor(H,q,Z){this.selections=H,this.revealRange=q,this.revealScrollType=Z}}e.MultiCursorSessionResult=S;class y{constructor(H,q,Z,ie,Y,te,de){this._editor=H,this.findController=q,this.isDisconnectedFromFindController=Z,this.searchText=ie,this.wholeWord=Y,this.matchCase=te,this.currentMatch=de}static create(H,q){if(!H.hasModel())return null;const Z=q.getState();if(!H.hasTextFocus()&&Z.isRevealed&&Z.searchString.length>0)return new y(H,q,!1,Z.searchString,Z.wholeWord,Z.matchCase,null);let ie=!1,Y,te;const de=H.getSelections();de.length===1&&de[0].isEmpty()?(ie=!0,Y=!0,te=!0):(Y=Z.wholeWord,te=Z.matchCase);const x=H.getSelection();let oe,ne=null;if(x.isEmpty()){const j=H.getConfiguredWordAtPosition(x.getStartPosition());if(!j)return null;oe=j.word,ne=new u.Selection(x.startLineNumber,j.startColumn,x.startLineNumber,j.endColumn)}else oe=H.getModel().getValueInRange(x).replace(/\r\n/g,`
`);return new y(H,q,ie,oe,Y,te,ne)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const H=this._getNextMatch();if(!H)return null;const q=this._editor.getSelections();return new S(q.concat(H),H,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const H=this._getNextMatch();if(!H)return null;const q=this._editor.getSelections();return new S(q.slice(0,q.length-1).concat(H),H,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const ie=this.currentMatch;return this.currentMatch=null,ie}this.findController.highlightFindOptions();const H=this._editor.getSelections(),q=H[H.length-1],Z=this._editor.getModel().findNextMatch(this.searchText,q.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1);return Z?new u.Selection(Z.range.startLineNumber,Z.range.startColumn,Z.range.endLineNumber,Z.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const H=this._getPreviousMatch();if(!H)return null;const q=this._editor.getSelections();return new S(q.concat(H),H,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const H=this._getPreviousMatch();if(!H)return null;const q=this._editor.getSelections();return new S(q.slice(0,q.length-1).concat(H),H,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const ie=this.currentMatch;return this.currentMatch=null,ie}this.findController.highlightFindOptions();const H=this._editor.getSelections(),q=H[H.length-1],Z=this._editor.getModel().findPreviousMatch(this.searchText,q.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1);return Z?new u.Selection(Z.range.startLineNumber,Z.range.startColumn,Z.range.endLineNumber,Z.range.endColumn):null}selectAll(H){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const q=this._editor.getModel();return H?q.findMatches(this.searchText,H,!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1,1073741824):q.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1,1073741824)}}e.MultiCursorSession=y;class E extends I.Disposable{constructor(H){super();this._sessionDispose=this._register(new I.DisposableStore),this._editor=H,this._ignoreSelectionChange=!1,this._session=null}static get(H){return H.getContribution(E.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(H){if(!this._session){const q=y.create(this._editor,H);if(!q)return;this._session=q;const Z={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(Z.wholeWordOverride=1,Z.matchCaseOverride=1,Z.isRegexOverride=2),H.getState().change(Z,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(ie=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(H.getState().onFindReplaceStateChange(ie=>{(ie.matchCase||ie.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const H={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(H,!1)}this._session=null}_setSelections(H){this._ignoreSelectionChange=!0,this._editor.setSelections(H),this._ignoreSelectionChange=!1}_expandEmptyToWord(H,q){if(!q.isEmpty())return q;const Z=this._editor.getConfiguredWordAtPosition(q.getStartPosition());return Z?new u.Selection(q.startLineNumber,Z.startColumn,q.startLineNumber,Z.endColumn):q}_applySessionResult(H){!H||(this._setSelections(H.selections),H.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(H.revealRange,H.revealScrollType))}getSession(H){return this._session}addSelectionToNextFindMatch(H){if(!!this._editor.hasModel()){if(!this._session){const q=this._editor.getSelections();if(q.length>1){const ie=H.getState().matchCase;if(!W(this._editor.getModel(),q,ie)){const te=this._editor.getModel(),de=[];for(let x=0,oe=q.length;x<oe;x++)de[x]=this._expandEmptyToWord(te,q[x]);this._editor.setSelections(de);return}}}this._beginSessionIfNeeded(H),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(H){this._beginSessionIfNeeded(H),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(H){this._beginSessionIfNeeded(H),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(H){this._beginSessionIfNeeded(H),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(H){if(!this._editor.hasModel())return;let q=null;const Z=H.getState();if(Z.isRevealed&&Z.searchString.length>0&&Z.isRegex){const ie=this._editor.getModel();Z.searchScope?q=ie.findMatches(Z.searchString,Z.searchScope,Z.isRegex,Z.matchCase,Z.wholeWord?this._editor.getOption(119):null,!1,1073741824):q=ie.findMatches(Z.searchString,!0,Z.isRegex,Z.matchCase,Z.wholeWord?this._editor.getOption(119):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(H),!this._session)return;q=this._session.selectAll(Z.searchScope)}if(q.length>0){const ie=this._editor.getSelection();for(let Y=0,te=q.length;Y<te;Y++){const de=q[Y];if(de.range.intersectRanges(ie)){q[Y]=q[0],q[0]=de;break}}this._setSelections(q.map(Y=>new u.Selection(Y.range.startLineNumber,Y.range.startColumn,Y.range.endLineNumber,Y.range.endColumn)))}}}e.MultiCursorSelectionController=E,E.ID="editor.contrib.multiCursorController";class N extends L.EditorAction{run(H,q){const Z=E.get(q);if(!Z)return;const ie=t.CommonFindController.get(q);if(!ie)return;const Y=q._getViewModel();if(Y){const te=Y.getCursorStates();this._run(Z,ie),c(te,Y.getCursorStates())}}}e.MultiCursorSelectionControllerAction=N;class T extends N{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:r.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:2048|34,weight:100},menuOpts:{menuId:l.MenuId.MenubarSelectionMenu,group:"3_multi",title:r.localize(11,null),order:5}})}_run(H,q){H.addSelectionToNextFindMatch(q)}}e.AddSelectionToNextFindMatchAction=T;class R extends N{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:r.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:l.MenuId.MenubarSelectionMenu,group:"3_multi",title:r.localize(13,null),order:6}})}_run(H,q){H.addSelectionToPreviousFindMatch(q)}}e.AddSelectionToPreviousFindMatchAction=R;class F extends N{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:r.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:(0,k.KeyChord)(2048|41,2048|34),weight:100}})}_run(H,q){H.moveSelectionToNextFindMatch(q)}}e.MoveSelectionToNextFindMatchAction=F;class O extends N{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:r.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(H,q){H.moveSelectionToPreviousFindMatch(q)}}e.MoveSelectionToPreviousFindMatchAction=O;class D extends N{constructor(){super({id:"editor.action.selectHighlights",label:r.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:g.EditorContextKeys.focus,primary:2048|1024|42,weight:100},menuOpts:{menuId:l.MenuId.MenubarSelectionMenu,group:"3_multi",title:r.localize(17,null),order:7}})}_run(H,q){H.selectAll(q)}}e.SelectHighlightsAction=D;class M extends N{constructor(){super({id:"editor.action.changeAll",label:r.localize(18,null),alias:"Change All Occurrences",precondition:d.ContextKeyExpr.and(g.EditorContextKeys.writable,g.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2048|60,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(H,q){H.selectAll(q)}}e.CompatChangeAll=M;class P{constructor(H,q,Z,ie,Y){this._model=H,this._searchText=q,this._matchCase=Z,this._wordSeparators=ie,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,Y&&this._model===Y._model&&this._searchText===Y._searchText&&this._matchCase===Y._matchCase&&this._wordSeparators===Y._wordSeparators&&this._modelVersionId===Y._modelVersionId&&(this._cachedFindMatches=Y._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(H=>H.range),this._cachedFindMatches.sort(v.Range.compareRangesUsingStarts)),this._cachedFindMatches}}let B=class $t extends I.Disposable{constructor(H,q){super();this._languageFeaturesService=q,this.editor=H,this._isEnabled=H.getOption(99),this._decorations=H.createDecorationsCollection(),this.updateSoon=this._register(new C.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(H.onDidChangeConfiguration(ie=>{this._isEnabled=H.getOption(99)})),this._register(H.onDidChangeCursorSelection(ie=>{!this._isEnabled||(ie.selection.isEmpty()?ie.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(H.onDidChangeModel(ie=>{this._setState(null)})),this._register(H.onDidChangeModelContent(ie=>{this._isEnabled&&this.updateSoon.schedule()}));const Z=t.CommonFindController.get(H);Z&&this._register(Z.getState().onFindReplaceStateChange(ie=>{this._update()}))}_update(){this._setState($t._createState(this.state,this._isEnabled,this.editor))}static _createState(H,q,Z){if(!q||!Z.hasModel())return null;const ie=Z.getSelection();if(ie.startLineNumber!==ie.endLineNumber)return null;const Y=E.get(Z);if(!Y)return null;const te=t.CommonFindController.get(Z);if(!te)return null;let de=Y.getSession(te);if(!de){const ne=Z.getSelections();if(ne.length>1){const se=te.getState().matchCase;if(!W(Z.getModel(),ne,se))return null}de=y.create(Z,te)}if(!de||de.currentMatch||/^[ \t]+$/.test(de.searchText)||de.searchText.length>200)return null;const x=te.getState(),oe=x.matchCase;if(x.isRevealed){let ne=x.searchString;oe||(ne=ne.toLowerCase());let j=de.searchText;if(oe||(j=j.toLowerCase()),ne===j&&de.matchCase===x.matchCase&&de.wholeWord===x.wholeWord&&!x.isRegex)return null}return new P(Z.getModel(),de.searchText,de.matchCase,de.wholeWord?Z.getOption(119):null,H)}_setState(H){if(this.state=H,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const q=this.editor.getModel();if(q.isTooLargeForTokenization())return;const Z=this.state.findMatches(),ie=this.editor.getSelections();ie.sort(v.Range.compareRangesUsingStarts);const Y=[];for(let x=0,oe=0,ne=Z.length,j=ie.length;x<ne;){const se=Z[x];if(oe>=j)Y.push(se),x++;else{const z=v.Range.compareRangesUsingStarts(se,ie[oe]);z<0?((ie[oe].isEmpty()||!v.Range.areIntersecting(se,ie[oe]))&&Y.push(se),x++):(z>0||x++,oe++)}}const te=this._languageFeaturesService.documentHighlightProvider.has(q)&&this.editor.getOption(74),de=Y.map(x=>({range:x,options:te?$t._SELECTION_HIGHLIGHT:$t._SELECTION_HIGHLIGHT_OVERVIEW}));this._decorations.set(de)}dispose(){this._setState(null),super.dispose()}};B.ID="editor.contrib.selectionHighlighter",B._SELECTION_HIGHLIGHT_OVERVIEW=i.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:(0,s.themeColorFromId)(a.minimapSelectionOccurrenceHighlight),position:n.MinimapPosition.Inline},overviewRuler:{color:(0,s.themeColorFromId)(a.overviewRulerSelectionHighlightForeground),position:n.OverviewRulerLane.Center}}),B._SELECTION_HIGHLIGHT=i.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),B=ke([me(1,o.ILanguageFeaturesService)],B),e.SelectionHighlighter=B;function W(J,H,q){const Z=V(J,H[0],!q);for(let ie=1,Y=H.length;ie<Y;ie++){const te=H[ie];if(te.isEmpty())return!1;const de=V(J,te,!q);if(Z!==de)return!1}return!0}function V(J,H,q){const Z=J.getValueInRange(H);return q?Z.toLowerCase():Z}class A extends L.EditorAction{constructor(){super({id:"editor.action.focusNextCursor",label:r.localize(19,null),description:{description:r.localize(20,null),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(H,q,Z){if(!q.hasModel())return;const ie=q._getViewModel();if(ie.cursorConfig.readOnly)return;ie.model.pushStackElement();const Y=Array.from(ie.getCursorStates()),te=Y.shift();!te||(Y.push(te),ie.setCursorStates(Z.source,3,Y),ie.revealPrimaryCursor(Z.source,!0),c(Y,ie.getCursorStates()))}}e.FocusNextCursor=A;class Q extends L.EditorAction{constructor(){super({id:"editor.action.focusPreviousCursor",label:r.localize(21,null),description:{description:r.localize(22,null),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(H,q,Z){if(!q.hasModel())return;const ie=q._getViewModel();if(ie.cursorConfig.readOnly)return;ie.model.pushStackElement();const Y=Array.from(ie.getCursorStates()),te=Y.pop();!te||(Y.unshift(te),ie.setCursorStates(Z.source,3,Y),ie.revealPrimaryCursor(Z.source,!0),c(Y,ie.getCursorStates()))}}e.FocusPreviousCursor=Q,(0,L.registerEditorContribution)(E.ID,E),(0,L.registerEditorContribution)(B.ID,B),(0,L.registerEditorAction)(f),(0,L.registerEditorAction)(p),(0,L.registerEditorAction)(_),(0,L.registerEditorAction)(T),(0,L.registerEditorAction)(R),(0,L.registerEditorAction)(F),(0,L.registerEditorAction)(O),(0,L.registerEditorAction)(D),(0,L.registerEditorAction)(M),(0,L.registerEditorAction)(m),(0,L.registerEditorAction)(h),(0,L.registerEditorAction)(A),(0,L.registerEditorAction)(Q)}),define(re[756],ae([1,0,7,113,10,14,6,2,124,8,174,724,598,16,9,79,25,142,56,15,258,102,292,734,149,390,300]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f,p,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetStatusForeground=e.editorSuggestWidgetHighlightFocusForeground=e.editorSuggestWidgetHighlightForeground=e.editorSuggestWidgetSelectedBackground=e.editorSuggestWidgetSelectedIconForeground=e.editorSuggestWidgetSelectedForeground=e.editorSuggestWidgetForeground=e.editorSuggestWidgetBorder=e.editorSuggestWidgetBackground=void 0,e.editorSuggestWidgetBackground=(0,d.registerColor)("editorSuggestWidget.background",{dark:d.editorWidgetBackground,light:d.editorWidgetBackground,hcDark:d.editorWidgetBackground,hcLight:d.editorWidgetBackground},i.localize(0,null)),e.editorSuggestWidgetBorder=(0,d.registerColor)("editorSuggestWidget.border",{dark:d.editorWidgetBorder,light:d.editorWidgetBorder,hcDark:d.editorWidgetBorder,hcLight:d.editorWidgetBorder},i.localize(1,null)),e.editorSuggestWidgetForeground=(0,d.registerColor)("editorSuggestWidget.foreground",{dark:d.editorForeground,light:d.editorForeground,hcDark:d.editorForeground,hcLight:d.editorForeground},i.localize(2,null)),e.editorSuggestWidgetSelectedForeground=(0,d.registerColor)("editorSuggestWidget.selectedForeground",{dark:d.quickInputListFocusForeground,light:d.quickInputListFocusForeground,hcDark:d.quickInputListFocusForeground,hcLight:d.quickInputListFocusForeground},i.localize(3,null)),e.editorSuggestWidgetSelectedIconForeground=(0,d.registerColor)("editorSuggestWidget.selectedIconForeground",{dark:d.quickInputListFocusIconForeground,light:d.quickInputListFocusIconForeground,hcDark:d.quickInputListFocusIconForeground,hcLight:d.quickInputListFocusIconForeground},i.localize(4,null)),e.editorSuggestWidgetSelectedBackground=(0,d.registerColor)("editorSuggestWidget.selectedBackground",{dark:d.quickInputListFocusBackground,light:d.quickInputListFocusBackground,hcDark:d.quickInputListFocusBackground,hcLight:d.quickInputListFocusBackground},i.localize(5,null)),e.editorSuggestWidgetHighlightForeground=(0,d.registerColor)("editorSuggestWidget.highlightForeground",{dark:d.listHighlightForeground,light:d.listHighlightForeground,hcDark:d.listHighlightForeground,hcLight:d.listHighlightForeground},i.localize(6,null)),e.editorSuggestWidgetHighlightFocusForeground=(0,d.registerColor)("editorSuggestWidget.focusHighlightForeground",{dark:d.listFocusHighlightForeground,light:d.listFocusHighlightForeground,hcDark:d.listFocusHighlightForeground,hcLight:d.listFocusHighlightForeground},i.localize(7,null)),e.editorSuggestWidgetStatusForeground=(0,d.registerColor)("editorSuggestWidgetStatus.foreground",{dark:(0,d.transparent)(e.editorSuggestWidgetForeground,.5),light:(0,d.transparent)(e.editorSuggestWidgetForeground,.5),hcDark:(0,d.transparent)(e.editorSuggestWidgetForeground,.5),hcLight:(0,d.transparent)(e.editorSuggestWidgetForeground,.5)},i.localize(8,null));class m{constructor(E,N){this._service=E,this._key=`suggestWidget.size/${N.getEditorType()}/${N instanceof g.EmbeddedCodeEditorWidget}`}restore(){var E;const N=(E=this._service.get(this._key,0))!==null&&E!==void 0?E:"";try{const T=JSON.parse(N);if(w.Dimension.is(T))return w.Dimension.lift(T)}catch{}}store(E){this._service.store(this._key,JSON.stringify(E),0,1)}reset(){this._service.remove(this._key,0)}}let h=class ui{constructor(E,N,T,R,F){this.editor=E,this._storageService=N,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new k.TimeoutTimer,this._disposables=new b.DisposableStore,this._onDidSelect=new L.Emitter,this._onDidFocus=new L.Emitter,this._onDidHide=new L.Emitter,this._onDidShow=new L.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new L.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new c.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new S(this,E),this._persistedSize=new m(N,E);class O{constructor(A,Q,J=!1,H=!1){this.persistedSize=A,this.currentSize=Q,this.persistHeight=J,this.persistWidth=H}}let D;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),D=new O(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(V=>{var A,Q,J,H;if(this._resize(V.dimension.width,V.dimension.height),D&&(D.persistHeight=D.persistHeight||!!V.north||!!V.south,D.persistWidth=D.persistWidth||!!V.east||!!V.west),!!V.done){if(D){const{itemHeight:q,defaultSize:Z}=this.getLayoutInfo(),ie=Math.round(q/2);let{width:Y,height:te}=this.element.size;(!D.persistHeight||Math.abs(D.currentSize.height-te)<=ie)&&(te=(Q=(A=D.persistedSize)===null||A===void 0?void 0:A.height)!==null&&Q!==void 0?Q:Z.height),(!D.persistWidth||Math.abs(D.currentSize.width-Y)<=ie)&&(Y=(H=(J=D.persistedSize)===null||J===void 0?void 0:J.width)!==null&&H!==void 0?H:Z.width),this._persistedSize.store(new w.Dimension(Y,te))}this._contentWidget.unlockPreference(),D=void 0}})),this._messageElement=w.append(this.element.domNode,w.$(".message")),this._listElement=w.append(this.element.domNode,w.$(".tree"));const M=F.createInstance(p.SuggestDetailsWidget,this.editor);M.onDidClose(this.toggleDetails,this,this._disposables),this._details=new p.SuggestDetailsOverlay(M,this.editor);const P=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(108).showIcons);P();const B=F.createInstance(_.ItemRenderer,this.editor);this._disposables.add(B),this._disposables.add(B.onDidToggleDetails(()=>this.toggleDetails())),this._list=new C.List("SuggestWidget",this._listElement,{getHeight:V=>this.getLayoutInfo().itemHeight,getTemplateId:V=>"suggestion"},[B],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>i.localize(11,null),getWidgetRole:()=>"listbox",getAriaLabel:V=>{let A=V.textLabel;if(typeof V.completion.label!="string"){const{detail:q,description:Z}=V.completion.label;q&&Z?A=i.localize(12,null,A,q,Z):q?A=i.localize(13,null,A,q):Z&&(A=i.localize(14,null,A,Z))}if(!V.isResolved||!this._isDetailsVisible())return A;const{documentation:Q,detail:J}=V.completion,H=u.format("{0}{1}",J||"",Q?typeof Q=="string"?Q:Q.value:"");return i.localize(15,null,A,H)}}}),this._status=F.createInstance(n.SuggestWidgetStatus,this.element.domNode);const W=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(108).showStatusBar);W(),this._disposables.add((0,a.attachListStyler)(this._list,R,{listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:d.activeContrastBorder})),this._disposables.add(R.onDidColorThemeChange(V=>this._onThemeChange(V))),this._onThemeChange(R.getColorTheme()),this._disposables.add(this._list.onMouseDown(V=>this._onListMouseDownOrTap(V))),this._disposables.add(this._list.onTap(V=>this._onListMouseDownOrTap(V))),this._disposables.add(this._list.onDidChangeSelection(V=>this._onListSelection(V))),this._disposables.add(this._list.onDidChangeFocus(V=>this._onListFocus(V))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(V=>{V.hasChanged(108)&&(W(),P())})),this._ctxSuggestWidgetVisible=f.Context.Visible.bindTo(T),this._ctxSuggestWidgetDetailsVisible=f.Context.DetailsVisible.bindTo(T),this._ctxSuggestWidgetMultipleSuggestions=f.Context.MultipleSuggestions.bindTo(T),this._ctxSuggestWidgetHasFocusedSuggestion=f.Context.HasFocusedSuggestion.bindTo(T),this._disposables.add(w.addStandardDisposableListener(this._details.widget.domNode,"keydown",V=>{this._onDetailsKeydown.fire(V)})),this._disposables.add(this.editor.onMouseDown(V=>this._onEditorMouseDown(V)))}dispose(){var E;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(E=this._loadingTimeout)===null||E===void 0||E.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(E){this._details.widget.domNode.contains(E.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(E.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(E){typeof E.element=="undefined"||typeof E.index=="undefined"||(E.browserEvent.preventDefault(),E.browserEvent.stopPropagation(),this._select(E.element,E.index))}_onListSelection(E){E.elements.length&&this._select(E.elements[0],E.indexes[0])}_select(E,N){const T=this._completionModel;T&&(this._onDidSelect.fire({item:E,index:N,model:T}),this.editor.focus())}_onThemeChange(E){this._details.widget.borderWidth=(0,s.isHighContrast)(E.type)?2:1}_onListFocus(E){var N;if(this._ignoreFocusEvents)return;if(!E.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const T=E.elements[0],R=E.indexes[0];T!==this._focusedItem&&((N=this._currentSuggestionDetails)===null||N===void 0||N.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=T,this._list.reveal(R),this._currentSuggestionDetails=(0,k.createCancelablePromise)(F=>Se(this,void 0,void 0,function*(){const O=(0,k.disposableTimeout)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),D=F.onCancellationRequested(()=>O.dispose()),M=yield T.resolve(F);return O.dispose(),D.dispose(),M})),this._currentSuggestionDetails.then(()=>{R>=this._list.length||T!==this._list.element(R)||(this._ignoreFocusEvents=!0,this._list.splice(R,1,[T]),this._list.setFocus([R]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:(0,_.getAriaId)(R)}))}).catch(I.onUnexpectedError)),this._onDidFocus.fire({item:T,index:R,model:this._completionModel})}_setState(E){if(this._state!==E)switch(this._state=E,this.element.domNode.classList.toggle("frozen",E===4),this.element.domNode.classList.remove("message"),E){case 0:w.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=ui.LOADING_MESSAGE,w.hide(this._listElement,this._status.element),w.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=ui.NO_SUGGESTIONS_MESSAGE,w.hide(this._listElement,this._status.element),w.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:w.hide(this._messageElement),w.show(this._listElement,this._status.element),this._show();break;case 4:w.hide(this._messageElement),w.show(this._listElement,this._status.element),this._show();break;case 5:w.hide(this._messageElement),w.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(E,N){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!E,this._isAuto||(this._loadingTimeout=(0,k.disposableTimeout)(()=>this._setState(1),N)))}showSuggestions(E,N,T,R){var F,O;if(this._contentWidget.setPosition(this.editor.getPosition()),(F=this._loadingTimeout)===null||F===void 0||F.dispose(),(O=this._currentSuggestionDetails)===null||O===void 0||O.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==E&&(this._completionModel=E),T&&this._state!==2&&this._state!==0){this._setState(4);return}const D=this._completionModel.items.length,M=D===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(D>1),M){this._setState(R?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(T?4:3),N>=0&&(this._list.reveal(N,0),this._list.setFocus([N])),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):((0,p.canExpandCompletionItem)(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(E){this._details.show(),E?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var E;(E=this._loadingTimeout)===null||E===void 0||E.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const N=this._persistedSize.restore(),T=Math.ceil(this.getLayoutInfo().itemHeight*4.3);N&&N.height<T&&this._persistedSize.store(N.with(void 0,T))}isFrozen(){return this._state===4}_afterRender(E){if(E===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(E){var N,T,R;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const F=w.getClientArea(document.body),O=this.getLayoutInfo();E||(E=O.defaultSize);let D=E.height,M=E.width;if(this._status.element.style.lineHeight=`${O.itemHeight}px`,this._state===2||this._state===1)D=O.itemHeight+O.borderHeight,M=O.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new w.Dimension(M,D),this._contentWidget.setPreference(2);else{const P=F.width-O.borderHeight-2*O.horizontalPadding;M>P&&(M=P);const B=this._completionModel?this._completionModel.stats.pLabelLen*O.typicalHalfwidthCharacterWidth:M,W=O.statusBarHeight+this._list.contentHeight+O.borderHeight,V=O.itemHeight+O.statusBarHeight,A=w.getDomNodePagePosition(this.editor.getDomNode()),Q=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),J=A.top+Q.top+Q.height,H=Math.min(F.height-J-O.verticalPadding,W),q=A.top+Q.top-O.verticalPadding,Z=Math.min(q,W);let ie=Math.min(Math.max(Z,H)+O.borderHeight,W);D===((N=this._cappedHeight)===null||N===void 0?void 0:N.capped)&&(D=this._cappedHeight.wanted),D<V&&(D=V),D>ie&&(D=ie);const Y=150;D>H||this._forceRenderingAbove&&q>Y?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),ie=Z):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),ie=H),this.element.preferredSize=new w.Dimension(B,O.defaultSize.height),this.element.maxSize=new w.Dimension(P,ie),this.element.minSize=new w.Dimension(220,V),this._cappedHeight=D===W?{wanted:(R=(T=this._cappedHeight)===null||T===void 0?void 0:T.wanted)!==null&&R!==void 0?R:E.height,capped:D}:void 0}this._resize(M,D)}_resize(E,N){const{width:T,height:R}=this.element.maxSize;E=Math.min(T,E),N=Math.min(R,N);const{statusBarHeight:F}=this.getLayoutInfo();this._list.layout(N-F,E),this._listElement.style.height=`${N-F}px`,this.element.layout(N,E),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var E;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((E=this._contentWidget.getPosition())===null||E===void 0?void 0:E.preference[0])===2)}getLayoutInfo(){const E=this.editor.getOption(46),N=(0,v.clamp)(this.editor.getOption(110)||E.lineHeight,8,1e3),T=!this.editor.getOption(108).showStatusBar||this._state===2||this._state===1?0:N,R=this._details.widget.borderWidth,F=2*R;return{itemHeight:N,statusBarHeight:T,borderWidth:R,borderHeight:F,typicalHalfwidthCharacterWidth:E.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new w.Dimension(430,T+12*N+F)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(E){this._storageService.store("expandSuggestionDocs",E,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};h.LOADING_MESSAGE=i.localize(9,null),h.NO_SUGGESTIONS_MESSAGE=i.localize(10,null),h=ke([me(1,l.IStorageService),me(2,t.IContextKeyService),me(3,o.IThemeService),me(4,r.IInstantiationService)],h),e.SuggestWidget=h;class S{constructor(E,N){this._widget=E,this._editor=N,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:E,width:N}=this._widget.element.size,{borderWidth:T,horizontalPadding:R}=this._widget.getLayoutInfo();return new w.Dimension(N+2*T+R,E+2*T)}afterRender(E){this._widget._afterRender(E)}setPreference(E){this._preferenceLocked||(this._preference=E)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(E){this._position=E}}e.SuggestContentWidget=S}),define(re[757],ae([1,0,10,2,12,281,50,310,298,30,15,70,57,20]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let r=class extends C.Disposable{constructor(d,a,s,o,c,f){super();this._modelService=a,this._themeService=s,this._configurationService=o,this._editor=d,this._provider=f.documentRangeSemanticTokensProvider,this._debounceInformation=c.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new w.RunOnceScheduler(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const p=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{p()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),p()})),this._register(this._editor.onDidChangeModelContent(_=>{this._cancelAll(),p()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),p()})),this._register(this._configurationService.onDidChangeConfiguration(_=>{_.affectsConfiguration(b.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),p())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),p()}))}_cancelAll(){for(const d of this._outstandingRequests)d.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(d){for(let a=0,s=this._outstandingRequests.length;a<s;a++)if(this._outstandingRequests[a]===d){this._outstandingRequests.splice(a,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const d=this._editor.getModel();if(d.tokenization.hasCompleteSemanticTokens())return;if(!(0,b.isSemanticColoringEnabled)(d,this._themeService,this._configurationService)){d.tokenization.hasSomeSemanticTokens()&&d.tokenization.setSemanticTokens(null,!1);return}if(!(0,I.hasDocumentRangeSemanticTokensProvider)(this._provider,d)){d.tokenization.hasSomeSemanticTokens()&&d.tokenization.setSemanticTokens(null,!1);return}const a=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(a.map(s=>this._requestRange(d,s)))}_requestRange(d,a){const s=d.getVersionId(),o=(0,w.createCancelablePromise)(f=>Promise.resolve((0,I.getDocumentRangeSemanticTokens)(this._provider,d,a,f))),c=new i.StopWatch(!1);return o.then(f=>{if(this._debounceInformation.update(d,c.elapsed()),!f||!f.tokens||d.isDisposed()||d.getVersionId()!==s)return;const{provider:p,tokens:_}=f,m=this._modelService.getSemanticTokensProviderStyling(p);d.tokenization.setPartialSemanticTokens(a,(0,v.toMultilineTokens2)(_,m,d.getLanguageId()))}).then(()=>this._removeOutstandingRequest(o),()=>this._removeOutstandingRequest(o)),o}};r.ID="editor.contrib.viewportSemanticTokens",r=ke([me(1,L.IModelService),me(2,g.IThemeService),me(3,u.IConfigurationService),me(4,n.ILanguageFeatureDebounceService),me(5,t.ILanguageFeaturesService)],r),(0,k.registerEditorContribution)(r.ID,r)}),define(re[758],ae([1,0,49,18,10,21,14,2,12,3,24,46,35,28,607,16,25,15,20,56]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOccurrencesAtPosition=void 0;const c=(0,d.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},r.localize(0,null),!0),f=(0,d.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},r.localize(1,null),!0),p=(0,d.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:d.activeContrastBorder,hcLight:d.activeContrastBorder},r.localize(2,null)),_=(0,d.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:d.activeContrastBorder,hcLight:d.activeContrastBorder},r.localize(3,null)),m=(0,d.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},r.localize(4,null),!0),h=(0,d.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},r.localize(5,null),!0),S=new l.RawContextKey("hasWordHighlights",!1);function y(W,V,A,Q){const J=W.ordered(V);return(0,k.first)(J.map(H=>()=>Promise.resolve(H.provideDocumentHighlights(V,A,Q)).then(void 0,L.onUnexpectedExternalError)),C.isNonEmptyArray)}e.getOccurrencesAtPosition=y;class E{constructor(V,A,Q){this._model=V,this._selection=A,this._wordSeparators=Q,this._wordRange=this._getCurrentWordRange(V,A),this._result=null}get result(){return this._result||(this._result=(0,k.createCancelablePromise)(V=>this._compute(this._model,this._selection,this._wordSeparators,V))),this._result}_getCurrentWordRange(V,A){const Q=V.getWordAtPosition(A.getPosition());return Q?new u.Range(A.startLineNumber,Q.startColumn,A.startLineNumber,Q.endColumn):null}isValid(V,A,Q){const J=A.startLineNumber,H=A.startColumn,q=A.endColumn,Z=this._getCurrentWordRange(V,A);let ie=Boolean(this._wordRange&&this._wordRange.equalsRange(Z));for(let Y=0,te=Q.length;!ie&&Y<te;Y++){const de=Q.getRange(Y);de&&de.startLineNumber===J&&de.startColumn<=H&&de.endColumn>=q&&(ie=!0)}return ie}cancel(){this.result.cancel()}}class N extends E{constructor(V,A,Q,J){super(V,A,Q);this._providers=J}_compute(V,A,Q,J){return y(this._providers,V,A.getPosition(),J).then(H=>H||[])}}class T extends E{constructor(V,A,Q){super(V,A,Q);this._selectionIsEmpty=A.isEmpty()}_compute(V,A,Q,J){return(0,k.timeout)(250,J).then(()=>{if(!A.isEmpty())return[];const H=V.getWordAtPosition(A.getPosition());return!H||H.word.length>1e3?[]:V.findMatches(H.word,!0,!1,!0,Q,!1).map(Z=>({range:Z.range,kind:t.DocumentHighlightKind.Text}))})}isValid(V,A,Q){const J=A.isEmpty();return this._selectionIsEmpty!==J?!1:super.isValid(V,A,Q)}}function R(W,V,A,Q){return W.has(V)?new N(V,A,Q,W):new T(V,A,Q)}(0,v.registerModelAndPositionCommand)("_executeDocumentHighlights",(W,V,A)=>{const Q=W.get(s.ILanguageFeaturesService);return y(Q.documentHighlightProvider,V,A,I.CancellationToken.None)});class F{constructor(V,A,Q){this.toUnhook=new b.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=V,this.providers=A,this._hasWordHighlights=S.bindTo(Q),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(74),this.model=this.editor.getModel(),this.toUnhook.add(V.onDidChangeCursorPosition(J=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(J)})),this.toUnhook.add(V.onDidChangeModelContent(J=>{this._stopAll()})),this.toUnhook.add(V.onDidChangeConfiguration(J=>{const H=this.editor.getOption(74);this.occurrencesHighlight!==H&&(this.occurrencesHighlight=H,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this.decorations.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(u.Range.compareRangesUsingStarts)}moveNext(){const V=this._getSortedHighlights(),Q=(V.findIndex(H=>H.containsPosition(this.editor.getPosition()))+1)%V.length,J=V[Q];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(J.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(J);const H=this._getWord();if(H){const q=this.editor.getModel().getLineContent(J.startLineNumber);(0,w.alert)(`${q}, ${Q+1} of ${V.length} for '${H.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const V=this._getSortedHighlights(),Q=(V.findIndex(H=>H.containsPosition(this.editor.getPosition()))-1+V.length)%V.length,J=V[Q];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(J.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(J);const H=this._getWord();if(H){const q=this.editor.getModel().getLineContent(J.startLineNumber);(0,w.alert)(`${q}, ${Q+1} of ${V.length} for '${H.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(V){if(!this.occurrencesHighlight){this._stopAll();return}if(V.reason!==3){this._stopAll();return}this._run()}_getWord(){const V=this.editor.getSelection(),A=V.startLineNumber,Q=V.startColumn;return this.model.getWordAtPosition({lineNumber:A,column:Q})}_run(){const V=this.editor.getSelection();if(V.startLineNumber!==V.endLineNumber){this._stopAll();return}const A=V.startColumn,Q=V.endColumn,J=this._getWord();if(!J||J.startColumn>A||J.endColumn<Q){this._stopAll();return}const H=this.workerRequest&&this.workerRequest.isValid(this.model,V,this.decorations);if(this.lastCursorPositionChangeTime=new Date().getTime(),H)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const q=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=R(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(119)),this.workerRequest.result.then(Z=>{q===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=Z||[],this._beginRenderDecorations())},L.onUnexpectedError)}}_beginRenderDecorations(){const V=new Date().getTime(),A=this.lastCursorPositionChangeTime+250;V>=A?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},A-V)}renderDecorations(){this.renderDecorationsTimer=-1;const V=[];for(const A of this.workerRequestValue)A.range&&V.push({range:A.range,options:F._getDecorationOptions(A.kind)});this.decorations.set(V),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(V){return V===t.DocumentHighlightKind.Write?this._WRITE_OPTIONS:V===t.DocumentHighlightKind.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}F._WRITE_OPTIONS=i.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,a.themeColorFromId)(h),position:n.OverviewRulerLane.Center},minimap:{color:(0,a.themeColorFromId)(d.minimapSelectionOccurrenceHighlight),position:n.MinimapPosition.Inline}}),F._TEXT_OPTIONS=i.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,a.themeColorFromId)(d.overviewRulerSelectionHighlightForeground),position:n.OverviewRulerLane.Center},minimap:{color:(0,a.themeColorFromId)(d.minimapSelectionOccurrenceHighlight),position:n.MinimapPosition.Inline}}),F._REGULAR_OPTIONS=i.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,a.themeColorFromId)(m),position:n.OverviewRulerLane.Center},minimap:{color:(0,a.themeColorFromId)(d.minimapSelectionOccurrenceHighlight),position:n.MinimapPosition.Inline}});let O=class $i extends b.Disposable{constructor(V,A,Q){super();this.wordHighlighter=null;const J=()=>{V.hasModel()&&(this.wordHighlighter=new F(V,Q.documentHighlightProvider,A))};this._register(V.onDidChangeModel(H=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),J()})),J()}static get(V){return V.getContribution($i.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(V){this.wordHighlighter&&V&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};O.ID="editor.contrib.wordHighlighter",O=ke([me(1,l.IContextKeyService),me(2,s.ILanguageFeaturesService)],O);class D extends v.EditorAction{constructor(V,A){super(A);this._isNext=V}run(V,A){const Q=O.get(A);!Q||(this._isNext?Q.moveNext():Q.moveBack())}}class M extends D{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:r.localize(6,null),alias:"Go to Next Symbol Highlight",precondition:S,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class P extends D{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:r.localize(7,null),alias:"Go to Previous Symbol Highlight",precondition:S,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:1024|65,weight:100}})}}class B extends v.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:r.localize(8,null),alias:"Trigger Symbol Highlight",precondition:S.toNegated(),kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(V,A,Q){const J=O.get(A);!J||J.restoreViewState(!0)}}(0,v.registerEditorContribution)(O.ID,O),(0,v.registerEditorAction)(M),(0,v.registerEditorAction)(P),(0,v.registerEditorAction)(B),(0,a.registerThemingParticipant)((W,V)=>{const A=W.getColor(d.editorSelectionHighlight);A&&(V.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${A}; }`),V.addRule(`.monaco-editor .selectionHighlight { background-color: ${A.transparent(.5)}; }`));const Q=W.getColor(c);Q&&V.addRule(`.monaco-editor .wordHighlight { background-color: ${Q}; }`);const J=W.getColor(f);J&&V.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${J}; }`);const H=W.getColor(d.editorSelectionHighlightBorder);H&&V.addRule(`.monaco-editor .selectionHighlight { border: 1px ${(0,o.isHighContrast)(W.type)?"dotted":"solid"} ${H}; box-sizing: border-box; }`);const q=W.getColor(p);q&&V.addRule(`.monaco-editor .wordHighlight { border: 1px ${(0,o.isHighContrast)(W.type)?"dashed":"solid"} ${q}; box-sizing: border-box; }`);const Z=W.getColor(_);Z&&V.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${(0,o.isHighContrast)(W.type)?"dashed":"solid"} ${Z}; box-sizing: border-box; }`)})}),define(re[759],ae([1,0,7,135,31,144,2,40,3,35,393]),function($,e,w,C,k,I,L,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=e.ViewZoneDelegate=void 0;const g=new k.Color(new k.RGBA(0,122,204)),n={showArrow:!0,showFrame:!0,className:"",frameColor:g,arrowColor:g,keepEditorSelection:!1},i="vs.editor.contrib.zoneWidget";class t{constructor(s,o,c,f,p,_){this.id="",this.domNode=s,this.afterLineNumber=o,this.afterColumn=c,this.heightInLines=f,this._onDomNodeTop=p,this._onComputedHeight=_}onDomNodeTop(s){this._onDomNodeTop(s)}onComputedHeight(s){this._onComputedHeight(s)}}e.ViewZoneDelegate=t;class r{constructor(s,o){this._id=s,this._domNode=o}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=r;class l{constructor(s){this._editor=s,this._ruleName=l._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),w.removeCSSRulesContainingSelector(this._ruleName)}set color(s){this._color!==s&&(this._color=s,this._updateStyle())}set height(s){this._height!==s&&(this._height=s,this._updateStyle())}_updateStyle(){w.removeCSSRulesContainingSelector(this._ruleName),w.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(s){s.column===1&&(s={lineNumber:s.lineNumber,column:2}),this._decorations.set([{range:v.Range.fromPositions(s),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}l._IdGenerator=new I.IdGenerator(".arrow-decoration-");class d{constructor(s,o={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new L.DisposableStore,this.container=null,this._isShowing=!1,this.editor=s,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=b.deepClone(o),b.mixin(this.options,n,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(c=>{const f=this._getWidth(c);this.domNode.style.width=f+"px",this.domNode.style.left=this._getLeft(c)+"px",this._onWidth(f)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(s=>{this._viewZone&&s.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new l(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(s){s.frameColor&&(this.options.frameColor=s.frameColor),s.arrowColor&&(this.options.arrowColor=s.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const s=this.options.frameColor.toString();this.container.style.borderTopColor=s,this.container.style.borderBottomColor=s}if(this._arrow&&this.options.arrowColor){const s=this.options.arrowColor.toString();this._arrow.color=s}}_getWidth(s){return s.width-s.minimap.minimapWidth-s.verticalScrollbarWidth}_getLeft(s){return s.minimap.minimapWidth>0&&s.minimap.minimapLeft===0?s.minimap.minimapWidth:0}_onViewZoneTop(s){this.domNode.style.top=s+"px"}_onViewZoneHeight(s){if(this.domNode.style.height=`${s}px`,this.container){const o=s-this._decoratingElementsHeight();this.container.style.height=`${o}px`;const c=this.editor.getLayoutInfo();this._doLayout(o,this._getWidth(c))}this._resizeSash&&this._resizeSash.layout()}get position(){const s=this._positionMarkerId.getRange(0);if(!!s)return s.getStartPosition()}show(s,o){const c=v.Range.isIRange(s)?v.Range.lift(s):v.Range.fromPositions(s);this._isShowing=!0,this._showImpl(c,o),this._isShowing=!1,this._positionMarkerId.set([{range:c,options:u.ModelDecorationOptions.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(s=>{this._viewZone&&s.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){const s=this.editor.getOption(61);let o=0;if(this.options.showArrow){const c=Math.round(s/3);o+=2*c}if(this.options.showFrame){const c=Math.round(s/9);o+=2*c}return o}_showImpl(s,o){const c=s.getStartPosition(),f=this.editor.getLayoutInfo(),p=this._getWidth(f);this.domNode.style.width=`${p}px`,this.domNode.style.left=this._getLeft(f)+"px";const _=document.createElement("div");_.style.overflow="hidden";const m=this.editor.getOption(61),h=Math.max(12,this.editor.getLayoutInfo().height/m*.8);o=Math.min(o,h);let S=0,y=0;if(this._arrow&&this.options.showArrow&&(S=Math.round(m/3),this._arrow.height=S,this._arrow.show(c)),this.options.showFrame&&(y=Math.round(m/9)),this.editor.changeViewZones(T=>{this._viewZone&&T.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new t(_,c.lineNumber,c.column,o,R=>this._onViewZoneTop(R),R=>this._onViewZoneHeight(R)),this._viewZone.id=T.addZone(this._viewZone),this._overlayWidget=new r(i+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const T=this.options.frameWidth?this.options.frameWidth:y;this.container.style.borderTopWidth=T+"px",this.container.style.borderBottomWidth=T+"px"}const E=o*m-this._decoratingElementsHeight();this.container&&(this.container.style.top=S+"px",this.container.style.height=E+"px",this.container.style.overflow="hidden"),this._doLayout(E,p),this.options.keepEditorSelection||this.editor.setSelection(s);const N=this.editor.getModel();if(N){const T=s.endLineNumber+1;T<=N.getLineCount()?this.revealLine(T,!1):this.revealLine(N.getLineCount(),!0)}}revealLine(s,o){o?this.editor.revealLineInCenter(s,0):this.editor.revealLine(s,0)}setCssClass(s,o){!this.container||(o&&this.container.classList.remove(o),this.container.classList.add(s))}_onWidth(s){}_doLayout(s,o){}_relayout(s){this._viewZone&&this._viewZone.heightInLines!==s&&this.editor.changeViewZones(o=>{this._viewZone&&(this._viewZone.heightInLines=s,o.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new C.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let s;this._disposables.add(this._resizeSash.onDidStart(o=>{this._viewZone&&(s={startY:o.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{s=void 0})),this._disposables.add(this._resizeSash.onDidChange(o=>{if(s){const c=(o.currentY-s.startY)/this.editor.getOption(61),f=c<0?Math.ceil(c):Math.floor(c),p=s.heightInLines+f;p>5&&p<35&&this._relayout(p)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const s=this.editor.getLayoutInfo();return s.width-s.minimap.minimapWidth}}e.ZoneWidget=d}),define(re[119],ae([1,0,7,83,43,27,31,6,40,12,29,174,759,587,218,16,53,9,25,387]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.getOuterEditor=e.PeekContext=e.IPeekViewService=void 0,e.IPeekViewService=(0,a.createDecorator)("IPeekViewService"),(0,d.registerSingleton)(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(m,h){const S=this._widgets.get(m);S&&(S.listener.dispose(),S.widget.dispose());const y=()=>{const E=this._widgets.get(m);E&&E.widget===h&&(E.listener.dispose(),this._widgets.delete(m))};this._widgets.set(m,{widget:h,listener:h.onDidClose(y)})}});var o;(function(m){m.inPeekEditor=new l.RawContextKey("inReferenceSearchEditor",!0,t.localize(0,null)),m.notInPeekEditor=m.inPeekEditor.toNegated()})(o=e.PeekContext||(e.PeekContext={}));let c=class{constructor(h,S){h instanceof n.EmbeddedCodeEditorWidget&&o.inPeekEditor.bindTo(S)}dispose(){}};c.ID="editor.contrib.referenceController",c=ke([me(1,l.IContextKeyService)],c),(0,u.registerEditorContribution)(c.ID,c);function f(m){const h=m.get(g.ICodeEditorService).getFocusedCodeEditor();return h instanceof n.EmbeddedCodeEditorWidget?h.getParentEditor():h}e.getOuterEditor=f;const p={headerBackgroundColor:L.Color.white,primaryHeadingColor:L.Color.fromHex("#333333"),secondaryHeadingColor:L.Color.fromHex("#6c6c6cb3")};let _=class extends i.ZoneWidget{constructor(h,S,y){super(h,S);this.instantiationService=y,this._onDidClose=new b.Emitter,this.onDidClose=this._onDidClose.event,v.mixin(this.options,p,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(h){const S=this.options;h.headerBackgroundColor&&(S.headerBackgroundColor=h.headerBackgroundColor),h.primaryHeadingColor&&(S.primaryHeadingColor=h.primaryHeadingColor),h.secondaryHeadingColor&&(S.secondaryHeadingColor=h.secondaryHeadingColor),super.style(h)}_applyStyles(){super._applyStyles();const h=this.options;this._headElement&&h.headerBackgroundColor&&(this._headElement.style.backgroundColor=h.headerBackgroundColor.toString()),this._primaryHeading&&h.primaryHeadingColor&&(this._primaryHeading.style.color=h.primaryHeadingColor.toString()),this._secondaryHeading&&h.secondaryHeadingColor&&(this._secondaryHeading.style.color=h.secondaryHeadingColor.toString()),this._bodyElement&&h.frameColor&&(this._bodyElement.style.borderColor=h.frameColor.toString())}_fillContainer(h){this.setCssClass("peekview-widget"),this._headElement=w.$(".head"),this._bodyElement=w.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),h.appendChild(this._headElement),h.appendChild(this._bodyElement)}_fillHead(h,S){const y=w.$(".peekview-title");this.options.supportOnTitleClick&&(y.classList.add("clickable"),w.addStandardDisposableListener(y,"click",T=>this._onTitleClick(T))),w.append(this._headElement,y),this._fillTitleIcon(y),this._primaryHeading=w.$("span.filename"),this._secondaryHeading=w.$("span.dirname"),this._metaHeading=w.$("span.meta"),w.append(y,this._primaryHeading,this._secondaryHeading,this._metaHeading);const E=w.$(".peekview-actions");w.append(this._headElement,E);const N=this._getActionBarOptions();this._actionbarWidget=new C.ActionBar(E,N),this._disposables.add(this._actionbarWidget),S||this._actionbarWidget.push(new k.Action("peekview.close",t.localize(1,null),I.Codicon.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(h){}_getActionBarOptions(){return{actionViewItemProvider:r.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(h){}setTitle(h,S){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=h,this._primaryHeading.setAttribute("title",h),S?this._secondaryHeading.innerText=S:w.clearNode(this._secondaryHeading))}setMetaTitle(h){this._metaHeading&&(h?(this._metaHeading.innerText=h,w.show(this._metaHeading)):w.hide(this._metaHeading))}_doLayout(h,S){if(!this._isShowing&&h<0){this.dispose();return}const y=Math.ceil(this.editor.getOption(61)*1.2),E=Math.round(h-(y+2));this._doLayoutHead(y,S),this._doLayoutBody(E,S)}_doLayoutHead(h,S){this._headElement&&(this._headElement.style.height=`${h}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(h,S){this._bodyElement&&(this._bodyElement.style.height=`${h}px`)}};_=ke([me(2,a.IInstantiationService)],_),e.PeekViewWidget=_,e.peekViewTitleBackground=(0,s.registerColor)("peekViewTitle.background",{dark:(0,s.transparent)(s.editorInfoForeground,.1),light:(0,s.transparent)(s.editorInfoForeground,.1),hcDark:null,hcLight:null},t.localize(2,null)),e.peekViewTitleForeground=(0,s.registerColor)("peekViewTitleLabel.foreground",{dark:L.Color.white,light:L.Color.black,hcDark:L.Color.white,hcLight:s.editorForeground},t.localize(3,null)),e.peekViewTitleInfoForeground=(0,s.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},t.localize(4,null)),e.peekViewBorder=(0,s.registerColor)("peekView.border",{dark:s.editorInfoForeground,light:s.editorInfoForeground,hcDark:s.contrastBorder,hcLight:s.contrastBorder},t.localize(5,null)),e.peekViewResultsBackground=(0,s.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:L.Color.black,hcLight:L.Color.white},t.localize(6,null)),e.peekViewResultsMatchForeground=(0,s.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:L.Color.white,hcLight:s.editorForeground},t.localize(7,null)),e.peekViewResultsFileForeground=(0,s.registerColor)("peekViewResult.fileForeground",{dark:L.Color.white,light:"#1E1E1E",hcDark:L.Color.white,hcLight:s.editorForeground},t.localize(8,null)),e.peekViewResultsSelectionBackground=(0,s.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},t.localize(9,null)),e.peekViewResultsSelectionForeground=(0,s.registerColor)("peekViewResult.selectionForeground",{dark:L.Color.white,light:"#6C6C6C",hcDark:L.Color.white,hcLight:s.editorForeground},t.localize(10,null)),e.peekViewEditorBackground=(0,s.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:L.Color.black,hcLight:L.Color.white},t.localize(11,null)),e.peekViewEditorGutterBackground=(0,s.registerColor)("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hcDark:e.peekViewEditorBackground,hcLight:e.peekViewEditorBackground},t.localize(12,null)),e.peekViewResultsMatchHighlight=(0,s.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},t.localize(13,null)),e.peekViewEditorMatchHighlight=(0,s.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},t.localize(14,null)),e.peekViewEditorMatchHighlightBorder=(0,s.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:s.activeContrastBorder,hcLight:s.activeContrastBorder},t.localize(15,null))}),define(re[760],ae([1,0,7,75,18,31,6,2,44,8,3,119,563,218,38,16,9,140,84,45,730,25,15,380]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorMarkerNavigationBackground=e.editorMarkerNavigationInfoHeader=e.editorMarkerNavigationInfo=e.editorMarkerNavigationWarningHeader=e.editorMarkerNavigationWarning=e.editorMarkerNavigationErrorHeader=e.editorMarkerNavigationError=e.MarkerNavigationWidget=void 0;class _{constructor(N,T,R,F,O){this._openerService=F,this._labelService=O,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new b.DisposableStore,this._editor=T;const D=document.createElement("div");D.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),D.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),D.appendChild(this._relatedBlock),this._disposables.add(w.addStandardDisposableListener(this._relatedBlock,"click",M=>{M.preventDefault();const P=this._relatedDiagnostics.get(M.target);P&&R(P)})),this._scrollable=new C.ScrollableElement(D,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),N.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(M=>{D.style.left=`-${M.scrollLeft}px`,D.style.top=`-${M.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,b.dispose)(this._disposables)}update(N){const{source:T,message:R,relatedInformation:F,code:O}=N;let D=((T==null?void 0:T.length)||0)+"()".length;O&&(typeof O=="string"?D+=O.length:D+=O.value.length);const M=(0,u.splitLines)(R);this._lines=M.length,this._longestLineLength=0;for(const A of M)this._longestLineLength=Math.max(A.length+D,this._longestLineLength);w.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(N)),this._editor.applyFontInfo(this._messageBlock);let P=this._messageBlock;for(const A of M)P=document.createElement("div"),P.innerText=A,A===""&&(P.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(P);if(T||O){const A=document.createElement("span");if(A.classList.add("details"),P.appendChild(A),T){const Q=document.createElement("span");Q.innerText=T,Q.classList.add("source"),A.appendChild(Q)}if(O)if(typeof O=="string"){const Q=document.createElement("span");Q.innerText=`(${O})`,Q.classList.add("code"),A.appendChild(Q)}else{this._codeLink=w.$("a.code-link"),this._codeLink.setAttribute("href",`${O.target.toString()}`),this._codeLink.onclick=J=>{this._openerService.open(O.target,{allowCommands:!0}),J.preventDefault(),J.stopPropagation()};const Q=w.append(this._codeLink,w.$("span"));Q.innerText=O.value,A.appendChild(this._codeLink)}}if(w.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,k.isNonEmptyArray)(F)){const A=this._relatedBlock.appendChild(document.createElement("div"));A.style.paddingTop=`${Math.floor(this._editor.getOption(61)*.66)}px`,this._lines+=1;for(const Q of F){const J=document.createElement("div"),H=document.createElement("a");H.classList.add("filename"),H.innerText=`${this._labelService.getUriBasenameLabel(Q.resource)}(${Q.startLineNumber}, ${Q.startColumn}): `,H.title=this._labelService.getUriLabel(Q.resource),this._relatedDiagnostics.set(H,Q);const q=document.createElement("span");q.innerText=Q.message,J.appendChild(H),J.appendChild(q),this._lines+=1,A.appendChild(J)}}const B=this._editor.getOption(46),W=Math.ceil(B.typicalFullwidthCharacterWidth*this._longestLineLength*.75),V=B.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:W,scrollHeight:V})}layout(N,T){this._scrollable.getDomNode().style.height=`${N}px`,this._scrollable.getDomNode().style.width=`${T}px`,this._scrollable.setScrollDimensions({width:T,height:N})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(N){let T="";switch(N.severity){case s.MarkerSeverity.Error:T=i.localize(0,null);break;case s.MarkerSeverity.Warning:T=i.localize(1,null);break;case s.MarkerSeverity.Info:T=i.localize(2,null);break;case s.MarkerSeverity.Hint:T=i.localize(3,null);break}let R=i.localize(4,null,T,N.startLineNumber+":"+N.startColumn);const F=this._editor.getModel();return F&&N.startLineNumber<=F.getLineCount()&&N.startLineNumber>=1&&(R=`${F.getLineContent(N.startLineNumber)}, ${R}`),R}}let m=class Gi extends n.PeekViewWidget{constructor(N,T,R,F,O,D,M){super(N,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},O);this._themeService=T,this._openerService=R,this._menuService=F,this._contextKeyService=D,this._labelService=M,this._callOnDispose=new b.DisposableStore,this._onDidSelectRelatedInformation=new L.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=s.MarkerSeverity.Warning,this._backgroundColor=I.Color.white,this._applyTheme(T.getColorTheme()),this._callOnDispose.add(T.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(N){this._backgroundColor=N.getColor(e.editorMarkerNavigationBackground);let T=e.editorMarkerNavigationError,R=e.editorMarkerNavigationErrorHeader;this._severity===s.MarkerSeverity.Warning?(T=e.editorMarkerNavigationWarning,R=e.editorMarkerNavigationWarningHeader):this._severity===s.MarkerSeverity.Info&&(T=e.editorMarkerNavigationInfo,R=e.editorMarkerNavigationInfoHeader);const F=N.getColor(T),O=N.getColor(R);this.style({arrowColor:F,frameColor:F,headerBackgroundColor:O,primaryHeadingColor:N.getColor(n.peekViewTitleForeground),secondaryHeadingColor:N.getColor(n.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(N){super._fillHead(N),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(F=>this.editor.focus()));const T=[],R=this._menuService.createMenu(Gi.TitleMenu,this._contextKeyService);(0,t.createAndFillInActionBarActions)(R,void 0,T),this._actionbarWidget.push(T,{label:!1,icon:!0,index:0}),R.dispose()}_fillTitleIcon(N){this._icon=w.append(N,w.$(""))}_fillBody(N){this._parentContainer=N,N.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),N.appendChild(this._container),this._message=new _(this._container,this.editor,T=>this._onDidSelectRelatedInformation.fire(T),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(N,T,R){this._container.classList.remove("stale"),this._message.update(N),this._severity=N.severity,this._applyTheme(this._themeService.getColorTheme());const F=g.Range.lift(N),O=this.editor.getPosition(),D=O&&F.containsPosition(O)?O:F.getStartPosition();super.show(D,this.computeRequiredHeight());const M=this.editor.getModel();if(M){const P=R>1?i.localize(5,null,T,R):i.localize(6,null,T,R);this.setTitle((0,v.basename)(M.uri),P)}this._icon.className=`codicon ${c.SeverityIcon.className(s.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(D,0),this.editor.focus()}updateMarker(N){this._container.classList.remove("stale"),this._message.update(N)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(N,T){super._doLayoutBody(N,T),this._heightInPixel=N,this._message.layout(N,T),this._container.style.height=`${N}px`}_onWidth(N){this._message.layout(this._heightInPixel,N)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};m.TitleMenu=new r.MenuId("gotoErrorTitleMenu"),m=ke([me(1,p.IThemeService),me(2,o.IOpenerService),me(3,r.IMenuService),me(4,d.IInstantiationService),me(5,l.IContextKeyService),me(6,a.ILabelService)],m),e.MarkerNavigationWidget=m;const h=(0,f.oneOf)(f.editorErrorForeground,f.editorErrorBorder),S=(0,f.oneOf)(f.editorWarningForeground,f.editorWarningBorder),y=(0,f.oneOf)(f.editorInfoForeground,f.editorInfoBorder);e.editorMarkerNavigationError=(0,f.registerColor)("editorMarkerNavigationError.background",{dark:h,light:h,hcDark:f.contrastBorder,hcLight:f.contrastBorder},i.localize(7,null)),e.editorMarkerNavigationErrorHeader=(0,f.registerColor)("editorMarkerNavigationError.headerBackground",{dark:(0,f.transparent)(e.editorMarkerNavigationError,.1),light:(0,f.transparent)(e.editorMarkerNavigationError,.1),hcDark:null,hcLight:null},i.localize(8,null)),e.editorMarkerNavigationWarning=(0,f.registerColor)("editorMarkerNavigationWarning.background",{dark:S,light:S,hcDark:f.contrastBorder,hcLight:f.contrastBorder},i.localize(9,null)),e.editorMarkerNavigationWarningHeader=(0,f.registerColor)("editorMarkerNavigationWarning.headerBackground",{dark:(0,f.transparent)(e.editorMarkerNavigationWarning,.1),light:(0,f.transparent)(e.editorMarkerNavigationWarning,.1),hcDark:"#0C141F",hcLight:(0,f.transparent)(e.editorMarkerNavigationWarning,.2)},i.localize(10,null)),e.editorMarkerNavigationInfo=(0,f.registerColor)("editorMarkerNavigationInfo.background",{dark:y,light:y,hcDark:f.contrastBorder,hcLight:f.contrastBorder},i.localize(11,null)),e.editorMarkerNavigationInfoHeader=(0,f.registerColor)("editorMarkerNavigationInfo.headerBackground",{dark:(0,f.transparent)(e.editorMarkerNavigationInfo,.1),light:(0,f.transparent)(e.editorMarkerNavigationInfo,.1),hcDark:null,hcLight:null},i.localize(12,null)),e.editorMarkerNavigationBackground=(0,f.registerColor)("editorMarkerNavigation.background",{dark:f.editorBackground,light:f.editorBackground,hcDark:f.editorBackground,hcLight:f.editorBackground},i.localize(13,null))}),define(re[314],ae([1,0,27,2,12,29,11,3,24,644,562,38,16,9,80,760]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let d=class Gt{constructor(h,S,y,E,N){this._markerNavigationService=S,this._contextKeyService=y,this._editorService=E,this._instantiationService=N,this._sessionDispoables=new C.DisposableStore,this._editor=h,this._widgetVisible=p.bindTo(this._contextKeyService)}static get(h){return h.getContribution(Gt.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(h){if(this._model&&this._model.matches(h))return this._model;let S=!1;return this._model&&(S=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(h),S&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(l.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(y=>{var E,N,T;(!((E=this._model)===null||E===void 0?void 0:E.selected)||!b.Range.containsPosition((N=this._model)===null||N===void 0?void 0:N.selected.marker,y.position))&&((T=this._model)===null||T===void 0||T.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const y=this._model.find(this._editor.getModel().uri,this._widget.position);y?this._widget.updateMarker(y.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(y=>{this._editorService.openCodeEditor({resource:y.resource,options:{pinned:!0,revealIfOpened:!0,selection:b.Range.lift(y).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(h=!0){this._cleanUp(),h&&this._editor.focus()}showAtMarker(h){if(this._editor.hasModel()){const S=this._getOrCreateModel(this._editor.getModel().uri);S.resetIndex(),S.move(!0,this._editor.getModel(),new L.Position(h.startLineNumber,h.startColumn)),S.selected&&this._widget.showAtMarker(S.selected.marker,S.selected.index,S.selected.total)}}nagivate(h,S){var y,E;return Se(this,void 0,void 0,function*(){if(this._editor.hasModel()){const N=this._getOrCreateModel(S?void 0:this._editor.getModel().uri);if(N.move(h,this._editor.getModel(),this._editor.getPosition()),!N.selected)return;if(N.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const T=yield this._editorService.openCodeEditor({resource:N.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:N.selected.marker}},this._editor);T&&((y=Gt.get(T))===null||y===void 0||y.close(),(E=Gt.get(T))===null||E===void 0||E.nagivate(h,S))}else this._widget.showAtMarker(N.selected.marker,N.selected.index,N.selected.total)}})}};d.ID="editor.contrib.markerController",d=ke([me(1,u.IMarkerNavigationService),me(2,i.IContextKeyService),me(3,I.ICodeEditorService),me(4,t.IInstantiationService)],d),e.MarkerController=d;class a extends k.EditorAction{constructor(h,S,y){super(y);this._next=h,this._multiFile=S}run(h,S){var y;return Se(this,void 0,void 0,function*(){S.hasModel()&&((y=d.get(S))===null||y===void 0||y.nagivate(this._next,this._multiFile))})}}class s extends a{constructor(){super(!0,!1,{id:s.ID,label:s.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:512|66,weight:100},menuOpts:{menuId:l.MarkerNavigationWidget.TitleMenu,title:s.LABEL,icon:(0,r.registerIcon)("marker-navigation-next",w.Codicon.arrowDown,g.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=s,s.ID="editor.action.marker.next",s.LABEL=g.localize(0,null);class o extends a{constructor(){super(!1,!1,{id:o.ID,label:o.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:1024|512|66,weight:100},menuOpts:{menuId:l.MarkerNavigationWidget.TitleMenu,title:o.LABEL,icon:(0,r.registerIcon)("marker-navigation-previous",w.Codicon.arrowUp,g.localize(3,null)),group:"navigation",order:2}})}}o.ID="editor.action.marker.prev",o.LABEL=g.localize(2,null);class c extends a{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:g.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:n.MenuId.MenubarGoMenu,title:g.localize(5,null),group:"6_problem_nav",order:1}})}}class f extends a{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:g.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:1024|66,weight:100},menuOpts:{menuId:n.MenuId.MenubarGoMenu,title:g.localize(7,null),group:"6_problem_nav",order:2}})}}(0,k.registerEditorContribution)(d.ID,d),(0,k.registerEditorAction)(s),(0,k.registerEditorAction)(o),(0,k.registerEditorAction)(c),(0,k.registerEditorAction)(f);const p=new i.RawContextKey("markersNavigationVisible",!1),_=k.EditorCommand.bindToContribution(d.get);(0,k.registerEditorCommand)(new _({id:"closeMarkersNavigation",precondition:p,handler:m=>m.close(),kbOpts:{weight:100+50,kbExpr:v.EditorContextKeys.focus,primary:9,secondary:[1024|9]}}))}),define(re[761],ae([1,0,7,261,31,6,2,52,44,174,3,35,32,72,37,58,684,119,568,9,42,140,171,15,172,137,382]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f,p,_,m,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class S{constructor(R,F){this._editor=R,this._model=F,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new L.DisposableStore,this._callOnModelChange=new L.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const R=this._editor.getModel();if(!!R){for(const F of this._model.references)if(F.uri.toString()===R.uri.toString()){this._addDecorations(F.parent);return}}}_addDecorations(R){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const F=[],O=[];for(let D=0,M=R.children.length;D<M;D++){const P=R.children[D];this._decorationIgnoreSet.has(P.id)||P.uri.toString()===this._editor.getModel().uri.toString()&&(F.push({range:P.range,options:S.DecorationOptions}),O.push(D))}this._editor.changeDecorations(D=>{const M=D.deltaDecorations([],F);for(let P=0;P<M.length;P++)this._decorations.set(M[P],R.children[O[P]])})}_onDecorationChanged(){const R=[],F=this._editor.getModel();if(!!F){for(const[O,D]of this._decorations){const M=F.getDecorationRange(O);if(!M)continue;let P=!1;if(!g.Range.equalsRange(M,D.range)){if(g.Range.spansMultipleLines(M))P=!0;else{const B=D.range.endColumn-D.range.startColumn,W=M.endColumn-M.startColumn;B!==W&&(P=!0)}P?(this._decorationIgnoreSet.add(D.id),R.push(O)):D.range=M}}for(let O=0,D=R.length;O<D;O++)this._decorations.delete(R[O]);this._editor.removeDecorations(R)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}S.DecorationOptions=n.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class y{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(R){let F,O;try{const D=JSON.parse(R);F=D.ratio,O=D.heightInLines}catch{}return{ratio:F||.7,heightInLines:O||18}}}e.LayoutData=y;class E extends p.WorkbenchAsyncDataTree{}let N=class extends a.PeekViewWidget{constructor(R,F,O,D,M,P,B,W,V,A,Q,J){super(R,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},P);this._defaultTreeKeyboardSupport=F,this.layoutData=O,this._textModelResolverService=M,this._instantiationService=P,this._peekViewService=B,this._uriLabel=W,this._undoRedoService=V,this._keybindingService=A,this._languageService=Q,this._languageConfigurationService=J,this._disposeOnNewModel=new L.DisposableStore,this._callOnDispose=new L.DisposableStore,this._onDidSelectReference=new I.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new w.Dimension(0,0),this._applyTheme(D.getColorTheme()),this._callOnDispose.add(D.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(R,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,L.dispose)(this._preview),(0,L.dispose)(this._previewNotAvailableMessage),(0,L.dispose)(this._tree),(0,L.dispose)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(R){const F=R.getColor(a.peekViewBorder)||k.Color.transparent;this.style({arrowColor:F,frameColor:F,headerBackgroundColor:R.getColor(a.peekViewTitleBackground)||k.Color.transparent,primaryHeadingColor:R.getColor(a.peekViewTitleForeground),secondaryHeadingColor:R.getColor(a.peekViewTitleInfoForeground)})}show(R){super.show(R,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(R){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:R.ctrlKey||R.metaKey||R.altKey?"side":"open",source:"title"})}_fillBody(R){this.setCssClass("reference-zone-widget"),this._messageContainer=w.append(R,w.$("div.messages")),w.hide(this._messageContainer),this._splitView=new C.SplitView(R,{orientation:1}),this._previewContainer=w.append(R,w.$("div.preview.inline"));const F={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(u.EmbeddedCodeEditorWidget,this._previewContainer,F,this.editor),w.hide(this._previewContainer),this._previewNotAvailableMessage=new n.TextModel(s.localize(0,null),t.PLAINTEXT_LANGUAGE_ID,n.TextModel.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=w.append(R,w.$("div.ref-tree.inline"));const O={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new d.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(d.StringRepresentationProvider),identityProvider:new d.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:a.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(w.addStandardDisposableListener(this._treeContainer,"keydown",M=>{M.equals(9)&&(this._keybindingService.dispatchEvent(M,M.target),M.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(E,"ReferencesWidget",this._treeContainer,new d.Delegate,[this._instantiationService.createInstance(d.FileReferencesRenderer),this._instantiationService.createInstance(d.OneReferenceRenderer)],this._instantiationService.createInstance(d.DataSource),O),this._splitView.addView({onDidChange:I.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:M=>{this._preview.layout({height:this._dim.height,width:M})}},C.Sizing.Distribute),this._splitView.addView({onDidChange:I.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:M=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${M}px`,this._tree.layout(this._dim.height,M)}},C.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const D=(M,P)=>{M instanceof h.OneReference&&(P==="show"&&this._revealReference(M,!1),this._onDidSelectReference.fire({element:M,kind:P,source:"tree"}))};this._tree.onDidOpen(M=>{M.sideBySide?D(M.element,"side"):M.editorOptions.pinned?D(M.element,"goto"):D(M.element,"show")}),w.hide(this._treeContainer)}_onWidth(R){this._dim&&this._doLayoutBody(this._dim.height,R)}_doLayoutBody(R,F){super._doLayoutBody(R,F),this._dim=new w.Dimension(F,R),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(F),this._splitView.resizeView(0,F*this.layoutData.ratio)}setSelection(R){return this._revealReference(R,!0).then(()=>{!this._model||(this._tree.setSelection([R]),this._tree.setFocus([R]))})}setModel(R){return this._disposeOnNewModel.clear(),this._model=R,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=s.localize(1,null),w.show(this._messageContainer),Promise.resolve(void 0)):(w.hide(this._messageContainer),this._decorationsManager=new S(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(R=>this._tree.rerender(R))),this._disposeOnNewModel.add(this._preview.onMouseDown(R=>{const{event:F,target:O}=R;if(F.detail!==2)return;const D=this._getFocusedReference();!D||this._onDidSelectReference.fire({element:{uri:D.uri,range:O.range},kind:F.ctrlKey||F.metaKey||F.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),w.show(this._treeContainer),w.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[R]=this._tree.getFocus();if(R instanceof h.OneReference)return R;if(R instanceof h.FileReferences&&R.children.length>0)return R.children[0]}revealReference(R){return Se(this,void 0,void 0,function*(){yield this._revealReference(R,!1),this._onDidSelectReference.fire({element:R,kind:"goto",source:"tree"})})}_revealReference(R,F){return Se(this,void 0,void 0,function*(){if(this._revealedReference===R)return;this._revealedReference=R,R.uri.scheme!==b.Schemas.inMemory?this.setTitle((0,v.basenameOrAuthority)(R.uri),this._uriLabel.getUriLabel((0,v.dirname)(R.uri))):this.setTitle(s.localize(2,null));const O=this._textModelResolverService.createModelReference(R.uri);this._tree.getInput()===R.parent?this._tree.reveal(R):(F&&this._tree.reveal(R.parent),yield this._tree.expand(R.parent),this._tree.reveal(R));const D=yield O;if(!this._model){D.dispose();return}(0,L.dispose)(this._previewModelReference);const M=D.object;if(M){const P=this._preview.getModel()===M.textEditorModel?0:1,B=g.Range.lift(R.range).collapseToStart();this._previewModelReference=D,this._preview.setModel(M.textEditorModel),this._preview.setSelection(B),this._preview.revealRangeInCenter(B,P)}else this._preview.setModel(this._previewNotAvailableMessage),D.dispose()})}};N=ke([me(3,_.IThemeService),me(4,l.ITextModelService),me(5,o.IInstantiationService),me(6,a.IPeekViewService),me(7,f.ILabelService),me(8,m.IUndoRedoService),me(9,c.IKeybindingService),me(10,r.ILanguageService),me(11,i.ILanguageConfigurationService)],N),e.ReferenceWidget=N}),define(re[315],ae([1,0,10,14,59,2,29,11,3,119,566,26,30,16,9,101,171,39,79,137,761]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new t.RawContextKey("referenceSearchVisible",!1,g.localize(0,null));let f=class hi{constructor(m,h,S,y,E,N,T,R){this._defaultTreeKeyboardSupport=m,this._editor=h,this._editorService=y,this._notificationService=E,this._instantiationService=N,this._storageService=T,this._configurationService=R,this._disposables=new I.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(S)}static get(m){return m.getContribution(hi.ID)}dispose(){var m,h;this._referenceSearchVisible.reset(),this._disposables.dispose(),(m=this._widget)===null||m===void 0||m.dispose(),(h=this._model)===null||h===void 0||h.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(m,h,S){let y;if(this._widget&&(y=this._widget.position),this.closeWidget(),!!y&&m.containsPosition(y))return;this._peekMode=S,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const E="peekViewLayout",N=c.LayoutData.fromJSON(this._storageService.get(E,0,"{}"));this._widget=this._instantiationService.createInstance(c.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,N),this._widget.setTitle(g.localize(1,null)),this._widget.show(m),this._disposables.add(this._widget.onDidClose(()=>{h.cancel(),this._widget&&(this._storageService.store(E,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(R=>{const{element:F,kind:O}=R;if(!!F)switch(O){case"open":(R.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(F,!1,!1);break;case"side":this.openReference(F,!0,!1);break;case"goto":S?this._gotoReference(F):this.openReference(F,!1,!0);break}}));const T=++this._requestIdPool;h.then(R=>{var F;if(T!==this._requestIdPool||!this._widget){R.dispose();return}return(F=this._model)===null||F===void 0||F.dispose(),this._model=R,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(g.localize(2,null,this._model.title,this._model.references.length));const O=this._editor.getModel().uri,D=new b.Position(m.startLineNumber,m.startColumn),M=this._model.nearestReference(O,D);if(M)return this._widget.setSelection(M).then(()=>{this._widget&&this._editor.getOption(79)==="editor"&&this._widget.focusOnPreviewEditor()})}})},R=>{this._notificationService.error(R)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(m){return Se(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const h=this._widget.position;if(!h)return;const S=this._model.nearestReference(this._editor.getModel().uri,h);if(!S)return;const y=this._model.nextOrPreviousReference(S,m),E=this._editor.hasTextFocus(),N=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(y),yield this._gotoReference(y),E?this._editor.focus():this._widget&&N&&this._widget.focusOnPreviewEditor()})}revealReference(m){return Se(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(m))})}closeWidget(m=!0){var h,S;(h=this._widget)===null||h===void 0||h.dispose(),(S=this._model)===null||S===void 0||S.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,m&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(m){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const h=v.Range.lift(m.range).collapseToStart();return this._editorService.openCodeEditor({resource:m.uri,options:{selection:h,selectionSource:"code.jump"}},this._editor).then(S=>{var y;if(this._ignoreModelChangeEvent=!1,!S||!this._widget){this.closeWidget();return}if(this._editor===S)this._widget.show(h),this._widget.focusOnReferenceTree();else{const E=hi.get(S),N=this._model.clone();this.closeWidget(),S.focus(),E==null||E.toggleWidget(h,(0,w.createCancelablePromise)(T=>Promise.resolve(N)),(y=this._peekMode)!==null&&y!==void 0?y:!1)}},S=>{this._ignoreModelChangeEvent=!1,(0,C.onUnexpectedError)(S)})}openReference(m,h,S){h||this.closeWidget();const{uri:y,range:E}=m;this._editorService.openCodeEditor({resource:y,options:{selection:E,selectionSource:"code.jump",pinned:S}},this._editor,h)}};f.ID="editor.contrib.referencesController",f=ke([me(2,t.IContextKeyService),me(3,L.ICodeEditorService),me(4,a.INotificationService),me(5,r.IInstantiationService),me(6,s.IStorageService),me(7,i.IConfigurationService)],f),e.ReferencesController=f;function p(_,m){const h=(0,u.getOuterEditor)(_);if(!h)return;const S=f.get(h);S&&m(S)}l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,k.KeyChord)(2048|41,60),when:t.ContextKeyExpr.or(e.ctxReferenceSearchVisible,u.PeekContext.inPeekEditor),handler(_){p(_,m=>{m.changeFocusBetweenPreviewAndReferences()})}}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:t.ContextKeyExpr.or(e.ctxReferenceSearchVisible,u.PeekContext.inPeekEditor),handler(_){p(_,m=>{m.goToNextOrPreviousReference(!0)})}}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1024|62,secondary:[1024|70],when:t.ContextKeyExpr.or(e.ctxReferenceSearchVisible,u.PeekContext.inPeekEditor),handler(_){p(_,m=>{m.goToNextOrPreviousReference(!1)})}}),n.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),n.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),n.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),n.CommandsRegistry.registerCommand("closeReferenceSearch",_=>p(_,m=>m.closeWidget())),l.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1024|9],when:t.ContextKeyExpr.and(u.PeekContext.inPeekEditor,t.ContextKeyExpr.not("config.editor.stablePeek"))}),l.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1024|9],when:t.ContextKeyExpr.and(e.ctxReferenceSearchVisible,t.ContextKeyExpr.not("config.editor.stablePeek"))}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2048|18]},when:t.ContextKeyExpr.and(e.ctxReferenceSearchVisible,d.WorkbenchListFocusContextKey,d.WorkbenchTreeElementCanCollapse.negate(),d.WorkbenchTreeElementCanExpand.negate()),handler(_){var m;const S=(m=_.get(d.IListService).lastFocusedList)===null||m===void 0?void 0:m.getFocus();Array.isArray(S)&&S[0]instanceof o.OneReference&&p(_,y=>y.revealReference(S[0]))}}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2048|3,mac:{primary:256|3},when:t.ContextKeyExpr.and(e.ctxReferenceSearchVisible,d.WorkbenchListFocusContextKey,d.WorkbenchTreeElementCanCollapse.negate(),d.WorkbenchTreeElementCanExpand.negate()),handler(_){var m;const S=(m=_.get(d.IListService).lastFocusedList)===null||m===void 0?void 0:m.getFocus();Array.isArray(S)&&S[0]instanceof o.OneReference&&p(_,y=>y.openReference(S[0],!0,!0))}}),n.CommandsRegistry.registerCommand("openReference",_=>{var m;const S=(m=_.get(d.IListService).lastFocusedList)===null||m===void 0?void 0:m.getFocus();Array.isArray(S)&&S[0]instanceof o.OneReference&&p(_,y=>y.openReference(S[0],!1,!0))})}),define(re[219],ae([1,0,41,49,10,59,17,19,22,95,155,12,29,174,11,3,24,28,315,137,704,143,119,564,38,26,16,9,39,71,304,20]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f,p,_,m,h,S,y,E,N,T,R){"use strict";var F,O,D,M,P,B,W,V;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=e.SymbolNavigationAction=e.SymbolNavigationAnchor=void 0,m.MenuRegistry.appendMenuItem(m.MenuId.EditorContext,{submenu:m.MenuId.EditorContextPeek,title:_.localize(0,null),group:"navigation",order:100});const A=new Set;function Q(oe){const ne=new oe;return(0,n.registerInstantiatedEditorAction)(ne),A.add(ne.id),ne}class J{constructor(ne,j){this.model=ne,this.position=j}static is(ne){return!ne||typeof ne!="object"?!1:!!(ne instanceof J||r.Position.isIPosition(ne.position)&&ne.model)}}e.SymbolNavigationAnchor=J;class H extends n.EditorAction{constructor(ne,j){super(j);this.configuration=ne}run(ne,j,se){if(!j.hasModel())return Promise.resolve(void 0);const z=ne.get(E.INotificationService),X=ne.get(i.ICodeEditorService),G=ne.get(N.IEditorProgressService),U=ne.get(c.ISymbolNavigationService),K=ne.get(R.ILanguageFeaturesService),ce=j.getModel(),ee=j.getPosition(),ue=J.is(se)?se:new J(ce,ee),fe=new u.EditorStateCancellationTokenSource(j,1|4),Ce=(0,k.raceCancellation)(this._getLocationModel(K,ue.model,ue.position,fe.token),fe.token).then(we=>Se(this,void 0,void 0,function*(){var ye;if(!we||fe.token.isCancellationRequested)return;(0,C.alert)(we.ariaMessage);let De;if(we.referenceAt(ce.uri,ee)){const pe=this._getAlternativeCommand(j);!H._activeAlternativeCommands.has(pe)&&A.has(pe)&&(De=j.getAction(pe))}const Me=we.references.length;if(Me===0){if(!this.configuration.muteMessage){const pe=ce.getWordAtPosition(ee);(ye=f.MessageController.get(j))===null||ye===void 0||ye.showMessage(this._getNoResultFoundMessage(pe),ee)}}else if(Me===1&&De)H._activeAlternativeCommands.add(this.id),De.run().finally(()=>{H._activeAlternativeCommands.delete(this.id)});else return this._onResult(X,U,j,we)}),we=>{z.error(we)}).finally(()=>{fe.dispose()});return G.showWhile(Ce,250),Ce}_onResult(ne,j,se,z){return Se(this,void 0,void 0,function*(){const X=this._getGoToPreference(se);if(!(se instanceof t.EmbeddedCodeEditorWidget)&&(this.configuration.openInPeek||X==="peek"&&z.references.length>1))this._openInPeek(se,z);else{const G=z.firstReference(),U=z.references.length>1&&X==="gotoAndPeek",K=yield this._openReference(se,ne,G,this.configuration.openToSide,!U);U&&K?this._openInPeek(K,z):z.dispose(),X==="goto"&&j.put(G)}})}_openReference(ne,j,se,z,X){return Se(this,void 0,void 0,function*(){let G;if((0,a.isLocationLink)(se)&&(G=se.targetSelectionRange),G||(G=se.range),!G)return;const U=yield j.openCodeEditor({resource:se.uri,options:{selection:l.Range.collapseToStart(G),selectionRevealType:3,selectionSource:"code.jump"}},ne,z);if(!!U){if(X){const K=U.getModel(),ce=U.createDecorationsCollection([{range:G,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{U.getModel()===K&&ce.clear()},350)}return U}})}_openInPeek(ne,j){const se=s.ReferencesController.get(ne);se&&ne.hasModel()?se.toggleWidget(ne.getSelection(),(0,k.createCancelablePromise)(z=>Promise.resolve(j)),this.configuration.openInPeek):j.dispose()}}e.SymbolNavigationAction=H,H._activeAlternativeCommands=new Set;class q extends H{_getLocationModel(ne,j,se,z){return Se(this,void 0,void 0,function*(){return new o.ReferencesModel(yield(0,T.getDefinitionsAtPosition)(ne.definitionProvider,j,se,z),_.localize(1,null))})}_getNoResultFoundMessage(ne){return ne&&ne.word?_.localize(2,null,ne.word):_.localize(3,null)}_getAlternativeCommand(ne){return ne.getOption(53).alternativeDefinitionCommand}_getGoToPreference(ne){return ne.getOption(53).multipleDefinitions}}e.DefinitionAction=q;const Z=L.isWeb&&!(0,w.isStandalone)()?2048|70:70;Q((F=class gi extends q{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:gi.id,label:_.localize(4,null),alias:"Go to Definition",precondition:S.ContextKeyExpr.and(d.EditorContextKeys.hasDefinitionProvider,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:Z,weight:100},contextMenuOpts:{group:"navigation",order:1.1}});h.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",gi.id)}},F.id="editor.action.revealDefinition",F)),Q((O=class fi extends q{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:fi.id,label:_.localize(5,null),alias:"Open Definition to the Side",precondition:S.ContextKeyExpr.and(d.EditorContextKeys.hasDefinitionProvider,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2048|41,Z),weight:100}});h.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",fi.id)}},O.id="editor.action.revealDefinitionAside",O)),Q((D=class mi extends q{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:mi.id,label:_.localize(6,null),alias:"Peek Definition",precondition:S.ContextKeyExpr.and(d.EditorContextKeys.hasDefinitionProvider,p.PeekContext.notInPeekEditor,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:512|70,linux:{primary:2048|1024|68},weight:100},contextMenuOpts:{menuId:m.MenuId.EditorContextPeek,group:"peek",order:2}});h.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",mi.id)}},D.id="editor.action.peekDefinition",D));class ie extends H{_getLocationModel(ne,j,se,z){return Se(this,void 0,void 0,function*(){return new o.ReferencesModel(yield(0,T.getDeclarationsAtPosition)(ne.declarationProvider,j,se,z),_.localize(7,null))})}_getNoResultFoundMessage(ne){return ne&&ne.word?_.localize(8,null,ne.word):_.localize(9,null)}_getAlternativeCommand(ne){return ne.getOption(53).alternativeDeclarationCommand}_getGoToPreference(ne){return ne.getOption(53).multipleDeclarations}}Q((M=class Zi extends ie{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Zi.id,label:_.localize(10,null),alias:"Go to Declaration",precondition:S.ContextKeyExpr.and(d.EditorContextKeys.hasDeclarationProvider,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(ne){return ne&&ne.word?_.localize(11,null,ne.word):_.localize(12,null)}},M.id="editor.action.revealDeclaration",M)),Q(class extends ie{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:_.localize(13,null),alias:"Peek Declaration",precondition:S.ContextKeyExpr.and(d.EditorContextKeys.hasDeclarationProvider,p.PeekContext.notInPeekEditor,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:m.MenuId.EditorContextPeek,group:"peek",order:3}})}});class Y extends H{_getLocationModel(ne,j,se,z){return Se(this,void 0,void 0,function*(){return new o.ReferencesModel(yield(0,T.getTypeDefinitionsAtPosition)(ne.typeDefinitionProvider,j,se,z),_.localize(14,null))})}_getNoResultFoundMessage(ne){return ne&&ne.word?_.localize(15,null,ne.word):_.localize(16,null)}_getAlternativeCommand(ne){return ne.getOption(53).alternativeTypeDefinitionCommand}_getGoToPreference(ne){return ne.getOption(53).multipleTypeDefinitions}}Q((P=class Yi extends Y{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Yi.ID,label:_.localize(17,null),alias:"Go to Type Definition",precondition:S.ContextKeyExpr.and(d.EditorContextKeys.hasTypeDefinitionProvider,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}},P.ID="editor.action.goToTypeDefinition",P)),Q((B=class Qi extends Y{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Qi.ID,label:_.localize(18,null),alias:"Peek Type Definition",precondition:S.ContextKeyExpr.and(d.EditorContextKeys.hasTypeDefinitionProvider,p.PeekContext.notInPeekEditor,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:m.MenuId.EditorContextPeek,group:"peek",order:4}})}},B.ID="editor.action.peekTypeDefinition",B));class te extends H{_getLocationModel(ne,j,se,z){return Se(this,void 0,void 0,function*(){return new o.ReferencesModel(yield(0,T.getImplementationsAtPosition)(ne.implementationProvider,j,se,z),_.localize(19,null))})}_getNoResultFoundMessage(ne){return ne&&ne.word?_.localize(20,null,ne.word):_.localize(21,null)}_getAlternativeCommand(ne){return ne.getOption(53).alternativeImplementationCommand}_getGoToPreference(ne){return ne.getOption(53).multipleImplementations}}Q((W=class Xi extends te{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Xi.ID,label:_.localize(22,null),alias:"Go to Implementations",precondition:S.ContextKeyExpr.and(d.EditorContextKeys.hasImplementationProvider,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:2048|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}},W.ID="editor.action.goToImplementation",W)),Q((V=class Ji extends te{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Ji.ID,label:_.localize(23,null),alias:"Peek Implementations",precondition:S.ContextKeyExpr.and(d.EditorContextKeys.hasImplementationProvider,p.PeekContext.notInPeekEditor,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:2048|1024|70,weight:100},contextMenuOpts:{menuId:m.MenuId.EditorContextPeek,group:"peek",order:5}})}},V.ID="editor.action.peekImplementation",V));class de extends H{_getNoResultFoundMessage(ne){return ne?_.localize(24,null,ne.word):_.localize(25,null)}_getAlternativeCommand(ne){return ne.getOption(53).alternativeReferenceCommand}_getGoToPreference(ne){return ne.getOption(53).multipleReferences}}Q(class extends de{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:_.localize(26,null),alias:"Go to References",precondition:S.ContextKeyExpr.and(d.EditorContextKeys.hasReferenceProvider,p.PeekContext.notInPeekEditor,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:1024|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(ne,j,se,z){return Se(this,void 0,void 0,function*(){return new o.ReferencesModel(yield(0,T.getReferencesAtPosition)(ne.referenceProvider,j,se,!0,z),_.localize(27,null))})}}),Q(class extends de{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:_.localize(28,null),alias:"Peek References",precondition:S.ContextKeyExpr.and(d.EditorContextKeys.hasReferenceProvider,p.PeekContext.notInPeekEditor,d.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:m.MenuId.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(ne,j,se,z){return Se(this,void 0,void 0,function*(){return new o.ReferencesModel(yield(0,T.getReferencesAtPosition)(ne.referenceProvider,j,se,!1,z),_.localize(29,null))})}});class x extends H{constructor(ne,j,se){super(ne,{id:"editor.action.goToLocation",label:_.localize(30,null),alias:"Go to Any Symbol",precondition:S.ContextKeyExpr.and(p.PeekContext.notInPeekEditor,d.EditorContextKeys.isInWalkThroughSnippet.toNegated())});this._references=j,this._gotoMultipleBehaviour=se}_getLocationModel(ne,j,se,z){return Se(this,void 0,void 0,function*(){return new o.ReferencesModel(this._references,_.localize(31,null))})}_getNoResultFoundMessage(ne){return ne&&_.localize(32,null,ne.word)||""}_getGoToPreference(ne){var j;return(j=this._gotoMultipleBehaviour)!==null&&j!==void 0?j:ne.getOption(53).multipleReferences}_getAlternativeCommand(){return""}}h.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:v.URI},{name:"position",description:"The position at which to start",constraint:r.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(oe,ne,j,se,z,X,G)=>Se(void 0,void 0,void 0,function*(){(0,b.assertType)(v.URI.isUri(ne)),(0,b.assertType)(r.Position.isIPosition(j)),(0,b.assertType)(Array.isArray(se)),(0,b.assertType)(typeof z=="undefined"||typeof z=="string"),(0,b.assertType)(typeof G=="undefined"||typeof G=="boolean");const U=oe.get(i.ICodeEditorService),K=yield U.openCodeEditor({resource:ne},U.getFocusedCodeEditor());if((0,g.isCodeEditor)(K))return K.setPosition(j),K.revealPositionInCenterIfOutsideViewport(j,0),K.invokeWithinContext(ce=>{const ee=new class extends x{_getNoResultFoundMessage(ue){return X||super._getNoResultFoundMessage(ue)}}({muteMessage:!Boolean(X),openInPeek:Boolean(G),openToSide:!1},se,z);ce.get(y.IInstantiationService).invokeFunction(ee.run.bind(ee),K)})})}),h.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:v.URI},{name:"position",description:"The position at which to start",constraint:r.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(oe,ne,j,se,z)=>Se(void 0,void 0,void 0,function*(){oe.get(h.ICommandService).executeCommand("editor.action.goToLocations",ne,j,se,z,void 0,!0)})}),h.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(oe,ne,j)=>{(0,b.assertType)(v.URI.isUri(ne)),(0,b.assertType)(r.Position.isIPosition(j));const se=oe.get(R.ILanguageFeaturesService),z=oe.get(i.ICodeEditorService);return z.openCodeEditor({resource:ne},z.getFocusedCodeEditor()).then(X=>{if(!(0,g.isCodeEditor)(X)||!X.hasModel())return;const G=s.ReferencesController.get(X);if(!G)return;const U=(0,k.createCancelablePromise)(ce=>(0,T.getReferencesAtPosition)(se.referenceProvider,X.getModel(),r.Position.lift(j),!1,ce).then(ee=>new o.ReferencesModel(ee,_.localize(33,null)))),K=new l.Range(j.lineNumber,j.column,j.lineNumber,j.column);return Promise.resolve(G.toggleWidget(K,U,!1))})}}),h.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),m.MenuRegistry.appendMenuItems([{id:m.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:_.localize(34,null)},group:"4_symbol_nav",order:2}},{id:m.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:_.localize(35,null)},group:"4_symbol_nav",order:3}},{id:m.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:_.localize(36,null)},group:"4_symbol_nav",order:3}},{id:m.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:_.localize(37,null)},group:"4_symbol_nav",order:4}},{id:m.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:_.localize(38,null)},group:"4_symbol_nav",order:5}}])}),define(re[316],ae([1,0,10,14,64,2,19,95,12,3,37,58,205,119,565,16,25,15,219,304,20,381]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let f=class Zt{constructor(_,m,h,S){this.textModelResolverService=m,this.languageService=h,this.languageFeaturesService=S,this.toUnhook=new I.DisposableStore,this.toUnhookForKeyboard=new I.DisposableStore,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=_,this.linkDecorations=this.editor.createDecorationsCollection();const y=new i.ClickLinkGesture(_);this.toUnhook.add(y),this.toUnhook.add(y.onMouseMoveOrRelevantKeyDown(([E,N])=>{this.startFindDefinitionFromMouse(E,(0,L.withNullAsUndefined)(N))})),this.toUnhook.add(y.onExecute(E=>{this.isEnabled(E)&&this.gotoDefinition(E.target.position,E.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},N=>{this.removeLinkDecorations(),(0,C.onUnexpectedError)(N)})})),this.toUnhook.add(y.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(_){return _.getContribution(Zt.ID)}startFindDefinitionFromCursor(_){return this.startFindDefinition(_).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(m=>{m&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(_,m){if(_.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(_,m)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const h=_.target.position;this.startFindDefinition(h)}startFindDefinition(_){var m;this.toUnhookForKeyboard.clear();const h=_?(m=this.editor.getModel())===null||m===void 0?void 0:m.getWordAtPosition(_):null;if(!h)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===h.startColumn&&this.currentWordAtPosition.endColumn===h.endColumn&&this.currentWordAtPosition.word===h.word)return Promise.resolve(0);this.currentWordAtPosition=h;const S=new b.EditorState(this.editor,4|1|2|8);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,w.createCancelablePromise)(y=>this.findDefinition(_,y)),this.previousPromise.then(y=>{if(!y||!y.length||!S.validate(this.editor)){this.removeLinkDecorations();return}if(y.length>1)this.addDecoration(new u.Range(_.lineNumber,h.startColumn,_.lineNumber,h.endColumn),new k.MarkdownString().appendText(r.localize(0,null,y.length)));else{const E=y[0];if(!E.uri)return;this.textModelResolverService.createModelReference(E.uri).then(N=>{if(!N.object||!N.object.textEditorModel){N.dispose();return}const{object:{textEditorModel:T}}=N,{startLineNumber:R}=E.range;if(R<1||R>T.getLineCount()){N.dispose();return}const F=this.getPreviewValue(T,R,E);let O;E.originSelectionRange?O=u.Range.lift(E.originSelectionRange):O=new u.Range(_.lineNumber,h.startColumn,_.lineNumber,h.endColumn);const D=this.languageService.guessLanguageIdByFilepathOrFirstLine(T.uri);this.addDecoration(O,new k.MarkdownString().appendCodeblock(D||"",F)),N.dispose()})}}).then(void 0,C.onUnexpectedError)}getPreviewValue(_,m,h){let S=h.range;return S.endLineNumber-S.startLineNumber>=Zt.MAX_SOURCE_PREVIEW_LINES&&(S=this.getPreviewRangeBasedOnIndentation(_,m)),this.stripIndentationFromPreviewRange(_,m,S)}stripIndentationFromPreviewRange(_,m,h){let y=_.getLineFirstNonWhitespaceColumn(m);for(let N=m+1;N<h.endLineNumber;N++){const T=_.getLineFirstNonWhitespaceColumn(N);y=Math.min(y,T)}return _.getValueInRange(h).replace(new RegExp(`^\\s{${y-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(_,m){const h=_.getLineFirstNonWhitespaceColumn(m),S=Math.min(_.getLineCount(),m+Zt.MAX_SOURCE_PREVIEW_LINES);let y=m+1;for(;y<S;y++){const E=_.getLineFirstNonWhitespaceColumn(y);if(h===E)break}return new u.Range(m,1,y+1,1)}addDecoration(_,m){const h={range:_,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:m}};this.linkDecorations.set([h])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(_,m){return this.editor.hasModel()&&_.isNoneOrSingleMouseDown&&_.target.type===6&&(_.hasTriggerModifier||(m?m.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(_,m){const h=this.editor.getModel();return h?(0,o.getDefinitionsAtPosition)(this.languageFeaturesService.definitionProvider,h,_,m):Promise.resolve(null)}gotoDefinition(_,m){return this.editor.setPosition(_),this.editor.invokeWithinContext(h=>{const S=!m&&this.editor.getOption(80)&&!this.isInPeekEditor(h);return new s.DefinitionAction({openToSide:m,openInPeek:S,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(h,this.editor)})}isInPeekEditor(_){const m=_.get(l.IContextKeyService);return t.PeekContext.inPeekEditor.getValue(m)}dispose(){this.toUnhook.dispose()}};f.ID="editor.contrib.gotodefinitionatposition",f.MAX_SOURCE_PREVIEW_LINES=8,f=ke([me(1,n.ITextModelService),me(2,g.ILanguageService),me(3,c.ILanguageFeaturesService)],f),e.GotoDefinitionAtPositionEditorContribution=f,(0,v.registerEditorContribution)(f.ID,f),(0,a.registerThemingParticipant)((p,_)=>{const m=p.getColor(d.editorActiveLinkForeground);m&&_.addRule(`.monaco-editor .goto-definition-link { color: ${m} !important; }`)})}),define(re[762],ae([1,0,7,18,10,14,2,44,3,209,170,306,131,314,573,84,45,71,25,15,20]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const f=w.$;class p{constructor(S,y,E){this.owner=S,this.range=y,this.marker=E}isValidForHoverAnchor(S){return S.type===1&&this.range.startColumn<=S.range.startColumn&&this.range.endColumn>=S.range.endColumn}}e.MarkerHover=p;const _={type:1,filter:{include:i.CodeActionKind.QuickFix},triggerAction:i.CodeActionTriggerSource.QuickFixHover};let m=class{constructor(S,y,E,N){this._editor=S,this._markerDecorationsService=y,this._openerService=E,this._languageFeaturesService=N,this.hoverOrdinal=5,this.recentMarkerCodeActionsInfo=void 0}computeSync(S,y){if(!this._editor.hasModel()||S.type!==1)return[];const E=this._editor.getModel(),N=S.range.startLineNumber,T=E.getLineMaxColumn(N),R=[];for(const F of y){const O=F.range.startLineNumber===N?F.range.startColumn:1,D=F.range.endLineNumber===N?F.range.endColumn:T,M=this._markerDecorationsService.getMarker(E.uri,F);if(!M)continue;const P=new v.Range(S.range.startLineNumber,O,S.range.startLineNumber,D);R.push(new p(this,P,M))}return R}renderHoverParts(S,y){if(!y.length)return L.Disposable.None;const E=new L.DisposableStore;y.forEach(T=>S.fragment.appendChild(this.renderMarkerHover(T,E)));const N=y.length===1?y[0]:y.sort((T,R)=>l.MarkerSeverity.compare(T.marker.severity,R.marker.severity))[0];return this.renderMarkerStatusbar(S,N,E),E}renderMarkerHover(S,y){const E=f("div.hover-row"),N=w.append(E,f("div.marker.hover-contents")),{source:T,message:R,code:F,relatedInformation:O}=S.marker;this._editor.applyFontInfo(N);const D=w.append(N,f("span"));if(D.style.whiteSpace="pre-wrap",D.innerText=R,T||F)if(F&&typeof F!="string"){const M=f("span");if(T){const V=w.append(M,f("span"));V.innerText=T}const P=w.append(M,f("a.code-link"));P.setAttribute("href",F.target.toString()),y.add(w.addDisposableListener(P,"click",V=>{this._openerService.open(F.target,{allowCommands:!0}),V.preventDefault(),V.stopPropagation()}));const B=w.append(P,f("span"));B.innerText=F.value;const W=w.append(N,M);W.style.opacity="0.6",W.style.paddingLeft="6px"}else{const M=w.append(N,f("span"));M.style.opacity="0.6",M.style.paddingLeft="6px",M.innerText=T&&F?`${T}(${F})`:T||`(${F})`}if((0,C.isNonEmptyArray)(O))for(const{message:M,resource:P,startLineNumber:B,startColumn:W}of O){const V=w.append(N,f("div"));V.style.marginTop="8px";const A=w.append(V,f("a"));A.innerText=`${(0,b.basename)(P)}(${B}, ${W}): `,A.style.cursor="pointer",y.add(w.addDisposableListener(A,"click",J=>{J.stopPropagation(),J.preventDefault(),this._openerService&&this._openerService.open(P,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:B,startColumn:W}}}).catch(I.onUnexpectedError)}));const Q=w.append(V,f("span"));Q.innerText=M,this._editor.applyFontInfo(Q)}return E}renderMarkerStatusbar(S,y,E){if((y.marker.severity===l.MarkerSeverity.Error||y.marker.severity===l.MarkerSeverity.Warning||y.marker.severity===l.MarkerSeverity.Info)&&S.statusBar.addAction({label:r.localize(0,null),commandId:t.NextMarkerAction.ID,run:()=>{var N;S.hide(),(N=t.MarkerController.get(this._editor))===null||N===void 0||N.showAtMarker(y.marker),this._editor.focus()}}),!this._editor.getOption(83)){const N=S.statusBar.append(f("div"));this.recentMarkerCodeActionsInfo&&(l.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===l.IMarkerData.makeKey(y.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(N.textContent=r.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const T=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?L.Disposable.None:E.add((0,k.disposableTimeout)(()=>N.textContent=r.localize(2,null),200));N.textContent||(N.textContent=String.fromCharCode(160));const R=this.getCodeActions(y.marker);E.add((0,L.toDisposable)(()=>R.cancel())),R.then(F=>{if(T.dispose(),this.recentMarkerCodeActionsInfo={marker:y.marker,hasCodeActions:F.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){F.dispose(),N.textContent=r.localize(3,null);return}N.style.display="none";let O=!1;E.add((0,L.toDisposable)(()=>{O||F.dispose()})),S.statusBar.addAction({label:r.localize(4,null),commandId:n.QuickFixAction.Id,run:D=>{O=!0;const M=n.QuickFixController.get(this._editor),P=w.getDomNodePagePosition(D);S.hide(),M==null||M.showCodeActions(_,F,{x:P.left+6,y:P.top+P.height+6,width:P.width,height:P.height})}})},I.onUnexpectedError)}}getCodeActions(S){return(0,k.createCancelablePromise)(y=>(0,g.getCodeActions)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new v.Range(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn),_,a.Progress.None,y))}};m=ke([me(1,u.IMarkerDecorationsService),me(2,d.IOpenerService),me(3,c.ILanguageFeaturesService)],m),e.MarkerHoverParticipant=m,(0,o.registerThemingParticipant)((h,S)=>{const y=h.getColor(s.textLinkForeground);y&&S.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${y}; }`);const E=h.getColor(s.textLinkActiveForeground);E&&S.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${E}; }`)})}),define(re[317],ae([1,0,59,2,12,3,24,37,316,751,657,571,16,9,45,25,15,88,217,762]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesHoverController=void 0;let c=class en{constructor(m,h,S,y,E){this._editor=m,this._instantiationService=h,this._openerService=S,this._languageService=y,this._toUnhook=new C.DisposableStore,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(N=>{N.hasChanged(55)&&(this._unhookEvents(),this._hookEvents())})}static get(m){return m.getContribution(en.ID)}_hookEvents(){const m=()=>this._hideWidgets(),h=this._editor.getOption(55);this._isHoverEnabled=h.enabled,this._isHoverSticky=h.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(S=>this._onEditorMouseDown(S))),this._toUnhook.add(this._editor.onMouseUp(S=>this._onEditorMouseUp(S))),this._toUnhook.add(this._editor.onMouseMove(S=>this._onEditorMouseMove(S))),this._toUnhook.add(this._editor.onKeyDown(S=>this._onKeyDown(S)))):(this._toUnhook.add(this._editor.onMouseMove(S=>this._onEditorMouseMove(S))),this._toUnhook.add(this._editor.onKeyDown(S=>this._onKeyDown(S)))),this._toUnhook.add(this._editor.onMouseLeave(S=>this._onEditorMouseLeave(S))),this._toUnhook.add(this._editor.onDidChangeModel(m)),this._toUnhook.add(this._editor.onDidScrollChange(S=>this._onEditorScrollChanged(S)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(m){(m.scrollTopChanged||m.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(m){this._isMouseDown=!0;const h=m.target;if(h.type===9&&h.detail===u.ContentHoverWidget.ID){this._hoverClicked=!0;return}h.type===12&&h.detail===g.MarginHoverWidget.ID||(h.type!==12&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(m){this._isMouseDown=!1}_onEditorMouseLeave(m){var h;const S=m.event.browserEvent.relatedTarget;((h=this._contentWidget)===null||h===void 0?void 0:h.containsNode(S))||this._hideWidgets()}_onEditorMouseMove(m){var h,S,y,E,N;const T=m.target;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&T.type===9&&T.detail===u.ContentHoverWidget.ID||this._isHoverSticky&&!((S=(h=m.event.browserEvent.view)===null||h===void 0?void 0:h.getSelection())===null||S===void 0?void 0:S.isCollapsed)||!this._isHoverSticky&&T.type===9&&T.detail===u.ContentHoverWidget.ID&&((y=this._contentWidget)===null||y===void 0?void 0:y.isColorPickerVisible())||this._isHoverSticky&&T.type===12&&T.detail===g.MarginHoverWidget.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(m)){(E=this._glyphWidget)===null||E===void 0||E.hide();return}if(T.type===2&&T.position){(N=this._contentWidget)===null||N===void 0||N.hide(),this._glyphWidget||(this._glyphWidget=new g.MarginHoverWidget(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(T.position.lineNumber);return}this._hideWidgets()}_onKeyDown(m){m.keyCode!==5&&m.keyCode!==6&&m.keyCode!==57&&m.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var m,h,S;this._isMouseDown&&this._hoverClicked&&((m=this._contentWidget)===null||m===void 0?void 0:m.isColorPickerVisible())||(this._hoverClicked=!1,(h=this._glyphWidget)===null||h===void 0||h.hide(),(S=this._contentWidget)===null||S===void 0||S.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(u.ContentHoverController,this._editor)),this._contentWidget}isColorPickerVisible(){var m;return((m=this._contentWidget)===null||m===void 0?void 0:m.isColorPickerVisible())||!1}showContentHover(m,h,S){this._getOrCreateContentWidget().startShowingAtRange(m,h,S)}dispose(){var m,h;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(m=this._glyphWidget)===null||m===void 0||m.dispose(),(h=this._contentWidget)===null||h===void 0||h.dispose()}};c.ID="editor.contrib.hover",c=ke([me(1,t.IInstantiationService),me(2,r.IOpenerService),me(3,b.ILanguageService),me(4,i.IContextKeyService)],c),e.ModesHoverController=c;class f extends k.EditorAction{constructor(){super({id:"editor.action.showHover",label:n.localize(0,null),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:(0,w.KeyChord)(2048|41,2048|39),weight:100}})}run(m,h){if(!h.hasModel())return;const S=c.get(h);if(!S)return;const y=h.getPosition(),E=new I.Range(y.lineNumber,y.column,y.lineNumber,y.column),N=h.getOption(2)===2;S.showContentHover(E,1,N)}}class p extends k.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:n.localize(1,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(m,h){const S=c.get(h);if(!S)return;const y=h.getPosition();if(!y)return;const E=new I.Range(y.lineNumber,y.column,y.lineNumber,y.column),N=v.GotoDefinitionAtPositionEditorContribution.get(h);if(!N)return;N.startFindDefinitionFromCursor(y).then(()=>{S.showContentHover(E,1,!0)})}}(0,k.registerEditorContribution)(c.ID,c),(0,k.registerEditorAction)(f),(0,k.registerEditorAction)(p),a.HoverParticipantRegistry.register(s.MarkdownHoverParticipant),a.HoverParticipantRegistry.register(o.MarkerHoverParticipant),(0,d.registerThemingParticipant)((_,m)=>{const h=_.getColor(l.editorHoverHighlight);h&&m.addRule(`.monaco-editor .hoverHighlight { background-color: ${h}; }`);const S=_.getColor(l.editorHoverBackground);S&&m.addRule(`.monaco-editor .monaco-hover { background-color: ${S}; }`);const y=_.getColor(l.editorHoverBorder);y&&(m.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${y}; }`),m.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${y.transparent(.5)}; }`),m.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${y.transparent(.5)}; }`),m.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${y.transparent(.5)}; }`));const E=_.getColor(l.textLinkForeground);E&&m.addRule(`.monaco-editor .monaco-hover a { color: ${E}; }`);const N=_.getColor(l.textLinkActiveForeground);N&&m.addRule(`.monaco-editor .monaco-hover a:hover { color: ${N}; }`);const T=_.getColor(l.editorHoverForeground);T&&m.addRule(`.monaco-editor .monaco-hover { color: ${T}; }`);const R=_.getColor(l.editorHoverStatusBarBackground);R&&m.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${R}; }`);const F=_.getColor(l.textCodeBlockBackground);F&&m.addRule(`.monaco-editor .monaco-hover code { background-color: ${F}; }`)})}),define(re[763],ae([1,0,2,12,3,312,743,317,88]),function($,e,w,C,k,I,L,b,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class u extends w.Disposable{constructor(n){super();this._editor=n,this._register(n.onMouseDown(i=>this.onMouseDown(i)))}dispose(){super.dispose()}onMouseDown(n){const i=n.target;if(i.type!==6||!i.detail.injectedText||i.detail.injectedText.options.attachedData!==I.ColorDecorationInjectedTextMarker||!i.range)return;const t=this._editor.getContribution(b.ModesHoverController.ID);if(!!t&&!t.isColorPickerVisible()){const r=new k.Range(i.range.startLineNumber,i.range.startColumn+1,i.range.endLineNumber,i.range.endColumn+1);t.showContentHover(r,1,!1)}}}e.ColorContribution=u,u.ID="editor.contrib.colorContribution",(0,C.registerEditorContribution)(u.ID,u),v.HoverParticipantRegistry.register(L.ColorHoverParticipant)}),define(re[764],ae([1,0,7,43,21,12,3,58,219,119,38,26,16,78,9,39]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.goToDefinitionWithLocation=e.showGoToContextMenu=void 0;function d(s,o,c,f){var p;return Se(this,void 0,void 0,function*(){const _=s.get(b.ITextModelService),m=s.get(t.IContextMenuService),h=s.get(n.ICommandService),S=s.get(r.IInstantiationService),y=s.get(l.INotificationService);if(yield f.item.resolve(k.CancellationToken.None),!f.part.location)return;const E=f.part.location,N=[],T=new Set(g.MenuRegistry.getMenuItems(g.MenuId.EditorContext).map(F=>(0,g.isIMenuItem)(F)?F.command.id:""));for(const F of I.EditorExtensionsRegistry.getEditorActions())F instanceof v.SymbolNavigationAction&&T.has(F.id)&&N.push(new C.Action(F.id,F.label,void 0,!0,()=>Se(this,void 0,void 0,function*(){const O=yield _.createModelReference(E.uri);try{yield S.invokeFunction(F.run.bind(F),o,new v.SymbolNavigationAnchor(O.object.textEditorModel,L.Range.getStartPosition(E.range)))}finally{O.dispose()}})));if(f.part.command){const{command:F}=f.part;N.push(new C.Separator),N.push(new C.Action(F.id,F.title,void 0,!0,()=>Se(this,void 0,void 0,function*(){var O;try{yield h.executeCommand(F.id,...(O=F.arguments)!==null&&O!==void 0?O:[])}catch(D){y.notify({severity:l.Severity.Error,source:f.item.provider.displayName,message:D})}})))}const R=o.getOption(117);m.showContextMenu({domForShadowRoot:R&&(p=o.getDomNode())!==null&&p!==void 0?p:void 0,getAnchor:()=>{const F=w.getDomNodePagePosition(c);return{x:F.left,y:F.top+F.height+8}},getActions:()=>N,onHide:()=>{o.focus()},autoSelectFirstItem:!0})})}e.showGoToContextMenu=d;function a(s,o,c,f){return Se(this,void 0,void 0,function*(){const _=yield s.get(b.ITextModelService).createModelReference(f.uri);yield c.invokeWithinContext(m=>Se(this,void 0,void 0,function*(){const h=o.hasSideBySideModifier,S=m.get(i.IContextKeyService),y=u.PeekContext.inPeekEditor.getValue(S),E=!h&&c.getOption(80)&&!y;return new v.DefinitionAction({openToSide:h,openInPeek:E,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(m,c,{model:_.object.textEditorModel,position:L.Range.getStartPosition(f.range)})})),_.dispose()})}e.goToDefinitionWithLocation=a}),define(re[318],ae([1,0,7,18,10,21,14,2,51,19,22,141,36,60,3,28,46,35,70,20,58,205,276,764,26,53,9,39,25,15]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f,p,_,m,h,S,y,E,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsController=e.RenderedInlayHintLabelPart=void 0;class T{constructor(){this._entries=new v.LRUCache(50)}get(B){const W=T._key(B);return this._entries.get(W)}set(B,W){const V=T._key(B);this._entries.set(V,W)}static _key(B){return`${B.uri.toString()}/${B.getVersionId()}`}}const R=(0,S.createDecorator)("IInlayHintsCache");(0,h.registerSingleton)(R,T,!0);class F{constructor(B,W){this.item=B,this.index=W}get part(){const B=this.item.hint.label;return typeof B=="string"?{label:B}:B[this.index]}}e.RenderedInlayHintLabelPart=F;class O{constructor(B,W){this.part=B,this.hasTriggerModifier=W}}let D=class pi{constructor(B,W,V,A,Q,J,H){this._editor=B,this._languageFeaturesService=W,this._inlayHintsCache=A,this._commandService=Q,this._notificationService=J,this._instaService=H,this._disposables=new b.DisposableStore,this._sessionDisposables=new b.DisposableStore,this._decorationsMetadata=new Map,this._ruleFactory=new n.DynamicCssRules(this._editor),this._activeRenderMode=0,this._debounceInfo=V.for(W.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(W.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(B.onDidChangeModel(()=>this._update())),this._disposables.add(B.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(B.onDidChangeConfiguration(q=>{q.hasChanged(129)&&this._update()})),this._update()}static get(B){var W;return(W=B.getContribution(pi.ID))!==null&&W!==void 0?W:void 0}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const B=this._editor.getOption(129);if(B.enabled==="off")return;const W=this._editor.getModel();if(!W||!this._languageFeaturesService.inlayHintsProvider.has(W))return;const V=this._inlayHintsCache.get(W);V&&this._updateHintsDecorators([W.getFullModelRange()],V),this._sessionDisposables.add((0,b.toDisposable)(()=>{W.isDisposed()||this._cacheHintsForFastRestore(W)}));let A;const Q=new Set,J=new k.RunOnceScheduler(()=>Se(this,void 0,void 0,function*(){const H=Date.now();A==null||A.dispose(!0),A=new I.CancellationTokenSource;const q=W.onWillDispose(()=>A==null?void 0:A.cancel());try{const Z=A.token,ie=yield p.InlayHintsFragments.create(this._languageFeaturesService.inlayHintsProvider,W,this._getHintsRanges(),Z);if(J.delay=this._debounceInfo.update(W,Date.now()-H),Z.isCancellationRequested){ie.dispose();return}for(const Y of ie.provider)typeof Y.onDidChangeInlayHints=="function"&&!Q.has(Y)&&(Q.add(Y),this._sessionDisposables.add(Y.onDidChangeInlayHints(()=>{J.isScheduled()||J.schedule()})));this._sessionDisposables.add(ie),this._updateHintsDecorators(ie.ranges,ie.items),this._cacheHintsForFastRestore(W)}catch(Z){(0,L.onUnexpectedError)(Z)}finally{A.dispose(),q.dispose()}}),this._debounceInfo.get(W));if(this._sessionDisposables.add(J),this._sessionDisposables.add((0,b.toDisposable)(()=>A==null?void 0:A.dispose(!0))),J.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(H=>{(H.scrollTopChanged||!J.isScheduled())&&J.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(H=>{const q=Math.max(J.delay,1250);J.schedule(q)})),B.enabled==="on")this._activeRenderMode=0;else{let H,q;B.enabled==="onUnlessPressed"?(H=0,q=1):(H=1,q=0),this._activeRenderMode=H,this._sessionDisposables.add(w.ModifierKeyEmitter.getInstance().event(Z=>{if(!this._editor.hasModel())return;const ie=Z.altKey&&Z.ctrlKey?q:H;if(ie!==this._activeRenderMode){this._activeRenderMode=ie;const Y=this._editor.getModel(),te=this._copyInlayHintsWithCurrentAnchor(Y);this._updateHintsDecorators([Y.getFullModelRange()],te),J.schedule(0)}}))}this._sessionDisposables.add(this._installDblClickGesture(()=>J.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const B=new b.DisposableStore,W=B.add(new f.ClickLinkGesture(this._editor)),V=new b.DisposableStore;return B.add(V),B.add(W.onMouseMoveOrRelevantKeyDown(A=>{const[Q]=A,J=this._getInlayHintLabelPart(Q),H=this._editor.getModel();if(!J||!H){V.clear();return}const q=new I.CancellationTokenSource;V.add((0,b.toDisposable)(()=>q.dispose(!0))),J.item.resolve(q.token),this._activeInlayHintPart=J.part.command||J.part.location?new O(J,Q.hasTriggerModifier):void 0;const Z=J.item.hint.position.lineNumber,ie=new r.Range(Z,1,Z,H.getLineMaxColumn(Z)),Y=this._getInlineHintsForRange(ie);this._updateHintsDecorators([ie],Y),V.add((0,b.toDisposable)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([ie],Y)}))})),B.add(W.onCancel(()=>V.clear())),B.add(W.onExecute(A=>Se(this,void 0,void 0,function*(){const Q=this._getInlayHintLabelPart(A);if(Q){const J=Q.part;J.location?this._instaService.invokeFunction(_.goToDefinitionWithLocation,A,this._editor,J.location):l.Command.is(J.command)&&(yield this._invokeCommand(J.command,Q.item))}}))),B}_getInlineHintsForRange(B){const W=new Set;for(const V of this._decorationsMetadata.values())B.containsRange(V.item.anchor.range)&&W.add(V.item);return Array.from(W)}_installDblClickGesture(B){return this._editor.onMouseUp(W=>Se(this,void 0,void 0,function*(){if(W.event.detail!==2)return;const V=this._getInlayHintLabelPart(W);if(!!V&&(W.event.preventDefault(),yield V.item.resolve(I.CancellationToken.None),(0,C.isNonEmptyArray)(V.item.hint.textEdits))){const A=V.item.hint.textEdits.map(Q=>t.EditOperation.replace(r.Range.lift(Q.range),Q.text));this._editor.executeEdits("inlayHint.default",A),B()}}))}_installContextMenu(){return this._editor.onContextMenu(B=>Se(this,void 0,void 0,function*(){if(!(B.event.target instanceof HTMLElement))return;const W=this._getInlayHintLabelPart(B);W&&(yield this._instaService.invokeFunction(_.showGoToContextMenu,this._editor,B.event.target,W))}))}_getInlayHintLabelPart(B){var W;if(B.target.type!==6)return;const V=(W=B.target.detail.injectedText)===null||W===void 0?void 0:W.options;if(V instanceof a.ModelDecorationInjectedTextOptions&&(V==null?void 0:V.attachedData)instanceof F)return V.attachedData}_invokeCommand(B,W){var V;return Se(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(B.id,...(V=B.arguments)!==null&&V!==void 0?V:[])}catch(A){this._notificationService.notify({severity:y.Severity.Error,source:W.provider.displayName,message:A})}})}_cacheHintsForFastRestore(B){const W=this._copyInlayHintsWithCurrentAnchor(B);this._inlayHintsCache.set(B,W)}_copyInlayHintsWithCurrentAnchor(B){const W=new Map;for(const[V,A]of this._decorationsMetadata){if(W.has(A.item))continue;const Q=B.getDecorationRange(V);if(Q){const J=new p.InlayHintAnchor(Q,A.item.anchor.direction),H=A.item.with({anchor:J});W.set(A.item,H)}}return Array.from(W.values())}_getHintsRanges(){const B=30,W=this._editor.getModel(),V=this._editor.getVisibleRangesPlusViewportAboveBelow(),A=[];for(const Q of V.sort(r.Range.compareRangesUsingStarts)){const J=W.validateRange(new r.Range(Q.startLineNumber-B,Q.startColumn,Q.endLineNumber+B,Q.endColumn));A.length===0||!r.Range.areIntersectingOrTouching(A[A.length-1],J)?A.push(J):A[A.length-1]=r.Range.plusRange(A[A.length-1],J)}return A}_updateHintsDecorators(B,W){var V,A;const Q=[],J=(x,oe,ne,j,se)=>{const z={content:ne,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:oe.className,cursorStops:j,attachedData:se};Q.push({item:x,classNameRef:oe,decoration:{range:x.anchor.range,options:{description:"InlayHint",showIfCollapsed:x.anchor.range.isEmpty(),collapseOnReplaceEdit:!x.anchor.range.isEmpty(),stickiness:0,[x.anchor.direction]:this._activeRenderMode===0?z:void 0}}})},H=(x,oe)=>{const ne=this._ruleFactory.createClassNameRef({width:`${q/3|0}px`,display:"inline-block"});J(x,ne,"\u200A",oe?d.InjectedTextCursorStops.Right:d.InjectedTextCursorStops.None)},{fontSize:q,fontFamily:Z,padding:ie,isUniform:Y}=this._getLayoutInfo(),te="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(te,Z);for(const x of W){x.hint.paddingLeft&&H(x,!1);const oe=typeof x.hint.label=="string"?[{label:x.hint.label}]:x.hint.label;for(let ne=0;ne<oe.length;ne++){const j=oe[ne],se=ne===0,z=ne===oe.length-1,X={fontSize:`${q}px`,fontFamily:`var(${te}), ${i.EDITOR_FONT_DEFAULTS.fontFamily}`,verticalAlign:Y?"baseline":"middle"};(0,C.isNonEmptyArray)(x.hint.textEdits)&&(X.cursor="default"),this._fillInColors(X,x.hint),(j.command||j.location)&&((V=this._activeInlayHintPart)===null||V===void 0?void 0:V.part.item)===x&&this._activeInlayHintPart.part.index===ne&&(X.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(X.color=(0,N.themeColorFromId)(E.editorActiveLinkForeground),X.cursor="pointer")),ie&&(se&&z?(X.padding=`1px ${Math.max(1,q/4)|0}px`,X.borderRadius=`${q/4|0}px`):se?(X.padding=`1px 0 1px ${Math.max(1,q/4)|0}px`,X.borderRadius=`${q/4|0}px 0 0 ${q/4|0}px`):z?(X.padding=`1px ${Math.max(1,q/4)|0}px 1px 0`,X.borderRadius=`0 ${q/4|0}px ${q/4|0}px 0`):X.padding="1px 0 1px 0"),J(x,this._ruleFactory.createClassNameRef(X),M(j.label),z&&!x.hint.paddingRight?d.InjectedTextCursorStops.Right:d.InjectedTextCursorStops.None,new F(x,ne))}if(x.hint.paddingRight&&H(x,!0),Q.length>pi._MAX_DECORATORS)break}const de=[];for(const x of B)for(const{id:oe}of(A=this._editor.getDecorationsInRange(x))!==null&&A!==void 0?A:[]){const ne=this._decorationsMetadata.get(oe);ne&&(de.push(oe),ne.classNameRef.dispose(),this._decorationsMetadata.delete(oe))}this._editor.changeDecorations(x=>{const oe=x.deltaDecorations(de,Q.map(ne=>ne.decoration));for(let ne=0;ne<oe.length;ne++){const j=Q[ne];this._decorationsMetadata.set(oe[ne],j)}})}_fillInColors(B,W){W.kind===l.InlayHintKind.Parameter?(B.backgroundColor=(0,N.themeColorFromId)(E.editorInlayHintParameterBackground),B.color=(0,N.themeColorFromId)(E.editorInlayHintParameterForeground)):W.kind===l.InlayHintKind.Type?(B.backgroundColor=(0,N.themeColorFromId)(E.editorInlayHintTypeBackground),B.color=(0,N.themeColorFromId)(E.editorInlayHintTypeForeground)):(B.backgroundColor=(0,N.themeColorFromId)(E.editorInlayHintBackground),B.color=(0,N.themeColorFromId)(E.editorInlayHintForeground))}_getLayoutInfo(){const B=this._editor.getOption(129),W=B.padding,V=this._editor.getOption(48),A=this._editor.getOption(45);let Q=B.fontSize;(!Q||Q<5||Q>V)&&(Q=V);const J=B.fontFamily||A;return{fontSize:Q,fontFamily:J,padding:W,isUniform:!W&&J===A&&Q===V}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const B of this._decorationsMetadata.values())B.classNameRef.dispose();this._decorationsMetadata.clear()}};D.ID="editor.contrib.InlayHints",D._MAX_DECORATORS=1500,D=ke([me(1,o.ILanguageFeaturesService),me(2,s.ILanguageFeatureDebounceService),me(3,R),me(4,m.ICommandService),me(5,y.INotificationService),me(6,S.IInstantiationService)],D),e.InlayHintsController=D;function M(P){const B="\xA0";return P.replace(/[ \t]/g,B)}m.CommandsRegistry.registerCommand("_executeInlayHintProvider",(P,...B)=>Se(void 0,void 0,void 0,function*(){const[W,V]=B;(0,u.assertType)(g.URI.isUri(W)),(0,u.assertType)(r.Range.isIRange(V));const{inlayHintsProvider:A}=P.get(o.ILanguageFeaturesService),Q=yield P.get(c.ITextModelService).createModelReference(W);try{const J=yield p.InlayHintsFragments.create(A,Q.object.textEditorModel,[r.Range.lift(V)],I.CancellationToken.None),H=J.items.map(q=>q.hint);return setTimeout(()=>J.dispose(),0),H}finally{Q.dispose()}}))});var _t=this&&this.__asyncValues||function($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=$[Symbol.asyncIterator],w;return e?e.call($):($=typeof __values=="function"?__values($):$[Symbol.iterator](),w={},C("next"),C("throw"),C("return"),w[Symbol.asyncIterator]=function(){return this},w);function C(I){w[I]=$[I]&&function(L){return new Promise(function(b,v){L=$[I](L),k(b,v,L.done,L.value)})}}function k(I,L,b,v){Promise.resolve(v).then(function(u){I({value:u,done:b})},L)}};define(re[765],ae([1,0,10,64,11,35,88,37,58,305,217,318,30,45,20,576,17,276,18]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsHover=void 0;class o extends L.HoverForeignElementAnchor{constructor(p,_){super(10,_,p.item.anchor.range);this.part=p}}let c=class extends g.MarkdownHoverParticipant{constructor(p,_,m,h,S,y){super(p,_,m,h,y);this._resolverService=S,this.hoverOrdinal=6}suggestHoverAnchor(p){var _;if(!n.InlayHintsController.get(this._editor)||p.target.type!==6)return null;const h=(_=p.target.detail.injectedText)===null||_===void 0?void 0:_.options;return h instanceof I.ModelDecorationInjectedTextOptions&&h.attachedData instanceof n.RenderedInlayHintLabelPart?new o(h.attachedData,this):null}computeSync(){return[]}computeAsync(p,_,m){return p instanceof o?new w.AsyncIterableObject(h=>Se(this,void 0,void 0,function*(){var S,y;const{part:E}=p;if(yield E.item.resolve(m),m.isCancellationRequested)return;let N;typeof E.item.hint.tooltip=="string"?N=new C.MarkdownString().appendText(E.item.hint.tooltip):E.item.hint.tooltip&&(N=E.item.hint.tooltip),N&&h.emitOne(new g.MarkdownHover(this,p.range,[N],0)),(0,s.isNonEmptyArray)(E.item.hint.textEdits)&&h.emitOne(new g.MarkdownHover(this,p.range,[new C.MarkdownString().appendText((0,l.localize)(0,null))],10001));let T;if(typeof E.part.tooltip=="string"?T=new C.MarkdownString().appendText(E.part.tooltip):E.part.tooltip&&(T=E.part.tooltip),T&&h.emitOne(new g.MarkdownHover(this,p.range,[T],1)),E.part.location||E.part.command){let D;const P=this._editor.getOption(72)==="altKey"?d.isMacintosh?(0,l.localize)(1,null):(0,l.localize)(2,null):d.isMacintosh?(0,l.localize)(3,null):(0,l.localize)(4,null);E.part.location&&E.part.command?D=new C.MarkdownString().appendText((0,l.localize)(5,null,P)):E.part.location?D=new C.MarkdownString().appendText((0,l.localize)(6,null,P)):E.part.command&&(D=new C.MarkdownString(`[${(0,l.localize)(7,null)}](${(0,a.asCommandLink)(E.part.command)} "${E.part.command.title}") (${P})`,{isTrusted:!0})),D&&h.emitOne(new g.MarkdownHover(this,p.range,[D],1e4))}const R=yield this._resolveInlayHintLabelPartHover(E,m);try{for(var F=_t(R),O;O=yield F.next(),!O.done;){const D=O.value;h.emitOne(D)}}catch(D){S={error:D}}finally{try{O&&!O.done&&(y=F.return)&&(yield y.call(F))}finally{if(S)throw S.error}}})):w.AsyncIterableObject.EMPTY}_resolveInlayHintLabelPartHover(p,_){return Se(this,void 0,void 0,function*(){if(!p.part.location)return w.AsyncIterableObject.EMPTY;const{uri:m,range:h}=p.part.location,S=yield this._resolverService.createModelReference(m);try{const y=S.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(y)?(0,u.getHover)(this._languageFeaturesService.hoverProvider,y,new k.Position(h.startLineNumber,h.startColumn),_).filter(E=>!(0,C.isEmptyMarkdownString)(E.hover.contents)).map(E=>new g.MarkdownHover(this,p.item.anchor.range,E.hover.contents,2+E.ordinal)):w.AsyncIterableObject.EMPTY}finally{S.dispose()}})}};c=ke([me(1,b.ILanguageService),me(2,t.IOpenerService),me(3,i.IConfigurationService),me(4,v.ITextModelService),me(5,r.ILanguageFeaturesService)],c),e.InlayHintsHover=c}),define(re[766],ae([1,0,12,88,318,765]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,w.registerEditorContribution)(k.InlayHintsController.ID,k.InlayHintsController),C.HoverParticipantRegistry.register(I.InlayHintsHover)}),define(re[767],ae([1,0,12,29,315,30,16,9,39,79]),function($,e,w,C,k,I,L,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let g=class extends k.ReferencesController{constructor(i,t,r,l,d,a,s){super(!0,i,t,r,l,d,a,s)}};g=ke([me(1,L.IContextKeyService),me(2,C.ICodeEditorService),me(3,v.INotificationService),me(4,b.IInstantiationService),me(5,u.IStorageService),me(6,I.IConfigurationService)],g),e.StandaloneReferencesController=g,(0,w.registerEditorContribution)(k.ReferencesController.ID,g)}),define(re[768],ae([1,0,14,2,52,81,622,139,53,39,172]),function($,e,w,C,k,I,L,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const n=!1;function i(_){return _.scheme===k.Schemas.file?_.fsPath:_.path}let t=0;class r{constructor(m,h,S,y,E,N,T){this.id=++t,this.type=0,this.actual=m,this.label=m.label,this.confirmBeforeUndo=m.confirmBeforeUndo||!1,this.resourceLabel=h,this.strResource=S,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=y,this.groupOrder=E,this.sourceId=N,this.sourceOrder=T,this.isValid=!0}setValid(m){this.isValid=m}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class l{constructor(m,h){this.resourceLabel=m,this.reason=h}}class d{constructor(){this.elements=new Map}createMessage(){const m=[],h=[];for(const[,y]of this.elements)(y.reason===0?m:h).push(y.resourceLabel);const S=[];return m.length>0&&S.push(L.localize(0,null,m.join(", "))),h.length>0&&S.push(L.localize(1,null,h.join(", "))),S.join(`
`)}get size(){return this.elements.size}has(m){return this.elements.has(m)}set(m,h){this.elements.set(m,h)}delete(m){return this.elements.delete(m)}}class a{constructor(m,h,S,y,E,N,T){this.id=++t,this.type=1,this.actual=m,this.label=m.label,this.confirmBeforeUndo=m.confirmBeforeUndo||!1,this.resourceLabels=h,this.strResources=S,this.groupId=y,this.groupOrder=E,this.sourceId=N,this.sourceOrder=T,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(m,h,S){this.removedResources||(this.removedResources=new d),this.removedResources.has(h)||this.removedResources.set(h,new l(m,S))}setValid(m,h,S){S?this.invalidatedResources&&(this.invalidatedResources.delete(h),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new d),this.invalidatedResources.has(h)||this.invalidatedResources.set(h,new l(m,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class s{constructor(m,h){this.resourceLabel=m,this.strResource=h,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const m of this._past)m.type===1&&m.removeResource(this.resourceLabel,this.strResource,0);for(const m of this._future)m.type===1&&m.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const m=[];m.push(`* ${this.strResource}:`);for(let h=0;h<this._past.length;h++)m.push(`   * [UNDO] ${this._past[h]}`);for(let h=this._future.length-1;h>=0;h--)m.push(`   * [REDO] ${this._future[h]}`);return m.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(m,h){m.type===1?m.setValid(this.resourceLabel,this.strResource,h):m.setValid(h)}setElementsValidFlag(m,h){for(const S of this._past)h(S.actual)&&this._setElementValidFlag(S,m);for(const S of this._future)h(S.actual)&&this._setElementValidFlag(S,m)}pushElement(m){for(const h of this._future)h.type===1&&h.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(m),this.versionId++}createSnapshot(m){const h=[];for(let S=0,y=this._past.length;S<y;S++)h.push(this._past[S].id);for(let S=this._future.length-1;S>=0;S--)h.push(this._future[S].id);return new g.ResourceEditStackSnapshot(m,h)}restoreSnapshot(m){const h=m.elements.length;let S=!0,y=0,E=-1;for(let T=0,R=this._past.length;T<R;T++,y++){const F=this._past[T];S&&(y>=h||F.id!==m.elements[y])&&(S=!1,E=0),!S&&F.type===1&&F.removeResource(this.resourceLabel,this.strResource,0)}let N=-1;for(let T=this._future.length-1;T>=0;T--,y++){const R=this._future[T];S&&(y>=h||R.id!==m.elements[y])&&(S=!1,N=T),!S&&R.type===1&&R.removeResource(this.resourceLabel,this.strResource,0)}E!==-1&&(this._past=this._past.slice(0,E)),N!==-1&&(this._future=this._future.slice(N+1)),this.versionId++}getElements(){const m=[],h=[];for(const S of this._past)m.push(S.actual);for(const S of this._future)h.push(S.actual);return{past:m,future:h}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(m,h){for(let S=this._past.length-1;S>=0;S--)if(this._past[S]===m){h.has(this.strResource)?this._past[S]=h.get(this.strResource):this._past.splice(S,1);break}this.versionId++}splitFutureWorkspaceElement(m,h){for(let S=this._future.length-1;S>=0;S--)if(this._future[S]===m){h.has(this.strResource)?this._future[S]=h.get(this.strResource):this._future.splice(S,1);break}this.versionId++}moveBackward(m){this._past.pop(),this._future.push(m),this.versionId++}moveForward(m){this._future.pop(),this._past.push(m),this.versionId++}}class o{constructor(m){this.editStacks=m,this._versionIds=[];for(let h=0,S=this.editStacks.length;h<S;h++)this._versionIds[h]=this.editStacks[h].versionId}isValid(){for(let m=0,h=this.editStacks.length;m<h;m++)if(this._versionIds[m]!==this.editStacks[m].versionId)return!1;return!0}}const c=new s("","");c.locked=!0;let f=class{constructor(m,h){this._dialogService=m,this._notificationService=h,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(m){for(const h of this._uriComparisonKeyComputers)if(h[0]===m.scheme)return h[1].getComparisonKey(m);return m.toString()}_print(m){console.log("------------------------------------"),console.log(`AFTER ${m}: `);const h=[];for(const S of this._editStacks)h.push(S[1].toString());console.log(h.join(`
`))}pushElement(m,h=g.UndoRedoGroup.None,S=g.UndoRedoSource.None){if(m.type===0){const y=i(m.resource),E=this.getUriComparisonKey(m.resource);this._pushElement(new r(m,y,E,h.id,h.nextOrder(),S.id,S.nextOrder()))}else{const y=new Set,E=[],N=[];for(const T of m.resources){const R=i(T),F=this.getUriComparisonKey(T);y.has(F)||(y.add(F),E.push(R),N.push(F))}E.length===1?this._pushElement(new r(m,E[0],N[0],h.id,h.nextOrder(),S.id,S.nextOrder())):this._pushElement(new a(m,E,N,h.id,h.nextOrder(),S.id,S.nextOrder()))}n&&this._print("pushElement")}_pushElement(m){for(let h=0,S=m.strResources.length;h<S;h++){const y=m.resourceLabels[h],E=m.strResources[h];let N;this._editStacks.has(E)?N=this._editStacks.get(E):(N=new s(y,E),this._editStacks.set(E,N)),N.pushElement(m)}}getLastElement(m){const h=this.getUriComparisonKey(m);if(this._editStacks.has(h)){const S=this._editStacks.get(h);if(S.hasFutureElements())return null;const y=S.getClosestPastElement();return y?y.actual:null}return null}_splitPastWorkspaceElement(m,h){const S=m.actual.split(),y=new Map;for(const E of S){const N=i(E.resource),T=this.getUriComparisonKey(E.resource),R=new r(E,N,T,0,0,0,0);y.set(R.strResource,R)}for(const E of m.strResources){if(h&&h.has(E))continue;this._editStacks.get(E).splitPastWorkspaceElement(m,y)}}_splitFutureWorkspaceElement(m,h){const S=m.actual.split(),y=new Map;for(const E of S){const N=i(E.resource),T=this.getUriComparisonKey(E.resource),R=new r(E,N,T,0,0,0,0);y.set(R.strResource,R)}for(const E of m.strResources){if(h&&h.has(E))continue;this._editStacks.get(E).splitFutureWorkspaceElement(m,y)}}removeElements(m){const h=typeof m=="string"?m:this.getUriComparisonKey(m);this._editStacks.has(h)&&(this._editStacks.get(h).dispose(),this._editStacks.delete(h)),n&&this._print("removeElements")}setElementsValidFlag(m,h,S){const y=this.getUriComparisonKey(m);this._editStacks.has(y)&&this._editStacks.get(y).setElementsValidFlag(h,S),n&&this._print("setElementsValidFlag")}createSnapshot(m){const h=this.getUriComparisonKey(m);return this._editStacks.has(h)?this._editStacks.get(h).createSnapshot(m):new g.ResourceEditStackSnapshot(m,[])}restoreSnapshot(m){const h=this.getUriComparisonKey(m.resource);if(this._editStacks.has(h)){const S=this._editStacks.get(h);S.restoreSnapshot(m),!S.hasPastElements()&&!S.hasFutureElements()&&(S.dispose(),this._editStacks.delete(h))}n&&this._print("restoreSnapshot")}getElements(m){const h=this.getUriComparisonKey(m);return this._editStacks.has(h)?this._editStacks.get(h).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(m){if(!m)return[null,null];let h=null,S=null;for(const[y,E]of this._editStacks){const N=E.getClosestPastElement();!N||N.sourceId===m&&(!h||N.sourceOrder>h.sourceOrder)&&(h=N,S=y)}return[h,S]}canUndo(m){if(m instanceof g.UndoRedoSource){const[,S]=this._findClosestUndoElementWithSource(m.id);return!!S}const h=this.getUriComparisonKey(m);return this._editStacks.has(h)?this._editStacks.get(h).hasPastElements():!1}_onError(m,h){(0,w.onUnexpectedError)(m);for(const S of h.strResources)this.removeElements(S);this._notificationService.error(m)}_acquireLocks(m){for(const h of m.editStacks)if(h.locked)throw new Error("Cannot acquire edit stack lock");for(const h of m.editStacks)h.locked=!0;return()=>{for(const h of m.editStacks)h.locked=!1}}_safeInvokeWithLocks(m,h,S,y,E){const N=this._acquireLocks(S);let T;try{T=h()}catch(R){return N(),y.dispose(),this._onError(R,m)}return T?T.then(()=>(N(),y.dispose(),E()),R=>(N(),y.dispose(),this._onError(R,m))):(N(),y.dispose(),E())}_invokeWorkspacePrepare(m){return Se(this,void 0,void 0,function*(){if(typeof m.actual.prepareUndoRedo=="undefined")return C.Disposable.None;const h=m.actual.prepareUndoRedo();return typeof h=="undefined"?C.Disposable.None:h})}_invokeResourcePrepare(m,h){if(m.actual.type!==1||typeof m.actual.prepareUndoRedo=="undefined")return h(C.Disposable.None);const S=m.actual.prepareUndoRedo();return S?(0,C.isDisposable)(S)?h(S):S.then(y=>h(y)):h(C.Disposable.None)}_getAffectedEditStacks(m){const h=[];for(const S of m.strResources)h.push(this._editStacks.get(S)||c);return new o(h)}_tryToSplitAndUndo(m,h,S,y){if(h.canSplit())return this._splitPastWorkspaceElement(h,S),this._notificationService.warn(y),new p(this._undo(m,0,!0));for(const E of h.strResources)this.removeElements(E);return this._notificationService.warn(y),new p}_checkWorkspaceUndo(m,h,S,y){if(h.removedResources)return this._tryToSplitAndUndo(m,h,h.removedResources,L.localize(2,null,h.label,h.removedResources.createMessage()));if(y&&h.invalidatedResources)return this._tryToSplitAndUndo(m,h,h.invalidatedResources,L.localize(3,null,h.label,h.invalidatedResources.createMessage()));const E=[];for(const T of S.editStacks)T.getClosestPastElement()!==h&&E.push(T.resourceLabel);if(E.length>0)return this._tryToSplitAndUndo(m,h,null,L.localize(4,null,h.label,E.join(", ")));const N=[];for(const T of S.editStacks)T.locked&&N.push(T.resourceLabel);return N.length>0?this._tryToSplitAndUndo(m,h,null,L.localize(5,null,h.label,N.join(", "))):S.isValid()?null:this._tryToSplitAndUndo(m,h,null,L.localize(6,null,h.label))}_workspaceUndo(m,h,S){const y=this._getAffectedEditStacks(h),E=this._checkWorkspaceUndo(m,h,y,!1);return E?E.returnValue:this._confirmAndExecuteWorkspaceUndo(m,h,y,S)}_isPartOfUndoGroup(m){if(!m.groupId)return!1;for(const[,h]of this._editStacks){const S=h.getClosestPastElement();if(!!S){if(S===m){const y=h.getSecondClosestPastElement();if(y&&y.groupId===m.groupId)return!0}if(S.groupId===m.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(m,h,S,y){return Se(this,void 0,void 0,function*(){if(h.canSplit()&&!this._isPartOfUndoGroup(h)){const T=yield this._dialogService.show(I.default.Info,L.localize(7,null,h.label),[L.localize(8,null,S.editStacks.length),L.localize(9,null),L.localize(10,null)],{cancelId:2});if(T.choice===2)return;if(T.choice===1)return this._splitPastWorkspaceElement(h,null),this._undo(m,0,!0);const R=this._checkWorkspaceUndo(m,h,S,!1);if(R)return R.returnValue;y=!0}let E;try{E=yield this._invokeWorkspacePrepare(h)}catch(T){return this._onError(T,h)}const N=this._checkWorkspaceUndo(m,h,S,!0);if(N)return E.dispose(),N.returnValue;for(const T of S.editStacks)T.moveBackward(h);return this._safeInvokeWithLocks(h,()=>h.actual.undo(),S,E,()=>this._continueUndoInGroup(h.groupId,y))})}_resourceUndo(m,h,S){if(!h.isValid){m.flushAllElements();return}if(m.locked){const y=L.localize(11,null,h.label);this._notificationService.warn(y);return}return this._invokeResourcePrepare(h,y=>(m.moveBackward(h),this._safeInvokeWithLocks(h,()=>h.actual.undo(),new o([m]),y,()=>this._continueUndoInGroup(h.groupId,S))))}_findClosestUndoElementInGroup(m){if(!m)return[null,null];let h=null,S=null;for(const[y,E]of this._editStacks){const N=E.getClosestPastElement();!N||N.groupId===m&&(!h||N.groupOrder>h.groupOrder)&&(h=N,S=y)}return[h,S]}_continueUndoInGroup(m,h){if(!m)return;const[,S]=this._findClosestUndoElementInGroup(m);if(S)return this._undo(S,0,h)}undo(m){if(m instanceof g.UndoRedoSource){const[,h]=this._findClosestUndoElementWithSource(m.id);return h?this._undo(h,m.id,!1):void 0}return typeof m=="string"?this._undo(m,0,!1):this._undo(this.getUriComparisonKey(m),0,!1)}_undo(m,h=0,S){if(!this._editStacks.has(m))return;const y=this._editStacks.get(m),E=y.getClosestPastElement();if(!E)return;if(E.groupId){const[T,R]=this._findClosestUndoElementInGroup(E.groupId);if(E!==T&&R)return this._undo(R,h,S)}if((E.sourceId!==h||E.confirmBeforeUndo)&&!S)return this._confirmAndContinueUndo(m,h,E);try{return E.type===1?this._workspaceUndo(m,E,S):this._resourceUndo(y,E,S)}finally{n&&this._print("undo")}}_confirmAndContinueUndo(m,h,S){return Se(this,void 0,void 0,function*(){if((yield this._dialogService.show(I.default.Info,L.localize(12,null,S.label),[L.localize(13,null),L.localize(14,null)],{cancelId:1})).choice!==1)return this._undo(m,h,!0)})}_findClosestRedoElementWithSource(m){if(!m)return[null,null];let h=null,S=null;for(const[y,E]of this._editStacks){const N=E.getClosestFutureElement();!N||N.sourceId===m&&(!h||N.sourceOrder<h.sourceOrder)&&(h=N,S=y)}return[h,S]}canRedo(m){if(m instanceof g.UndoRedoSource){const[,S]=this._findClosestRedoElementWithSource(m.id);return!!S}const h=this.getUriComparisonKey(m);return this._editStacks.has(h)?this._editStacks.get(h).hasFutureElements():!1}_tryToSplitAndRedo(m,h,S,y){if(h.canSplit())return this._splitFutureWorkspaceElement(h,S),this._notificationService.warn(y),new p(this._redo(m));for(const E of h.strResources)this.removeElements(E);return this._notificationService.warn(y),new p}_checkWorkspaceRedo(m,h,S,y){if(h.removedResources)return this._tryToSplitAndRedo(m,h,h.removedResources,L.localize(15,null,h.label,h.removedResources.createMessage()));if(y&&h.invalidatedResources)return this._tryToSplitAndRedo(m,h,h.invalidatedResources,L.localize(16,null,h.label,h.invalidatedResources.createMessage()));const E=[];for(const T of S.editStacks)T.getClosestFutureElement()!==h&&E.push(T.resourceLabel);if(E.length>0)return this._tryToSplitAndRedo(m,h,null,L.localize(17,null,h.label,E.join(", ")));const N=[];for(const T of S.editStacks)T.locked&&N.push(T.resourceLabel);return N.length>0?this._tryToSplitAndRedo(m,h,null,L.localize(18,null,h.label,N.join(", "))):S.isValid()?null:this._tryToSplitAndRedo(m,h,null,L.localize(19,null,h.label))}_workspaceRedo(m,h){const S=this._getAffectedEditStacks(h),y=this._checkWorkspaceRedo(m,h,S,!1);return y?y.returnValue:this._executeWorkspaceRedo(m,h,S)}_executeWorkspaceRedo(m,h,S){return Se(this,void 0,void 0,function*(){let y;try{y=yield this._invokeWorkspacePrepare(h)}catch(N){return this._onError(N,h)}const E=this._checkWorkspaceRedo(m,h,S,!0);if(E)return y.dispose(),E.returnValue;for(const N of S.editStacks)N.moveForward(h);return this._safeInvokeWithLocks(h,()=>h.actual.redo(),S,y,()=>this._continueRedoInGroup(h.groupId))})}_resourceRedo(m,h){if(!h.isValid){m.flushAllElements();return}if(m.locked){const S=L.localize(20,null,h.label);this._notificationService.warn(S);return}return this._invokeResourcePrepare(h,S=>(m.moveForward(h),this._safeInvokeWithLocks(h,()=>h.actual.redo(),new o([m]),S,()=>this._continueRedoInGroup(h.groupId))))}_findClosestRedoElementInGroup(m){if(!m)return[null,null];let h=null,S=null;for(const[y,E]of this._editStacks){const N=E.getClosestFutureElement();!N||N.groupId===m&&(!h||N.groupOrder<h.groupOrder)&&(h=N,S=y)}return[h,S]}_continueRedoInGroup(m){if(!m)return;const[,h]=this._findClosestRedoElementInGroup(m);if(h)return this._redo(h)}redo(m){if(m instanceof g.UndoRedoSource){const[,h]=this._findClosestRedoElementWithSource(m.id);return h?this._redo(h):void 0}return typeof m=="string"?this._redo(m):this._redo(this.getUriComparisonKey(m))}_redo(m){if(!this._editStacks.has(m))return;const h=this._editStacks.get(m),S=h.getClosestFutureElement();if(!!S){if(S.groupId){const[y,E]=this._findClosestRedoElementInGroup(S.groupId);if(S!==y&&E)return this._redo(E)}try{return S.type===1?this._workspaceRedo(m,S):this._resourceRedo(h,S)}finally{n&&this._print("redo")}}}};f=ke([me(0,b.IDialogService),me(1,u.INotificationService)],f),e.UndoRedoService=f;class p{constructor(m){this.returnValue=m}}(0,v.registerSingleton)(g.IUndoRedoService,f)}),define(re[176],ae([1,0,623,51,22,9]),function($,e,w,C,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WORKSPACE_FILTER=e.WORKSPACE_EXTENSION=e.WorkspaceFolder=e.Workspace=e.toWorkspaceIdentifier=e.isSingleFolderWorkspaceIdentifier=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=(0,I.createDecorator)("contextService");function L(g){const n=g;return typeof(n==null?void 0:n.id)=="string"&&k.URI.isUri(n.uri)}e.isSingleFolderWorkspaceIdentifier=L;function b(g){if(g.configuration)return{id:g.id,configPath:g.configuration};if(g.folders.length===1)return{id:g.id,uri:g.folders[0].uri}}e.toWorkspaceIdentifier=b;class v{constructor(n,i,t,r,l){this._id=n,this._transient=t,this._configuration=r,this._ignorePathCasing=l,this._foldersMap=C.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0),this.folders=i}get folders(){return this._folders}set folders(n){this._folders=n,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(n){this._configuration=n}getFolder(n){return n&&this._foldersMap.findSubstr(n)||null}updateFoldersMap(){this._foldersMap=C.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0);for(const n of this.folders)this._foldersMap.set(n.uri,n)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.Workspace=v;class u{constructor(n,i){this.raw=i,this.uri=n.uri,this.index=n.index,this.name=n.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=u,e.WORKSPACE_EXTENSION="code-workspace",e.WORKSPACE_FILTER=[{name:(0,w.localize)(0,null),extensions:[e.WORKSPACE_EXTENSION]}]}),define(re[769],ae([1,0,477,90,44,8,223,32,89,595,176]),function($,e,w,C,k,I,L,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=e.KnownSnippetVariableNames=void 0,e.KnownSnippetVariableNames=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class n{constructor(c){this._delegates=c}resolve(c){for(const f of this._delegates){const p=f.resolve(c);if(p!==void 0)return p}}}e.CompositeSnippetVariableResolver=n;class i{constructor(c,f,p,_){this._model=c,this._selection=f,this._selectionIdx=p,this._overtypingCapturer=_}resolve(c){const{name:f}=c;if(f==="SELECTION"||f==="TM_SELECTED_TEXT"){let p=this._model.getValueInRange(this._selection)||void 0,_=this._selection.startLineNumber!==this._selection.endLineNumber;if(!p&&this._overtypingCapturer){const m=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);m&&(p=m.value,_=m.multiline)}if(p&&_&&c.snippet){const m=this._model.getLineContent(this._selection.startLineNumber),h=(0,I.getLeadingWhitespace)(m,0,this._selection.startColumn-1);let S=h;c.snippet.walk(E=>E===c?!1:(E instanceof v.Text&&(S=(0,I.getLeadingWhitespace)((0,I.splitLines)(E.value).pop())),!0));const y=(0,I.commonPrefixLength)(S,h);p=p.replace(/(\r\n|\r|\n)(.*)/g,(E,N,T)=>`${N}${S.substr(y)}${T}`)}return p}else{if(f==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(f==="TM_CURRENT_WORD"){const p=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return p&&p.word||void 0}else{if(f==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(f==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(f==="CURSOR_INDEX")return String(this._selectionIdx);if(f==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}e.SelectionBasedVariableResolver=i;class t{constructor(c,f){this._labelService=c,this._model=f}resolve(c){const{name:f}=c;if(f==="TM_FILENAME")return C.basename(this._model.uri.fsPath);if(f==="TM_FILENAME_BASE"){const p=C.basename(this._model.uri.fsPath),_=p.lastIndexOf(".");return _<=0?p:p.slice(0,_)}else{if(f==="TM_DIRECTORY")return C.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,k.dirname)(this._model.uri));if(f==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(f==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=t;class r{constructor(c,f,p,_){this._readClipboardText=c,this._selectionIdx=f,this._selectionCount=p,this._spread=_}resolve(c){if(c.name!=="CLIPBOARD")return;const f=this._readClipboardText();if(!!f){if(this._spread){const p=f.split(/\r\n|\n|\r/).filter(_=>!(0,I.isFalsyOrWhitespace)(_));if(p.length===this._selectionCount)return p[this._selectionIdx]}return f}}}e.ClipboardBasedVariableResolver=r;let l=class{constructor(c,f,p){this._model=c,this._selection=f,this._languageConfigurationService=p}resolve(c){const{name:f}=c,p=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),_=this._languageConfigurationService.getLanguageConfiguration(p).comments;if(!!_){if(f==="LINE_COMMENT")return _.lineCommentToken||void 0;if(f==="BLOCK_COMMENT_START")return _.blockCommentStartToken||void 0;if(f==="BLOCK_COMMENT_END")return _.blockCommentEndToken||void 0}}};l=ke([me(2,b.ILanguageConfigurationService)],l),e.CommentBasedVariableResolver=l;class d{constructor(){this._date=new Date}resolve(c){const{name:f}=c;if(f==="CURRENT_YEAR")return String(this._date.getFullYear());if(f==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(f==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(f==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(f==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(f==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(f==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(f==="CURRENT_DAY_NAME")return d.dayNames[this._date.getDay()];if(f==="CURRENT_DAY_NAME_SHORT")return d.dayNamesShort[this._date.getDay()];if(f==="CURRENT_MONTH_NAME")return d.monthNames[this._date.getMonth()];if(f==="CURRENT_MONTH_NAME_SHORT")return d.monthNamesShort[this._date.getMonth()];if(f==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}}e.TimeBasedVariableResolver=d,d.dayNames=[u.localize(0,null),u.localize(1,null),u.localize(2,null),u.localize(3,null),u.localize(4,null),u.localize(5,null),u.localize(6,null)],d.dayNamesShort=[u.localize(7,null),u.localize(8,null),u.localize(9,null),u.localize(10,null),u.localize(11,null),u.localize(12,null),u.localize(13,null)],d.monthNames=[u.localize(14,null),u.localize(15,null),u.localize(16,null),u.localize(17,null),u.localize(18,null),u.localize(19,null),u.localize(20,null),u.localize(21,null),u.localize(22,null),u.localize(23,null),u.localize(24,null),u.localize(25,null)],d.monthNamesShort=[u.localize(26,null),u.localize(27,null),u.localize(28,null),u.localize(29,null),u.localize(30,null),u.localize(31,null),u.localize(32,null),u.localize(33,null),u.localize(34,null),u.localize(35,null),u.localize(36,null),u.localize(37,null)];class a{constructor(c){this._workspaceService=c}resolve(c){if(!this._workspaceService)return;const f=(0,g.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());if(!!f){if(c.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(f);if(c.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(f)}}_resolveWorkspaceName(c){if((0,g.isSingleFolderWorkspaceIdentifier)(c))return C.basename(c.uri.path);let f=C.basename(c.configPath.path);return f.endsWith(g.WORKSPACE_EXTENSION)&&(f=f.substr(0,f.length-g.WORKSPACE_EXTENSION.length-1)),f}_resoveWorkspacePath(c){if((0,g.isSingleFolderWorkspaceIdentifier)(c))return(0,w.normalizeDriveLetter)(c.uri.fsPath);const f=C.basename(c.configPath.path);let p=c.configPath.fsPath;return p.endsWith(f)&&(p=p.substr(0,p.length-f.length-1)),p?(0,w.normalizeDriveLetter)(p):"/"}}e.WorkspaceBasedVariableResolver=a;class s{resolve(c){const{name:f}=c;if(f==="RANDOM")return Math.random().toString().slice(-6);if(f==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(f==="UUID")return(0,L.generateUuid)()}}e.RandomBasedVariableResolver=s}),define(re[319],ae([1,0,18,2,8,60,3,23,32,35,140,176,89,769,389]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0;class r{constructor(s,o,c){this._editor=s,this._snippet=o,this._snippetLineLeadingWhitespace=c,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,w.groupBy)(o.placeholders,i.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}initialize(s){this._offset=s.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const s=this._editor.getModel();this._editor.changeDecorations(o=>{for(const c of this._snippet.placeholders){const f=this._snippet.offset(c),p=this._snippet.fullLen(c),_=L.Range.fromPositions(s.getPositionAt(this._offset+f),s.getPositionAt(this._offset+f+p)),m=c.isFinalTabstop?r._decor.inactiveFinal:r._decor.inactive,h=o.addDecoration(_,m);this._placeholderDecorations.set(c,h)}})}move(s){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const f=[];for(const p of this._placeholderGroups[this._placeholderGroupsIdx])if(p.transform){const _=this._placeholderDecorations.get(p),m=this._editor.getModel().getDecorationRange(_),h=this._editor.getModel().getValueInRange(m),S=p.transform.resolve(h).split(/\r\n|\r|\n/);for(let y=1;y<S.length;y++)S[y]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+S[y]);f.push(I.EditOperation.replace(m,S.join(this._editor.getModel().getEOL())))}f.length>0&&this._editor.executeEdits("snippet.placeholderTransform",f)}let o=!1;s===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,o=!0):s===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,o=!0);const c=this._editor.getModel().changeDecorations(f=>{const p=new Set,_=[];for(const m of this._placeholderGroups[this._placeholderGroupsIdx]){const h=this._placeholderDecorations.get(m),S=this._editor.getModel().getDecorationRange(h);_.push(new b.Selection(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn)),o=o&&this._hasPlaceholderBeenCollapsed(m),f.changeDecorationOptions(h,m.isFinalTabstop?r._decor.activeFinal:r._decor.active),p.add(m);for(const y of this._snippet.enclosingPlaceholders(m)){const E=this._placeholderDecorations.get(y);f.changeDecorationOptions(E,y.isFinalTabstop?r._decor.activeFinal:r._decor.active),p.add(y)}}for(const[m,h]of this._placeholderDecorations)p.has(m)||f.changeDecorationOptions(h,m.isFinalTabstop?r._decor.inactiveFinal:r._decor.inactive);return _});return o?this.move(s):c??[]}_hasPlaceholderBeenCollapsed(s){let o=s;for(;o;){if(o instanceof i.Placeholder){const c=this._placeholderDecorations.get(o);if(this._editor.getModel().getDecorationRange(c).isEmpty()&&o.toString().length>0)return!0}o=o.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){return this._snippet.placeholders.length===0||this._snippet.placeholders.length===1&&this._snippet.placeholders[0].isFinalTabstop}computePossibleSelections(){const s=new Map;for(const o of this._placeholderGroups){let c;for(const f of o){if(f.isFinalTabstop)break;c||(c=[],s.set(f.index,c));const p=this._placeholderDecorations.get(f),_=this._editor.getModel().getDecorationRange(p);if(!_){s.delete(f.index);break}c.push(_)}}return s}get activeChoice(){if(!this._placeholderDecorations)return;const s=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!(s==null?void 0:s.choice))return;const o=this._placeholderDecorations.get(s);if(!o)return;const c=this._editor.getModel().getDecorationRange(o);if(!!c)return{range:c,choice:s.choice}}get hasChoice(){let s=!1;return this._snippet.walk(o=>(s=o instanceof i.Choice,!s)),s}merge(s){const o=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(c=>{for(const f of this._placeholderGroups[this._placeholderGroupsIdx]){const p=s.shift();console.assert(p._offset!==-1),console.assert(!p._placeholderDecorations);const _=p._snippet.placeholderInfo.last.index;for(const h of p._snippet.placeholderInfo.all)h.isFinalTabstop?h.index=f.index+(_+1)/this._nestingLevel:h.index=f.index+h.index/this._nestingLevel;this._snippet.replace(f,p._snippet.children);const m=this._placeholderDecorations.get(f);c.removeDecoration(m),this._placeholderDecorations.delete(f);for(const h of p._snippet.placeholders){const S=p._snippet.offset(h),y=p._snippet.fullLen(h),E=L.Range.fromPositions(o.getPositionAt(p._offset+S),o.getPositionAt(p._offset+S+y)),N=c.addDecoration(E,r._decor.inactive);this._placeholderDecorations.set(h,N)}}this._placeholderGroups=(0,w.groupBy)(this._snippet.placeholders,i.Placeholder.compareByIndex)})}}e.OneSnippet=r,r._decor={active:u.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:u.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:u.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:u.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const l={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let d=class wt{constructor(s,o,c=l,f){this._editor=s,this._template=o,this._options=c,this._languageConfigurationService=f,this._templateMerges=[],this._snippets=[]}static adjustWhitespace(s,o,c,f,p){const _=s.getLineContent(o.lineNumber),m=(0,k.getLeadingWhitespace)(_,0,o.column-1);let h;return c.walk(S=>{if(!(S instanceof i.Text)||S.parent instanceof i.Choice)return!0;const y=S.value.split(/\r\n|\r|\n/);if(f){const N=c.offset(S);if(N===0)y[0]=s.normalizeIndentation(y[0]);else{h=h??c.toString();const T=h.charCodeAt(N-1);(T===10||T===13)&&(y[0]=s.normalizeIndentation(m+y[0]))}for(let T=1;T<y.length;T++)y[T]=s.normalizeIndentation(m+y[T])}const E=y.join(s.getEOL());return E!==S.value&&(S.parent.replace(S,[new i.Text(E)]),h=void 0),!0}),m}static adjustSelection(s,o,c,f){if(c!==0||f!==0){const{positionLineNumber:p,positionColumn:_}=o,m=_-c,h=_+f,S=s.validateRange({startLineNumber:p,startColumn:m,endLineNumber:p,endColumn:h});o=b.Selection.createWithDirection(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn,o.getDirection())}return o}static createEditsAndSnippetsFromSelections(s,o,c,f,p,_,m,h,S){const y=[],E=[];if(!s.hasModel())return{edits:y,snippets:E};const N=s.getModel(),T=s.invokeWithinContext(B=>B.get(n.IWorkspaceContextService)),R=s.invokeWithinContext(B=>new t.ModelBasedVariableResolver(B.get(g.ILabelService),N)),F=()=>m,O=N.getValueInRange(wt.adjustSelection(N,s.getSelection(),c,0)),D=N.getValueInRange(wt.adjustSelection(N,s.getSelection(),0,f)),M=N.getLineFirstNonWhitespaceColumn(s.getSelection().positionLineNumber),P=s.getSelections().map((B,W)=>({selection:B,idx:W})).sort((B,W)=>L.Range.compareRangesUsingStarts(B.selection,W.selection));for(const{selection:B,idx:W}of P){let V=wt.adjustSelection(N,B,c,0),A=wt.adjustSelection(N,B,0,f);O!==N.getValueInRange(V)&&(V=B),D!==N.getValueInRange(A)&&(A=B);const Q=B.setStartPosition(V.startLineNumber,V.startColumn).setEndPosition(A.endLineNumber,A.endColumn),J=new i.SnippetParser().parse(o,!0,p),H=Q.getStartPosition(),q=wt.adjustWhitespace(N,H,J,_||W>0&&M!==N.getLineFirstNonWhitespaceColumn(B.positionLineNumber),!0);J.resolveVariables(new t.CompositeSnippetVariableResolver([R,new t.ClipboardBasedVariableResolver(F,W,P.length,s.getOption(73)==="spread"),new t.SelectionBasedVariableResolver(N,B,W,h),new t.CommentBasedVariableResolver(N,B,S),new t.TimeBasedVariableResolver,new t.WorkspaceBasedVariableResolver(T),new t.RandomBasedVariableResolver])),y[W]=I.EditOperation.replace(Q,J.toString()),y[W].identifier={major:W,minor:0},y[W]._isTracked=!0,E[W]=new r(s,J,q)}return{edits:y,snippets:E}}static createEditsAndSnippetsFromEdits(s,o,c,f,p,_,m){if(!s.hasModel()||o.length===0)return{edits:[],snippets:[]};const h=[],S=s.getModel(),y=new i.SnippetParser,E=new i.TextmateSnippet,N=new t.CompositeSnippetVariableResolver([s.invokeWithinContext(R=>new t.ModelBasedVariableResolver(R.get(g.ILabelService),S)),new t.ClipboardBasedVariableResolver(()=>p,0,s.getSelections().length,s.getOption(73)==="spread"),new t.SelectionBasedVariableResolver(S,s.getSelection(),0,_),new t.CommentBasedVariableResolver(S,s.getSelection(),m),new t.TimeBasedVariableResolver,new t.WorkspaceBasedVariableResolver(s.invokeWithinContext(R=>R.get(n.IWorkspaceContextService))),new t.RandomBasedVariableResolver]);o=o.sort((R,F)=>L.Range.compareRangesUsingStarts(R.range,F.range));let T=0;for(let R=0;R<o.length;R++){const{range:F,template:O}=o[R];if(R>0){const B=o[R-1].range,W=L.Range.fromPositions(B.getEndPosition(),F.getStartPosition()),V=new i.Text(S.getValueInRange(W));E.appendChild(V),T+=V.value.length}y.parseFragment(O,E),E.resolveVariables(N);const D=E.toString(),M=D.slice(T);T=D.length;const P=I.EditOperation.replace(F,M);P.identifier={major:R,minor:0},P._isTracked=!0,h.push(P)}return y.ensureFinalTabstop(E,c,!0),{edits:h,snippets:[new r(s,E,"")]}}dispose(){(0,C.dispose)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:s,snippets:o}=typeof this._template=="string"?wt.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):wt.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=o,this._editor.executeEdits("snippet",s,c=>{const f=c.filter(p=>!!p.identifier);for(let p=0;p<o.length;p++)o[p].initialize(f[p].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):f.map(p=>b.Selection.fromPositions(p.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(s,o=l){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,s]);const{edits:c,snippets:f}=wt.createEditsAndSnippetsFromSelections(this._editor,s,o.overwriteBefore,o.overwriteAfter,!0,o.adjustWhitespace,o.clipboardText,o.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",c,p=>{const _=p.filter(h=>!!h.identifier);for(let h=0;h<f.length;h++)f[h].initialize(_[h].textChange);const m=f[0].isTrivialSnippet;if(!m){for(const h of this._snippets)h.merge(f);console.assert(f.length===0)}return this._snippets[0].hasPlaceholder&&!m?this._move(void 0):_.map(h=>b.Selection.fromPositions(h.range.getEndPosition()))})}next(){const s=this._move(!0);this._editor.setSelections(s),this._editor.revealPositionInCenterIfOutsideViewport(s[0].getPosition())}prev(){const s=this._move(!1);this._editor.setSelections(s),this._editor.revealPositionInCenterIfOutsideViewport(s[0].getPosition())}_move(s){const o=[];for(const c of this._snippets){const f=c.move(s);o.push(...f)}return o}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const s=this._editor.getSelections();if(s.length<this._snippets.length)return!1;const o=new Map;for(const c of this._snippets){const f=c.computePossibleSelections();if(o.size===0)for(const[p,_]of f){_.sort(L.Range.compareRangesUsingStarts);for(const m of s)if(_[0].containsRange(m)){o.set(p,[]);break}}if(o.size===0)return!1;o.forEach((p,_)=>{p.push(...f.get(_))})}s.sort(L.Range.compareRangesUsingStarts);for(const[c,f]of o){if(f.length!==s.length){o.delete(c);continue}f.sort(L.Range.compareRangesUsingStarts);for(let p=0;p<f.length;p++)if(!f[p].containsRange(s[p])){o.delete(c);continue}}return o.size>0}};d=ke([me(3,v.ILanguageConfigurationService)],d),e.SnippetSession=d}),define(re[120],ae([1,0,2,19,12,11,23,24,32,20,102,594,16,69,319]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.performSnippetEdit=e.SnippetController2=void 0;const l={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let d=class Bt{constructor(c,f,p,_,m){this._editor=c,this._logService=f,this._languageFeaturesService=p,this._languageConfigurationService=m,this._snippetListener=new w.DisposableStore,this._modelVersionId=-1,this._inSnippet=Bt.InSnippetMode.bindTo(_),this._hasNextTabstop=Bt.HasNextTabstop.bindTo(_),this._hasPrevTabstop=Bt.HasPrevTabstop.bindTo(_)}static get(c){return c.getContribution(Bt.ID)}dispose(){var c;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(c=this._session)===null||c===void 0||c.dispose(),this._snippetListener.dispose()}apply(c,f){try{this._doInsert(c,typeof f=="undefined"?l:Object.assign(Object.assign({},l),f))}catch(p){this.cancel(),this._logService.error(p),this._logService.error("snippet_error"),this._logService.error("insert_edits=",c),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}insert(c,f){try{this._doInsert(c,typeof f=="undefined"?l:Object.assign(Object.assign({},l),f))}catch(p){this.cancel(),this._logService.error(p),this._logService.error("snippet_error"),this._logService.error("insert_template=",c),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(c,f){var p;if(!!this._editor.hasModel()){if(this._snippetListener.clear(),f.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof c!="string"&&this.cancel(),this._session?((0,C.assertType)(typeof c=="string"),this._session.merge(c,f)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new r.SnippetSession(this._editor,c,f,this._languageConfigurationService),this._session.insert()),f.undoStopAfter&&this._editor.getModel().pushStackElement(),(p=this._session)===null||p===void 0?void 0:p.hasChoice){this._choiceCompletionItemProvider={provideCompletionItems:(m,h)=>{if(!this._session||m!==this._editor.getModel()||!I.Position.equals(this._editor.getPosition(),h))return;const{activeChoice:S}=this._session;if(!S||S.choice.options.length===0)return;const y=m.getValueInRange(S.range),E=Boolean(S.choice.options.find(T=>T.value===y)),N=[];for(let T=0;T<S.choice.options.length;T++){const R=S.choice.options[T];N.push({kind:13,label:R.value,insertText:R.value,sortText:"a".repeat(T+1),range:S.range,filterText:E?`${y}_${R.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,n.localize)(3,null)}})}return{suggestions:N}}};const _=this._languageFeaturesService.completionProvider.register({language:this._editor.getModel().getLanguageId(),pattern:this._editor.getModel().uri.fsPath,scheme:this._editor.getModel().uri.scheme},this._choiceCompletionItemProvider);this._snippetListener.add(_)}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(_=>_.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:c}=this._session;if(!c||!this._choiceCompletionItemProvider){this._currentChoice=void 0;return}this._currentChoice!==c.choice&&(this._currentChoice=c.choice,queueMicrotask(()=>{(0,g.showSimpleSuggestions)(this._editor,this._choiceCompletionItemProvider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(c=!1){var f;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(f=this._session)===null||f===void 0||f.dispose(),this._session=void 0,this._modelVersionId=-1,c&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};d.ID="snippetController2",d.InSnippetMode=new i.RawContextKey("inSnippetMode",!1,(0,n.localize)(0,null)),d.HasNextTabstop=new i.RawContextKey("hasNextTabstop",!1,(0,n.localize)(1,null)),d.HasPrevTabstop=new i.RawContextKey("hasPrevTabstop",!1,(0,n.localize)(2,null)),d=ke([me(1,t.ILogService),me(2,u.ILanguageFeaturesService),me(3,i.IContextKeyService),me(4,v.ILanguageConfigurationService)],d),e.SnippetController2=d,(0,k.registerEditorContribution)(d.ID,d);const a=k.EditorCommand.bindToContribution(d.get);(0,k.registerEditorCommand)(new a({id:"jumpToNextSnippetPlaceholder",precondition:i.ContextKeyExpr.and(d.InSnippetMode,d.HasNextTabstop),handler:o=>o.next(),kbOpts:{weight:100+30,kbExpr:b.EditorContextKeys.editorTextFocus,primary:2}})),(0,k.registerEditorCommand)(new a({id:"jumpToPrevSnippetPlaceholder",precondition:i.ContextKeyExpr.and(d.InSnippetMode,d.HasPrevTabstop),handler:o=>o.prev(),kbOpts:{weight:100+30,kbExpr:b.EditorContextKeys.editorTextFocus,primary:1024|2}})),(0,k.registerEditorCommand)(new a({id:"leaveSnippet",precondition:d.InSnippetMode,handler:o=>o.cancel(!0),kbOpts:{weight:100+30,kbExpr:b.EditorContextKeys.editorTextFocus,primary:9,secondary:[1024|9]}})),(0,k.registerEditorCommand)(new a({id:"acceptSnippet",precondition:d.InSnippetMode,handler:o=>o.finish()}));function s(o,c,f){const p=d.get(o);return p?(o.focus(),p.apply(f.map(_=>({range:L.Selection.liftSelection(_),template:c}))),p.isInSnippet()):!1}e.performSnippetEdit=s}),define(re[770],ae([1,0,123,7,10,178,2,97,223,289,138,3,20,95,120,89,93,30]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyPasteController=void 0;const s="application/vnd.code.copyMetadata";let o=class extends L.Disposable{constructor(f,p,_,m,h){super();this._bulkEditService=p,this._clipboardService=_,this._configurationService=m,this._languageFeaturesService=h,this._editor=f;const S=f.getContainerDomNode();this._register((0,C.addDisposableListener)(S,"copy",y=>this.handleCopy(y))),this._register((0,C.addDisposableListener)(S,"cut",y=>this.handleCopy(y))),this._register((0,C.addDisposableListener)(S,"paste",y=>this.handlePaste(y),!0))}arePasteActionsEnabled(f){return this._configurationService.getValue("editor.experimental.pasteActions.enabled",{resource:f.uri})}handleCopy(f){var p;if(!f.clipboardData||!this._editor.hasTextFocus())return;const _=this._editor.getModel(),m=this._editor.getSelections();if(!_||!(m==null?void 0:m.length)||!this.arePasteActionsEnabled(_))return;const h=[...m],S=m[0],y=S.isEmpty();if(y){if(!this._editor.getOption(33))return;h[0]=new n.Range(S.startLineNumber,0,S.startLineNumber,_.getLineLength(S.startLineNumber))}const E=this._languageFeaturesService.documentPasteEditProvider.ordered(_).filter(F=>!!F.prepareDocumentPaste);if(!E.length){this.setCopyMetadata(f.clipboardData,{wasFromEmptySelection:y});return}const N=(0,u.toVSDataTransfer)(f.clipboardData),T=(0,v.generateUuid)();this.setCopyMetadata(f.clipboardData,{id:T,wasFromEmptySelection:y});const R=(0,k.createCancelablePromise)(F=>Se(this,void 0,void 0,function*(){const O=yield Promise.all(E.map(D=>D.prepareDocumentPaste(_,h,N,F)));for(const D of O)D==null||D.forEach((M,P)=>{N.replace(P,M)});return N}));(p=this._currentClipboardItem)===null||p===void 0||p.dataTransferPromise.cancel(),this._currentClipboardItem={handle:T,dataTransferPromise:R}}setCopyMetadata(f,p){f.setData(s,JSON.stringify(p))}handlePaste(f){var p,_,m;return Se(this,void 0,void 0,function*(){if(!f.clipboardData||!this._editor.hasTextFocus())return;const h=this._editor.getSelections();if(!(h==null?void 0:h.length)||!this._editor.hasModel())return;const S=this._editor.getModel();if(!this.arePasteActionsEnabled(S))return;let y;const E=(p=f.clipboardData)===null||p===void 0?void 0:p.getData(s);E&&typeof E=="string"&&(y=JSON.parse(E));const N=this._languageFeaturesService.documentPasteEditProvider.ordered(S);if(!N.length)return;f.preventDefault(),f.stopImmediatePropagation();const T=S.getVersionId(),R=new t.EditorStateCancellationTokenSource(this._editor,1|2);try{const F=(0,u.toVSDataTransfer)(f.clipboardData);if((y==null?void 0:y.id)&&((_=this._currentClipboardItem)===null||_===void 0?void 0:_.handle)===y.id&&(yield this._currentClipboardItem.dataTransferPromise).forEach((P,B)=>{F.replace(B,P)}),!F.has(b.Mimes.uriList)){const M=yield this._clipboardService.readResources();M.length&&F.append(b.Mimes.uriList,(0,I.createStringDataTransferItem)(u.UriList.create(M)))}F.delete(s);for(const M of N){if(!M.pasteMimeTypes.some(B=>B.toLowerCase()===w.DataTransfers.FILES.toLowerCase()?[...F.values()].some(W=>W.asFile()):F.has(B)))continue;const P=yield M.provideDocumentPasteEdits(S,h,F,R.token);if(T!==S.getVersionId())return;if(P){(0,r.performSnippetEdit)(this._editor,typeof P.insertText=="string"?l.SnippetParser.escape(P.insertText):P.insertText.snippet,h),P.additionalEdit&&(yield this._bulkEditService.apply(g.ResourceEdit.convert(P.additionalEdit),{editor:this._editor}));return}}const O=(m=F.get(b.Mimes.text))!==null&&m!==void 0?m:F.get("text");if(!O)return;const D=yield O.asString();if(T!==S.getVersionId())return;this._editor.trigger("keyboard","paste",{text:D,pasteOnNewLine:y==null?void 0:y.wasFromEmptySelection,multicursorText:null})}finally{R.dispose()}})}};o.ID="editor.contrib.copyPasteActionController",o=ke([me(1,g.IBulkEditService),me(2,d.IClipboardService),me(3,a.IConfigurationService),me(4,i.ILanguageFeaturesService)],o),e.CopyPasteController=o}),define(re[771],ae([1,0,12,212,770,551,94,34]),function($,e,w,C,k,I,L,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,w.registerEditorContribution)(k.CopyPasteController.ID,k.CopyPasteController),b.Registry.as(L.Extensions.Configuration).registerConfiguration(Object.assign(Object.assign({},C.editorConfigurationBaseNode),{properties:{"editor.experimental.pasteActions.enabled":{type:"boolean",scope:5,description:I.localize(0,null),default:!1}}}))}),define(re[772],ae([1,0,10,178,2,97,44,22,289,12,138,3,23,20,95,120,89,553,71,176]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropIntoEditorController=void 0;let c=class extends k.Disposable{constructor(_,m,h,S,y){super();this._bulkEditService=m,this._languageFeaturesService=h,this._progressService=S,this._register(_.onDropIntoEditor(E=>this.onDropIntoEditor(_,E.position,E.event))),this._languageFeaturesService.documentOnDropEditProvider.register("*",new f(y))}onDropIntoEditor(_,m,h){return Se(this,void 0,void 0,function*(){if(!h.dataTransfer||!_.hasModel())return;const S=_.getModel(),y=S.getVersionId(),E=yield this.extractDataTransferData(h);if(E.size===0||_.getModel().getVersionId()!==y)return;const N=new r.EditorStateCancellationTokenSource(_,1);try{const T=this._languageFeaturesService.documentOnDropEditProvider.ordered(S),R=yield this._progressService.withProgress({location:15,delay:750,title:(0,a.localize)(0,null),cancellable:!0},()=>(0,w.raceCancellation)((()=>Se(this,void 0,void 0,function*(){for(const F of T){const O=yield F.provideDocumentOnDropEdits(S,m,E,N.token);if(N.token.isCancellationRequested)return;if(O)return O}}))(),N.token),()=>{N.cancel()});if(N.token.isCancellationRequested||_.getModel().getVersionId()!==y)return;if(R){const F=new n.Range(m.lineNumber,m.column,m.lineNumber,m.column);(0,l.performSnippetEdit)(_,typeof R.insertText=="string"?d.SnippetParser.escape(R.insertText):R.insertText.snippet,[i.Selection.fromRange(F,0)]),R.additionalEdit&&(yield this._bulkEditService.apply(g.ResourceEdit.convert(R.additionalEdit),{editor:_}));return}}finally{N.dispose()}})}extractDataTransferData(_){return Se(this,void 0,void 0,function*(){if(!_.dataTransfer)return new C.VSDataTransfer;const m=(0,v.toVSDataTransfer)(_.dataTransfer);return(0,v.addExternalEditorsDropData)(m,_),m})}};c.ID="editor.contrib.dropIntoEditorController",c=ke([me(1,g.IBulkEditService),me(2,t.ILanguageFeaturesService),me(3,s.IProgressService),me(4,o.IWorkspaceContextService)],c),e.DropIntoEditorController=c;let f=class{constructor(_){this._workspaceContextService=_}provideDocumentOnDropEdits(_,m,h,S){var y;return Se(this,void 0,void 0,function*(){const E=h.get(I.Mimes.uriList);if(E){const T=yield E.asString(),R=this.getUriListInsertText(T);if(R)return{insertText:R}}const N=(y=h.get("text"))!==null&&y!==void 0?y:h.get(I.Mimes.text);if(N)return{insertText:yield N.asString()}})}getUriListInsertText(_){const m=[];for(const h of v.UriList.parse(_))try{m.push(b.URI.parse(h))}catch{}if(!!m.length)return m.map(h=>{const S=this._workspaceContextService.getWorkspaceFolder(h);if(S){const y=(0,L.relativePath)(S.uri,h);if(y)return y}return h.fsPath}).join(" ")}};f=ke([me(0,o.IWorkspaceContextService)],f),(0,u.registerEditorContribution)(c.ID,c)}),define(re[320],ae([1,0,10,21,14,6,2,169,60,3,28,165,26,188,206,32,423,20,70,89,120,19,63,189,30]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f,p,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideInlineCompletions=e.SynchronizedInlineCompletionsCache=e.UpdateOperation=e.InlineCompletionsSession=e.InlineCompletionsModel=void 0;let h=class extends L.Disposable{constructor(D,M,P,B,W,V,A){super();this.editor=D,this.cache=M,this.commandService=P,this.languageConfigurationService=B,this.languageFeaturesService=W,this.debounceService=V,this.onDidChangeEmitter=new I.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new L.MutableDisposable),this.active=!1,this.disposed=!1,this.debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._register(P.onDidExecuteCommand(Q=>{new Set([b.CoreEditingCommands.Tab.id,b.CoreEditingCommands.DeleteLeft.id,b.CoreEditingCommands.DeleteRight.id,t.inlineSuggestCommitId,"acceptSelectedSuggestion"]).has(Q.commandId)&&D.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(Q=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(Q=>{(Q.reason===3||this.session&&!this.session.isValid)&&this.hide()})),this._register((0,L.toDisposable)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{A.getValue("editor.inlineSuggest.hideOnBlur")||this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var D;return(D=this.session)===null||D===void 0?void 0:D.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(D){var M;(M=this.session)===null||M===void 0||M.setExpanded(D)}setActive(D){var M;this.active=D,D&&((M=this.session)===null||M===void 0||M.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(57).enabled||this.session&&this.session.isValid||this.trigger(g.InlineCompletionTriggerKind.Automatic)}trigger(D){if(this.completionSession.value){D===g.InlineCompletionTriggerKind.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new S(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,D,this.languageConfigurationService,this.languageFeaturesService.inlineCompletionsProvider,this.debounceValue),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var D;(D=this.session)===null||D===void 0||D.commitCurrentCompletion()}showNext(){var D;(D=this.session)===null||D===void 0||D.showNextInlineCompletion()}showPrevious(){var D;(D=this.session)===null||D===void 0||D.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var D;return Se(this,void 0,void 0,function*(){const M=yield(D=this.session)===null||D===void 0?void 0:D.hasMultipleInlineCompletions();return M!==void 0?M:!1})}};h=ke([me(2,i.ICommandService),me(3,l.ILanguageConfigurationService),me(4,a.ILanguageFeaturesService),me(5,s.ILanguageFeatureDebounceService),me(6,m.IConfigurationService)],h),e.InlineCompletionsModel=h;class S extends n.BaseGhostTextWidgetModel{constructor(D,M,P,B,W,V,A,Q,J){super(D);this.triggerPosition=M,this.shouldUpdate=P,this.commandService=B,this.cache=W,this.initialTriggerKind=V,this.languageConfigurationService=A,this.registry=Q,this.debounce=J,this.minReservedLineCount=0,this.updateOperation=this._register(new L.MutableDisposable),this.updateSoon=this._register(new w.RunOnceScheduler(()=>{const q=this.initialTriggerKind;return this.initialTriggerKind=g.InlineCompletionTriggerKind.Automatic,this.update(q)},50)),this.filteredCompletions=[],this.currentlySelectedCompletionId=void 0;let H;this._register(this.onDidChange(()=>{var q;const Z=this.currentCompletion;if(Z&&Z.sourceInlineCompletion!==H){H=Z.sourceInlineCompletion;const ie=Z.sourceProvider;(q=ie.handleItemDidShow)===null||q===void 0||q.call(ie,Z.sourceInlineCompletions,H)}})),this._register((0,L.toDisposable)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(q=>{var Z;q.reason!==3&&((Z=this.cache.value)===null||Z===void 0||Z.updateRanges(),this.cache.value&&(this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire()))})),this._register(this.editor.onDidChangeModelContent(q=>{var Z;(Z=this.cache.value)===null||Z===void 0||Z.updateRanges(),this.updateFilteredInlineCompletions(),this.scheduleAutomaticUpdate()})),this._register(this.registry.onDidChange(()=>{this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))})),this.scheduleAutomaticUpdate()}updateFilteredInlineCompletions(){if(!this.cache.value){this.filteredCompletions=[];return}const D=this.editor.getModel(),M=D.validatePosition(this.editor.getPosition());this.filteredCompletions=this.cache.value.completions.filter(P=>{const B=D.getValueInRange(P.synchronizedRange).toLowerCase(),W=P.inlineCompletion.filterText.toLowerCase(),V=D.getLineIndentColumn(P.synchronizedRange.startLineNumber),A=Math.max(0,M.column-P.synchronizedRange.startColumn);let Q=W.substring(0,A),J=W.substring(A),H=B.substring(0,A),q=B.substring(A);return P.synchronizedRange.startColumn<=V&&(H=H.trimStart(),H.length===0&&(q=q.trimStart()),Q=Q.trimStart(),Q.length===0&&(J=J.trimStart())),Q.startsWith(H)&&(0,p.matchesSubString)(q,J)})}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const D=this.filteredCompletions.findIndex(M=>M.semanticId===this.currentlySelectedCompletionId);return D===-1?(this.currentlySelectedCompletionId=void 0,0):D}get currentCachedCompletion(){if(!!this.cache.value)return this.filteredCompletions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){return Se(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const D=this.filteredCompletions||[];if(D.length>0){const M=(this.fixAndGetIndexOfCurrentSelection()+1)%D.length;this.currentlySelectedCompletionId=D[M].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){return Se(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const D=this.filteredCompletions||[];if(D.length>0){const M=(this.fixAndGetIndexOfCurrentSelection()+D.length-1)%D.length;this.currentlySelectedCompletionId=D[M].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var D;return Se(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===g.InlineCompletionTriggerKind.Explicit?yield this.updateOperation.value.promise:yield this.update(g.InlineCompletionTriggerKind.Explicit):((D=this.cache.value)===null||D===void 0?void 0:D.triggerKind)!==g.InlineCompletionTriggerKind.Explicit&&(yield this.update(g.InlineCompletionTriggerKind.Explicit))})}hasMultipleInlineCompletions(){var D;return Se(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((D=this.cache.value)===null||D===void 0?void 0:D.completions.length)||0)>1})}get ghostText(){const D=this.currentCompletion;if(!D)return;const M=this.editor.getPosition();if(D.range.getEndPosition().isBefore(M))return;const P=this.editor.getOptions().get(57).mode,B=(0,r.inlineCompletionToGhostText)(D,this.editor.getModel(),P,M);return B?B.isEmpty()?void 0:B:new n.GhostTextReplacement(D.range.startLineNumber,D.range.startColumn,D.range.endColumn-D.range.startColumn,D.insertText.split(`
`),0)}get currentCompletion(){const D=this.currentCachedCompletion;if(!!D)return D.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))}update(D){return Se(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const M=this.editor.getPosition(),P=new Date,B=(0,w.createCancelablePromise)(V=>Se(this,void 0,void 0,function*(){let A;try{A=yield T(this.registry,M,this.editor.getModel(),{triggerKind:D,selectedSuggestionInfo:void 0},V,this.languageConfigurationService);const Q=new Date;this.debounce.update(this.editor.getModel(),Q.getTime()-P.getTime())}catch(Q){(0,k.onUnexpectedError)(Q);return}V.isCancellationRequested||(this.cache.setValue(this.editor,A,D),this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire())})),W=new y(B,D);this.updateOperation.value=W,yield B,this.updateOperation.value===W&&this.updateOperation.clear()})}takeOwnership(D){this._register(D)}commitCurrentCompletion(){if(!this.ghostText)return;const M=this.currentCompletion;M&&this.commit(M)}commit(D){var M;const P=this.cache.clearAndLeak();D.snippetInfo?(this.editor.executeEdits("inlineSuggestion.accept",[v.EditOperation.replaceMove(D.range,""),...D.additionalTextEdits]),this.editor.setPosition(D.snippetInfo.range.getStartPosition()),(M=c.SnippetController2.get(this.editor))===null||M===void 0||M.insert(D.snippetInfo.snippet)):this.editor.executeEdits("inlineSuggestion.accept",[v.EditOperation.replaceMove(D.range,D.insertText),...D.additionalTextEdits]),D.command?this.commandService.executeCommand(D.command.id,...D.command.arguments||[]).finally(()=>{P==null||P.dispose()}).then(void 0,k.onUnexpectedExternalError):P==null||P.dispose(),this.onDidChangeEmitter.fire()}get commands(){var D;return[...new Set(((D=this.cache.value)===null||D===void 0?void 0:D.completions.map(P=>P.inlineCompletion.sourceInlineCompletions))||[])].flatMap(P=>P.commands||[])}}e.InlineCompletionsSession=S;class y{constructor(D,M){this.promise=D,this.triggerKind=M}dispose(){this.promise.cancel()}}e.UpdateOperation=y;class E extends L.Disposable{constructor(D,M,P,B){super();this.editor=M,this.onChange=P,this.triggerKind=B,this.isDisposing=!1;const W=M.changeDecorations(V=>V.deltaDecorations([],D.items.map(A=>({range:A.range,options:{description:"inline-completion-tracking-range"}}))));this._register((0,L.toDisposable)(()=>{this.isDisposing=!0,M.removeDecorations(W)})),this.completions=D.items.map((V,A)=>new N(V,W[A])),this._register(M.onDidChangeModelContent(()=>{this.updateRanges()})),this._register(D)}updateRanges(){if(this.isDisposing)return;let D=!1;const M=this.editor.getModel();for(const P of this.completions){const B=M.getDecorationRange(P.decorationId);if(!B){(0,k.onUnexpectedError)(new Error("Decoration has no range"));continue}P.synchronizedRange.equalsRange(B)||(D=!0,P.synchronizedRange=B)}D&&this.onChange()}}e.SynchronizedInlineCompletionsCache=E;class N{constructor(D,M){this.inlineCompletion=D,this.decorationId=M,this.semanticId=JSON.stringify({text:this.inlineCompletion.insertText,abbreviation:this.inlineCompletion.filterText,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=D.range}toLiveInlineCompletion(){return{insertText:this.inlineCompletion.insertText,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion,snippetInfo:this.inlineCompletion.snippetInfo,filterText:this.inlineCompletion.filterText,additionalTextEdits:this.inlineCompletion.additionalTextEdits}}}function T(O,D,M,P,B=C.CancellationToken.None,W){return Se(this,void 0,void 0,function*(){const V=R(D,M),A=O.all(M),Q=yield Promise.all(A.map(H=>Se(this,void 0,void 0,function*(){const q=yield Promise.resolve(H.provideInlineCompletions(M,D,P,B)).catch(k.onUnexpectedExternalError);return{completions:q,provider:H,dispose:()=>{q&&H.freeInlineCompletions(q)}}}))),J=new Map;for(const H of Q){const q=H.completions;if(!!q)for(const Z of q.items){let ie=Z.range?u.Range.lift(Z.range):V;if(ie.startLineNumber!==ie.endLineNumber)continue;let Y,te;if(typeof Z.insertText=="string"){if(Y=Z.insertText,W&&Z.completeBracketPairs){Y=F(Y,ie.getStartPosition(),M,W);const x=Y.length-Z.insertText.length;x!==0&&(ie=new u.Range(ie.startLineNumber,ie.startColumn,ie.endLineNumber,ie.endColumn+x))}te=void 0}else"snippet"in Z.insertText?(Y=new o.SnippetParser().parse(Z.insertText.snippet).toString(),te={snippet:Z.insertText.snippet,range:ie}):(0,f.assertNever)(Z.insertText);const de={insertText:Y,snippetInfo:te,range:ie,command:Z.command,sourceProvider:H.provider,sourceInlineCompletions:q,sourceInlineCompletion:Z,filterText:Z.filterText||Y,additionalTextEdits:Z.additionalTextEdits||(0,_.getReadonlyEmptyArray)()};J.set(JSON.stringify({insertText:Y,range:Z.range}),de)}}return{items:[...J.values()],dispose:()=>{for(const H of Q)H.dispose()}}})}e.provideInlineCompletions=T;function R(O,D){const M=D.getWordAtPosition(O),P=D.getLineMaxColumn(O.lineNumber);return M?new u.Range(O.lineNumber,M.startColumn,O.lineNumber,P):u.Range.fromPositions(O,O.with(void 0,P))}function F(O,D,M,P){const W=M.getLineContent(D.lineNumber).substring(0,D.column-1)+O,V=M.tokenization.tokenizeLineWithEdit(D,W.length-(D.column-1),O),A=V==null?void 0:V.sliceAndInflate(D.column-1,W.length,0);return A?(0,d.fixBracketsInLine)(A,P):O}}),define(re[773],ae([1,0,10,21,14,6,2,8,23,92,120,251,93,30,16,69,86,250,102,20]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class c{constructor(S,y,E,N,T){this.leadingLineContent=S.getLineContent(y.lineNumber).substr(0,y.column-1),this.leadingWord=S.getWordUntilPosition(y),this.lineNumber=y.lineNumber,this.column=y.column,this.auto=E,this.shy=N,this.noSelect=T}static shouldAutoTrigger(S){if(!S.hasModel())return!1;const y=S.getModel(),E=S.getPosition();y.tokenization.tokenizeIfCheap(E.lineNumber);const N=y.getWordAtPosition(E);return!(!N||N.endColumn!==E.column||!isNaN(Number(N.word)))}}e.LineContext=c;function f(h){return h.getOption(108).preview}function p(h,S,y){if(!Boolean(S.getContextKeyValue("inlineSuggestionVisible")))return!0;const E=y.getValue("editor.inlineSuggest.allowQuickSuggestions");return E!==void 0?Boolean(E):!1}function _(h,S,y){if(!Boolean(S.getContextKeyValue("inlineSuggestionVisible")))return!0;const E=y.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return E!==void 0?Boolean(E):!1}let m=class tn{constructor(S,y,E,N,T,R,F,O){this._editor=S,this._editorWorkerService=y,this._clipboardService=E,this._telemetryService=N,this._logService=T,this._contextKeyService=R,this._configurationService=F,this._languageFeaturesService=O,this._toDispose=new L.DisposableStore,this._triggerCharacterListener=new L.DisposableStore,this._triggerQuickSuggest=new w.TimeoutTimer,this._state=0,this._completionDisposables=new L.DisposableStore,this._onDidCancel=new I.Emitter,this._onDidTrigger=new I.Emitter,this._onDidSuggest=new I.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new v.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let D=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{D=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{D=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(M=>{D||this._onCursorChange(M)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{D||this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,L.dispose)(this._triggerCharacterListener),(0,L.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(83)||!this._editor.hasModel()||!this._editor.getOption(111))return;const S=new Map;for(const E of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const N of E.triggerCharacters||[]){let T=S.get(N);T||(T=new Set,T.add((0,s.getSnippetSuggestSupport)()),S.set(N,T)),T.add(E)}const y=E=>{if(!_(this._editor,this._contextKeyService,this._configurationService)||c.shouldAutoTrigger(this._editor))return;if(!E){const R=this._editor.getPosition();E=this._editor.getModel().getLineContent(R.lineNumber).substr(0,R.column-1)}let N="";(0,b.isLowSurrogate)(E.charCodeAt(E.length-1))?(0,b.isHighSurrogate)(E.charCodeAt(E.length-2))&&(N=E.substr(E.length-2)):N=E.charAt(E.length-1);const T=S.get(N);if(T){const R=this._completionModel?{items:this._completionModel.adopt(T),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,noSelect:!1,triggerCharacter:N},Boolean(this._completionModel),T,R)}};this._triggerCharacterListener.add(this._editor.onDidType(y)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>y()))}get state(){return this._state}cancel(S=!1){var y;this._state!==0&&(this._triggerQuickSuggest.cancel(),(y=this._requestToken)===null||y===void 0||y.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:S}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1,noSelect:!1},!0))}_onCursorChange(S){if(!this._editor.hasModel())return;const y=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!S.selection.isEmpty()||S.reason!==0&&S.reason!==3||S.source!=="keyboard"&&S.source!=="deleteLeft"){this.cancel();return}this._state===0&&S.reason===0?(y.containsRange(this._currentSelection)||y.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._state!==0&&S.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._state===0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var S;s.QuickSuggestionsOptions.isAllOff(this._editor.getOption(81))||this._editor.getOption(108).snippetsPreventQuickSuggestions&&((S=g.SnippetController2.get(this._editor))===null||S===void 0?void 0:S.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!c.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const y=this._editor.getModel(),E=this._editor.getPosition(),N=this._editor.getOption(81);if(!s.QuickSuggestionsOptions.isAllOff(N)){if(!s.QuickSuggestionsOptions.isAllOn(N)){y.tokenization.tokenizeIfCheap(E.lineNumber);const T=y.tokenization.getLineTokens(E.lineNumber),R=T.getStandardTokenType(T.findTokenIndexAtOffset(Math.max(E.column-1-1,0)));if(s.QuickSuggestionsOptions.valueFor(N,R)!=="on")return}!p(this._editor,this._contextKeyService,this._configurationService)||!this._languageFeaturesService.completionProvider.has(y)||this.trigger({auto:!0,shy:!1,noSelect:!1})}},this._editor.getOption(82)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;const S=this._editor.getModel(),y=this._editor.getPosition(),E=new c(S,y,this._state===2,!1,!1);this._onNewContext(E)})}trigger(S,y=!1,E,N,T){var R;if(!this._editor.hasModel())return;const F=this._editor.getModel(),O=S.auto,D=new c(F,this._editor.getPosition(),O,S.shy,S.noSelect);this.cancel(y),this._state=O?2:1,this._onDidTrigger.fire({auto:O,shy:S.shy,position:this._editor.getPosition()}),this._context=D;let M={triggerKind:(R=S.triggerKind)!==null&&R!==void 0?R:0};S.triggerCharacter&&(M={triggerKind:1,triggerCharacter:S.triggerCharacter}),this._requestToken=new C.CancellationTokenSource;const P=this._editor.getOption(103);let B=1;switch(P){case"top":B=0;break;case"bottom":B=2;break}const{itemKind:W,showDeprecated:V}=tn._createSuggestFilter(this._editor),A=new s.CompletionOptions(B,T?new Set:W,E,V),Q=n.WordDistance.create(this._editorWorkerService,this._editor),J=(0,s.provideSuggestionItems)(this._languageFeaturesService.completionProvider,F,this._editor.getPosition(),A,M,this._requestToken.token);Promise.all([J,Q]).then(([H,q])=>Se(this,void 0,void 0,function*(){var Z;if((Z=this._requestToken)===null||Z===void 0||Z.dispose(),!this._editor.hasModel())return;let ie=N==null?void 0:N.clipboardText;if(!ie&&H.needsClipboard&&(ie=yield this._clipboardService.readText()),this._state===0)return;const Y=this._editor.getModel();let te=H.items;if(N){const x=(0,s.getSuggestionComparator)(B);te=te.concat(N.items).sort(x)}const de=new c(Y,this._editor.getPosition(),O,S.shy,S.noSelect);this._completionModel=new a.CompletionModel(te,this._context.column,{leadingLineContent:de.leadingLineContent,characterCountDelta:de.column-this._context.column},q,this._editor.getOption(108),this._editor.getOption(103),void 0,ie),this._completionDisposables.add(H.disposable),this._onNewContext(de),this._reportDurationsTelemetry(H.durations)})).catch(k.onUnexpectedError)}_reportDurationsTelemetry(S){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(S)}),this._logService.debug("suggest.durations.json",S)})}static _createSuggestFilter(S){const y=new Set;S.getOption(103)==="none"&&y.add(27);const N=S.getOption(108);return N.showMethods||y.add(0),N.showFunctions||y.add(1),N.showConstructors||y.add(2),N.showFields||y.add(3),N.showVariables||y.add(4),N.showClasses||y.add(5),N.showStructs||y.add(6),N.showInterfaces||y.add(7),N.showModules||y.add(8),N.showProperties||y.add(9),N.showEvents||y.add(10),N.showOperators||y.add(11),N.showUnits||y.add(12),N.showValues||y.add(13),N.showConstants||y.add(14),N.showEnums||y.add(15),N.showEnumMembers||y.add(16),N.showKeywords||y.add(17),N.showWords||y.add(18),N.showColors||y.add(19),N.showFiles||y.add(20),N.showReferences||y.add(21),N.showColors||y.add(22),N.showFolders||y.add(23),N.showTypeParameters||y.add(24),N.showSnippets||y.add(27),N.showUsers||y.add(25),N.showIssues||y.add(26),{itemKind:y,showDeprecated:N.showDeprecated}}_onNewContext(S){if(!!this._context){if(S.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,b.getLeadingWhitespace)(S.leadingLineContent)!==(0,b.getLeadingWhitespace)(this._context.leadingLineContent)){this.cancel();return}if(S.column<this._context.column){S.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0):this.cancel();return}if(!!this._completionModel){if(S.leadingWord.word.length!==0&&S.leadingWord.startColumn>this._context.leadingWord.startColumn){const y=new Set(this._languageFeaturesService.completionProvider.all(this._editor.getModel()));for(const N of this._completionModel.allProvider)y.delete(N);const E=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0,y,{items:E,clipboardText:this._completionModel.clipboardText});return}if(S.column>this._context.column&&this._completionModel.incomplete.size>0&&S.leadingWord.word.length!==0){const{incomplete:y}=this._completionModel,E=this._completionModel.adopt(y);this.trigger({auto:this._state===2,shy:!1,noSelect:!1,triggerKind:2},!0,y,{items:E,clipboardText:this._completionModel.clipboardText})}else{const y=this._completionModel.lineContext;let E=!1;if(this._completionModel.lineContext={leadingLineContent:S.leadingLineContent,characterCountDelta:S.column-this._context.column},this._completionModel.items.length===0){if(c.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<S.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=y,E=this._completionModel.items.length>0,E&&S.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,noSelect:this._context.noSelect,isFrozen:E})}}}}};m=ke([me(1,u.IEditorWorkerService),me(2,i.IClipboardService),me(3,d.ITelemetryService),me(4,l.ILogService),me(5,r.IContextKeyService),me(6,t.IConfigurationService),me(7,o.ILanguageFeaturesService)],m),e.SuggestModel=m}),define(re[321],ae([1,0,49,18,10,21,14,6,104,2,17,57,19,152,12,60,11,3,24,120,89,294,633,597,26,16,9,69,102,632,459,773,460,756,86,44,105]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f,p,_,m,h,S,y,E,N,T,R,F,O,D,M,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;const B=!1;class W{constructor(Z,ie){if(this._model=Z,this._position=ie,Z.getLineMaxColumn(ie.lineNumber)!==ie.column){const te=Z.getOffsetAt(ie),de=Z.getPositionAt(te+1);this._marker=Z.deltaDecorations([],[{range:a.Range.fromPositions(ie,de),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(Z){if(this._model.isDisposed()||this._position.lineNumber!==Z.lineNumber)return 0;if(this._marker){const ie=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(ie.getStartPosition())-this._model.getOffsetAt(Z)}else return this._model.getLineMaxColumn(Z.lineNumber)-Z.column}}let V=class nn{constructor(Z,ie,Y,te,de,x,oe){this._memoryService=ie,this._commandService=Y,this._contextKeyService=te,this._instantiationService=de,this._logService=x,this._telemetryService=oe,this._lineSuffix=new u.MutableDisposable,this._toDispose=new u.DisposableStore,this._selectors=new A(z=>z.priority),this._telemetryGate=0,this.editor=Z,this.model=de.createInstance(R.SuggestModel,this.editor);const ne=E.Context.InsertMode.bindTo(te);ne.set(Z.getOption(108).insertMode),this.model.onDidTrigger(()=>ne.set(Z.getOption(108).insertMode)),this.widget=this._toDispose.add(new k.IdleValue(()=>{const z=this._instantiationService.createInstance(O.SuggestWidget,this.editor);this._toDispose.add(z),this._toDispose.add(z.onDidSelect(ce=>this._insertSuggestion(ce,0),this));const X=new T.CommitCharacterController(this.editor,z,ce=>this._insertSuggestion(ce,2));this._toDispose.add(X),this._toDispose.add(this.model.onDidSuggest(ce=>{ce.completionModel.items.length===0&&X.reset()}));const G=E.Context.MakesTextEdit.bindTo(this._contextKeyService),U=E.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),K=E.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,u.toDisposable)(()=>{G.reset(),U.reset(),K.reset()})),this._toDispose.add(z.onDidFocus(({item:ce})=>{const ee=this.editor.getPosition(),ue=ce.editStart.column,fe=ee.column;let Ce=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!ce.completion.additionalTextEdits&&!(ce.completion.insertTextRules&4)&&fe-ue===ce.completion.insertText.length&&(Ce=this.editor.getModel().getValueInRange({startLineNumber:ee.lineNumber,startColumn:ue,endLineNumber:ee.lineNumber,endColumn:fe})!==ce.completion.insertText),G.set(Ce),U.set(!d.Position.equals(ce.editInsertEnd,ce.editReplaceEnd)),K.set(Boolean(ce.provider.resolveCompletionItem)||Boolean(ce.completion.documentation)||ce.completion.detail!==ce.completion.label)})),this._toDispose.add(z.onDetailsKeyDown(ce=>{if(ce.toKeybinding().equals(new v.SimpleKeybinding(!0,!1,!1,!1,33))||g.isMacintosh&&ce.toKeybinding().equals(new v.SimpleKeybinding(!1,!1,!1,!0,33))){ce.stopPropagation();return}ce.toKeybinding().isModifierKey()||this.editor.focus()})),z})),this._overtypingCapturer=this._toDispose.add(new k.IdleValue(()=>this._toDispose.add(new F.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new k.IdleValue(()=>this._toDispose.add(new N.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(de.createInstance(p.WordContextKey,Z)),this._toDispose.add(this.model.onDidTrigger(z=>{this.widget.value.showTriggered(z.auto,z.shy?250:50),this._lineSuffix.value=new W(this.editor.getModel(),z.position)})),this._toDispose.add(this.model.onDidSuggest(z=>{if(z.shy)return;let X=-1;if(!z.noSelect){for(const G of this._selectors.itemsOrderedByPriorityDesc)if(X=G.select(this.editor.getModel(),this.editor.getPosition(),z.completionModel.items),X!==-1)break;X===-1&&(X=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),z.completionModel.items))}this.widget.value.showSuggestions(z.completionModel,X,z.isFrozen,z.auto)})),this._toDispose.add(this.model.onDidCancel(z=>{z.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{B||(this.model.cancel(),this.model.clear())}));const j=E.Context.AcceptSuggestionsOnEnter.bindTo(te),se=()=>{const z=this.editor.getOption(1);j.set(z==="on"||z==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>se())),se()}static get(Z){return Z.getContribution(nn.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(Z,ie){if(!Z||!Z.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const Y=o.SnippetController2.get(this.editor);if(!Y)return;const te=this.editor.getModel(),de=te.getAlternativeVersionId(),{item:x}=Z,oe=[],ne=new I.CancellationTokenSource;ie&1||this.editor.pushUndoStop();const j=this.getOverwriteInfo(x,Boolean(ie&8));if(this._memoryService.memorize(te,this.editor.getPosition(),x),Array.isArray(x.completion.additionalTextEdits)){const z=t.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",x.completion.additionalTextEdits.map(X=>l.EditOperation.replaceMove(a.Range.lift(X.range),X.text))),z.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!x.isResolved){const z=new n.StopWatch(!0);let X;const G=te.onDidChangeContent(ee=>{if(ee.isFlush){ne.cancel(),G.dispose();return}for(const ue of ee.changes){const fe=a.Range.getEndPosition(ue.range);(!X||d.Position.isBefore(fe,X))&&(X=fe)}}),U=ie;ie|=2;let K=!1;const ce=this.editor.onWillType(()=>{ce.dispose(),K=!0,U&2||this.editor.pushUndoStop()});oe.push(x.resolve(ne.token).then(()=>{if(!x.completion.additionalTextEdits||ne.token.isCancellationRequested||X&&x.completion.additionalTextEdits.some(ue=>d.Position.isBefore(X,a.Range.getStartPosition(ue.range))))return!1;K&&this.editor.pushUndoStop();const ee=t.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",x.completion.additionalTextEdits.map(ue=>l.EditOperation.replaceMove(a.Range.lift(ue.range),ue.text))),ee.restoreRelativeVerticalPositionOfCursor(this.editor),(K||!(U&2))&&this.editor.pushUndoStop(),!0}).then(ee=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",z.elapsed(),ee),G.dispose(),ce.dispose()}))}let{insertText:se}=x.completion;x.completion.insertTextRules&4||(se=c.SnippetParser.escape(se)),Y.insert(se,{overwriteBefore:j.overwriteBefore,overwriteAfter:j.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(x.completion.insertTextRules&1),clipboardText:Z.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),ie&2||this.editor.pushUndoStop(),x.completion.command?x.completion.command.id===Q.id?this.model.trigger({auto:!0,shy:!1,noSelect:!1},!0):(oe.push(this._commandService.executeCommand(x.completion.command.id,...x.completion.command.arguments?[...x.completion.command.arguments]:[]).catch(L.onUnexpectedError)),this.model.cancel()):this.model.cancel(),ie&4&&this._alternatives.value.set(Z,z=>{for(ne.cancel();te.canUndo();){de!==te.getAlternativeVersionId()&&te.undo(),this._insertSuggestion(z,1|2|(ie&8?8:0));break}}),this._alertCompletionItem(x),Promise.all(oe).finally(()=>{this._reportSuggestionAcceptedTelemetry(x,te,Z),this.model.clear(),ne.dispose()})}_reportSuggestionAcceptedTelemetry(Z,ie,Y){var te;if(this._telemetryGate++%100!=0)return;const de=Z.extensionId?Z.extensionId.value:((te=Y.item.provider._debugDisplayName)!==null&&te!==void 0?te:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:de,kind:Z.completion.kind,basenameHash:(0,P.hash)((0,M.basename)(ie.uri)).toString(16),languageId:ie.getLanguageId(),fileExtension:(0,M.extname)(ie.uri)})}getOverwriteInfo(Z,ie){(0,i.assertType)(this.editor.hasModel());let Y=this.editor.getOption(108).insertMode==="replace";ie&&(Y=!Y);const te=Z.position.column-Z.editStart.column,de=(Y?Z.editReplaceEnd.column:Z.editInsertEnd.column)-Z.position.column,x=this.editor.getPosition().column-Z.position.column,oe=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:te+x,overwriteAfter:de+oe}}_alertCompletionItem(Z){if((0,C.isNonEmptyArray)(Z.completion.additionalTextEdits)){const ie=_.localize(0,null,Z.textLabel,Z.completion.additionalTextEdits.length);(0,w.alert)(ie)}}triggerSuggest(Z,ie,Y,te){this.editor.hasModel()&&(this.model.trigger({auto:ie??!1,shy:!1,noSelect:te??!1},!1,Z,void 0,Y),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(Z){if(!this.editor.hasModel())return;const ie=this.editor.getPosition(),Y=()=>{ie.equals(this.editor.getPosition())&&this._commandService.executeCommand(Z.fallback)},te=de=>{if(de.completion.insertTextRules&4||de.completion.additionalTextEdits)return!0;const x=this.editor.getPosition(),oe=de.editStart.column,ne=x.column;return ne-oe!==de.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:x.lineNumber,startColumn:oe,endLineNumber:x.lineNumber,endColumn:ne})!==de.completion.insertText};b.Event.once(this.model.onDidTrigger)(de=>{const x=[];b.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,u.dispose)(x),Y()},void 0,x),this.model.onDidSuggest(({completionModel:oe})=>{if((0,u.dispose)(x),oe.items.length===0){Y();return}const ne=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),oe.items),j=oe.items[ne];if(!te(j)){Y();return}this.editor.pushUndoStop(),this._insertSuggestion({index:ne,item:j,model:oe},4|1|2)},void 0,x)}),this.model.trigger({auto:!1,shy:!0,noSelect:!1}),this.editor.revealPosition(ie,0),this.editor.focus()}acceptSelectedSuggestion(Z,ie){const Y=this.widget.value.getFocusedItem();let te=0;Z&&(te|=4),ie&&(te|=8),this._insertSuggestion(Y,te)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(Z){return this._selectors.register(Z)}};V.ID="editor.contrib.suggestController",V=ke([me(1,f.ISuggestMemoryService),me(2,m.ICommandService),me(3,h.IContextKeyService),me(4,S.IInstantiationService),me(5,y.ILogService),me(6,D.ITelemetryService)],V),e.SuggestController=V;class A{constructor(Z){this.prioritySelector=Z,this._items=new Array}register(Z){if(this._items.indexOf(Z)!==-1)throw new Error("Value is already registered");return this._items.push(Z),this._items.sort((ie,Y)=>this.prioritySelector(Y)-this.prioritySelector(ie)),{dispose:()=>{const ie=this._items.indexOf(Z);ie>=0&&this._items.splice(ie,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class Q extends r.EditorAction{constructor(){super({id:Q.id,label:_.localize(1,null),alias:"Trigger Suggest",precondition:h.ContextKeyExpr.and(s.EditorContextKeys.writable,s.EditorContextKeys.hasCompletionItemProvider),kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[512|9,2048|39]},weight:100}})}run(Z,ie,Y){const te=V.get(ie);if(!te)return;let de,x;Y&&typeof Y=="object"&&(Y.auto===!0&&(de=!0),Y.noSelection===!0&&(x=!0)),te.triggerSuggest(void 0,de,void 0,x)}}e.TriggerSuggestAction=Q,Q.id="editor.action.triggerSuggest",(0,r.registerEditorContribution)(V.ID,V),(0,r.registerEditorAction)(Q);const J=100+90,H=r.EditorCommand.bindToContribution(V.get);(0,r.registerEditorCommand)(new H({id:"acceptSelectedSuggestion",precondition:h.ContextKeyExpr.and(E.Context.Visible,E.Context.HasFocusedSuggestion),handler(q){q.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:h.ContextKeyExpr.and(E.Context.Visible,s.EditorContextKeys.textInputFocus),weight:J},{primary:3,kbExpr:h.ContextKeyExpr.and(E.Context.Visible,s.EditorContextKeys.textInputFocus,E.Context.AcceptSuggestionsOnEnter,E.Context.MakesTextEdit),weight:J}],menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,title:_.localize(2,null),group:"left",order:1,when:E.Context.HasInsertAndReplaceRange.toNegated()},{menuId:E.suggestWidgetStatusbarMenu,title:_.localize(3,null),group:"left",order:1,when:h.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("insert"))},{menuId:E.suggestWidgetStatusbarMenu,title:_.localize(4,null),group:"left",order:1,when:h.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("replace"))}]})),(0,r.registerEditorCommand)(new H({id:"acceptAlternativeSelectedSuggestion",precondition:h.ContextKeyExpr.and(E.Context.Visible,s.EditorContextKeys.textInputFocus,E.Context.HasFocusedSuggestion),kbOpts:{weight:J,kbExpr:s.EditorContextKeys.textInputFocus,primary:1024|3,secondary:[1024|2]},handler(q){q.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,group:"left",order:2,when:h.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("insert")),title:_.localize(5,null)},{menuId:E.suggestWidgetStatusbarMenu,group:"left",order:2,when:h.ContextKeyExpr.and(E.Context.HasInsertAndReplaceRange,E.Context.InsertMode.isEqualTo("replace")),title:_.localize(6,null)}]})),m.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,r.registerEditorCommand)(new H({id:"hideSuggestWidget",precondition:E.Context.Visible,handler:q=>q.cancelSuggestWidget(),kbOpts:{weight:J,kbExpr:s.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})),(0,r.registerEditorCommand)(new H({id:"selectNextSuggestion",precondition:h.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:q=>q.selectNextSuggestion(),kbOpts:{weight:J,kbExpr:s.EditorContextKeys.textInputFocus,primary:18,secondary:[2048|18],mac:{primary:18,secondary:[2048|18,256|44]}}})),(0,r.registerEditorCommand)(new H({id:"selectNextPageSuggestion",precondition:h.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:q=>q.selectNextPageSuggestion(),kbOpts:{weight:J,kbExpr:s.EditorContextKeys.textInputFocus,primary:12,secondary:[2048|12]}})),(0,r.registerEditorCommand)(new H({id:"selectLastSuggestion",precondition:h.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:q=>q.selectLastSuggestion()})),(0,r.registerEditorCommand)(new H({id:"selectPrevSuggestion",precondition:h.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:q=>q.selectPrevSuggestion(),kbOpts:{weight:J,kbExpr:s.EditorContextKeys.textInputFocus,primary:16,secondary:[2048|16],mac:{primary:16,secondary:[2048|16,256|46]}}})),(0,r.registerEditorCommand)(new H({id:"selectPrevPageSuggestion",precondition:h.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:q=>q.selectPrevPageSuggestion(),kbOpts:{weight:J,kbExpr:s.EditorContextKeys.textInputFocus,primary:11,secondary:[2048|11]}})),(0,r.registerEditorCommand)(new H({id:"selectFirstSuggestion",precondition:h.ContextKeyExpr.and(E.Context.Visible,E.Context.MultipleSuggestions),handler:q=>q.selectFirstSuggestion()})),(0,r.registerEditorCommand)(new H({id:"toggleSuggestionDetails",precondition:E.Context.Visible,handler:q=>q.toggleSuggestionDetails(),kbOpts:{weight:J,kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[2048|39]}},menuOpts:[{menuId:E.suggestWidgetStatusbarMenu,group:"right",order:1,when:h.ContextKeyExpr.and(E.Context.DetailsVisible,E.Context.CanResolve),title:_.localize(7,null)},{menuId:E.suggestWidgetStatusbarMenu,group:"right",order:1,when:h.ContextKeyExpr.and(E.Context.DetailsVisible.toNegated(),E.Context.CanResolve),title:_.localize(8,null)}]})),(0,r.registerEditorCommand)(new H({id:"toggleExplainMode",precondition:E.Context.Visible,handler:q=>q.toggleExplainMode(),kbOpts:{weight:100,primary:2048|85}})),(0,r.registerEditorCommand)(new H({id:"toggleSuggestionFocus",precondition:E.Context.Visible,handler:q=>q.toggleSuggestionFocus(),kbOpts:{weight:J,kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|512|10,mac:{primary:256|512|10}}})),(0,r.registerEditorCommand)(new H({id:"insertBestCompletion",precondition:h.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,h.ContextKeyExpr.equals("config.editor.tabCompletion","on"),p.WordContextKey.AtEnd,E.Context.Visible.toNegated(),N.SuggestAlternatives.OtherSuggestions.toNegated(),o.SnippetController2.InSnippetMode.toNegated()),handler:(q,Z)=>{q.triggerSuggestAndAcceptBest((0,i.isObject)(Z)?Object.assign({fallback:"tab"},Z):{fallback:"tab"})},kbOpts:{weight:J,primary:2}})),(0,r.registerEditorCommand)(new H({id:"insertNextSuggestion",precondition:h.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,h.ContextKeyExpr.equals("config.editor.tabCompletion","on"),N.SuggestAlternatives.OtherSuggestions,E.Context.Visible.toNegated(),o.SnippetController2.InSnippetMode.toNegated()),handler:q=>q.acceptNextSuggestion(),kbOpts:{weight:J,kbExpr:s.EditorContextKeys.textInputFocus,primary:2}})),(0,r.registerEditorCommand)(new H({id:"insertPrevSuggestion",precondition:h.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,h.ContextKeyExpr.equals("config.editor.tabCompletion","on"),N.SuggestAlternatives.OtherSuggestions,E.Context.Visible.toNegated(),o.SnippetController2.InSnippetMode.toNegated()),handler:q=>q.acceptPrevSuggestion(),kbOpts:{weight:J,kbExpr:s.EditorContextKeys.textInputFocus,primary:1024|2}})),(0,r.registerEditorAction)(class extends r.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:_.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(q,Z){var ie;(ie=V.get(Z))===null||ie===void 0||ie.resetWidgetSize()}})}),define(re[774],ae([1,0,18,10,6,2,11,3,89,319,321,206]),function($,e,w,C,k,I,L,b,v,u,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rangeStartsWith=e.SuggestWidgetInlineCompletionProvider=void 0;class i extends I.Disposable{constructor(a,s){super();this.editor=a,this.suggestControllerPreselector=s,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new k.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new C.RunOnceScheduler(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(a.onKeyDown(c=>{c.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(a.onKeyUp(c=>{c.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const o=g.SuggestController.get(this.editor);if(o){this._register(o.registerSelector({priority:100,select:(p,_,m)=>{const h=this.editor.getModel(),S=(0,n.minimizeInlineCompletion)(h,this.suggestControllerPreselector());if(!S)return-1;const y=L.Position.lift(_),E=m.map((T,R)=>{const F=l(o,y,T,this.isShiftKeyPressed),O=(0,n.minimizeInlineCompletion)(h,F==null?void 0:F.normalizedInlineCompletion);if(!O)return;const D=t(S.range,O.range)&&S.insertText.startsWith(O.insertText);return{index:R,valid:D,prefixLength:O.insertText.length,suggestItem:T}}).filter(T=>T&&T.valid),N=(0,w.findMaxBy)(E,(0,w.compareBy)(T=>T.prefixLength,w.numberComparator));return N?N.index:-1}}));let c=!1;const f=()=>{c||(c=!0,this._register(o.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(o.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(o.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(k.Event.once(o.model.onDidTrigger)(p=>{f()}))}this.update(this._isActive)}get state(){if(!!this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(a){const s=this.getSuggestItemInfo();let o=!1;r(this._currentSuggestItemInfo,s)||(this._currentSuggestItemInfo=s,o=!0),this._isActive!==a&&(this._isActive=a,o=!0),o&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const a=g.SuggestController.get(this.editor);if(!a||!this.isSuggestWidgetVisible)return;const s=a.widget.value.getFocusedItem();if(!!s)return l(a,this.editor.getPosition(),s.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const a=g.SuggestController.get(this.editor);a&&a.stopForceRenderingAbove()}forceRenderingAbove(){const a=g.SuggestController.get(this.editor);a&&a.forceRenderingAbove()}}e.SuggestWidgetInlineCompletionProvider=i;function t(d,a){return a.startLineNumber===d.startLineNumber&&a.startColumn===d.startColumn&&(a.endLineNumber<d.endLineNumber||a.endLineNumber===d.endLineNumber&&a.endColumn<=d.endColumn)}e.rangeStartsWith=t;function r(d,a){return d===a?!0:!d||!a?!1:d.completionItemKind===a.completionItemKind&&d.isSnippetText===a.isSnippetText&&(0,n.normalizedInlineCompletionsEquals)(d.normalizedInlineCompletion,a.normalizedInlineCompletion)}function l(d,a,s,o){if(Array.isArray(s.completion.additionalTextEdits)&&s.completion.additionalTextEdits.length>0)return{completionItemKind:s.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:b.Range.fromPositions(a,a),insertText:"",filterText:"",snippetInfo:void 0,additionalTextEdits:[]}};let{insertText:c}=s.completion,f=!1;if(s.completion.insertTextRules&4){const _=new v.SnippetParser().parse(c),m=d.editor.getModel();if(_.children.length>100)return;u.SnippetSession.adjustWhitespace(m,a,_,!0,!0),c=_.toString(),f=!0}const p=d.getOverwriteInfo(s,o);return{isSnippetText:f,completionItemKind:s.completion.kind,normalizedInlineCompletion:{insertText:c,filterText:c,range:b.Range.fromPositions(a.delta(0,-p.overwriteBefore),a.delta(0,Math.max(p.overwriteAfter,0))),snippetInfo:void 0,additionalTextEdits:[]}}}}),define(re[775],ae([1,0,10,14,2,28,20,165,320,206,774]),function($,e,w,C,k,I,L,b,v,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetPreviewModel=void 0;let n=class extends b.BaseGhostTextWidgetModel{constructor(r,l,d){super(r);this.cache=l,this.languageFeaturesService=d,this.suggestionInlineCompletionSource=this._register(new g.SuggestWidgetInlineCompletionProvider(this.editor,()=>{var a,s;return(s=(a=this.cache.value)===null||a===void 0?void 0:a.completions[0])===null||s===void 0?void 0:s.toLiveInlineCompletion()})),this.updateOperation=this._register(new k.MutableDisposable),this.updateCacheSoon=this._register(new w.RunOnceScheduler(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{if(!this.editor.hasModel())return;this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const s=this.ghostText;s&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,i(s.parts.map(o=>o.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(a=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register((0,k.toDisposable)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}isSuggestionPreviewEnabled(){return this.editor.getOption(108).preview}updateCache(){return Se(this,void 0,void 0,function*(){const r=this.suggestionInlineCompletionSource.state;if(!r||!r.selectedItem)return;const l={text:r.selectedItem.normalizedInlineCompletion.insertText,range:r.selectedItem.normalizedInlineCompletion.range,isSnippetText:r.selectedItem.isSnippetText,completionKind:r.selectedItem.completionItemKind},d=this.editor.getPosition();if(r.selectedItem.isSnippetText||r.selectedItem.completionItemKind===27||r.selectedItem.completionItemKind===20||r.selectedItem.completionItemKind===23){this.cache.clear();return}const a=(0,w.createCancelablePromise)(o=>Se(this,void 0,void 0,function*(){let c;try{c=yield(0,v.provideInlineCompletions)(this.languageFeaturesService.inlineCompletionsProvider,d,this.editor.getModel(),{triggerKind:I.InlineCompletionTriggerKind.Automatic,selectedSuggestionInfo:l},o)}catch(f){(0,C.onUnexpectedError)(f);return}if(o.isCancellationRequested){c.dispose();return}this.cache.setValue(this.editor,c,I.InlineCompletionTriggerKind.Automatic),this.onDidChangeEmitter.fire()})),s=new v.UpdateOperation(a,I.InlineCompletionTriggerKind.Automatic);this.updateOperation.value=s,yield a,this.updateOperation.value===s&&this.updateOperation.clear()})}get ghostText(){var r,l,d;const a=this.isSuggestionPreviewEnabled(),s=this.editor.getModel(),o=(0,u.minimizeInlineCompletion)(s,(l=(r=this.cache.value)===null||r===void 0?void 0:r.completions[0])===null||l===void 0?void 0:l.toLiveInlineCompletion()),c=this.suggestionInlineCompletionSource.state,f=(0,u.minimizeInlineCompletion)(s,(d=c==null?void 0:c.selectedItem)===null||d===void 0?void 0:d.normalizedInlineCompletion),p=o&&f&&o.insertText.startsWith(f.insertText)&&o.range.equalsRange(f.range);if(!a&&!p)return;const _=p?o:f||o,m=p?_.insertText.length-f.insertText.length:0;return this.toGhostText(_,m)}toGhostText(r,l){const d=this.editor.getOptions().get(108).previewMode;return r?(0,u.inlineCompletionToGhostText)(r,this.editor.getModel(),d,this.editor.getPosition(),l)||new b.GhostText(r.range.endLineNumber,[],this.minReservedLineCount):void 0}};n=ke([me(2,L.ILanguageFeaturesService)],n),e.SuggestWidgetPreviewModel=n;function i(t){return t.reduce((r,l)=>r+l,0)}}),define(re[776],ae([1,0,6,2,11,28,320,775,189,9]),function($,e,w,C,k,I,L,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SharedInlineCompletionCache=e.GhostTextModel=e.DelegatingModel=void 0;class g extends C.Disposable{constructor(){super(...arguments);this.onDidChangeEmitter=new w.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new C.MutableDisposable)}get targetModel(){var r;return(r=this.currentModelRef.value)===null||r===void 0?void 0:r.object}setTargetModel(r){var l;((l=this.currentModelRef.value)===null||l===void 0?void 0:l.object)!==r&&(this.currentModelRef.clear(),this.currentModelRef.value=r?(0,v.createDisposableRef)(r,r.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var r,l;return this.hasCachedGhostText||(this.cachedGhostText=(l=(r=this.currentModelRef.value)===null||r===void 0?void 0:r.object)===null||l===void 0?void 0:l.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(r){var l;(l=this.targetModel)===null||l===void 0||l.setExpanded(r)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}e.DelegatingModel=g;let n=class extends g{constructor(r,l){super();this.editor=r,this.instantiationService=l,this.sharedCache=this._register(new i),this.suggestWidgetAdapterModel=this._register(this.instantiationService.createInstance(b.SuggestWidgetPreviewModel,this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(this.instantiationService.createInstance(L.InlineCompletionsModel,this.editor,this.sharedCache)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(r){var l;const d=(l=this.activeInlineCompletionsModel)===null||l===void 0?void 0:l.ghostText;return d?d.parts.some(a=>r.containsPosition(new k.Position(d.lineNumber,a.column))):!1}triggerInlineCompletion(){var r;(r=this.activeInlineCompletionsModel)===null||r===void 0||r.trigger(I.InlineCompletionTriggerKind.Explicit)}commitInlineCompletion(){var r;(r=this.activeInlineCompletionsModel)===null||r===void 0||r.commitCurrentSuggestion()}hideInlineCompletion(){var r;(r=this.activeInlineCompletionsModel)===null||r===void 0||r.hide()}showNextInlineCompletion(){var r;(r=this.activeInlineCompletionsModel)===null||r===void 0||r.showNext()}showPreviousInlineCompletion(){var r;(r=this.activeInlineCompletionsModel)===null||r===void 0||r.showPrevious()}hasMultipleInlineCompletions(){var r;return Se(this,void 0,void 0,function*(){const l=yield(r=this.activeInlineCompletionsModel)===null||r===void 0?void 0:r.hasMultipleInlineCompletions();return l!==void 0?l:!1})}};n=ke([me(1,u.IInstantiationService)],n),e.GhostTextModel=n;class i extends C.Disposable{constructor(){super(...arguments);this.onDidChangeEmitter=new w.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new C.MutableDisposable)}get value(){return this.cache.value}setValue(r,l,d){this.cache.value=new L.SynchronizedInlineCompletionsCache(l,r,()=>this.onDidChangeEmitter.fire(),d)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}e.SharedInlineCompletionCache=i}),define(re[322],ae([1,0,6,2,8,12,66,24,776,685,577,16,9]),function($,e,w,C,k,I,L,b,v,u,g,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerInlineSuggestionAction=e.ShowPreviousInlineSuggestionAction=e.ShowNextInlineSuggestionAction=e.ActiveGhostTextController=e.GhostTextController=void 0;let t=class on extends C.Disposable{constructor(c,f){super();this.editor=c,this.instantiationService=f,this.triggeredExplicitly=!1,this.activeController=this._register(new C.MutableDisposable),this.activeModelDidChangeEmitter=this._register(new w.Emitter),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(p=>{p.hasChanged(108)&&this.updateModelController(),p.hasChanged(57)&&this.updateModelController()})),this.updateModelController()}static get(c){return c.getContribution(on.ID)}get activeModel(){var c;return(c=this.activeController.value)===null||c===void 0?void 0:c.model}updateModelController(){const c=this.editor.getOption(108),f=this.editor.getOption(57);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(c.preview||f.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(l,this.editor):void 0,this.activeModelDidChangeEmitter.fire()}shouldShowHoverAt(c){var f;return((f=this.activeModel)===null||f===void 0?void 0:f.shouldShowHoverAt(c))||!1}shouldShowHoverAtViewZone(c){var f,p;return((p=(f=this.activeController.value)===null||f===void 0?void 0:f.widget)===null||p===void 0?void 0:p.shouldShowHoverAtViewZone(c))||!1}trigger(){var c;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(c=this.activeModel)===null||c===void 0||c.triggerInlineCompletion()}commit(){var c;(c=this.activeModel)===null||c===void 0||c.commitInlineCompletion()}hide(){var c;(c=this.activeModel)===null||c===void 0||c.hideInlineCompletion()}showNextInlineCompletion(){var c;(c=this.activeModel)===null||c===void 0||c.showNextInlineCompletion()}showPreviousInlineCompletion(){var c;(c=this.activeModel)===null||c===void 0||c.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var c;return Se(this,void 0,void 0,function*(){const f=yield(c=this.activeModel)===null||c===void 0?void 0:c.hasMultipleInlineCompletions();return f!==void 0?f:!1})}};t.inlineSuggestionVisible=new n.RawContextKey("inlineSuggestionVisible",!1,g.localize(0,null)),t.inlineSuggestionHasIndentation=new n.RawContextKey("inlineSuggestionHasIndentation",!1,g.localize(1,null)),t.inlineSuggestionHasIndentationLessThanTabSize=new n.RawContextKey("inlineSuggestionHasIndentationLessThanTabSize",!0,g.localize(2,null)),t.ID="editor.contrib.ghostTextController",t=ke([me(1,i.IInstantiationService)],t),e.GhostTextController=t;class r{constructor(c){this.contextKeyService=c,this.inlineCompletionVisible=t.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=t.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=t.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let l=class extends C.Disposable{constructor(c,f,p){super();this.editor=c,this.instantiationService=f,this.contextKeyService=p,this.contextKeys=new r(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(v.GhostTextModel,this.editor)),this.widget=this._register(this.instantiationService.createInstance(u.GhostTextWidget,this.editor,this.model)),this._register((0,C.toDisposable)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var c;this.contextKeys.inlineCompletionVisible.set(((c=this.model.activeInlineCompletionsModel)===null||c===void 0?void 0:c.ghostText)!==void 0);let f=!1,p=!0;const _=this.model.inlineCompletionsModel.ghostText;if(!!this.model.activeInlineCompletionsModel&&_&&_.parts.length>0){const{column:m,lines:h}=_.parts[0],S=h[0],y=this.editor.getModel().getLineIndentColumn(_.lineNumber);if(m<=y){let N=(0,k.firstNonWhitespaceIndex)(S);N===-1&&(N=S.length-1),f=N>0;const T=this.editor.getModel().getOptions().tabSize;p=L.CursorColumns.visibleColumnFromColumn(S,N+1,T)<T}}this.contextKeys.inlineCompletionSuggestsIndentation.set(f),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(p)}};l=ke([me(1,i.IInstantiationService),me(2,n.IContextKeyService)],l),e.ActiveGhostTextController=l;class d extends I.EditorAction{constructor(){super({id:d.ID,label:g.localize(3,null),alias:"Show Next Inline Suggestion",precondition:n.ContextKeyExpr.and(b.EditorContextKeys.writable,t.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|89}})}run(c,f){return Se(this,void 0,void 0,function*(){const p=t.get(f);p&&(p.showNextInlineCompletion(),f.focus())})}}e.ShowNextInlineSuggestionAction=d,d.ID="editor.action.inlineSuggest.showNext";class a extends I.EditorAction{constructor(){super({id:a.ID,label:g.localize(4,null),alias:"Show Previous Inline Suggestion",precondition:n.ContextKeyExpr.and(b.EditorContextKeys.writable,t.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|87}})}run(c,f){return Se(this,void 0,void 0,function*(){const p=t.get(f);p&&(p.showPreviousInlineCompletion(),f.focus())})}}e.ShowPreviousInlineSuggestionAction=a,a.ID="editor.action.inlineSuggest.showPrevious";class s extends I.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:g.localize(5,null),alias:"Trigger Inline Suggestion",precondition:b.EditorContextKeys.writable})}run(c,f){return Se(this,void 0,void 0,function*(){const p=t.get(f);p&&p.trigger()})}}e.TriggerInlineSuggestionAction=s}),define(re[777],ae([1,0,7,64,2,117,3,37,88,322,578,77,38,26,16,45,188]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsHoverParticipant=e.InlineCompletionsHover=void 0;class a{constructor(c,f,p){this.owner=c,this.range=f,this.controller=p}isValidForHoverAnchor(c){return c.type===1&&this.range.startColumn<=c.range.startColumn&&this.range.endColumn>=c.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}get commands(){var c,f,p;return((p=(f=(c=this.controller.activeModel)===null||c===void 0?void 0:c.activeInlineCompletionsModel)===null||f===void 0?void 0:f.completionSession.value)===null||p===void 0?void 0:p.commands)||[]}}e.InlineCompletionsHover=a;let s=class{constructor(c,f,p,_,m,h,S){this._editor=c,this._commandService=f,this._menuService=p,this._contextKeyService=_,this._languageService=m,this._openerService=h,this.accessibilityService=S,this.hoverOrdinal=3}suggestHoverAnchor(c){const f=u.GhostTextController.get(this._editor);if(!f)return null;const p=c.target;if(p.type===8){const _=p.detail;if(f.shouldShowHoverAtViewZone(_.viewZoneId))return new v.HoverForeignElementAnchor(1e3,this,L.Range.fromPositions(_.positionBefore||_.position,_.positionBefore||_.position))}return p.type===7&&f.shouldShowHoverAt(p.range)?new v.HoverForeignElementAnchor(1e3,this,p.range):p.type===6&&p.detail.mightBeForeignElement&&f.shouldShowHoverAt(p.range)?new v.HoverForeignElementAnchor(1e3,this,p.range):null}computeSync(c,f){const p=u.GhostTextController.get(this._editor);return p&&p.shouldShowHoverAt(c.range)?[new a(this,c.range,p)]:[]}renderHoverParts(c,f){const p=new k.DisposableStore,_=f[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(c,_,p);const m=p.add(this._menuService.createMenu(i.MenuId.InlineCompletionsActions,this._contextKeyService)),h=c.statusBar.addAction({label:g.localize(0,null),commandId:u.ShowNextInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(u.ShowNextInlineSuggestionAction.ID)}),S=c.statusBar.addAction({label:g.localize(1,null),commandId:u.ShowPreviousInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(u.ShowPreviousInlineSuggestionAction.ID)});c.statusBar.addAction({label:g.localize(2,null),commandId:d.inlineSuggestCommitId,run:()=>this._commandService.executeCommand(d.inlineSuggestCommitId)});const y=[h,S];for(const E of y)E.setEnabled(!1);_.hasMultipleSuggestions().then(E=>{for(const N of y)N.setEnabled(E)});for(const E of _.commands)c.statusBar.addAction({label:E.title,commandId:E.id,run:()=>this._commandService.executeCommand(E.id,...E.arguments||[])});for(const[E,N]of m.getActions())for(const T of N)T instanceof i.MenuItemAction&&c.statusBar.addAction({label:T.label,commandId:T.item.id,run:()=>this._commandService.executeCommand(T.item.id)});return p}renderScreenReaderText(c,f,p){var _,m;const h=w.$,S=h("div.hover-row.markdown-hover"),y=w.append(S,h("div.hover-contents")),E=p.add(new I.MarkdownRenderer({editor:this._editor},this._languageService,this._openerService)),N=R=>{p.add(E.onDidRenderAsync(()=>{y.className="hover-contents code-hover-contents",c.onContentsChanged()}));const F=g.localize(3,null),O=p.add(E.render(new C.MarkdownString().appendText(F).appendCodeblock("text",R)));y.replaceChildren(O.element)},T=(m=(_=f.controller.activeModel)===null||_===void 0?void 0:_.inlineCompletionsModel)===null||m===void 0?void 0:m.ghostText;if(T){const R=this._editor.getModel().getLineContent(T.lineNumber);N(T.renderForScreenReader(R))}c.fragment.appendChild(S)}};s=ke([me(1,t.ICommandService),me(2,i.IMenuService),me(3,r.IContextKeyService),me(4,b.ILanguageService),me(5,l.IOpenerService),me(6,n.IAccessibilityService)],s),e.InlineCompletionsHoverParticipant=s}),define(re[778],ae([1,0,12,24,88,188,322,777,16,101]),function($,e,w,C,k,I,L,b,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.commitInlineSuggestionAction=void 0,(0,w.registerEditorContribution)(L.GhostTextController.ID,L.GhostTextController),(0,w.registerEditorAction)(L.TriggerInlineSuggestionAction),(0,w.registerEditorAction)(L.ShowNextInlineSuggestionAction),(0,w.registerEditorAction)(L.ShowPreviousInlineSuggestionAction),k.HoverParticipantRegistry.register(b.InlineCompletionsHoverParticipant);const g=w.EditorCommand.bindToContribution(L.GhostTextController.get);e.commitInlineSuggestionAction=new g({id:I.inlineSuggestCommitId,precondition:L.GhostTextController.inlineSuggestionVisible,handler(n){n.commit(),n.editor.focus()}}),(0,w.registerEditorCommand)(e.commitInlineSuggestionAction),u.KeybindingsRegistry.registerKeybindingRule({primary:2,weight:200,id:e.commitInlineSuggestionAction.id,when:v.ContextKeyExpr.and(e.commitInlineSuggestionAction.precondition,C.EditorContextKeys.tabMovesFocus.toNegated(),L.GhostTextController.inlineSuggestionHasIndentationLessThanTabSize)}),(0,w.registerEditorCommand)(new g({id:"editor.action.inlineSuggest.hide",precondition:L.GhostTextController.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(n){n.hide()}}))}),define(re[323],ae([1,0,9]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWorkspaceTrustManagementService=void 0,e.IWorkspaceTrustManagementService=(0,w.createDecorator)("workspaceTrustManagementService")}),define(re[779],ae([1,0,10,27,64,2,17,8,12,36,35,242,92,37,278,88,217,735,605,30,9,45,85,80,323,392]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f,p,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowExcludeOptions=e.DisableHighlightingOfNonBasicAsciiCharactersAction=e.DisableHighlightingOfInvisibleCharactersAction=e.DisableHighlightingOfAmbiguousCharactersAction=e.DisableHighlightingInStringsAction=e.DisableHighlightingInCommentsAction=e.UnicodeHighlighterHoverParticipant=e.UnicodeHighlighter=e.warningIcon=void 0,e.warningIcon=(0,_.registerIcon)("extensions-warning-message",C.Codicon.warning,s.localize(0,null));let h=class extends I.Disposable{constructor(Z,ie,Y,te){super();this._editor=Z,this._editorWorkerService=ie,this._workspaceTrustService=Y,this._highlighter=null,this._bannerClosed=!1,this._updateState=de=>{if(de&&de.hasMore){if(this._bannerClosed)return;const x=Math.max(de.ambiguousCharacterCount,de.nonBasicAsciiCharacterCount,de.invisibleCharacterCount);let oe;if(de.nonBasicAsciiCharacterCount>=x)oe={message:s.localize(1,null),command:new V};else if(de.ambiguousCharacterCount>=x)oe={message:s.localize(2,null),command:new B};else if(de.invisibleCharacterCount>=x)oe={message:s.localize(3,null),command:new W};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:oe.message,icon:e.warningIcon,actions:[{label:oe.command.shortLabel,href:`command:${oe.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(te.createInstance(a.BannerController,Z)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=Z.getOption(115),this._register(Y.onDidChangeTrust(de=>{this._updateHighlighter()})),this._register(Z.onDidChangeConfiguration(de=>{de.hasChanged(115)&&(this._options=Z.getOption(115),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const Z=S(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([Z.nonBasicASCII,Z.ambiguousCharacters,Z.invisibleCharacters].every(Y=>Y===!1))return;const ie={nonBasicASCII:Z.nonBasicASCII,ambiguousCharacters:Z.ambiguousCharacters,invisibleCharacters:Z.invisibleCharacters,includeComments:Z.includeComments,includeStrings:Z.includeStrings,allowedCodePoints:Object.keys(Z.allowedCharacters).map(Y=>Y.codePointAt(0)),allowedLocales:Object.keys(Z.allowedLocales).map(Y=>Y==="_os"?new Intl.NumberFormat().resolvedOptions().locale:Y==="_vscode"?L.language:Y)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new y(this._editor,ie,this._updateState,this._editorWorkerService):this._highlighter=new E(this._editor,ie,this._updateState)}getDecorationInfo(Z){return this._highlighter?this._highlighter.getDecorationInfo(Z):null}};h.ID="editor.contrib.unicodeHighlighter",h=ke([me(1,i.IEditorWorkerService),me(2,m.IWorkspaceTrustManagementService),me(3,c.IInstantiationService)],h),e.UnicodeHighlighter=h;function S(q,Z){return{nonBasicASCII:Z.nonBasicASCII===u.inUntrustedWorkspace?!q:Z.nonBasicASCII,ambiguousCharacters:Z.ambiguousCharacters,invisibleCharacters:Z.invisibleCharacters,includeComments:Z.includeComments===u.inUntrustedWorkspace?!q:Z.includeComments,includeStrings:Z.includeStrings===u.inUntrustedWorkspace?!q:Z.includeStrings,allowedCharacters:Z.allowedCharacters,allowedLocales:Z.allowedLocales}}let y=class extends I.Disposable{constructor(Z,ie,Y,te){super();this._editor=Z,this._options=ie,this._updateState=Y,this._editorWorkerService=te,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new w.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const Z=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(ie=>{if(this._model.isDisposed()||this._model.getVersionId()!==Z)return;this._updateState(ie);const Y=[];if(!ie.hasMore)for(const te of ie.ranges)Y.push({range:te,options:D.instance.getDecorationFromOptions(this._options)});this._decorations.set(Y)})}getDecorationInfo(Z){if(!this._decorations.has(Z))return null;const ie=this._editor.getModel();if(!(0,r.isModelDecorationVisible)(ie,Z))return null;const Y=ie.getValueInRange(Z.range);return{reason:O(Y,this._options),inComment:(0,r.isModelDecorationInComment)(ie,Z),inString:(0,r.isModelDecorationInString)(ie,Z)}}};y=ke([me(3,i.IEditorWorkerService)],y);class E extends I.Disposable{constructor(Z,ie,Y){super();this._editor=Z,this._options=ie,this._updateState=Y,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new w.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const Z=this._editor.getVisibleRanges(),ie=[],Y={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const te of Z){const de=n.UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model,this._options,te);for(const x of de.ranges)Y.ranges.push(x);Y.ambiguousCharacterCount+=Y.ambiguousCharacterCount,Y.invisibleCharacterCount+=Y.invisibleCharacterCount,Y.nonBasicAsciiCharacterCount+=Y.nonBasicAsciiCharacterCount,Y.hasMore=Y.hasMore||de.hasMore}if(!Y.hasMore)for(const te of Y.ranges)ie.push({range:te,options:D.instance.getDecorationFromOptions(this._options)});this._updateState(Y),this._decorations.set(ie)}getDecorationInfo(Z){if(!this._decorations.has(Z))return null;const ie=this._editor.getModel(),Y=ie.getValueInRange(Z.range);return(0,r.isModelDecorationVisible)(ie,Z)?{reason:O(Y,this._options),inComment:(0,r.isModelDecorationInComment)(ie,Z),inString:(0,r.isModelDecorationInString)(ie,Z)}:null}}let N=class{constructor(Z,ie,Y){this._editor=Z,this._languageService=ie,this._openerService=Y,this.hoverOrdinal=4}computeSync(Z,ie){if(!this._editor.hasModel()||Z.type!==1)return[];const Y=this._editor.getModel(),te=this._editor.getContribution(h.ID);if(!te)return[];const de=[];let x=300;for(const oe of ie){const ne=te.getDecorationInfo(oe);if(!ne)continue;const se=Y.getValueInRange(oe.range).codePointAt(0),z=R(se);let X;switch(ne.reason.kind){case 0:X=s.localize(4,null,z,R(ne.reason.confusableWith.codePointAt(0)));break;case 1:X=s.localize(5,null,z);break;case 2:X=s.localize(6,null,z);break}const G={codePoint:se,reason:ne.reason,inComment:ne.inComment,inString:ne.inString},U=s.localize(7,null),K=`command:${A.ID}?${encodeURIComponent(JSON.stringify(G))}`,ce=new k.MarkdownString("",!0).appendMarkdown(X).appendText(" ").appendLink(K,U);de.push(new d.MarkdownHover(this,oe.range,[ce],x++))}return de}renderHoverParts(Z,ie){return(0,d.renderMarkdownHovers)(Z,ie,this._editor,this._languageService,this._openerService)}};N=ke([me(1,t.ILanguageService),me(2,f.IOpenerService)],N),e.UnicodeHighlighterHoverParticipant=N;function T(q){return`U+${q.toString(16).padStart(4,"0")}`}function R(q){let Z=`\`${T(q)}\``;return b.InvisibleCharacters.isInvisibleCharacter(q)||(Z+=` "${`${F(q)}`}"`),Z}function F(q){return q===96?"`` ` ``":"`"+String.fromCodePoint(q)+"`"}function O(q,Z){return n.UnicodeTextModelHighlighter.computeUnicodeHighlightReason(q,Z)}class D{constructor(){this.map=new Map}getDecorationFromOptions(Z){return this.getDecoration(!Z.includeComments,!Z.includeStrings)}getDecoration(Z,ie){const Y=`${Z}${ie}`;let te=this.map.get(Y);return te||(te=g.ModelDecorationOptions.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:Z,hideInStringTokens:ie}),this.map.set(Y,te)),te}}D.instance=new D;class M extends v.EditorAction{constructor(){super({id:B.ID,label:s.localize(9,null),alias:"Disable highlighting of characters in comments",precondition:void 0});this.shortLabel=s.localize(8,null)}run(Z,ie,Y){return Se(this,void 0,void 0,function*(){const te=Z==null?void 0:Z.get(o.IConfigurationService);te&&this.runAction(te)})}runAction(Z){return Se(this,void 0,void 0,function*(){yield Z.updateValue(u.unicodeHighlightConfigKeys.includeComments,!1,2)})}}e.DisableHighlightingInCommentsAction=M;class P extends v.EditorAction{constructor(){super({id:B.ID,label:s.localize(11,null),alias:"Disable highlighting of characters in strings",precondition:void 0});this.shortLabel=s.localize(10,null)}run(Z,ie,Y){return Se(this,void 0,void 0,function*(){const te=Z==null?void 0:Z.get(o.IConfigurationService);te&&this.runAction(te)})}runAction(Z){return Se(this,void 0,void 0,function*(){yield Z.updateValue(u.unicodeHighlightConfigKeys.includeStrings,!1,2)})}}e.DisableHighlightingInStringsAction=P;class B extends v.EditorAction{constructor(){super({id:B.ID,label:s.localize(13,null),alias:"Disable highlighting of ambiguous characters",precondition:void 0});this.shortLabel=s.localize(12,null)}run(Z,ie,Y){return Se(this,void 0,void 0,function*(){const te=Z==null?void 0:Z.get(o.IConfigurationService);te&&this.runAction(te)})}runAction(Z){return Se(this,void 0,void 0,function*(){yield Z.updateValue(u.unicodeHighlightConfigKeys.ambiguousCharacters,!1,2)})}}e.DisableHighlightingOfAmbiguousCharactersAction=B,B.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class W extends v.EditorAction{constructor(){super({id:W.ID,label:s.localize(15,null),alias:"Disable highlighting of invisible characters",precondition:void 0});this.shortLabel=s.localize(14,null)}run(Z,ie,Y){return Se(this,void 0,void 0,function*(){const te=Z==null?void 0:Z.get(o.IConfigurationService);te&&this.runAction(te)})}runAction(Z){return Se(this,void 0,void 0,function*(){yield Z.updateValue(u.unicodeHighlightConfigKeys.invisibleCharacters,!1,2)})}}e.DisableHighlightingOfInvisibleCharactersAction=W,W.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class V extends v.EditorAction{constructor(){super({id:V.ID,label:s.localize(17,null),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0});this.shortLabel=s.localize(16,null)}run(Z,ie,Y){return Se(this,void 0,void 0,function*(){const te=Z==null?void 0:Z.get(o.IConfigurationService);te&&this.runAction(te)})}runAction(Z){return Se(this,void 0,void 0,function*(){yield Z.updateValue(u.unicodeHighlightConfigKeys.nonBasicASCII,!1,2)})}}e.DisableHighlightingOfNonBasicAsciiCharactersAction=V,V.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class A extends v.EditorAction{constructor(){super({id:A.ID,label:s.localize(18,null),alias:"Show Exclude Options",precondition:void 0})}run(Z,ie,Y){return Se(this,void 0,void 0,function*(){const{codePoint:te,reason:de,inString:x,inComment:oe}=Y,ne=String.fromCodePoint(te),j=Z.get(p.IQuickInputService),se=Z.get(o.IConfigurationService);function z(U){return b.InvisibleCharacters.isInvisibleCharacter(U)?s.localize(19,null,T(U)):s.localize(20,null,`${T(U)} "${ne}"`)}const X=[];if(de.kind===0)for(const U of de.notAmbiguousInLocales)X.push({label:s.localize(21,null,U),run:()=>Se(this,void 0,void 0,function*(){J(se,[U])})});if(X.push({label:z(te),run:()=>Q(se,[te])}),oe){const U=new M;X.push({label:U.label,run:()=>Se(this,void 0,void 0,function*(){return U.runAction(se)})})}else if(x){const U=new P;X.push({label:U.label,run:()=>Se(this,void 0,void 0,function*(){return U.runAction(se)})})}if(de.kind===0){const U=new B;X.push({label:U.label,run:()=>Se(this,void 0,void 0,function*(){return U.runAction(se)})})}else if(de.kind===1){const U=new W;X.push({label:U.label,run:()=>Se(this,void 0,void 0,function*(){return U.runAction(se)})})}else if(de.kind===2){const U=new V;X.push({label:U.label,run:()=>Se(this,void 0,void 0,function*(){return U.runAction(se)})})}else H(de);const G=yield j.pick(X,{title:s.localize(22,null)});G&&(yield G.run())})}}e.ShowExcludeOptions=A,A.ID="editor.action.unicodeHighlight.showExcludeOptions";function Q(q,Z){return Se(this,void 0,void 0,function*(){const ie=q.getValue(u.unicodeHighlightConfigKeys.allowedCharacters);let Y;typeof ie=="object"&&ie?Y=ie:Y={};for(const te of Z)Y[String.fromCodePoint(te)]=!0;yield q.updateValue(u.unicodeHighlightConfigKeys.allowedCharacters,Y,2)})}function J(q,Z){var ie;return Se(this,void 0,void 0,function*(){const Y=(ie=q.inspect(u.unicodeHighlightConfigKeys.allowedLocales).user)===null||ie===void 0?void 0:ie.value;let te;typeof Y=="object"&&Y?te=Object.assign({},Y):te={};for(const de of Z)te[de]=!0;yield q.updateValue(u.unicodeHighlightConfigKeys.allowedLocales,te,2)})}function H(q){throw new Error(`Unexpected value: ${q}`)}(0,v.registerEditorAction)(B),(0,v.registerEditorAction)(W),(0,v.registerEditorAction)(V),(0,v.registerEditorAction)(A),(0,v.registerEditorContribution)(h.ID,h),l.HoverParticipantRegistry.register(N)}),define(re[780],ae([1,0,169,173,311,269,693,740,694,695,696,709,742,763,771,697,698,699,744,772,313,750,702,703,647,778,219,316,314,317,705,766,752,706,707,753,754,755,733,711,713,712,120,321,714,715,307,779,716,757,758,308,717,710,76,149]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(re[220],ae([1,0,8,7,48,6,104,2,17,81,22,138,212,60,11,3,50,58,166,26,30,285,16,139,9,637,42,639,101,287,640,140,39,71,86,176,116,76,44,29,69,323,78,642,654,726,15,53,646,92,290,37,681,209,310,729,309,115,641,77,38,725,643,93,635,208,636,167,171,84,645,45,85,79,658,32,301,288,768,70,628]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f,p,_,m,h,S,y,E,N,T,R,F,O,D,M,P,B,W,V,A,Q,J,H,q,Z,ie,Y,te,de,x,oe,ne,j,se,z,X,G,U,K,ce,ee,ue,fe,Ce,we,ye,De,Me,pe,he,le,ge,_e,Le){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServices=e.updateConfigurationService=e.StandaloneConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.StandaloneNotificationService=void 0;class Ie{constructor(Pe){this.disposed=!1,this.model=Pe,this._onWillDispose=new I.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Ae=class{constructor(Pe){this.modelService=Pe}createModelReference(Pe){const We=this.modelService.getModel(Pe);return We?Promise.resolve(new b.ImmortalReference(new Ie(We))):Promise.reject(new Error("Model not found"))}};Ae=ke([me(0,d.IModelService)],Ae);class Oe{show(){return Oe.NULL_PROGRESS_RUNNER}showWhile(Pe,We){return Se(this,void 0,void 0,function*(){yield Pe})}}Oe.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class be{withProgress(Pe,We,Ue){return We({report:()=>{}})}}class ve{confirm(Pe){return this.doConfirm(Pe).then(We=>({confirmed:We,checkboxChecked:!1}))}doConfirm(Pe){let We=Pe.message;return Pe.detail&&(We=We+`

`+Pe.detail),Promise.resolve(window.confirm(We))}show(Pe,We,Ue,Ke){return Promise.resolve({choice:0})}}class Ee{info(Pe){return this.notify({severity:u.default.Info,message:Pe})}warn(Pe){return this.notify({severity:u.default.Warning,message:Pe})}error(Pe){return this.notify({severity:u.default.Error,message:Pe})}notify(Pe){switch(Pe.severity){case u.default.Error:console.error(Pe.message);break;case u.default.Warning:console.warn(Pe.message);break;default:console.log(Pe.message);break}return Ee.NO_OP}status(Pe,We){return b.Disposable.None}}e.StandaloneNotificationService=Ee,Ee.NO_OP=new F.NoOpNotification;let Re=class{constructor(Pe){this._onWillExecuteCommand=new I.Emitter,this._onDidExecuteCommand=new I.Emitter,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=Pe}executeCommand(Pe,...We){const Ue=o.CommandsRegistry.getCommand(Pe);if(!Ue)return Promise.reject(new Error(`command '${Pe}' not found`));try{this._onWillExecuteCommand.fire({commandId:Pe,args:We});const Ke=this._instantiationService.invokeFunction.apply(this._instantiationService,[Ue.handler,...We]);return this._onDidExecuteCommand.fire({commandId:Pe,args:We}),Promise.resolve(Ke)}catch(Ke){return Promise.reject(Ke)}}};Re=ke([me(0,m.IInstantiationService)],Re),e.StandaloneCommandService=Re;let Te=class extends h.AbstractKeybindingService{constructor(Pe,We,Ue,Ke,et,Ge){super(Pe,We,Ue,Ke,et);this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const it=lt=>{const pt=new b.DisposableStore;pt.add(C.addDisposableListener(lt,C.EventType.KEY_DOWN,St=>{const ft=new k.StandardKeyboardEvent(St);this._dispatch(ft,ft.target)&&(ft.preventDefault(),ft.stopPropagation())})),pt.add(C.addDisposableListener(lt,C.EventType.KEY_UP,St=>{const ft=new k.StandardKeyboardEvent(St);this._singleModifierDispatch(ft,ft.target)&&ft.preventDefault()})),this._domNodeListeners.push(new Be(lt,pt))},st=lt=>{for(let pt=0;pt<this._domNodeListeners.length;pt++){const St=this._domNodeListeners[pt];St.domNode===lt&&(this._domNodeListeners.splice(pt,1),St.dispose())}},gt=lt=>{lt.getOption(56)||it(lt.getContainerDomNode())},ct=lt=>{lt.getOption(56)||st(lt.getContainerDomNode())};this._register(Ge.onCodeEditorAdd(gt)),this._register(Ge.onCodeEditorRemove(ct)),Ge.listCodeEditors().forEach(gt);const ht=lt=>{it(lt.getContainerDomNode())},dt=lt=>{st(lt.getContainerDomNode())};this._register(Ge.onDiffEditorAdd(ht)),this._register(Ge.onDiffEditorRemove(dt)),Ge.listDiffEditors().forEach(ht)}addDynamicKeybinding(Pe,We,Ue,Ke){return(0,b.combinedDisposable)(o.CommandsRegistry.registerCommand(Pe,Ue),this.addDynamicKeybindings([{keybinding:We,command:Pe,when:Ke}]))}addDynamicKeybindings(Pe){const We=Pe.map(Ue=>{var Ke,et;const Ge=(0,L.createKeybinding)(Ue.keybinding,v.OS);return{keybinding:(Ke=Ge==null?void 0:Ge.parts)!==null&&Ke!==void 0?Ke:null,command:(et=Ue.command)!==null&&et!==void 0?et:null,commandArgs:Ue.commandArgs,when:Ue.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(We),this.updateResolver(),(0,b.toDisposable)(()=>{for(let Ue=0;Ue<this._dynamicKeybindings.length;Ue++)if(this._dynamicKeybindings[Ue]===We[0]){this._dynamicKeybindings.splice(Ue,We.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const Pe=this._toNormalizedKeybindingItems(E.KeybindingsRegistry.getDefaultKeybindings(),!0),We=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new y.KeybindingResolver(Pe,We,Ue=>this._log(Ue))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(Pe,We){const Ue=[];let Ke=0;for(const et of Pe){const Ge=et.when||void 0,it=et.keybinding;if(!it)Ue[Ke++]=new N.ResolvedKeybindingItem(void 0,et.command,et.commandArgs,Ge,We,null,!1);else{const st=T.USLayoutResolvedKeybinding.resolveUserBinding(it,v.OS);for(const gt of st)Ue[Ke++]=new N.ResolvedKeybindingItem(gt,et.command,et.commandArgs,Ge,We,null,!1)}}return Ue}resolveKeyboardEvent(Pe){const We=new L.SimpleKeybinding(Pe.ctrlKey,Pe.shiftKey,Pe.altKey,Pe.metaKey,Pe.keyCode).toChord();return new T.USLayoutResolvedKeybinding(We,v.OS)}};Te=ke([me(0,p.IContextKeyService),me(1,o.ICommandService),me(2,D.ITelemetryService),me(3,F.INotificationService),me(4,A.ILogService),me(5,V.ICodeEditorService)],Te),e.StandaloneKeybindingService=Te;class Be extends b.Disposable{constructor(Pe,We){super();this.domNode=Pe,this._register(We)}}function xe(je){return je&&typeof je=="object"&&(!je.overrideIdentifier||typeof je.overrideIdentifier=="string")&&(!je.resource||je.resource instanceof g.URI)}class qe{constructor(){this._onDidChangeConfiguration=new I.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new f.Configuration(new Le.DefaultConfigurationModel,new f.ConfigurationModel,new f.ConfigurationModel,new f.ConfigurationModel)}getValue(Pe,We){const Ue=typeof Pe=="string"?Pe:void 0,Ke=xe(Pe)?Pe:xe(We)?We:{};return this._configuration.getValue(Ue,Ke,void 0)}updateValues(Pe){const We={data:this._configuration.toData()},Ue=[];for(const Ke of Pe){const[et,Ge]=Ke;this.getValue(et)!==Ge&&(this._configuration.updateValue(et,Ge),Ue.push(et))}if(Ue.length>0){const Ke=new f.ConfigurationChangeEvent({keys:Ue,overrides:[]},We,this._configuration);Ke.source=8,Ke.sourceConfig=null,this._onDidChangeConfiguration.fire(Ke)}return Promise.resolve()}updateValue(Pe,We,Ue,Ke){return this.updateValues([[Pe,We]])}inspect(Pe,We={}){return this._configuration.inspect(Pe,We,void 0)}}e.StandaloneConfigurationService=qe;let Ze=class{constructor(Pe){this.configurationService=Pe,this._onDidChangeConfiguration=new I.Emitter,this.configurationService.onDidChangeConfiguration(We=>{this._onDidChangeConfiguration.fire({affectedKeys:We.affectedKeys,affectsConfiguration:(Ue,Ke)=>We.affectsConfiguration(Ke)})})}getValue(Pe,We,Ue){const et=(r.Position.isIPosition(We)?We:null)?typeof Ue=="string"?Ue:void 0:typeof We=="string"?We:void 0;return typeof et=="undefined"?this.configurationService.getValue():this.configurationService.getValue(et)}};Ze=ke([me(0,c.IConfigurationService)],Ze);let nt=class{constructor(Pe){this.configurationService=Pe}getEOL(Pe,We){const Ue=this.configurationService.getValue("files.eol",{overrideIdentifier:We,resource:Pe});return Ue&&typeof Ue=="string"&&Ue!=="auto"?Ue:v.isLinux||v.isMacintosh?`
`:`\r
`}};nt=ke([me(0,c.IConfigurationService)],nt);class ot{publicLog(Pe,We){return Promise.resolve(void 0)}publicLog2(Pe,We){return this.publicLog(Pe,We)}}class ze{constructor(){const Pe=g.URI.from({scheme:ze.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new M.WorkspaceFolder({uri:Pe,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(Pe){return Pe&&Pe.scheme===ze.SCHEME?this.workspace.folders[0]:null}}ze.SCHEME="inmemory";function Ne(je,Pe,We){if(!Pe||!(je instanceof qe))return;const Ue=[];Object.keys(Pe).forEach(Ke=>{(0,i.isEditorConfigurationKey)(Ke)&&Ue.push([`editor.${Ke}`,Pe[Ke]]),We&&(0,i.isDiffEditorConfigurationKey)(Ke)&&Ue.push([`diffEditor.${Ke}`,Pe[Ke]])}),Ue.length>0&&je.updateValues(Ue)}e.updateConfigurationService=Ne;let Fe=class{constructor(Pe){this._modelService=Pe}hasPreviewHandler(){return!1}apply(Pe,We){return Se(this,void 0,void 0,function*(){const Ue=new Map;for(const Ge of Pe){if(!(Ge instanceof n.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const it=this._modelService.getModel(Ge.resource);if(!it)throw new Error("bad edit - model not found");if(typeof Ge.versionId=="number"&&it.getVersionId()!==Ge.versionId)throw new Error("bad state - model changed in the meantime");let st=Ue.get(it);st||(st=[],Ue.set(it,st)),st.push(t.EditOperation.replaceMove(l.Range.lift(Ge.textEdit.range),Ge.textEdit.text))}let Ke=0,et=0;for(const[Ge,it]of Ue)Ge.pushStackElement(),Ge.pushEditOperations([],it,()=>[]),Ge.pushStackElement(),et+=1,Ke+=it.length;return{ariaSummary:w.format(B.StandaloneServicesNLS.bulkEditServiceSummary,Ke,et)}})}};Fe=ke([me(0,d.IModelService)],Fe);class He{getUriLabel(Pe,We){return Pe.scheme==="file"?Pe.fsPath:Pe.path}getUriBasenameLabel(Pe){return(0,W.basename)(Pe)}}let Ve=class extends H.ContextViewService{constructor(Pe,We){super(Pe);this._codeEditorService=We}showContextView(Pe,We,Ue){if(!We){const Ke=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();Ke&&(We=Ke.getContainerDomNode())}return super.showContextView(Pe,We,Ue)}};Ve=ke([me(0,P.ILayoutService),me(1,V.ICodeEditorService)],Ve);class Je{constructor(){this._neverEmitter=new I.Emitter,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class Qe extends q.LanguageService{constructor(){super()}}class Ye extends A.LogService{constructor(){super(new A.ConsoleLogger)}}let tt=class extends Z.ContextMenuService{constructor(Pe,We,Ue,Ke,et){super(Pe,We,Ue,Ke,et);this.configure({blockMouse:!1})}};tt=ke([me(0,D.ITelemetryService),me(1,F.INotificationService),me(2,J.IContextViewService),me(3,S.IKeybindingService),me(4,ie.IThemeService)],tt),(0,Y.registerSingleton)(c.IConfigurationService,qe),(0,Y.registerSingleton)(s.ITextResourceConfigurationService,Ze),(0,Y.registerSingleton)(s.ITextResourcePropertiesService,nt),(0,Y.registerSingleton)(M.IWorkspaceContextService,ze),(0,Y.registerSingleton)(R.ILabelService,He),(0,Y.registerSingleton)(D.ITelemetryService,ot),(0,Y.registerSingleton)(_.IDialogService,ve),(0,Y.registerSingleton)(F.INotificationService,Ee),(0,Y.registerSingleton)(pe.IMarkerService,he.MarkerService),(0,Y.registerSingleton)(oe.ILanguageService,Qe),(0,Y.registerSingleton)(G.IStandaloneThemeService,X.StandaloneThemeService),(0,Y.registerSingleton)(A.ILogService,Ye),(0,Y.registerSingleton)(d.IModelService,se.ModelService),(0,Y.registerSingleton)(j.IMarkerDecorationsService,ne.MarkerDecorationsService),(0,Y.registerSingleton)(p.IContextKeyService,Ce.ContextKeyService),(0,Y.registerSingleton)(O.IProgressService,be),(0,Y.registerSingleton)(O.IEditorProgressService,Oe),(0,Y.registerSingleton)(_e.IStorageService,_e.InMemoryStorageService),(0,Y.registerSingleton)(de.IEditorWorkerService,x.EditorWorkerService),(0,Y.registerSingleton)(n.IBulkEditService,Fe),(0,Y.registerSingleton)(Q.IWorkspaceTrustManagementService,Je),(0,Y.registerSingleton)(a.ITextModelService,Ae),(0,Y.registerSingleton)(K.IAccessibilityService,U.AccessibilityService),(0,Y.registerSingleton)(Me.IListService,Me.ListService),(0,Y.registerSingleton)(o.ICommandService,Re),(0,Y.registerSingleton)(S.IKeybindingService,Te),(0,Y.registerSingleton)(ge.IQuickInputService,z.StandaloneQuickInputService),(0,Y.registerSingleton)(J.IContextViewService,Ve),(0,Y.registerSingleton)(le.IOpenerService,te.OpenerService),(0,Y.registerSingleton)(fe.IClipboardService,ue.BrowserClipboardService),(0,Y.registerSingleton)(J.IContextMenuService,tt),(0,Y.registerSingleton)(ce.IMenuService,ee.MenuService);var $e;(function(je){const Pe=new De.ServiceCollection;for(const[Ge,it]of(0,Y.getSingletonServiceDescriptors)())Pe.set(Ge,it);const We=new ye.InstantiationService(Pe,!0);Pe.set(m.IInstantiationService,We);function Ue(Ge){const it=Pe.get(Ge);if(!it)throw new Error("Missing service "+Ge);return it instanceof we.SyncDescriptor?We.invokeFunction(st=>st.get(Ge)):it}je.get=Ue;let Ke=!1;function et(Ge){if(Ke)return We;Ke=!0;for(const[it,st]of(0,Y.getSingletonServiceDescriptors)())Pe.get(it)||Pe.set(it,st);for(const it in Ge)if(Ge.hasOwnProperty(it)){const st=(0,m.createDecorator)(it);Pe.get(st)instanceof we.SyncDescriptor&&Pe.set(st,Ge[it])}return We}je.initialize=et})($e=e.StandaloneServices||(e.StandaloneServices={}))}),define(re[781],ae([1,0,49,2,29,173,311,234,92,220,115,38,26,30,16,78,9,42,39,15,77,76,93,71,50,37,301,72,32,20]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f,p,_,m,h,S,y,E,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextModel=e.StandaloneDiffEditor=e.StandaloneEditor=e.StandaloneCodeEditor=void 0;let T=0,R=!1;function F(W){if(!W){if(R)return;R=!0}w.setARIAContainer(W||document.body)}let O=class extends I.CodeEditorWidget{constructor(V,A,Q,J,H,q,Z,ie,Y,te,de,x){const oe=Object.assign({},A);oe.ariaLabel=oe.ariaLabel||f.StandaloneCodeEditorNLS.editorViewAccessibleLabel,oe.ariaLabel=oe.ariaLabel+";"+f.StandaloneCodeEditorNLS.accessibilityHelpMessage;super(V,oe,{},Q,J,H,q,ie,Y,te,de,x);Z instanceof u.StandaloneKeybindingService?this._standaloneKeybindingService=Z:this._standaloneKeybindingService=null,F(oe.ariaContainerElement)}addCommand(V,A,Q){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const J="DYNAMIC_"+ ++T,H=r.ContextKeyExpr.deserialize(Q);return this._standaloneKeybindingService.addDynamicKeybinding(J,V,A,H),J}createContextKey(V,A){return this._contextKeyService.createKey(V,A)}addAction(V){if(typeof V.id!="string"||typeof V.label!="string"||typeof V.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),C.Disposable.None;const A=V.id,Q=V.label,J=r.ContextKeyExpr.and(r.ContextKeyExpr.equals("editorId",this.getId()),r.ContextKeyExpr.deserialize(V.precondition)),H=V.keybindings,q=r.ContextKeyExpr.and(J,r.ContextKeyExpr.deserialize(V.keybindingContext)),Z=V.contextMenuGroupId||null,ie=V.contextMenuOrder||0,Y=(oe,...ne)=>Promise.resolve(V.run(this,...ne)),te=new C.DisposableStore,de=this.getId()+":"+A;if(te.add(i.CommandsRegistry.registerCommand(de,Y)),Z){const oe={command:{id:de,title:Q},when:J,group:Z,order:ie};te.add(n.MenuRegistry.appendMenuItem(n.MenuId.EditorContext,oe))}if(Array.isArray(H))for(const oe of H)te.add(this._standaloneKeybindingService.addDynamicKeybinding(de,oe,Y,q));const x=new b.InternalEditorAction(de,Q,Q,J,Y,this._contextKeyService);return this._actions[A]=x,te.add((0,C.toDisposable)(()=>{delete this._actions[A]})),te}_triggerCommand(V,A){if(this._codeEditorService instanceof S.StandaloneCodeEditorService)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(V,A)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(V,A)}};O=ke([me(2,d.IInstantiationService),me(3,k.ICodeEditorService),me(4,i.ICommandService),me(5,r.IContextKeyService),me(6,a.IKeybindingService),me(7,o.IThemeService),me(8,s.INotificationService),me(9,c.IAccessibilityService),me(10,E.ILanguageConfigurationService),me(11,N.ILanguageFeaturesService)],O),e.StandaloneCodeEditor=O;let D=class extends O{constructor(V,A,Q,J,H,q,Z,ie,Y,te,de,x,oe,ne,j){const se=Object.assign({},A);(0,u.updateConfigurationService)(te,se,!1);const z=ie.registerEditorContainer(V);typeof se.theme=="string"&&ie.setTheme(se.theme),typeof se.autoDetectHighContrast!="undefined"&&ie.setAutoDetectHighContrast(Boolean(se.autoDetectHighContrast));const X=se.model;delete se.model;super(V,se,Q,J,H,q,Z,ie,Y,de,ne,j);this._configurationService=te,this._standaloneThemeService=ie,this._register(z);let G;if(typeof X=="undefined"){const U=oe.getLanguageIdByMimeType(se.language)||se.language||y.PLAINTEXT_LANGUAGE_ID;G=P(x,oe,se.value||"",U,void 0),this._ownsModel=!0}else G=X,this._ownsModel=!1;if(this._attachModel(G),G){const U={oldModelUrl:null,newModelUrl:G.uri};this._onDidChangeModel.fire(U)}}dispose(){super.dispose()}updateOptions(V){(0,u.updateConfigurationService)(this._configurationService,V,!1),typeof V.theme=="string"&&this._standaloneThemeService.setTheme(V.theme),typeof V.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(V.autoDetectHighContrast)),super.updateOptions(V)}_postDetachModelCleanup(V){super._postDetachModelCleanup(V),V&&this._ownsModel&&(V.dispose(),this._ownsModel=!1)}};D=ke([me(2,d.IInstantiationService),me(3,k.ICodeEditorService),me(4,i.ICommandService),me(5,r.IContextKeyService),me(6,a.IKeybindingService),me(7,g.IStandaloneThemeService),me(8,s.INotificationService),me(9,t.IConfigurationService),me(10,c.IAccessibilityService),me(11,m.IModelService),me(12,h.ILanguageService),me(13,E.ILanguageConfigurationService),me(14,N.ILanguageFeaturesService)],D),e.StandaloneEditor=D;let M=class extends L.DiffEditorWidget{constructor(V,A,Q,J,H,q,Z,ie,Y,te,de,x){const oe=Object.assign({},A);(0,u.updateConfigurationService)(Y,oe,!0);const ne=Z.registerEditorContainer(V);typeof oe.theme=="string"&&Z.setTheme(oe.theme),typeof oe.autoDetectHighContrast!="undefined"&&Z.setAutoDetectHighContrast(Boolean(oe.autoDetectHighContrast));super(V,oe,{},x,H,J,Q,q,Z,ie,te,de);this._configurationService=Y,this._standaloneThemeService=Z,this._register(ne)}dispose(){super.dispose()}updateOptions(V){(0,u.updateConfigurationService)(this._configurationService,V,!0),typeof V.theme=="string"&&this._standaloneThemeService.setTheme(V.theme),typeof V.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(V.autoDetectHighContrast)),super.updateOptions(V)}_createInnerEditor(V,A,Q){return V.createInstance(O,A,Q)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(V,A,Q){return this.getModifiedEditor().addCommand(V,A,Q)}createContextKey(V,A){return this.getModifiedEditor().createContextKey(V,A)}addAction(V){return this.getModifiedEditor().addAction(V)}};M=ke([me(2,d.IInstantiationService),me(3,r.IContextKeyService),me(4,v.IEditorWorkerService),me(5,k.ICodeEditorService),me(6,g.IStandaloneThemeService),me(7,s.INotificationService),me(8,t.IConfigurationService),me(9,l.IContextMenuService),me(10,_.IEditorProgressService),me(11,p.IClipboardService)],M),e.StandaloneDiffEditor=M;function P(W,V,A,Q,J){if(A=A||"",!Q){const H=A.indexOf(`
`);let q=A;return H!==-1&&(q=A.substring(0,H)),B(W,A,V.createByFilepathOrFirstLine(J||null,q),J)}return B(W,A,V.createById(Q),J)}e.createTextModel=P;function B(W,V,A,Q){return W.createModel(V,A,Q)}}),define(re[782],ae([1,0,2,8,277,29,269,36,207,154,46,28,32,136,37,50,650,159,630,781,220,115,26,84,42,12,38,16,398]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l,d,a,s,o,c,f,p,_,m,h,S,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoEditorAPI=e.registerCommand=e.remeasureFonts=e.setTheme=e.defineTheme=e.tokenize=e.colorizeModelLine=e.colorize=e.colorizeElement=e.createWebWorker=e.onDidChangeModelLanguage=e.onWillDisposeModel=e.onDidCreateModel=e.getModels=e.getModel=e.onDidChangeMarkers=e.getModelMarkers=e.removeAllMarkers=e.setModelMarkers=e.setModelLanguage=e.createModel=e.addKeybindingRules=e.addKeybindingRule=e.addEditorAction=e.addCommand=e.createDiffNavigator=e.createDiffEditor=e.getDiffEditors=e.getEditors=e.onDidCreateDiffEditor=e.onDidCreateEditor=e.create=void 0;function E(ee,ue,fe){return c.StandaloneServices.initialize(fe||{}).createInstance(o.StandaloneEditor,ee,ue)}e.create=E;function N(ee){return c.StandaloneServices.get(I.ICodeEditorService).onCodeEditorAdd(fe=>{ee(fe)})}e.onDidCreateEditor=N;function T(ee){return c.StandaloneServices.get(I.ICodeEditorService).onDiffEditorAdd(fe=>{ee(fe)})}e.onDidCreateDiffEditor=T;function R(){return c.StandaloneServices.get(I.ICodeEditorService).listCodeEditors()}e.getEditors=R;function F(){return c.StandaloneServices.get(I.ICodeEditorService).listDiffEditors()}e.getDiffEditors=F;function O(ee,ue,fe){return c.StandaloneServices.initialize(fe||{}).createInstance(o.StandaloneDiffEditor,ee,ue)}e.createDiffEditor=O;function D(ee,ue){return new L.DiffNavigator(ee,ue)}e.createDiffNavigator=D;function M(ee){if(typeof ee.id!="string"||typeof ee.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return p.CommandsRegistry.registerCommand(ee.id,ee.run)}e.addCommand=M;function P(ee){if(typeof ee.id!="string"||typeof ee.label!="string"||typeof ee.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const ue=y.ContextKeyExpr.deserialize(ee.precondition),fe=(we,...ye)=>h.EditorCommand.runEditorCommand(we,ye,ue,(De,Me,pe)=>Promise.resolve(ee.run(Me,...pe))),Ce=new w.DisposableStore;if(Ce.add(p.CommandsRegistry.registerCommand(ee.id,fe)),ee.contextMenuGroupId){const we={command:{id:ee.id,title:ee.label},when:ue,group:ee.contextMenuGroupId,order:ee.contextMenuOrder||0};Ce.add(S.MenuRegistry.appendMenuItem(S.MenuId.EditorContext,we))}if(Array.isArray(ee.keybindings)){const we=c.StandaloneServices.get(m.IKeybindingService);if(!(we instanceof c.StandaloneKeybindingService))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const ye=y.ContextKeyExpr.and(ue,y.ContextKeyExpr.deserialize(ee.keybindingContext));Ce.add(we.addDynamicKeybindings(ee.keybindings.map(De=>({keybinding:De,command:ee.id,when:ye}))))}}return Ce}e.addEditorAction=P;function B(ee){return W([ee])}e.addKeybindingRule=B;function W(ee){const ue=c.StandaloneServices.get(m.IKeybindingService);return ue instanceof c.StandaloneKeybindingService?ue.addDynamicKeybindings(ee.map(fe=>({keybinding:fe.keybinding,command:fe.command,commandArgs:fe.commandArgs,when:y.ContextKeyExpr.deserialize(fe.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),w.Disposable.None)}e.addKeybindingRules=W;function V(ee,ue,fe){const Ce=c.StandaloneServices.get(r.ILanguageService),we=Ce.getLanguageIdByMimeType(ue)||ue;return(0,o.createTextModel)(c.StandaloneServices.get(l.IModelService),Ce,ee,we,fe)}e.createModel=V;function A(ee,ue){const fe=c.StandaloneServices.get(r.ILanguageService);c.StandaloneServices.get(l.IModelService).setMode(ee,fe.createById(ue))}e.setModelLanguage=A;function Q(ee,ue,fe){ee&&c.StandaloneServices.get(_.IMarkerService).changeOne(ue,ee.uri,fe)}e.setModelMarkers=Q;function J(ee){c.StandaloneServices.get(_.IMarkerService).changeAll(ee,[])}e.removeAllMarkers=J;function H(ee){return c.StandaloneServices.get(_.IMarkerService).read(ee)}e.getModelMarkers=H;function q(ee){return c.StandaloneServices.get(_.IMarkerService).onMarkerChanged(ee)}e.onDidChangeMarkers=q;function Z(ee){return c.StandaloneServices.get(l.IModelService).getModel(ee)}e.getModel=Z;function ie(){return c.StandaloneServices.get(l.IModelService).getModels()}e.getModels=ie;function Y(ee){return c.StandaloneServices.get(l.IModelService).onModelAdded(ee)}e.onDidCreateModel=Y;function te(ee){return c.StandaloneServices.get(l.IModelService).onModelRemoved(ee)}e.onWillDisposeModel=te;function de(ee){return c.StandaloneServices.get(l.IModelService).onModelLanguageChanged(fe=>{ee({model:fe.model,oldLanguage:fe.oldLanguageId})})}e.onDidChangeModelLanguage=de;function x(ee){return(0,d.createWebWorker)(c.StandaloneServices.get(l.IModelService),c.StandaloneServices.get(i.ILanguageConfigurationService),ee)}e.createWebWorker=x;function oe(ee,ue){const fe=c.StandaloneServices.get(r.ILanguageService),Ce=c.StandaloneServices.get(f.IStandaloneThemeService);return Ce.registerEditorContainer(ee),s.Colorizer.colorizeElement(Ce,fe,ee,ue)}e.colorizeElement=oe;function ne(ee,ue,fe){const Ce=c.StandaloneServices.get(r.ILanguageService);return c.StandaloneServices.get(f.IStandaloneThemeService).registerEditorContainer(document.body),s.Colorizer.colorize(Ce,ee,ue,fe)}e.colorize=ne;function j(ee,ue,fe=4){return c.StandaloneServices.get(f.IStandaloneThemeService).registerEditorContainer(document.body),s.Colorizer.colorizeModelLine(ee,ue,fe)}e.colorizeModelLine=j;function se(ee){const ue=n.TokenizationRegistry.get(ee);return ue||{getInitialState:()=>t.NullState,tokenize:(fe,Ce,we)=>(0,t.nullTokenize)(ee,we)}}function z(ee,ue){n.TokenizationRegistry.getOrCreate(ue);const fe=se(ue),Ce=(0,C.splitLines)(ee),we=[];let ye=fe.getInitialState();for(let De=0,Me=Ce.length;De<Me;De++){const pe=Ce[De],he=fe.tokenize(pe,!0,ye);we[De]=he.tokens,ye=he.endState}return we}e.tokenize=z;function X(ee,ue){c.StandaloneServices.get(f.IStandaloneThemeService).defineTheme(ee,ue)}e.defineTheme=X;function G(ee){c.StandaloneServices.get(f.IStandaloneThemeService).setTheme(ee)}e.setTheme=G;function U(){k.FontMeasurements.clearAllFontInfos()}e.remeasureFonts=U;function K(ee,ue){return p.CommandsRegistry.registerCommand({id:ee,handler:ue})}e.registerCommand=K;function ce(){return{create:E,getEditors:R,getDiffEditors:F,onDidCreateEditor:N,onDidCreateDiffEditor:T,createDiffEditor:O,createDiffNavigator:D,addCommand:M,addEditorAction:P,addKeybindingRule:B,addKeybindingRules:W,createModel:V,setModelLanguage:A,setModelMarkers:Q,getModelMarkers:H,removeAllMarkers:J,onDidChangeMarkers:q,getModels:ie,getModel:Z,onDidCreateModel:Y,onWillDisposeModel:te,onDidChangeModelLanguage:de,createWebWorker:x,colorizeElement:oe,colorize:ne,colorizeModelLine:j,tokenize:z,defineTheme:X,setTheme:G,remeasureFonts:U,registerCommand:K,AccessibilitySupport:a.AccessibilitySupport,ContentWidgetPositionPreference:a.ContentWidgetPositionPreference,CursorChangeReason:a.CursorChangeReason,DefaultEndOfLine:a.DefaultEndOfLine,EditorAutoIndentStrategy:a.EditorAutoIndentStrategy,EditorOption:a.EditorOption,EndOfLinePreference:a.EndOfLinePreference,EndOfLineSequence:a.EndOfLineSequence,MinimapPosition:a.MinimapPosition,MouseTargetType:a.MouseTargetType,OverlayWidgetPositionPreference:a.OverlayWidgetPositionPreference,OverviewRulerLane:a.OverviewRulerLane,RenderLineNumbersType:a.RenderLineNumbersType,RenderMinimap:a.RenderMinimap,ScrollbarVisibility:a.ScrollbarVisibility,ScrollType:a.ScrollType,TextEditorCursorBlinkingStyle:a.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:a.TextEditorCursorStyle,TrackedRangeStickiness:a.TrackedRangeStickiness,WrappingIndent:a.WrappingIndent,InjectedTextCursorStops:a.InjectedTextCursorStops,PositionAffinity:a.PositionAffinity,ConfigurationChangedEvent:b.ConfigurationChangedEvent,BareFontInfo:v.BareFontInfo,FontInfo:v.FontInfo,TextModelResolvedOptions:g.TextModelResolvedOptions,FindMatch:g.FindMatch,ApplyUpdateResult:b.ApplyUpdateResult,EditorType:u.EditorType,EditorOptions:b.EditorOptions}}e.createMonacoEditorAPI=ce}),define(re[783],ae([1,0,31,3,28,32,72,37,159,220,461,284,115,84,20,30]),function($,e,w,C,k,I,L,b,v,u,g,n,i,t,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoLanguagesAPI=e.registerInlayHintsProvider=e.registerInlineCompletionsProvider=e.registerDocumentRangeSemanticTokensProvider=e.registerDocumentSemanticTokensProvider=e.registerSelectionRangeProvider=e.registerDeclarationProvider=e.registerFoldingRangeProvider=e.registerColorProvider=e.registerCompletionItemProvider=e.registerLinkProvider=e.registerOnTypeFormattingEditProvider=e.registerDocumentRangeFormattingEditProvider=e.registerDocumentFormattingEditProvider=e.registerCodeActionProvider=e.registerCodeLensProvider=e.registerTypeDefinitionProvider=e.registerImplementationProvider=e.registerDefinitionProvider=e.registerLinkedEditingRangeProvider=e.registerDocumentHighlightProvider=e.registerDocumentSymbolProvider=e.registerHoverProvider=e.registerSignatureHelpProvider=e.registerRenameProvider=e.registerReferenceProvider=e.setMonarchTokensProvider=e.setTokensProvider=e.registerTokensProviderFactory=e.setColorMap=e.TokenizationSupportAdapter=e.EncodedTokenizationSupportAdapter=e.setLanguageConfiguration=e.onLanguage=e.getEncodedLanguageId=e.getLanguages=e.register=void 0;function d(G){L.ModesRegistry.registerLanguage(G)}e.register=d;function a(){let G=[];return G=G.concat(L.ModesRegistry.getLanguages()),G}e.getLanguages=a;function s(G){return u.StandaloneServices.get(b.ILanguageService).languageIdCodec.encodeLanguageId(G)}e.getEncodedLanguageId=s;function o(G,U){const ce=u.StandaloneServices.get(b.ILanguageService).onDidEncounterLanguage(ee=>{ee===G&&(ce.dispose(),U())});return ce}e.onLanguage=o;function c(G,U){if(!u.StandaloneServices.get(b.ILanguageService).isRegisteredLanguageId(G))throw new Error(`Cannot set configuration for unknown language ${G}`);return u.StandaloneServices.get(I.ILanguageConfigurationService).register(G,U,100)}e.setLanguageConfiguration=c;class f{constructor(U,K){this._languageId=U,this._actual=K}getInitialState(){return this._actual.getInitialState()}tokenize(U,K,ce){if(typeof this._actual.tokenize=="function")return p.adaptTokenize(this._languageId,this._actual,U,ce);throw new Error("Not supported!")}tokenizeEncoded(U,K,ce){const ee=this._actual.tokenizeEncoded(U,ce);return new k.EncodedTokenizationResult(ee.tokens,ee.endState)}}e.EncodedTokenizationSupportAdapter=f;class p{constructor(U,K,ce,ee){this._languageId=U,this._actual=K,this._languageService=ce,this._standaloneThemeService=ee}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(U,K){const ce=[];let ee=0;for(let ue=0,fe=U.length;ue<fe;ue++){const Ce=U[ue];let we=Ce.startIndex;ue===0?we=0:we<ee&&(we=ee),ce[ue]=new k.Token(we,Ce.scopes,K),ee=we}return ce}static adaptTokenize(U,K,ce,ee){const ue=K.tokenize(ce,ee),fe=p._toClassicTokens(ue.tokens,U);let Ce;return ue.endState.equals(ee)?Ce=ee:Ce=ue.endState,new k.TokenizationResult(fe,Ce)}tokenize(U,K,ce){return p.adaptTokenize(this._languageId,this._actual,U,ce)}_toBinaryTokens(U,K){const ce=U.encodeLanguageId(this._languageId),ee=this._standaloneThemeService.getColorTheme().tokenTheme,ue=[];let fe=0,Ce=0;for(let ye=0,De=K.length;ye<De;ye++){const Me=K[ye],pe=ee.match(ce,Me.scopes);if(fe>0&&ue[fe-1]===pe)continue;let he=Me.startIndex;ye===0?he=0:he<Ce&&(he=Ce),ue[fe++]=he,ue[fe++]=pe,Ce=he}const we=new Uint32Array(fe);for(let ye=0;ye<fe;ye++)we[ye]=ue[ye];return we}tokenizeEncoded(U,K,ce){const ee=this._actual.tokenize(U,ce),ue=this._toBinaryTokens(this._languageService.languageIdCodec,ee.tokens);let fe;return ee.endState.equals(ce)?fe=ce:fe=ee.endState,new k.EncodedTokenizationResult(ue,fe)}}e.TokenizationSupportAdapter=p;function _(G){return typeof G.getInitialState=="function"}function m(G){return"tokenizeEncoded"in G}function h(G){return G&&typeof G.then=="function"}function S(G){const U=u.StandaloneServices.get(i.IStandaloneThemeService);if(G){const K=[null];for(let ce=1,ee=G.length;ce<ee;ce++)K[ce]=w.Color.fromHex(G[ce]);U.setColorMapOverride(K)}else U.setColorMapOverride(null)}e.setColorMap=S;function y(G,U){return m(U)?new f(G,U):new p(G,U,u.StandaloneServices.get(b.ILanguageService),u.StandaloneServices.get(i.IStandaloneThemeService))}function E(G,U){const K={createTokenizationSupport:()=>Se(this,void 0,void 0,function*(){const ce=yield Promise.resolve(U.create());return ce?_(ce)?y(G,ce):new n.MonarchTokenizer(u.StandaloneServices.get(b.ILanguageService),u.StandaloneServices.get(i.IStandaloneThemeService),G,(0,g.compile)(G,ce),u.StandaloneServices.get(l.IConfigurationService)):null})};return k.TokenizationRegistry.registerFactory(G,K)}e.registerTokensProviderFactory=E;function N(G,U){if(!u.StandaloneServices.get(b.ILanguageService).isRegisteredLanguageId(G))throw new Error(`Cannot set tokens provider for unknown language ${G}`);return h(U)?E(G,{create:()=>U}):k.TokenizationRegistry.register(G,y(G,U))}e.setTokensProvider=N;function T(G,U){const K=ce=>new n.MonarchTokenizer(u.StandaloneServices.get(b.ILanguageService),u.StandaloneServices.get(i.IStandaloneThemeService),G,(0,g.compile)(G,ce),u.StandaloneServices.get(l.IConfigurationService));return h(U)?E(G,{create:()=>U}):k.TokenizationRegistry.register(G,K(U))}e.setMonarchTokensProvider=T;function R(G,U){return u.StandaloneServices.get(r.ILanguageFeaturesService).referenceProvider.register(G,U)}e.registerReferenceProvider=R;function F(G,U){return u.StandaloneServices.get(r.ILanguageFeaturesService).renameProvider.register(G,U)}e.registerRenameProvider=F;function O(G,U){return u.StandaloneServices.get(r.ILanguageFeaturesService).signatureHelpProvider.register(G,U)}e.registerSignatureHelpProvider=O;function D(G,U){return u.StandaloneServices.get(r.ILanguageFeaturesService).hoverProvider.register(G,{provideHover:(ce,ee,ue)=>{const fe=ce.getWordAtPosition(ee);return Promise.resolve(U.provideHover(ce,ee,ue)).then(Ce=>{if(!!Ce)return!Ce.range&&fe&&(Ce.range=new C.Range(ee.lineNumber,fe.startColumn,ee.lineNumber,fe.endColumn)),Ce.range||(Ce.range=new C.Range(ee.lineNumber,ee.column,ee.lineNumber,ee.column)),Ce})}})}e.registerHoverProvider=D;function M(G,U){return u.StandaloneServices.get(r.ILanguageFeaturesService).documentSymbolProvider.register(G,U)}e.registerDocumentSymbolProvider=M;function P(G,U){return u.StandaloneServices.get(r.ILanguageFeaturesService).documentHighlightProvider.register(G,U)}e.registerDocumentHighlightProvider=P;function B(G,U){return u.StandaloneServices.get(r.ILanguageFeaturesService).linkedEditingRangeProvider.register(G,U)}e.registerLinkedEditingRangeProvider=B;function W(G,U){return u.StandaloneServices.get(r.ILanguageFeaturesService).definitionProvider.register(G,U)}e.registerDefinitionProvider=W;function V(G,U){return u.StandaloneServices.get(r.ILanguageFeaturesService).implementationProvider.register(G,U)}e.registerImplementationProvider=V;function A(G,U){return u.StandaloneServices.get(r.ILanguageFeaturesService).typeDefinitionProvider.register(G,U)}e.registerTypeDefinitionProvider=A;function Q(G,U){return u.StandaloneServices.get(r.ILanguageFeaturesService).codeLensProvider.register(G,U)}e.registerCodeLensProvider=Q;function J(G,U,K){return u.StandaloneServices.get(r.ILanguageFeaturesService).codeActionProvider.register(G,{providedCodeActionKinds:K==null?void 0:K.providedCodeActionKinds,documentation:K==null?void 0:K.documentation,provideCodeActions:(ee,ue,fe,Ce)=>{const ye=u.StandaloneServices.get(t.IMarkerService).read({resource:ee.uri}).filter(De=>C.Range.areIntersectingOrTouching(De,ue));return U.provideCodeActions(ee,ue,{markers:ye,only:fe.only,trigger:fe.trigger},Ce)},resolveCodeAction:U.resolveCodeAction})}e.registerCodeActionProvider=J;function H(G,U){return u.StandaloneServices.get(r.ILanguageFeaturesService).documentFormattingEditProvider.register(G,U)}e.registerDocumentFormattingEditProvider=H;function q(G,U){return u.StandaloneServices.get(r.ILanguageFeaturesService).documentRangeFormattingEditProvider.register(G,U)}e.registerDocumentRangeFormattingEditProvider=q;function Z(G,U){return u.StandaloneServices.get(r.ILanguageFeaturesService).onTypeFormattingEditProvider.register(G,U)}e.registerOnTypeFormattingEditProvider=Z;function ie(G,U){return u.StandaloneServices.get(r.ILanguageFeaturesService).linkProvider.register(G,U)}e.registerLinkProvider=ie;function Y(G,U){return u.StandaloneServices.get(r.ILanguageFeaturesService).completionProvider.register(G,U)}e.registerCompletionItemProvider=Y;function te(G,U){return u.StandaloneServices.get(r.ILanguageFeaturesService).colorProvider.register(G,U)}e.registerColorProvider=te;function de(G,U){return u.StandaloneServices.get(r.ILanguageFeaturesService).foldingRangeProvider.register(G,U)}e.registerFoldingRangeProvider=de;function x(G,U){return u.StandaloneServices.get(r.ILanguageFeaturesService).declarationProvider.register(G,U)}e.registerDeclarationProvider=x;function oe(G,U){return u.StandaloneServices.get(r.ILanguageFeaturesService).selectionRangeProvider.register(G,U)}e.registerSelectionRangeProvider=oe;function ne(G,U){return u.StandaloneServices.get(r.ILanguageFeaturesService).documentSemanticTokensProvider.register(G,U)}e.registerDocumentSemanticTokensProvider=ne;function j(G,U){return u.StandaloneServices.get(r.ILanguageFeaturesService).documentRangeSemanticTokensProvider.register(G,U)}e.registerDocumentRangeSemanticTokensProvider=j;function se(G,U){return u.StandaloneServices.get(r.ILanguageFeaturesService).inlineCompletionsProvider.register(G,U)}e.registerInlineCompletionsProvider=se;function z(G,U){return u.StandaloneServices.get(r.ILanguageFeaturesService).inlayHintsProvider.register(G,U)}e.registerInlayHintsProvider=z;function X(){return{register:d,getLanguages:a,onLanguage:o,getEncodedLanguageId:s,setLanguageConfiguration:c,setColorMap:S,registerTokensProviderFactory:E,setTokensProvider:N,setMonarchTokensProvider:T,registerReferenceProvider:R,registerRenameProvider:F,registerCompletionItemProvider:Y,registerSignatureHelpProvider:O,registerHoverProvider:D,registerDocumentSymbolProvider:M,registerDocumentHighlightProvider:P,registerLinkedEditingRangeProvider:B,registerDefinitionProvider:W,registerImplementationProvider:V,registerTypeDefinitionProvider:A,registerCodeLensProvider:Q,registerCodeActionProvider:J,registerDocumentFormattingEditProvider:H,registerDocumentRangeFormattingEditProvider:q,registerOnTypeFormattingEditProvider:Z,registerLinkProvider:ie,registerColorProvider:te,registerFoldingRangeProvider:de,registerDeclarationProvider:x,registerSelectionRangeProvider:oe,registerDocumentSemanticTokensProvider:ne,registerDocumentRangeSemanticTokensProvider:j,registerInlineCompletionsProvider:se,registerInlayHintsProvider:z,DocumentHighlightKind:v.DocumentHighlightKind,CompletionItemKind:v.CompletionItemKind,CompletionItemTag:v.CompletionItemTag,CompletionItemInsertTextRule:v.CompletionItemInsertTextRule,SymbolKind:v.SymbolKind,SymbolTag:v.SymbolTag,IndentAction:v.IndentAction,CompletionTriggerKind:v.CompletionTriggerKind,SignatureHelpTriggerKind:v.SignatureHelpTriggerKind,InlayHintKind:v.InlayHintKind,InlineCompletionTriggerKind:v.InlineCompletionTriggerKind,CodeActionTriggerType:v.CodeActionTriggerType,FoldingRangeKind:k.FoldingRangeKind}}e.createMonacoLanguagesAPI=X}),define(re[784],ae([1,0,36,273,782,783,17,303]),function($,e,w,C,k,I,L,b){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,w.EditorOptions.wrappingIndent.defaultValue=0,w.EditorOptions.glyphMargin.defaultValue=!1,w.EditorOptions.autoIndent.defaultValue=3,w.EditorOptions.overviewRulerLanes.defaultValue=2,b.FormattingConflicts.setFormatterSelector((g,n,i)=>Promise.resolve(g[0]));const u=(0,C.createMonacoBaseAPI)();u.editor=(0,k.createMonacoEditorAPI)(),u.languages=(0,I.createMonacoLanguagesAPI)(),e.CancellationTokenSource=u.CancellationTokenSource,e.Emitter=u.Emitter,e.KeyCode=u.KeyCode,e.KeyMod=u.KeyMod,e.Position=u.Position,e.Range=u.Range,e.Selection=u.Selection,e.SelectionDirection=u.SelectionDirection,e.MarkerSeverity=u.MarkerSeverity,e.MarkerTag=u.MarkerTag,e.Uri=u.Uri,e.Token=u.Token,e.editor=u.editor,e.languages=u.languages,(((v=L.globals.MonacoEnvironment)===null||v===void 0?void 0:v.globalAPI)||typeof define=="function"&&define.amd)&&(self.monaco=u),typeof self.require!="undefined"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})});var ti=this&&this.__createBinding||(Object.create?function($,e,w,C){C===void 0&&(C=w);var k=Object.getOwnPropertyDescriptor(e,w);(!k||("get"in k?!e.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return e[w]}}),Object.defineProperty($,C,k)}:function($,e,w,C){C===void 0&&(C=w),$[C]=e[w]}),ii=this&&this.__exportStar||function($,e){for(var w in $)w!=="default"&&!Object.prototype.hasOwnProperty.call(e,w)&&ti(e,$,w)};define(re[786],ae([1,0,784,780,718,719,720,660,722,723,721,767,737]),function($,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),ii(w,e)})}).call(this);


"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.1(547870b6881302c5b4ff32173c16d06009e3588f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/basic-languages/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var y=Object.create;var g=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var q=Object.getOwnPropertyNames;var A=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty;var a=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(r,s)=>(typeof require!="undefined"?require:r)[s]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var D=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var m=(e,r,s,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of q(r))!M.call(e,o)&&o!==s&&g(e,o,{get:()=>r[o],enumerable:!(n=x(r,o))||n.enumerable});return e},p=(e,r,s)=>(m(e,r,"default"),s&&m(s,r,"default")),c=(e,r,s)=>(s=e!=null?y(A(e)):{},m(r||!e||!e.__esModule?g(s,"default",{value:e,enumerable:!0}):s,e));var f=D((w,d)=>{var b=c(a("vs/editor/editor.api"));d.exports=b});var t={};p(t,c(f()));var v={},u={},l=class{static getOrCreate(r){return u[r]||(u[r]=new l(r)),u[r]}_languageId;_loadingTriggered;_lazyLoadPromise;_lazyLoadPromiseResolve;_lazyLoadPromiseReject;constructor(r){this._languageId=r,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((s,n)=>{this._lazyLoadPromiseResolve=s,this._lazyLoadPromiseReject=n})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,v[this._languageId].loader().then(r=>this._lazyLoadPromiseResolve(r),r=>this._lazyLoadPromiseReject(r))),this._lazyLoadPromise}};function i(e){let r=e.id;v[r]=e,t.languages.register(e);let s=l.getOrCreate(r);t.languages.registerTokensProviderFactory(r,{create:async()=>(await s.load()).language}),t.languages.onLanguage(r,async()=>{let n=await s.load();t.languages.setLanguageConfiguration(r,n.conf)})}i({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/abap/abap"],e,r)})});i({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/apex/apex"],e,r)})});i({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/azcli/azcli"],e,r)})});i({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bat/bat"],e,r)})});i({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bicep/bicep"],e,r)})});i({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cameligo/cameligo"],e,r)})});i({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/clojure/clojure"],e,r)})});i({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/coffee/coffee"],e,r)})});i({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csharp/csharp"],e,r)})});i({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csp/csp"],e,r)})});i({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/css/css"],e,r)})});i({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cypher/cypher"],e,r)})});i({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dart/dart"],e,r)})});i({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dockerfile/dockerfile"],e,r)})});i({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ecl/ecl"],e,r)})});i({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/elixir/elixir"],e,r)})});i({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/flow9/flow9"],e,r)})});i({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/fsharp/fsharp"],e,r)})});i({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationBracket)});i({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationBracket)});i({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationDollar)});i({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationBracket)});i({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/go/go"],e,r)})});i({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/graphql/graphql"],e,r)})});i({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/handlebars/handlebars"],e,r)})});i({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/hcl/hcl"],e,r)})});i({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/html/html"],e,r)})});i({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ini/ini"],e,r)})});i({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/java/java"],e,r)})});i({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/javascript/javascript"],e,r)})});i({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/julia/julia"],e,r)})});i({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/kotlin/kotlin"],e,r)})});i({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/less/less"],e,r)})});i({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lexon/lexon"],e,r)})});i({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lua/lua"],e,r)})});i({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/liquid/liquid"],e,r)})});i({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/m3/m3"],e,r)})});i({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/markdown/markdown"],e,r)})});i({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mips/mips"],e,r)})});i({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/msdax/msdax"],e,r)})});i({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mysql/mysql"],e,r)})});i({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/objective-c/objective-c"],e,r)})});i({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascal/pascal"],e,r)})});i({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascaligo/pascaligo"],e,r)})});i({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/perl/perl"],e,r)})});i({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pgsql/pgsql"],e,r)})});i({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/php/php"],e,r)})});i({id:"pla",extensions:[".pla"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pla/pla"],e,r)})});i({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/postiats/postiats"],e,r)})});i({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powerquery/powerquery"],e,r)})});i({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powershell/powershell"],e,r)})});i({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/protobuf/protobuf"],e,r)})});i({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pug/pug"],e,r)})});i({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/python/python"],e,r)})});i({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/qsharp/qsharp"],e,r)})});i({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/r/r"],e,r)})});i({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/razor/razor"],e,r)})});i({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redis/redis"],e,r)})});i({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redshift/redshift"],e,r)})});i({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/restructuredtext/restructuredtext"],e,r)})});i({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ruby/ruby"],e,r)})});i({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/rust/rust"],e,r)})});i({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sb/sb"],e,r)})});i({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scala/scala"],e,r)})});i({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scheme/scheme"],e,r)})});i({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scss/scss"],e,r)})});i({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/shell/shell"],e,r)})});i({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/solidity/solidity"],e,r)})});i({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sophia/sophia"],e,r)})});i({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sparql/sparql"],e,r)})});i({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sql/sql"],e,r)})});i({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/st/st"],e,r)})});i({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/swift/swift"],e,r)})});i({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/tcl/tcl"],e,r)})});i({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/twig/twig"],e,r)})});i({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/typescript/typescript"],e,r)})});i({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/vb/vb"],e,r)})});i({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/xml/xml"],e,r)})});i({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/yaml/yaml"],e,r)})});})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.1(547870b6881302c5b4ff32173c16d06009e3588f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/css/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var C=Object.create;var g=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var l=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(n,r)=>(typeof require!="undefined"?require:n)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var I=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),M=(e,n)=>{for(var r in n)g(e,r,{get:n[r],enumerable:!0})},s=(e,n,r,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of b(n))!h.call(e,t)&&t!==r&&g(e,t,{get:()=>n[t],enumerable:!(a=S(n,t))||a.enumerable});return e},y=(e,n,r)=>(s(e,n,"default"),r&&s(r,n,"default")),w=(e,n,r)=>(r=e!=null?C(x(e)):{},s(n||!e||!e.__esModule?g(r,"default",{value:e,enumerable:!0}):r,e)),P=e=>s(g({},"__esModule",{value:!0}),e);var v=I((k,D)=>{var O=w(l("vs/editor/editor.api"));D.exports=O});var R={};M(R,{cssDefaults:()=>p,lessDefaults:()=>f,scssDefaults:()=>c});var o={};y(o,w(v()));var i=class{_onDidChange=new o.Emitter;_options;_modeConfiguration;_languageId;constructor(n,r,a){this._languageId=n,this.setOptions(r),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(n){this.setOptions(n)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},d={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},u={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},p=new i("css",d,u),c=new i("scss",d,u),f=new i("less",d,u);o.languages.css={cssDefaults:p,lessDefaults:f,scssDefaults:c};function m(){return new Promise((e,n)=>{l(["vs/language/css/cssMode"],e,n)})}o.languages.onLanguage("less",()=>{m().then(e=>e.setupMode(f))});o.languages.onLanguage("scss",()=>{m().then(e=>e.setupMode(c))});o.languages.onLanguage("css",()=>{m().then(e=>e.setupMode(p))});return P(R);})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.1(547870b6881302c5b4ff32173c16d06009e3588f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/html/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var w=Object.create;var l=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty;var f=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(n,t)=>(typeof require!="undefined"?require:n)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var k=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),T=(e,n)=>{for(var t in n)l(e,t,{get:n[t],enumerable:!0})},d=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of H(n))!_.call(e,o)&&o!==t&&l(e,o,{get:()=>n[o],enumerable:!(r=R(n,o))||r.enumerable});return e},b=(e,n,t)=>(d(e,n,"default"),t&&d(t,n,"default")),v=(e,n,t)=>(t=e!=null?w(O(e)):{},d(n||!e||!e.__esModule?l(t,"default",{value:e,enumerable:!0}):t,e)),A=e=>d(l({},"__esModule",{value:!0}),e);var C=k((z,h)=>{var E=v(f("vs/editor/editor.api"));h.exports=E});var V={};T(V,{handlebarDefaults:()=>M,handlebarLanguageService:()=>m,htmlDefaults:()=>x,htmlLanguageService:()=>c,razorDefaults:()=>I,razorLanguageService:()=>y,registerHTMLLanguageService:()=>s});var a={};b(a,v(C()));var p=class{_onDidChange=new a.Emitter;_options;_modeConfiguration;_languageId;constructor(n,t,r){this._languageId=n,this.setOptions(t),this.setModeConfiguration(r)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},F={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},u={format:F,suggest:{},data:{useDefaultDataProvider:!0}};function g(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===i,documentFormattingEdits:e===i,documentRangeFormattingEdits:e===i}}var i="html",D="handlebars",L="razor",c=s(i,u,g(i)),x=c.defaults,m=s(D,u,g(D)),M=m.defaults,y=s(L,u,g(L)),I=y.defaults;a.languages.html={htmlDefaults:x,razorDefaults:I,handlebarDefaults:M,htmlLanguageService:c,handlebarLanguageService:m,razorLanguageService:y,registerHTMLLanguageService:s};function P(){return new Promise((e,n)=>{f(["vs/language/html/htmlMode"],e,n)})}function s(e,n=u,t=g(e)){let r=new p(e,n,t),o,S=a.languages.onLanguage(e,async()=>{o=(await P()).setupMode(r)});return{defaults:r,dispose(){S.dispose(),o?.dispose(),o=void 0}}}return A(V);})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.1(547870b6881302c5b4ff32173c16d06009e3588f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/json/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var p=Object.create;var r=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var v=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var g=(o=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(o,{get:(e,n)=>(typeof require!="undefined"?require:e)[n]}):o)(function(o){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+o+'" is not supported')});var D=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports),b=(o,e)=>{for(var n in e)r(o,n,{get:e[n],enumerable:!0})},s=(o,e,n,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of h(e))!C.call(o,i)&&i!==n&&r(o,i,{get:()=>e[i],enumerable:!(a=y(e,i))||a.enumerable});return o},u=(o,e,n)=>(s(o,e,"default"),n&&s(n,e,"default")),c=(o,e,n)=>(n=o!=null?p(v(o)):{},s(e||!o||!o.__esModule?r(n,"default",{value:o,enumerable:!0}):n,o)),O=o=>s(r({},"__esModule",{value:!0}),o);var f=D((w,m)=>{var M=c(g("vs/editor/editor.api"));m.exports=M});var R={};b(R,{jsonDefaults:()=>d});var t={};u(t,c(f()));var l=class{_onDidChange=new t.Emitter;_diagnosticsOptions;_modeConfiguration;_languageId;constructor(e,n,a){this._languageId=e,this.setDiagnosticsOptions(n),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}},j={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},S={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},d=new l("json",j,S);t.languages.json={jsonDefaults:d};function _(){return new Promise((o,e)=>{g(["vs/language/json/jsonMode"],o,e)})}t.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});t.languages.onLanguage("json",()=>{_().then(o=>o.setupMode(d))});return O(R);})();
return moduleExports;
});

"use strict";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.1(547870b6881302c5b4ff32173c16d06009e3588f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/typescript/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var k=Object.create;var g=Object.defineProperty;var N=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var d=(n=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(n,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):n)(function(n){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+n+'" is not supported')});var M=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),F=(n,e)=>{for(var t in e)g(n,t,{get:e[t],enumerable:!0})},m=(n,e,t,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of H(e))!w.call(n,s)&&s!==t&&g(n,s,{get:()=>e[s],enumerable:!(o=N(e,s))||o.enumerable});return n},D=(n,e,t)=>(m(n,e,"default"),t&&m(t,e,"default")),L=(n,e,t)=>(t=n!=null?k(R(n)):{},m(e||!n||!n.__esModule?g(t,"default",{value:n,enumerable:!0}):t,n)),W=n=>m(g({},"__esModule",{value:!0}),n);var I=M((B,C)=>{var A=L(d("vs/editor/editor.api"));C.exports=A});var V={};F(V,{JsxEmit:()=>y,ModuleKind:()=>u,ModuleResolutionKind:()=>O,NewLineKind:()=>f,ScriptTarget:()=>h,getJavaScriptWorker:()=>S,getTypeScriptWorker:()=>P,javascriptDefaults:()=>v,typescriptDefaults:()=>x,typescriptVersion:()=>_});var E="4.5.5";var l={};D(l,L(I()));var u=(r=>(r[r.None=0]="None",r[r.CommonJS=1]="CommonJS",r[r.AMD=2]="AMD",r[r.UMD=3]="UMD",r[r.System=4]="System",r[r.ES2015=5]="ES2015",r[r.ESNext=99]="ESNext",r))(u||{}),y=(a=>(a[a.None=0]="None",a[a.Preserve=1]="Preserve",a[a.React=2]="React",a[a.ReactNative=3]="ReactNative",a[a.ReactJSX=4]="ReactJSX",a[a.ReactJSXDev=5]="ReactJSXDev",a))(y||{}),f=(t=>(t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed",t))(f||{}),h=(i=>(i[i.ES3=0]="ES3",i[i.ES5=1]="ES5",i[i.ES2015=2]="ES2015",i[i.ES2016=3]="ES2016",i[i.ES2017=4]="ES2017",i[i.ES2018=5]="ES2018",i[i.ES2019=6]="ES2019",i[i.ES2020=7]="ES2020",i[i.ESNext=99]="ESNext",i[i.JSON=100]="JSON",i[i.Latest=99]="Latest",i))(h||{}),O=(t=>(t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs",t))(O||{}),c=class{_onDidChange=new l.Emitter;_onDidExtraLibsChange=new l.Emitter;_extraLibs;_removedExtraLibs;_eagerModelSync;_compilerOptions;_diagnosticsOptions;_workerOptions;_onDidExtraLibsChangeTimeout;_inlayHintsOptions;constructor(e,t,o,s){this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this.setWorkerOptions(o),this.setInlayHintsOptions(s),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(e,t){let o;if(typeof t>"u"?o=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:o=t,this._extraLibs[o]&&this._extraLibs[o].content===e)return{dispose:()=>{}};let s=1;return this._removedExtraLibs[o]&&(s=this._removedExtraLibs[o]+1),this._extraLibs[o]&&(s=this._extraLibs[o].version+1),this._extraLibs[o]={content:e,version:s},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let p=this._extraLibs[o];!p||p.version===s&&(delete this._extraLibs[o],this._removedExtraLibs[o]=s,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(e){for(let t in this._extraLibs)this._removedExtraLibs[t]=this._extraLibs[t].version;if(this._extraLibs=Object.create(null),e&&e.length>0)for(let t of e){let o=t.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,s=t.content,p=1;this._removedExtraLibs[o]&&(p=this._removedExtraLibs[o]+1),this._extraLibs[o]={content:s,version:p}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(e){this._workerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(e){this._inlayHintsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(e){}setEagerModelSync(e){this._eagerModelSync=e}getEagerModelSync(){return this._eagerModelSync}},_=E,x=new c({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),v=new c({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{}),P=()=>b().then(n=>n.getTypeScriptWorker()),S=()=>b().then(n=>n.getJavaScriptWorker());l.languages.typescript={ModuleKind:u,JsxEmit:y,NewLineKind:f,ScriptTarget:h,ModuleResolutionKind:O,typescriptVersion:_,typescriptDefaults:x,javascriptDefaults:v,getTypeScriptWorker:P,getJavaScriptWorker:S};function b(){return new Promise((n,e)=>{d(["vs/language/typescript/tsMode"],n,e)})}l.languages.onLanguage("typescript",()=>b().then(n=>n.setupTypeScript(x)));l.languages.onLanguage("javascript",()=>b().then(n=>n.setupJavaScript(v)));return W(V);})();
return moduleExports;
});

define("vs/editor/editor.main", ["vs/editor/edcore.main","vs/basic-languages/monaco.contribution","vs/language/css/monaco.contribution","vs/language/html/monaco.contribution","vs/language/json/monaco.contribution","vs/language/typescript/monaco.contribution"], function(api) { return api; });
//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map