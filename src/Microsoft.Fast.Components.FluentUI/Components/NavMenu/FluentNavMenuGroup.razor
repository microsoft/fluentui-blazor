@namespace Microsoft.Fast.Components.FluentUI

@inherits FluentComponentBase
<FluentTreeItem Id="@Id"
                Class="@ClassValue"
                Style="@StyleValue"
                Disabled="@Disabled"
                Selected="@Selected"
                Expanded="@(NavMenuExpanded ? Expanded : false)"
                Text="@(NavMenuExpanded ? Text : string.Empty)">

    @if (NavMenuExpanded && HasExpandedIcon)
    {
        if (ExpandedIconContent is not null)
        {
            <div slot="start" @onclick="HandleIconClick">@ExpandedIconContent</div>
        }
        else
        {
            if (!string.IsNullOrEmpty(ExpandedIcon))
            {
                <FluentIcon Name="@ExpandedIcon" Size="@IconSize.Size20" Slot="start" OnClick="HandleIconClick" />
            }
        }
    } 
    else 
    {
        if (HasCollapsedIcon)
        {
            if (IconContent is not null)
            {
                <div slot="start" @onclick="ExpandMenu">@IconContent</div>
            }
            else
            {
                if (!string.IsNullOrEmpty(Icon))
                {
                    <FluentIcon Name="@Icon" Size="@IconSize.Size20" Slot="start" OnClick="ExpandMenu" />
                }
            }
        }
    }
    @if (NavMenuExpanded) {
        @ChildContent
    }
</FluentTreeItem>