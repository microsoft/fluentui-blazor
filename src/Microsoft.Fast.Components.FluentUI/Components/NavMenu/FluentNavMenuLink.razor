@namespace Microsoft.Fast.Components.FluentUI
@inherits FluentComponentBase
@inject NavigationManager NavigationManager

<CascadingValue TValue=INavMenuParentElement Value="@null" IsFixed>
    <FluentTreeItem Id="@Id"
                    Class="@ClassValue"
                    Style="@StyleValue"
                    Disabled="@Disabled"
                    Selected="@Selected"
                    SelectedChanged="@SelectedChanged"
                    Text="@(NavMenuExpanded ? Text : string.Empty)">
        @if (HasIcon)
        {
            if (IconContent is not null)
            {
                <div slot="start">@IconContent</div>
            }
            else
            {
                <FluentIcon Value="@Icon" Width="20px" Slot="start"/>
            }
        }
        else if (SiblingHasIcon)
        {
            <span style="width:20px;" slot="start"></span>
        }
        @if (NavMenuExpanded)
        {
            @ChildContent
        }
    </FluentTreeItem>
</CascadingValue>