@namespace Microsoft.Fast.Components.FluentUI
@inherits FluentCalendarBase

<div class="@ClassValue" style="@StyleValue">
    @* Month name *@
    <div class="title" part="title" aria-label="@CalendarExtended.GetMonthNameAndYear()">
        <FluentStack Orientation="Orientation.Horizontal">
            <span part="month" class="month">
                @CalendarExtended.GetMonthNameAndYear()
            </span>
            <span part="move" class="change-month">
                <div class="previous-month"
                     title="@CalendarExtended.GetMonthName(PickerMonth.AddMonths(-1))"
                     @onclick="@((e) => this.PickerMonth = PickerMonth.AddMonths(-1))">
                    @((MarkupString)ArrowUp)
                </div>
                <div title="@CalendarExtended.GetMonthName(PickerMonth.AddMonths(+1))"
                     class="next-month"
                     @onclick="@((e) => this.PickerMonth = PickerMonth.AddMonths(+1))">
                    @((MarkupString)ArrowDown)
                </div>
            </span>
        </FluentStack>
    </div>

    <div class="days" part="days">
        @* Titles: Mon, Tue, ... *@
        <div class="week-days" part="week-days">
            @foreach (var weekDay in CalendarExtended.GetDayNames())
            {
                <div class="week-day" part="week-day" title="@weekDay.Name" abbr="@weekDay.Name">
                    @weekDay.Abbreviated[0]
                </div>
            }
        </div>

        @for (int week = 0; week < 6; week++)
        {
            @* A week of 7 days *@
            <div class="week">
                @foreach (var day in CalendarExtended.GetDaysOfWeek(week))
                {
                    var dayProperties = GetDayProperties(day);

                    <div part="day"
                         class="@String.Join(" ", dayProperties.CssClasses)"
                         aria-label="@dayProperties.Title"
                    @onclick="@(() => OnSelectedDateHandler(day, dayProperties.IsDisabled))">
                        <div class="date" part="date">
                            @dayProperties.DayNumber
                        </div>
                        <slot name="@dayProperties.DayIdentifier"></slot>
                    </div>
                }
            </div>
        }
    </div>
</div>