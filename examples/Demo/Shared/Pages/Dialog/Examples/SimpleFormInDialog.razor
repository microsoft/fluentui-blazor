@implements IDialogContentComponent<SimplePerson>

<EditForm Model="@Content" OnInvalidSubmit="HandleInvalid" OnValidSubmit="HandleValid">
    <FluentMessageBarContainer Section="@App.MESSAGES_DIALOG" MaxMessageCount="1" />

    <FluentTextField @bind-Value="@Content.Firstname">Your firstname:</FluentTextField>
    <FluentTextField @bind-Value="@Content.Lastname">Your lastname:</FluentTextField>
    <FluentNumberField @bind-Value="@Content.Age" Min="10" Max="110" >Your age:</FluentNumberField>
</EditForm>



@code {
    [Parameter]
    public SimplePerson Content { get; set; } = default!;

    [CascadingParameter]
    public FluentDialog? Dialog { get; set; }

    private void ToggleDialogPrimaryActionButton(bool enable)
    {
        Dialog!.TogglePrimaryActionButton(enable);
    }

    private void HandleInvalid()
    {
        DemoLogger.WriteLine($"Invalid form");
    }

    private void HandleValid()
    {
        DemoLogger.WriteLine($"Valid form");
        Dialog.CloseAsync<SimplePerson>(Content);
    }
}