using FluentUI.Demo.Shared.SampleData;
using Microsoft.Fast.Components.FluentUI;

namespace FluentUI.Demo.Shared.Pages.Dialog.Examples;

public partial class SimplePanel : FluentPanel
{
    SimplePerson SimplePerson { get; set; } = new SimplePerson();

    private string _firstname = "";
    private string _lastname = "";
    private int _age = 0;


    public string Firstname
    {
        get => _firstname;
        set
        {
            _firstname = value;
            Properties!["Firstname"] = _firstname;
        }
    }

    public string Lastname
    {
        get => _lastname;
        set
        {
            _lastname = value;
            Properties!["Lastname"] = _lastname;
        }
    }

    public int Age
    {
        get => _age;
        set
        {
            _age = value;
            Properties!["Age"] = _age;
        }
    }

    protected override void OnInitialized()
    {
        Firstname = (string)Properties["Firstname"];
        Lastname = (string)Properties["Lastname"];
        Age = (int)Properties["Age"];

        SimplePerson = (SimplePerson)PanelData!;
    }

    public override async Task CloseAsync(DialogResult result)
    {
        if (result.Cancelled)
        {
            result.Data = "Cancel";
        }
        else
        {
            result.Data = $"OK {Lastname}";
        }

        await Dialog.CloseAsync(result);
    }


}