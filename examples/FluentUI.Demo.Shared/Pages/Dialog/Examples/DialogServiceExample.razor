@inject IDialogService DialogService

<FluentButton @onclick="@OpenDialog" Appearance="Appearance.Accent">
    Open Dialog 
</FluentButton>


@code {
    SimplePerson simplePerson = new()
        {
            Firstname = "Dan",
            Lastname = "Sanderson",
            Age = 42,
        };

    private void OpenDialog()
    {
        DemoLogger.WriteLine($"Open dialog centered");

        DialogParameters<SimplePerson> parameters = new()
            {
                Title = $"Hello {simplePerson.Firstname}",
                OnDialogResult = DialogService.CreateDialogCallback(this, HandlePanel),
                PrimaryAction = "Yes",
                SecondaryAction = "No",
                Width = "500px",
                Height = "400px",
                Content = simplePerson,
            };
        DialogService.ShowDialog<SimpleDialog, SimplePerson>(parameters);
    }

    private async Task HandlePanel(DialogResult result)
    {
        if (result.Cancelled)
        {
            await Task.Run(() => DemoLogger.WriteLine($"Dialog cancelled"));
            return;
        }
        if (result.Data is not null)
        {
            SimplePerson? simplePerson = result.Data as SimplePerson;
            await Task.Run(() => DemoLogger.WriteLine($"Dialog closed by {simplePerson?.Firstname} {simplePerson?.Lastname} ({simplePerson?.Age})"));
            return;
        }

        await Task.Run(() => DemoLogger.WriteLine($"Dialog closed"));

    }
}